import{a as _r}from"./chunk-FK6H3RFT.js";import{a as Fe,b as kt,c as e5,d as ng,e as Br,f as kw,g as Xf,h as L,i as Jf,j as eh,k as rg,l as ig}from"./chunk-DKLAGT4O.js";var G3=Br((dD,fD)=>{"use strict";(function(n,e){typeof dD=="object"&&typeof fD<"u"?fD.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self).Dexie=e()})(dD,function(){"use strict";var n=function(g,v){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,D){w.__proto__=D}||function(w,D){for(var I in D)Object.prototype.hasOwnProperty.call(D,I)&&(w[I]=D[I])})(g,v)},e=function(){return(e=Object.assign||function(g){for(var v,w=1,D=arguments.length;w<D;w++)for(var I in v=arguments[w])Object.prototype.hasOwnProperty.call(v,I)&&(g[I]=v[I]);return g}).apply(this,arguments)};function t(g,v,w){if(w||arguments.length===2)for(var D,I=0,N=v.length;I<N;I++)!D&&I in v||((D=D||Array.prototype.slice.call(v,0,I))[I]=v[I]);return g.concat(D||Array.prototype.slice.call(v))}var r=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,i=Object.keys,o=Array.isArray;function s(g,v){return typeof v!="object"||i(v).forEach(function(w){g[w]=v[w]}),g}typeof Promise>"u"||r.Promise||(r.Promise=Promise);var a=Object.getPrototypeOf,l={}.hasOwnProperty;function c(g,v){return l.call(g,v)}function u(g,v){typeof v=="function"&&(v=v(a(g))),(typeof Reflect>"u"?i:Reflect.ownKeys)(v).forEach(function(w){p(g,w,v[w])})}var d=Object.defineProperty;function p(g,v,w,D){d(g,v,s(w&&c(w,"get")&&typeof w.get=="function"?{get:w.get,set:w.set,configurable:!0}:{value:w,configurable:!0,writable:!0},D))}function f(g){return{from:function(v){return g.prototype=Object.create(v.prototype),p(g.prototype,"constructor",g),{extend:u.bind(null,g.prototype)}}}}var b=Object.getOwnPropertyDescriptor,_=[].slice;function C(g,v,w){return _.call(g,v,w)}function S(g,v){return v(g)}function A(g){if(!g)throw new Error("Assertion Failed")}function F(g){r.setImmediate?setImmediate(g):setTimeout(g,0)}function P(g,v){if(typeof v=="string"&&c(g,v))return g[v];if(!v)return g;if(typeof v!="string"){for(var w=[],D=0,I=v.length;D<I;++D){var N=P(g,v[D]);w.push(N)}return w}var K=v.indexOf(".");if(K!==-1){var ae=g[v.substr(0,K)];return ae==null?void 0:P(ae,v.substr(K+1))}}function U(g,v,w){if(g&&v!==void 0&&!("isFrozen"in Object&&Object.isFrozen(g)))if(typeof v!="string"&&"length"in v){A(typeof w!="string"&&"length"in w);for(var D=0,I=v.length;D<I;++D)U(g,v[D],w[D])}else{var N,K,ae=v.indexOf(".");ae!==-1?(N=v.substr(0,ae),(K=v.substr(ae+1))===""?w===void 0?o(g)&&!isNaN(parseInt(N))?g.splice(N,1):delete g[N]:g[N]=w:U(ae=!(ae=g[N])||!c(g,N)?g[N]={}:ae,K,w)):w===void 0?o(g)&&!isNaN(parseInt(v))?g.splice(v,1):delete g[v]:g[v]=w}}function se(g){var v,w={};for(v in g)c(g,v)&&(w[v]=g[v]);return w}var he=[].concat;function Y(g){return he.apply([],g)}var An="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Y([8,16,32,64].map(function(g){return["Int","Uint","Float"].map(function(v){return v+g+"Array"})}))).filter(function(g){return r[g]}),H=new Set(An.map(function(g){return r[g]})),pe=null;function O(g){return pe=new WeakMap,g=(function v(w){if(!w||typeof w!="object")return w;var D=pe.get(w);if(D)return D;if(o(w)){D=[],pe.set(w,D);for(var I=0,N=w.length;I<N;++I)D.push(v(w[I]))}else if(H.has(w.constructor))D=w;else{var K,ae=a(w);for(K in D=ae===Object.prototype?{}:Object.create(ae),pe.set(w,D),w)c(w,K)&&(D[K]=v(w[K]))}return D})(g),pe=null,g}var $={}.toString;function le(g){return $.call(g).slice(8,-1)}var V=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Q=typeof V=="symbol"?function(g){var v;return g!=null&&(v=g[V])&&v.apply(g)}:function(){return null};function xe(g,v){return v=g.indexOf(v),0<=v&&g.splice(v,1),0<=v}var oe={};function Z(g){var v,w,D,I;if(arguments.length===1){if(o(g))return g.slice();if(this===oe&&typeof g=="string")return[g];if(I=Q(g)){for(w=[];!(D=I.next()).done;)w.push(D.value);return w}if(g==null)return[g];if(typeof(v=g.length)!="number")return[g];for(w=new Array(v);v--;)w[v]=g[v];return w}for(v=arguments.length,w=new Array(v);v--;)w[v]=arguments[v];return w}var ie=typeof Symbol<"u"?function(g){return g[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Nt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Mr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Nt),Me={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ee(g,v){this.name=g,this.message=v}function k(g,v){return g+". Errors: "+Object.keys(v).map(function(w){return v[w].toString()}).filter(function(w,D,I){return I.indexOf(w)===D}).join(`
`)}function W(g,v,w,D){this.failures=v,this.failedKeys=D,this.successCount=w,this.message=k(g,v)}function X(g,v){this.name="BulkError",this.failures=Object.keys(v).map(function(w){return v[w]}),this.failuresByPos=v,this.message=k(g,this.failures)}f(Ee).from(Error).extend({toString:function(){return this.name+": "+this.message}}),f(W).from(Ee),f(X).from(Ee);var de=Mr.reduce(function(g,v){return g[v]=v+"Error",g},{}),ve=Ee,ue=Mr.reduce(function(g,v){var w=v+"Error";function D(I,N){this.name=w,I?typeof I=="string"?(this.message="".concat(I).concat(N?`
 `+N:""),this.inner=N||null):typeof I=="object"&&(this.message="".concat(I.name," ").concat(I.message),this.inner=I):(this.message=Me[v]||w,this.inner=null)}return f(D).from(ve),g[v]=D,g},{});ue.Syntax=SyntaxError,ue.Type=TypeError,ue.Range=RangeError;var je=Nt.reduce(function(g,v){return g[v+"Error"]=ue[v],g},{}),Be=Mr.reduce(function(g,v){return["Syntax","Type","Range"].indexOf(v)===-1&&(g[v+"Error"]=ue[v]),g},{});function Re(){}function Je(g){return g}function vt(g,v){return g==null||g===Je?v:function(w){return v(g(w))}}function ht(g,v){return function(){g.apply(this,arguments),v.apply(this,arguments)}}function Lt(g,v){return g===Re?v:function(){var w=g.apply(this,arguments);w!==void 0&&(arguments[0]=w);var D=this.onsuccess,I=this.onerror;this.onsuccess=null,this.onerror=null;var N=v.apply(this,arguments);return D&&(this.onsuccess=this.onsuccess?ht(D,this.onsuccess):D),I&&(this.onerror=this.onerror?ht(I,this.onerror):I),N!==void 0?N:w}}function J(g,v){return g===Re?v:function(){g.apply(this,arguments);var w=this.onsuccess,D=this.onerror;this.onsuccess=this.onerror=null,v.apply(this,arguments),w&&(this.onsuccess=this.onsuccess?ht(w,this.onsuccess):w),D&&(this.onerror=this.onerror?ht(D,this.onerror):D)}}function mt(g,v){return g===Re?v:function(w){var D=g.apply(this,arguments);s(w,D);var I=this.onsuccess,N=this.onerror;return this.onsuccess=null,this.onerror=null,w=v.apply(this,arguments),I&&(this.onsuccess=this.onsuccess?ht(I,this.onsuccess):I),N&&(this.onerror=this.onerror?ht(N,this.onerror):N),D===void 0?w===void 0?void 0:w:s(D,w)}}function dn(g,v){return g===Re?v:function(){return v.apply(this,arguments)!==!1&&g.apply(this,arguments)}}function Ft(g,v){return g===Re?v:function(){var w=g.apply(this,arguments);if(w&&typeof w.then=="function"){for(var D=this,I=arguments.length,N=new Array(I);I--;)N[I]=arguments[I];return w.then(function(){return v.apply(D,N)})}return v.apply(this,arguments)}}Be.ModifyError=W,Be.DexieError=Ee,Be.BulkError=X;var Qe=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Vt(g){Qe=g}var _t={},jt=100,An=typeof Promise>"u"?[]:(function(){var g=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[g,a(g),g];var v=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[v,a(v),g]})(),Nt=An[0],Mr=An[1],An=An[2],Mr=Mr&&Mr.then,on=Nt&&Nt.constructor,Kt=!!An,hn=function(g,v){Jt.push([g,v]),Et&&(queueMicrotask(nc),Et=!1)},Sn=!0,Et=!0,Wt=[],It=[],Fr=Je,fn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Re,pgp:!1,env:{},finalize:Re},et=fn,Jt=[],Zn=0,Ot=[];function Xe(g){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var v=this._PSD=et;if(typeof g!="function"){if(g!==_t)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&gr(this,this._value))}this._state=null,this._value=null,++v.ref,(function w(D,I){try{I(function(N){if(D._state===null){if(N===D)throw new TypeError("A promise cannot be resolved with itself.");var K=D._lib&&Gr();N&&typeof N.then=="function"?w(D,function(ae,be){N instanceof Xe?N._then(ae,be):N.then(ae,be)}):(D._state=!0,D._value=N,pn(D)),K&&co()}},gr.bind(null,D))}catch(N){gr(D,N)}})(this,g)}var zt={get:function(){var g=et,v=Yr;function w(D,I){var N=this,K=!g.global&&(g!==et||v!==Yr),ae=K&&!mi(),be=new Xe(function(we,Ie){Ut(N,new Zt(_s(D,g,K,ae),_s(I,g,K,ae),we,Ie,g))});return this._consoleTask&&(be._consoleTask=this._consoleTask),be}return w.prototype=_t,w},set:function(g){p(this,"then",g&&g.prototype===_t?zt:{get:function(){return g},set:zt.set})}};function Zt(g,v,w,D,I){this.onFulfilled=typeof g=="function"?g:null,this.onRejected=typeof v=="function"?v:null,this.resolve=w,this.reject=D,this.psd=I}function gr(g,v){var w,D;It.push(v),g._state===null&&(w=g._lib&&Gr(),v=Fr(v),g._state=!1,g._value=v,D=g,Wt.some(function(I){return I._value===D._value})||Wt.push(D),pn(g),w&&co())}function pn(g){var v=g._listeners;g._listeners=[];for(var w=0,D=v.length;w<D;++w)Ut(g,v[w]);var I=g._PSD;--I.ref||I.finalize(),Zn===0&&(++Zn,hn(function(){--Zn==0&&Wo()},[]))}function Ut(g,v){if(g._state!==null){var w=g._state?v.onFulfilled:v.onRejected;if(w===null)return(g._state?v.resolve:v.reject)(g._value);++v.psd.ref,++Zn,hn(Xn,[w,g,v])}else g._listeners.push(v)}function Xn(g,v,w){try{var D,I=v._value;!v._state&&It.length&&(It=[]),D=Qe&&v._consoleTask?v._consoleTask.run(function(){return g(I)}):g(I),v._state||It.indexOf(I)!==-1||(function(N){for(var K=Wt.length;K;)if(Wt[--K]._value===N._value)return Wt.splice(K,1)})(v),w.resolve(D)}catch(N){w.reject(N)}finally{--Zn==0&&Wo(),--w.psd.ref||w.psd.finalize()}}function nc(){Po(fn,function(){Gr()&&co()})}function Gr(){var g=Sn;return Et=Sn=!1,g}function co(){var g,v,w;do for(;0<Jt.length;)for(g=Jt,Jt=[],w=g.length,v=0;v<w;++v){var D=g[v];D[0].apply(null,D[1])}while(0<Jt.length);Et=Sn=!0}function Wo(){var g=Wt;Wt=[],g.forEach(function(D){D._PSD.onunhandled.call(null,D._value,D)});for(var v=Ot.slice(0),w=v.length;w;)v[--w]()}function Bt(g){return new Xe(_t,!1,g)}function zn(g,v){var w=et;return function(){var D=Gr(),I=et;try{return vi(w,!0),g.apply(this,arguments)}catch(N){v&&v(N)}finally{vi(I,!1),D&&co()}}}u(Xe.prototype,{then:zt,_then:function(g,v){Ut(this,new Zt(null,null,g,v,et))},catch:function(g){if(arguments.length===1)return this.then(null,g);var v=g,w=arguments[1];return typeof v=="function"?this.then(null,function(D){return(D instanceof v?w:Bt)(D)}):this.then(null,function(D){return(D&&D.name===v?w:Bt)(D)})},finally:function(g){return this.then(function(v){return Xe.resolve(g()).then(function(){return v})},function(v){return Xe.resolve(g()).then(function(){return Bt(v)})})},timeout:function(g,v){var w=this;return g<1/0?new Xe(function(D,I){var N=setTimeout(function(){return I(new ue.Timeout(v))},g);w.then(D,I).finally(clearTimeout.bind(null,N))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&p(Xe.prototype,Symbol.toStringTag,"Dexie.Promise"),fn.env=No(),u(Xe,{all:function(){var g=Z.apply(null,arguments).map(ko);return new Xe(function(v,w){g.length===0&&v([]);var D=g.length;g.forEach(function(I,N){return Xe.resolve(I).then(function(K){g[N]=K,--D||v(g)},w)})})},resolve:function(g){return g instanceof Xe?g:g&&typeof g.then=="function"?new Xe(function(v,w){g.then(v,w)}):new Xe(_t,!0,g)},reject:Bt,race:function(){var g=Z.apply(null,arguments).map(ko);return new Xe(function(v,w){g.map(function(D){return Xe.resolve(D).then(v,w)})})},PSD:{get:function(){return et},set:function(g){return et=g}},totalEchoes:{get:function(){return Yr}},newPSD:uo,usePSD:Po,scheduler:{get:function(){return hn},set:function(g){hn=g}},rejectionMapper:{get:function(){return Fr},set:function(g){Fr=g}},follow:function(g,v){return new Xe(function(w,D){return uo(function(I,N){var K=et;K.unhandleds=[],K.onunhandled=N,K.finalize=ht(function(){var ae,be=this;ae=function(){be.unhandleds.length===0?I():N(be.unhandleds[0])},Ot.push(function we(){ae(),Ot.splice(Ot.indexOf(we),1)}),++Zn,hn(function(){--Zn==0&&Wo()},[])},K.finalize),g()},v,w,D)})}}),on&&(on.allSettled&&p(Xe,"allSettled",function(){var g=Z.apply(null,arguments).map(ko);return new Xe(function(v){g.length===0&&v([]);var w=g.length,D=new Array(w);g.forEach(function(I,N){return Xe.resolve(I).then(function(K){return D[N]={status:"fulfilled",value:K}},function(K){return D[N]={status:"rejected",reason:K}}).then(function(){return--w||v(D)})})})}),on.any&&typeof AggregateError<"u"&&p(Xe,"any",function(){var g=Z.apply(null,arguments).map(ko);return new Xe(function(v,w){g.length===0&&w(new AggregateError([]));var D=g.length,I=new Array(D);g.forEach(function(N,K){return Xe.resolve(N).then(function(ae){return v(ae)},function(ae){I[K]=ae,--D||w(new AggregateError(I))})})})}),on.withResolvers&&(Xe.withResolvers=on.withResolvers));var mr={awaits:0,echoes:0,id:0},Go=0,Wi=[],Cr=0,Yr=0,Di=0;function uo(g,v,w,D){var I=et,N=Object.create(I);return N.parent=I,N.ref=0,N.global=!1,N.id=++Di,fn.env,N.env=Kt?{Promise:Xe,PromiseProp:{value:Xe,configurable:!0,writable:!0},all:Xe.all,race:Xe.race,allSettled:Xe.allSettled,any:Xe.any,resolve:Xe.resolve,reject:Xe.reject}:{},v&&s(N,v),++I.ref,N.finalize=function(){--this.parent.ref||this.parent.finalize()},D=Po(N,g,w,D),N.ref===0&&N.finalize(),D}function Mo(){return mr.id||(mr.id=++Go),++mr.awaits,mr.echoes+=jt,mr.id}function mi(){return!!mr.awaits&&(--mr.awaits==0&&(mr.id=0),mr.echoes=mr.awaits*jt,!0)}function ko(g){return mr.echoes&&g&&g.constructor===on?(Mo(),g.then(function(v){return mi(),v},function(v){return mi(),vr(v)})):g}function bs(){var g=Wi[Wi.length-1];Wi.pop(),vi(g,!1)}function vi(g,v){var w,D=et;(v?!mr.echoes||Cr++&&g===et:!Cr||--Cr&&g===et)||queueMicrotask(v?function(I){++Yr,mr.echoes&&--mr.echoes!=0||(mr.echoes=mr.awaits=mr.id=0),Wi.push(et),vi(I,!0)}.bind(null,g):bs),g!==et&&(et=g,D===fn&&(fn.env=No()),Kt&&(w=fn.env.Promise,v=g.env,(D.global||g.global)&&(Object.defineProperty(r,"Promise",v.PromiseProp),w.all=v.all,w.race=v.race,w.resolve=v.resolve,w.reject=v.reject,v.allSettled&&(w.allSettled=v.allSettled),v.any&&(w.any=v.any))))}function No(){var g=r.Promise;return Kt?{Promise:g,PromiseProp:Object.getOwnPropertyDescriptor(r,"Promise"),all:g.all,race:g.race,allSettled:g.allSettled,any:g.any,resolve:g.resolve,reject:g.reject}:{}}function Po(g,v,w,D,I){var N=et;try{return vi(g,!0),v(w,D,I)}finally{vi(N,!1)}}function _s(g,v,w,D){return typeof g!="function"?g:function(){var I=et;w&&Mo(),vi(v,!0);try{return g.apply(this,arguments)}finally{vi(I,!1),D&&queueMicrotask(mi)}}}function Aa(g){Promise===on&&mr.echoes===0?Cr===0?g():enqueueNativeMicroTask(g):setTimeout(g,0)}(""+Mr).indexOf("[native code]")===-1&&(Mo=mi=Re);var vr=Xe.reject,Yo="\uFFFF",fo="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",qf="String expected.",ea=[],rc="__dbnames",Zc="readonly",ho="readwrite";function ws(g,v){return g?v?function(){return g.apply(this,arguments)&&v.apply(this,arguments)}:g:v}var fd={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function dl(g){return typeof g!="string"||/\./.test(g)?function(v){return v}:function(v){return v[g]===void 0&&g in v&&delete(v=O(v))[g],v}}function hd(){throw ue.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function En(g,v){try{var w=pd(g),D=pd(v);if(w!==D)return w==="Array"?1:D==="Array"?-1:w==="binary"?1:D==="binary"?-1:w==="string"?1:D==="string"?-1:w==="Date"?1:D!=="Date"?NaN:-1;switch(w){case"number":case"Date":case"string":return v<g?1:g<v?-1:0;case"binary":return(function(I,N){for(var K=I.length,ae=N.length,be=K<ae?K:ae,we=0;we<be;++we)if(I[we]!==N[we])return I[we]<N[we]?-1:1;return K===ae?0:K<ae?-1:1})(xs(g),xs(v));case"Array":return(function(I,N){for(var K=I.length,ae=N.length,be=K<ae?K:ae,we=0;we<be;++we){var Ie=En(I[we],N[we]);if(Ie!==0)return Ie}return K===ae?0:K<ae?-1:1})(g,v)}}catch(I){}return NaN}function pd(g){var v=typeof g;return v!="object"?v:ArrayBuffer.isView(g)?"binary":(g=le(g),g==="ArrayBuffer"?"binary":g)}function xs(g){return g instanceof Uint8Array?g:ArrayBuffer.isView(g)?new Uint8Array(g.buffer,g.byteOffset,g.byteLength):new Uint8Array(g)}function Ta(g,v,w){var D=g.schema.yProps;return D?(v&&0<w.numFailures&&(v=v.filter(function(I,N){return!w.failures[N]})),Promise.all(D.map(function(I){return I=I.updatesTable,v?g.db.table(I).where("k").anyOf(v).delete():g.db.table(I).clear()})).then(function(){return w})):w}var ic=(Kr.prototype.execute=function(g){var v=this["@@propmod"];if(v.add!==void 0){var w=v.add;if(o(w))return t(t([],o(g)?g:[],!0),w,!0).sort();if(typeof w=="number")return(Number(g)||0)+w;if(typeof w=="bigint")try{return BigInt(g)+w}catch(I){return BigInt(0)+w}throw new TypeError("Invalid term ".concat(w))}if(v.remove!==void 0){var D=v.remove;if(o(D))return o(g)?g.filter(function(I){return!D.includes(I)}).sort():[];if(typeof D=="number")return Number(g)-D;if(typeof D=="bigint")try{return BigInt(g)-D}catch(I){return BigInt(0)-D}throw new TypeError("Invalid subtrahend ".concat(D))}return w=(w=v.replacePrefix)===null||w===void 0?void 0:w[0],w&&typeof g=="string"&&g.startsWith(w)?v.replacePrefix[1]+g.substring(w.length):g},Kr);function Kr(g){this["@@propmod"]=g}function gd(g,v){for(var w=i(v),D=w.length,I=!1,N=0;N<D;++N){var K=w[N],ae=v[K],be=P(g,K);ae instanceof ic?(U(g,K,ae.execute(be)),I=!0):be!==ae&&(U(g,K,ae),I=!0)}return I}var Cs=($n.prototype._trans=function(g,v,w){var D=this._tx||et.trans,I=this.name,N=Qe&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(g==="readonly"?"read":"write"," ").concat(this.name));function K(we,Ie,ce){if(!ce.schema[I])throw new ue.NotFound("Table "+I+" not part of transaction");return v(ce.idbtrans,ce)}var ae=Gr();try{var be=D&&D.db._novip===this.db._novip?D===et.trans?D._promise(g,K,w):uo(function(){return D._promise(g,K,w)},{trans:D,transless:et.transless||et}):(function we(Ie,ce,Ae,fe){if(Ie.idbdb&&(Ie._state.openComplete||et.letThrough||Ie._vip)){var ye=Ie._createTransaction(ce,Ae,Ie._dbSchema);try{ye.create(),Ie._state.PR1398_maxLoop=3}catch(_e){return _e.name===de.InvalidState&&Ie.isOpen()&&0<--Ie._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Ie.close({disableAutoOpen:!1}),Ie.open().then(function(){return we(Ie,ce,Ae,fe)})):vr(_e)}return ye._promise(ce,function(_e,Se){return uo(function(){return et.trans=ye,fe(_e,Se,ye)})}).then(function(_e){if(ce==="readwrite")try{ye.idbtrans.commit()}catch(Se){}return ce==="readonly"?_e:ye._completion.then(function(){return _e})})}if(Ie._state.openComplete)return vr(new ue.DatabaseClosed(Ie._state.dbOpenError));if(!Ie._state.isBeingOpened){if(!Ie._state.autoOpen)return vr(new ue.DatabaseClosed);Ie.open().catch(Re)}return Ie._state.dbReadyPromise.then(function(){return we(Ie,ce,Ae,fe)})})(this.db,g,[this.name],K);return N&&(be._consoleTask=N,be=be.catch(function(we){return console.trace(we),vr(we)})),be}finally{ae&&co()}},$n.prototype.get=function(g,v){var w=this;return g&&g.constructor===Object?this.where(g).first(v):g==null?vr(new ue.Type("Invalid argument to Table.get()")):this._trans("readonly",function(D){return w.core.get({trans:D,key:g}).then(function(I){return w.hook.reading.fire(I)})}).then(v)},$n.prototype.where=function(g){if(typeof g=="string")return new this.db.WhereClause(this,g);if(o(g))return new this.db.WhereClause(this,"[".concat(g.join("+"),"]"));var v=i(g);if(v.length===1)return this.where(v[0]).equals(g[v[0]]);var w=this.schema.indexes.concat(this.schema.primKey).filter(function(ae){if(ae.compound&&v.every(function(we){return 0<=ae.keyPath.indexOf(we)})){for(var be=0;be<v.length;++be)if(v.indexOf(ae.keyPath[be])===-1)return!1;return!0}return!1}).sort(function(ae,be){return ae.keyPath.length-be.keyPath.length})[0];if(w&&this.db._maxKey!==Yo){var N=w.keyPath.slice(0,v.length);return this.where(N).equals(N.map(function(be){return g[be]}))}!w&&Qe&&console.warn("The query ".concat(JSON.stringify(g)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(v.join("+"),"]"));var D=this.schema.idxByName;function I(ae,be){return En(ae,be)===0}var K=v.reduce(function(ce,be){var we=ce[0],Ie=ce[1],ce=D[be],Ae=g[be];return[we||ce,we||!ce?ws(Ie,ce&&ce.multi?function(fe){return fe=P(fe,be),o(fe)&&fe.some(function(ye){return I(Ae,ye)})}:function(fe){return I(Ae,P(fe,be))}):Ie]},[null,null]),N=K[0],K=K[1];return N?this.where(N.name).equals(g[N.keyPath]).filter(K):w?this.filter(K):this.where(v).equals("")},$n.prototype.filter=function(g){return this.toCollection().and(g)},$n.prototype.count=function(g){return this.toCollection().count(g)},$n.prototype.offset=function(g){return this.toCollection().offset(g)},$n.prototype.limit=function(g){return this.toCollection().limit(g)},$n.prototype.each=function(g){return this.toCollection().each(g)},$n.prototype.toArray=function(g){return this.toCollection().toArray(g)},$n.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},$n.prototype.orderBy=function(g){return new this.db.Collection(new this.db.WhereClause(this,o(g)?"[".concat(g.join("+"),"]"):g))},$n.prototype.reverse=function(){return this.toCollection().reverse()},$n.prototype.mapToClass=function(g){var v,w=this.db,D=this.name;function I(){return v!==null&&v.apply(this,arguments)||this}(this.schema.mappedClass=g).prototype instanceof hd&&((function(be,we){if(typeof we!="function"&&we!==null)throw new TypeError("Class extends value "+String(we)+" is not a constructor or null");function Ie(){this.constructor=be}n(be,we),be.prototype=we===null?Object.create(we):(Ie.prototype=we.prototype,new Ie)})(I,v=g),Object.defineProperty(I.prototype,"db",{get:function(){return w},enumerable:!1,configurable:!0}),I.prototype.table=function(){return D},g=I);for(var N=new Set,K=g.prototype;K;K=a(K))Object.getOwnPropertyNames(K).forEach(function(be){return N.add(be)});function ae(be){if(!be)return be;var we,Ie=Object.create(g.prototype);for(we in be)if(!N.has(we))try{Ie[we]=be[we]}catch(ce){}return Ie}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=ae,this.hook("reading",ae),g},$n.prototype.defineClass=function(){return this.mapToClass(function(g){s(this,g)})},$n.prototype.add=function(g,v){var w=this,D=this.schema.primKey,I=D.auto,N=D.keyPath,K=g;return N&&I&&(K=dl(N)(g)),this._trans("readwrite",function(ae){return w.core.mutate({trans:ae,type:"add",keys:v!=null?[v]:null,values:[K]})}).then(function(ae){return ae.numFailures?Xe.reject(ae.failures[0]):ae.lastResult}).then(function(ae){if(N)try{U(g,N,ae)}catch(be){}return ae})},$n.prototype.upsert=function(g,v){var w=this,D=this.schema.primKey.keyPath;return this._trans("readwrite",function(I){return w.core.get({trans:I,key:g}).then(function(N){var K=N??{};return gd(K,v),D&&U(K,D,g),w.core.mutate({trans:I,type:"put",values:[K],keys:[g],upsert:!0,updates:{keys:[g],changeSpecs:[v]}}).then(function(ae){return ae.numFailures?Xe.reject(ae.failures[0]):!!N})})})},$n.prototype.update=function(g,v){return typeof g!="object"||o(g)?this.where(":id").equals(g).modify(v):(g=P(g,this.schema.primKey.keyPath),g===void 0?vr(new ue.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(g).modify(v))},$n.prototype.put=function(g,v){var w=this,D=this.schema.primKey,I=D.auto,N=D.keyPath,K=g;return N&&I&&(K=dl(N)(g)),this._trans("readwrite",function(ae){return w.core.mutate({trans:ae,type:"put",values:[K],keys:v!=null?[v]:null})}).then(function(ae){return ae.numFailures?Xe.reject(ae.failures[0]):ae.lastResult}).then(function(ae){if(N)try{U(g,N,ae)}catch(be){}return ae})},$n.prototype.delete=function(g){var v=this;return this._trans("readwrite",function(w){return v.core.mutate({trans:w,type:"delete",keys:[g]}).then(function(D){return Ta(v,[g],D)}).then(function(D){return D.numFailures?Xe.reject(D.failures[0]):void 0})})},$n.prototype.clear=function(){var g=this;return this._trans("readwrite",function(v){return g.core.mutate({trans:v,type:"deleteRange",range:fd}).then(function(w){return Ta(g,null,w)})}).then(function(v){return v.numFailures?Xe.reject(v.failures[0]):void 0})},$n.prototype.bulkGet=function(g){var v=this;return this._trans("readonly",function(w){return v.core.getMany({keys:g,trans:w}).then(function(D){return D.map(function(I){return v.hook.reading.fire(I)})})})},$n.prototype.bulkAdd=function(g,v,w){var D=this,I=Array.isArray(v)?v:void 0,N=(w=w||(I?void 0:v))?w.allKeys:void 0;return this._trans("readwrite",function(K){var we=D.schema.primKey,ae=we.auto,we=we.keyPath;if(we&&I)throw new ue.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(I&&I.length!==g.length)throw new ue.InvalidArgument("Arguments objects and keys must have the same length");var be=g.length,we=we&&ae?g.map(dl(we)):g;return D.core.mutate({trans:K,type:"add",keys:I,values:we,wantResults:N}).then(function(ye){var ce=ye.numFailures,Ae=ye.results,fe=ye.lastResult,ye=ye.failures;if(ce===0)return N?Ae:fe;throw new X("".concat(D.name,".bulkAdd(): ").concat(ce," of ").concat(be," operations failed"),ye)})})},$n.prototype.bulkPut=function(g,v,w){var D=this,I=Array.isArray(v)?v:void 0,N=(w=w||(I?void 0:v))?w.allKeys:void 0;return this._trans("readwrite",function(K){var we=D.schema.primKey,ae=we.auto,we=we.keyPath;if(we&&I)throw new ue.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(I&&I.length!==g.length)throw new ue.InvalidArgument("Arguments objects and keys must have the same length");var be=g.length,we=we&&ae?g.map(dl(we)):g;return D.core.mutate({trans:K,type:"put",keys:I,values:we,wantResults:N}).then(function(ye){var ce=ye.numFailures,Ae=ye.results,fe=ye.lastResult,ye=ye.failures;if(ce===0)return N?Ae:fe;throw new X("".concat(D.name,".bulkPut(): ").concat(ce," of ").concat(be," operations failed"),ye)})})},$n.prototype.bulkUpdate=function(g){var v=this,w=this.core,D=g.map(function(K){return K.key}),I=g.map(function(K){return K.changes}),N=[];return this._trans("readwrite",function(K){return w.getMany({trans:K,keys:D,cache:"clone"}).then(function(ae){var be=[],we=[];g.forEach(function(ce,Ae){var fe=ce.key,ye=ce.changes,_e=ae[Ae];if(_e){for(var Se=0,ke=Object.keys(ye);Se<ke.length;Se++){var Le=ke[Se],ze=ye[Le];if(Le===v.schema.primKey.keyPath){if(En(ze,fe)!==0)throw new ue.Constraint("Cannot update primary key in bulkUpdate()")}else U(_e,Le,ze)}N.push(Ae),be.push(fe),we.push(_e)}});var Ie=be.length;return w.mutate({trans:K,type:"put",keys:be,values:we,updates:{keys:D,changeSpecs:I}}).then(function(ce){var Ae=ce.numFailures,fe=ce.failures;if(Ae===0)return Ie;for(var ye=0,_e=Object.keys(fe);ye<_e.length;ye++){var Se,ke=_e[ye],Le=N[Number(ke)];Le!=null&&(Se=fe[ke],delete fe[ke],fe[Le]=Se)}throw new X("".concat(v.name,".bulkUpdate(): ").concat(Ae," of ").concat(Ie," operations failed"),fe)})})})},$n.prototype.bulkDelete=function(g){var v=this,w=g.length;return this._trans("readwrite",function(D){return v.core.mutate({trans:D,type:"delete",keys:g}).then(function(I){return Ta(v,g,I)})}).then(function(K){var I=K.numFailures,N=K.lastResult,K=K.failures;if(I===0)return N;throw new X("".concat(v.name,".bulkDelete(): ").concat(I," of ").concat(w," operations failed"),K)})},$n);function $n(){}function fl(g){function v(K,ae){if(ae){for(var be=arguments.length,we=new Array(be-1);--be;)we[be-1]=arguments[be];return w[K].subscribe.apply(null,we),g}if(typeof K=="string")return w[K]}var w={};v.addEventType=N;for(var D=1,I=arguments.length;D<I;++D)N(arguments[D]);return v;function N(K,ae,be){if(typeof K!="object"){var we;ae=ae||dn;var Ie={subscribers:[],fire:be=be||Re,subscribe:function(ce){Ie.subscribers.indexOf(ce)===-1&&(Ie.subscribers.push(ce),Ie.fire=ae(Ie.fire,ce))},unsubscribe:function(ce){Ie.subscribers=Ie.subscribers.filter(function(Ae){return Ae!==ce}),Ie.fire=Ie.subscribers.reduce(ae,be)}};return w[K]=v[K]=Ie}i(we=K).forEach(function(ce){var Ae=we[ce];if(o(Ae))N(ce,we[ce][0],we[ce][1]);else{if(Ae!=="asap")throw new ue.InvalidArgument("Invalid event config");var fe=N(ce,Je,function(){for(var ye=arguments.length,_e=new Array(ye);ye--;)_e[ye]=arguments[ye];fe.subscribers.forEach(function(Se){F(function(){Se.apply(null,_e)})})})}})}}function Li(g,v){return f(v).from({prototype:g}),v}function Tr(g,v){return!(g.filter||g.algorithm||g.or)&&(v?g.justLimit:!g.replayFilter)}function Ss(g,v){g.filter=ws(g.filter,v)}function Xc(g,v,w){var D=g.replayFilter;g.replayFilter=D?function(){return ws(D(),v())}:v,g.justLimit=w&&!D}function Jc(g,v){if(g.isPrimKey)return v.primaryKey;var w=v.getIndexByKeyPath(g.index);if(!w)throw new ue.Schema("KeyPath "+g.index+" on object store "+v.name+" is not indexed");return w}function $f(g,v,w){var D=Jc(g,v.schema);return v.openCursor({trans:w,values:!g.keysOnly,reverse:g.dir==="prev",unique:!!g.unique,query:{index:D,range:g.range}})}function Oo(g,v,w,D){var I=g.replayFilter?ws(g.filter,g.replayFilter()):g.filter;if(g.or){var N={},K=function(ae,be,we){var Ie,ce;I&&!I(be,we,function(Ae){return be.stop(Ae)},function(Ae){return be.fail(Ae)})||((ce=""+(Ie=be.primaryKey))=="[object ArrayBuffer]"&&(ce=""+new Uint8Array(Ie)),c(N,ce)||(N[ce]=!0,v(ae,be,we)))};return Promise.all([g.or._iterate(K,w),md($f(g,D,w),g.algorithm,K,!g.keysOnly&&g.valueMapper)])}return md($f(g,D,w),ws(g.algorithm,I),v,!g.keysOnly&&g.valueMapper)}function md(g,v,w,D){var I=zn(D?function(N,K,ae){return w(D(N),K,ae)}:w);return g.then(function(N){if(N)return N.start(function(){var K=function(){return N.continue()};v&&!v(N,function(ae){return K=ae},function(ae){N.stop(ae),K=Re},function(ae){N.fail(ae),K=Re})||I(N.value,N,function(ae){return K=ae}),K()})})}var Wf=(In.prototype._read=function(g,v){var w=this._ctx;return w.error?w.table._trans(null,vr.bind(null,w.error)):w.table._trans("readonly",g).then(v)},In.prototype._write=function(g){var v=this._ctx;return v.error?v.table._trans(null,vr.bind(null,v.error)):v.table._trans("readwrite",g,"locked")},In.prototype._addAlgorithm=function(g){var v=this._ctx;v.algorithm=ws(v.algorithm,g)},In.prototype._iterate=function(g,v){return Oo(this._ctx,g,v,this._ctx.table.core)},In.prototype.clone=function(g){var v=Object.create(this.constructor.prototype),w=Object.create(this._ctx);return g&&s(w,g),v._ctx=w,v},In.prototype.raw=function(){return this._ctx.valueMapper=null,this},In.prototype.each=function(g){var v=this._ctx;return this._read(function(w){return Oo(v,g,w,v.table.core)})},In.prototype.count=function(g){var v=this;return this._read(function(w){var D=v._ctx,I=D.table.core;if(Tr(D,!0))return I.count({trans:w,query:{index:Jc(D,I.schema),range:D.range}}).then(function(K){return Math.min(K,D.limit)});var N=0;return Oo(D,function(){return++N,!1},w,I).then(function(){return N})}).then(g)},In.prototype.sortBy=function(g,v){var w=g.split(".").reverse(),D=w[0],I=w.length-1;function N(be,we){return we?N(be[w[we]],we-1):be[D]}var K=this._ctx.dir==="next"?1:-1;function ae(be,we){return En(N(be,I),N(we,I))*K}return this.toArray(function(be){return be.sort(ae)}).then(v)},In.prototype.toArray=function(g){var v=this;return this._read(function(w){var D=v._ctx;if(D.dir==="next"&&Tr(D,!0)&&0<D.limit){var I=D.valueMapper,N=Jc(D,D.table.core.schema);return D.table.core.query({trans:w,limit:D.limit,values:!0,query:{index:N,range:D.range}}).then(function(ae){return ae=ae.result,I?ae.map(I):ae})}var K=[];return Oo(D,function(ae){return K.push(ae)},w,D.table.core).then(function(){return K})},g)},In.prototype.offset=function(g){var v=this._ctx;return g<=0||(v.offset+=g,Tr(v)?Xc(v,function(){var w=g;return function(D,I){return w===0||(w===1?--w:I(function(){D.advance(w),w=0}),!1)}}):Xc(v,function(){var w=g;return function(){return--w<0}})),this},In.prototype.limit=function(g){return this._ctx.limit=Math.min(this._ctx.limit,g),Xc(this._ctx,function(){var v=g;return function(w,D,I){return--v<=0&&D(I),0<=v}},!0),this},In.prototype.until=function(g,v){return Ss(this._ctx,function(w,D,I){return!g(w.value)||(D(I),v)}),this},In.prototype.first=function(g){return this.limit(1).toArray(function(v){return v[0]}).then(g)},In.prototype.last=function(g){return this.reverse().first(g)},In.prototype.filter=function(g){var v;return Ss(this._ctx,function(w){return g(w.value)}),(v=this._ctx).isMatch=ws(v.isMatch,g),this},In.prototype.and=function(g){return this.filter(g)},In.prototype.or=function(g){return new this.db.WhereClause(this._ctx.table,g,this)},In.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},In.prototype.desc=function(){return this.reverse()},In.prototype.eachKey=function(g){var v=this._ctx;return v.keysOnly=!v.isMatch,this.each(function(w,D){g(D.key,D)})},In.prototype.eachUniqueKey=function(g){return this._ctx.unique="unique",this.eachKey(g)},In.prototype.eachPrimaryKey=function(g){var v=this._ctx;return v.keysOnly=!v.isMatch,this.each(function(w,D){g(D.primaryKey,D)})},In.prototype.keys=function(g){var v=this._ctx;v.keysOnly=!v.isMatch;var w=[];return this.each(function(D,I){w.push(I.key)}).then(function(){return w}).then(g)},In.prototype.primaryKeys=function(g){var v=this._ctx;if(v.dir==="next"&&Tr(v,!0)&&0<v.limit)return this._read(function(D){var I=Jc(v,v.table.core.schema);return v.table.core.query({trans:D,values:!1,limit:v.limit,query:{index:I,range:v.range}})}).then(function(D){return D.result}).then(g);v.keysOnly=!v.isMatch;var w=[];return this.each(function(D,I){w.push(I.primaryKey)}).then(function(){return w}).then(g)},In.prototype.uniqueKeys=function(g){return this._ctx.unique="unique",this.keys(g)},In.prototype.firstKey=function(g){return this.limit(1).keys(function(v){return v[0]}).then(g)},In.prototype.lastKey=function(g){return this.reverse().firstKey(g)},In.prototype.distinct=function(){var g=this._ctx,g=g.index&&g.table.schema.idxByName[g.index];if(!g||!g.multi)return this;var v={};return Ss(this._ctx,function(I){var D=I.primaryKey.toString(),I=c(v,D);return v[D]=!0,!I}),this},In.prototype.modify=function(g){var v=this,w=this._ctx;return this._write(function(D){var I=typeof g=="function"?g:function(_e){return gd(_e,g)},N=w.table.core,we=N.schema.primaryKey,K=we.outbound,ae=we.extractKey,be=200,we=v.db._options.modifyChunkSize;we&&(be=typeof we=="object"?we[N.name]||we["*"]||200:we);function Ie(_e,Le){var ke=Le.failures,Le=Le.numFailures;Ae+=_e-Le;for(var ze=0,Ge=i(ke);ze<Ge.length;ze++){var st=Ge[ze];ce.push(ke[st])}}var ce=[],Ae=0,fe=[],ye=g===hl;return v.clone().primaryKeys().then(function(_e){function Se(Le){var ze=Math.min(be,_e.length-Le),Ge=_e.slice(Le,Le+ze);return(ye?Promise.resolve([]):N.getMany({trans:D,keys:Ge,cache:"immutable"})).then(function(st){var dt=[],ot=[],at=K?[]:null,ft=ye?Ge:[];if(!ye)for(var ct=0;ct<ze;++ct){var yt=st[ct],tn={value:O(yt),primKey:_e[Le+ct]};I.call(tn,tn.value,tn)!==!1&&(tn.value==null?ft.push(_e[Le+ct]):K||En(ae(yt),ae(tn.value))===0?(ot.push(tn.value),K&&at.push(_e[Le+ct])):(ft.push(_e[Le+ct]),dt.push(tn.value)))}return Promise.resolve(0<dt.length&&N.mutate({trans:D,type:"add",values:dt}).then(function(ln){for(var gn in ln.failures)ft.splice(parseInt(gn),1);Ie(dt.length,ln)})).then(function(){return(0<ot.length||ke&&typeof g=="object")&&N.mutate({trans:D,type:"put",keys:at,values:ot,criteria:ke,changeSpec:typeof g!="function"&&g,isAdditionalChunk:0<Le}).then(function(ln){return Ie(ot.length,ln)})}).then(function(){return(0<ft.length||ke&&ye)&&N.mutate({trans:D,type:"delete",keys:ft,criteria:ke,isAdditionalChunk:0<Le}).then(function(ln){return Ta(w.table,ft,ln)}).then(function(ln){return Ie(ft.length,ln)})}).then(function(){return _e.length>Le+ze&&Se(Le+be)})})}var ke=Tr(w)&&w.limit===1/0&&(typeof g!="function"||ye)&&{index:w.index,range:w.range};return Se(0).then(function(){if(0<ce.length)throw new W("Error modifying one or more objects",ce,Ae,fe);return _e.length})})})},In.prototype.delete=function(){var g=this._ctx,v=g.range;return!Tr(g)||g.table.schema.yProps||!g.isPrimKey&&v.type!==3?this.modify(hl):this._write(function(w){var D=g.table.core.schema.primaryKey,I=v;return g.table.core.count({trans:w,query:{index:D,range:I}}).then(function(N){return g.table.core.mutate({trans:w,type:"deleteRange",range:I}).then(function(be){var ae=be.failures,be=be.numFailures;if(be)throw new W("Could not delete some values",Object.keys(ae).map(function(we){return ae[we]}),N-be);return N-be})})})},In);function In(){}var hl=function(g,v){return v.value=null};function Kp(g,v){return g<v?-1:g===v?0:1}function Qp(g,v){return v<g?-1:g===v?0:1}function Gi(g,v,w){return g=g instanceof pl?new g.Collection(g):g,g._ctx.error=new(w||TypeError)(v),g}function ta(g){return new g.Collection(g,function(){return Gf("")}).limit(0)}function oc(g,v,w,D){var I,N,K,ae,be,we,Ie,ce=w.length;if(!w.every(function(ye){return typeof ye=="string"}))return Gi(g,qf);function Ae(ye){I=ye==="next"?function(Se){return Se.toUpperCase()}:function(Se){return Se.toLowerCase()},N=ye==="next"?function(Se){return Se.toLowerCase()}:function(Se){return Se.toUpperCase()},K=ye==="next"?Kp:Qp;var _e=w.map(function(Se){return{lower:N(Se),upper:I(Se)}}).sort(function(Se,ke){return K(Se.lower,ke.lower)});ae=_e.map(function(Se){return Se.upper}),be=_e.map(function(Se){return Se.lower}),Ie=(we=ye)==="next"?"":D}Ae("next"),g=new g.Collection(g,function(){return yi(ae[0],be[ce-1]+D)}),g._ondirectionchange=function(ye){Ae(ye)};var fe=0;return g._addAlgorithm(function(ye,_e,Se){var ke=ye.key;if(typeof ke!="string")return!1;var Le=N(ke);if(v(Le,be,fe))return!0;for(var ze=null,Ge=fe;Ge<ce;++Ge){var st=(function(dt,ot,at,ft,ct,yt){for(var tn=Math.min(dt.length,ft.length),ln=-1,gn=0;gn<tn;++gn){var po=ot[gn];if(po!==ft[gn])return ct(dt[gn],at[gn])<0?dt.substr(0,gn)+at[gn]+at.substr(gn+1):ct(dt[gn],ft[gn])<0?dt.substr(0,gn)+ft[gn]+at.substr(gn+1):0<=ln?dt.substr(0,ln)+ot[ln]+at.substr(ln+1):null;ct(dt[gn],po)<0&&(ln=gn)}return tn<ft.length&&yt==="next"?dt+at.substr(dt.length):tn<dt.length&&yt==="prev"?dt.substr(0,at.length):ln<0?null:dt.substr(0,ln)+ft[ln]+at.substr(ln+1)})(ke,Le,ae[Ge],be[Ge],K,we);st===null&&ze===null?fe=Ge+1:(ze===null||0<K(ze,st))&&(ze=st)}return _e(ze!==null?function(){ye.continue(ze+Ie)}:Se),!1}),g}function yi(g,v,w,D){return{type:2,lower:g,upper:v,lowerOpen:w,upperOpen:D}}function Gf(g){return{type:1,lower:g,upper:g}}var pl=(Object.defineProperty(zr.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),zr.prototype.between=function(g,v,w,D){w=w!==!1,D=D===!0;try{return 0<this._cmp(g,v)||this._cmp(g,v)===0&&(w||D)&&(!w||!D)?ta(this):new this.Collection(this,function(){return yi(g,v,!w,!D)})}catch(I){return Gi(this,fo)}},zr.prototype.equals=function(g){return g==null?Gi(this,fo):new this.Collection(this,function(){return Gf(g)})},zr.prototype.above=function(g){return g==null?Gi(this,fo):new this.Collection(this,function(){return yi(g,void 0,!0)})},zr.prototype.aboveOrEqual=function(g){return g==null?Gi(this,fo):new this.Collection(this,function(){return yi(g,void 0,!1)})},zr.prototype.below=function(g){return g==null?Gi(this,fo):new this.Collection(this,function(){return yi(void 0,g,!1,!0)})},zr.prototype.belowOrEqual=function(g){return g==null?Gi(this,fo):new this.Collection(this,function(){return yi(void 0,g)})},zr.prototype.startsWith=function(g){return typeof g!="string"?Gi(this,qf):this.between(g,g+Yo,!0,!0)},zr.prototype.startsWithIgnoreCase=function(g){return g===""?this.startsWith(g):oc(this,function(v,w){return v.indexOf(w[0])===0},[g],Yo)},zr.prototype.equalsIgnoreCase=function(g){return oc(this,function(v,w){return v===w[0]},[g],"")},zr.prototype.anyOfIgnoreCase=function(){var g=Z.apply(oe,arguments);return g.length===0?ta(this):oc(this,function(v,w){return w.indexOf(v)!==-1},g,"")},zr.prototype.startsWithAnyOfIgnoreCase=function(){var g=Z.apply(oe,arguments);return g.length===0?ta(this):oc(this,function(v,w){return w.some(function(D){return v.indexOf(D)===0})},g,Yo)},zr.prototype.anyOf=function(){var g=this,v=Z.apply(oe,arguments),w=this._cmp;try{v.sort(w)}catch(N){return Gi(this,fo)}if(v.length===0)return ta(this);var D=new this.Collection(this,function(){return yi(v[0],v[v.length-1])});D._ondirectionchange=function(N){w=N==="next"?g._ascending:g._descending,v.sort(w)};var I=0;return D._addAlgorithm(function(N,K,ae){for(var be=N.key;0<w(be,v[I]);)if(++I===v.length)return K(ae),!1;return w(be,v[I])===0||(K(function(){N.continue(v[I])}),!1)}),D},zr.prototype.notEqual=function(g){return this.inAnyRange([[-1/0,g],[g,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},zr.prototype.noneOf=function(){var g=Z.apply(oe,arguments);if(g.length===0)return new this.Collection(this);try{g.sort(this._ascending)}catch(w){return Gi(this,fo)}var v=g.reduce(function(w,D){return w?w.concat([[w[w.length-1][1],D]]):[[-1/0,D]]},null);return v.push([g[g.length-1],this.db._maxKey]),this.inAnyRange(v,{includeLowers:!1,includeUppers:!1})},zr.prototype.inAnyRange=function(ke,v){var w=this,D=this._cmp,I=this._ascending,N=this._descending,K=this._min,ae=this._max;if(ke.length===0)return ta(this);if(!ke.every(function(Le){return Le[0]!==void 0&&Le[1]!==void 0&&I(Le[0],Le[1])<=0}))return Gi(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ue.InvalidArgument);var be=!v||v.includeLowers!==!1,we=v&&v.includeUppers===!0,Ie,ce=I;function Ae(Le,ze){return ce(Le[0],ze[0])}try{(Ie=ke.reduce(function(Le,ze){for(var Ge=0,st=Le.length;Ge<st;++Ge){var dt=Le[Ge];if(D(ze[0],dt[1])<0&&0<D(ze[1],dt[0])){dt[0]=K(dt[0],ze[0]),dt[1]=ae(dt[1],ze[1]);break}}return Ge===st&&Le.push(ze),Le},[])).sort(Ae)}catch(Le){return Gi(this,fo)}var fe=0,ye=we?function(Le){return 0<I(Le,Ie[fe][1])}:function(Le){return 0<=I(Le,Ie[fe][1])},_e=be?function(Le){return 0<N(Le,Ie[fe][0])}:function(Le){return 0<=N(Le,Ie[fe][0])},Se=ye,ke=new this.Collection(this,function(){return yi(Ie[0][0],Ie[Ie.length-1][1],!be,!we)});return ke._ondirectionchange=function(Le){ce=Le==="next"?(Se=ye,I):(Se=_e,N),Ie.sort(Ae)},ke._addAlgorithm(function(Le,ze,Ge){for(var st,dt=Le.key;Se(dt);)if(++fe===Ie.length)return ze(Ge),!1;return!ye(st=dt)&&!_e(st)||(w._cmp(dt,Ie[fe][1])===0||w._cmp(dt,Ie[fe][0])===0||ze(function(){ce===I?Le.continue(Ie[fe][0]):Le.continue(Ie[fe][1])}),!1)}),ke},zr.prototype.startsWithAnyOf=function(){var g=Z.apply(oe,arguments);return g.every(function(v){return typeof v=="string"})?g.length===0?ta(this):this.inAnyRange(g.map(function(v){return[v,v+Yo]})):Gi(this,"startsWithAnyOf() only works with strings")},zr);function zr(){}function Ko(g){return zn(function(v){return Ht(v),g(v.target.error),!1})}function Ht(g){g.stopPropagation&&g.stopPropagation(),g.preventDefault&&g.preventDefault()}var sc="storagemutated",vd="x-storagemutated-1",na=fl(null,sc),Ma=(bi.prototype._lock=function(){return A(!et.global),++this._reculock,this._reculock!==1||et.global||(et.lockOwnerFor=this),this},bi.prototype._unlock=function(){if(A(!et.global),--this._reculock==0)for(et.global||(et.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var g=this._blockedFuncs.shift();try{Po(g[1],g[0])}catch(v){}}return this},bi.prototype._locked=function(){return this._reculock&&et.lockOwnerFor!==this},bi.prototype.create=function(g){var v=this;if(!this.mode)return this;var w=this.db.idbdb,D=this.db._state.dbOpenError;if(A(!this.idbtrans),!g&&!w)switch(D&&D.name){case"DatabaseClosedError":throw new ue.DatabaseClosed(D);case"MissingAPIError":throw new ue.MissingAPI(D.message,D);default:throw new ue.OpenFailed(D)}if(!this.active)throw new ue.TransactionInactive;return A(this._completion._state===null),(g=this.idbtrans=g||(this.db.core||w).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=zn(function(I){Ht(I),v._reject(g.error)}),g.onabort=zn(function(I){Ht(I),v.active&&v._reject(new ue.Abort(g.error)),v.active=!1,v.on("abort").fire(I)}),g.oncomplete=zn(function(){v.active=!1,v._resolve(),"mutatedParts"in g&&na.storagemutated.fire(g.mutatedParts)}),this},bi.prototype._promise=function(g,v,w){var D=this;if(g==="readwrite"&&this.mode!=="readwrite")return vr(new ue.ReadOnly("Transaction is readonly"));if(!this.active)return vr(new ue.TransactionInactive);if(this._locked())return new Xe(function(N,K){D._blockedFuncs.push([function(){D._promise(g,v,w).then(N,K)},et])});if(w)return uo(function(){var N=new Xe(function(K,ae){D._lock();var be=v(K,ae,D);be&&be.then&&be.then(K,ae)});return N.finally(function(){return D._unlock()}),N._lib=!0,N});var I=new Xe(function(N,K){var ae=v(N,K,D);ae&&ae.then&&ae.then(N,K)});return I._lib=!0,I},bi.prototype._root=function(){return this.parent?this.parent._root():this},bi.prototype.waitFor=function(g){var v,w=this._root(),D=Xe.resolve(g);w._waitingFor?w._waitingFor=w._waitingFor.then(function(){return D}):(w._waitingFor=D,w._waitingQueue=[],v=w.idbtrans.objectStore(w.storeNames[0]),(function N(){for(++w._spinCount;w._waitingQueue.length;)w._waitingQueue.shift()();w._waitingFor&&(v.get(-1/0).onsuccess=N)})());var I=w._waitingFor;return new Xe(function(N,K){D.then(function(ae){return w._waitingQueue.push(zn(N.bind(null,ae)))},function(ae){return w._waitingQueue.push(zn(K.bind(null,ae)))}).finally(function(){w._waitingFor===I&&(w._waitingFor=null)})})},bi.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ue.Abort))},bi.prototype.table=function(g){var v=this._memoizedTables||(this._memoizedTables={});if(c(v,g))return v[g];var w=this.schema[g];if(!w)throw new ue.NotFound("Table "+g+" not part of transaction");return w=new this.db.Table(g,w,this),w.core=this.db.core.table(g),v[g]=w},bi);function bi(){}function yd(g,v,w,D,I,N,K,ae){return{name:g,keyPath:v,unique:w,multi:D,auto:I,compound:N,src:(w&&!K?"&":"")+(D?"*":"")+(I?"++":"")+Yf(v),type:ae}}function Yf(g){return typeof g=="string"?g:g?"["+[].join.call(g,"+")+"]":""}function gl(g,v,w){return{name:g,primKey:v,indexes:w,mappedClass:null,idxByName:(D=function(I){return[I.name,I]},w.reduce(function(I,N,K){return K=D(N,K),K&&(I[K[0]]=K[1]),I},{}))};var D}var ka=function(g){try{return g.only([[]]),ka=function(){return[[]]},[[]]}catch(v){return ka=function(){return Yo},Yo}};function Na(g){return g==null?function(){}:typeof g=="string"?(v=g).split(".").length===1?function(w){return w[v]}:function(w){return P(w,v)}:function(w){return P(w,g)};var v}function Kf(g){return[].slice.call(g)}var Pa=0;function ac(g){return g==null?":id":typeof g=="string"?g:"[".concat(g.join("+"),"]")}function bd(g,v,be){function D(Se){if(Se.type===3)return null;if(Se.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var fe=Se.lower,ye=Se.upper,_e=Se.lowerOpen,Se=Se.upperOpen;return fe===void 0?ye===void 0?null:v.upperBound(ye,!!Se):ye===void 0?v.lowerBound(fe,!!_e):v.bound(fe,ye,!!_e,!!Se)}function I(Ae){var fe,ye=Ae.name;return{name:ye,schema:Ae,mutate:function(_e){var Se=_e.trans,ke=_e.type,Le=_e.keys,ze=_e.values,Ge=_e.range;return new Promise(function(st,dt){st=zn(st);var ot=Se.objectStore(ye),at=ot.keyPath==null,ft=ke==="put"||ke==="add";if(!ft&&ke!=="delete"&&ke!=="deleteRange")throw new Error("Invalid operation type: "+ke);var ct,yt=(Le||ze||{length:1}).length;if(Le&&ze&&Le.length!==ze.length)throw new Error("Given keys array must have same length as given values array.");if(yt===0)return st({numFailures:0,failures:{},results:[],lastResult:void 0});function tn(Ti){++po,Ht(Ti)}var ln=[],gn=[],po=0;if(ke==="deleteRange"){if(Ge.type===4)return st({numFailures:po,failures:gn,results:[],lastResult:void 0});Ge.type===3?ln.push(ct=ot.clear()):ln.push(ct=ot.delete(D(Ge)))}else{var at=ft?at?[ze,Le]:[ze,null]:[Le,null],Xt=at[0],Ii=at[1];if(ft)for(var Ai=0;Ai<yt;++Ai)ln.push(ct=Ii&&Ii[Ai]!==void 0?ot[ke](Xt[Ai],Ii[Ai]):ot[ke](Xt[Ai])),ct.onerror=tn;else for(Ai=0;Ai<yt;++Ai)ln.push(ct=ot[ke](Xt[Ai])),ct.onerror=tn}function Dd(Ti){Ti=Ti.target.result,ln.forEach(function(ra,Yi){return ra.error!=null&&(gn[Yi]=ra.error)}),st({numFailures:po,failures:gn,results:ke==="delete"?Le:ln.map(function(ra){return ra.result}),lastResult:Ti})}ct.onerror=function(Ti){tn(Ti),Dd(Ti)},ct.onsuccess=Dd})},getMany:function(_e){var Se=_e.trans,ke=_e.keys;return new Promise(function(Le,ze){Le=zn(Le);for(var Ge,st=Se.objectStore(ye),dt=ke.length,ot=new Array(dt),at=0,ft=0,ct=function(ln){ln=ln.target,ot[ln._pos]=ln.result,++ft===at&&Le(ot)},yt=Ko(ze),tn=0;tn<dt;++tn)ke[tn]!=null&&((Ge=st.get(ke[tn]))._pos=tn,Ge.onsuccess=ct,Ge.onerror=yt,++at);at===0&&Le(ot)})},get:function(_e){var Se=_e.trans,ke=_e.key;return new Promise(function(Le,ze){Le=zn(Le);var Ge=Se.objectStore(ye).get(ke);Ge.onsuccess=function(st){return Le(st.target.result)},Ge.onerror=Ko(ze)})},query:(fe=we,function(_e){return new Promise(function(Se,ke){Se=zn(Se);var Le,ze,Ge,at=_e.trans,st=_e.values,dt=_e.limit,ct=_e.query,ot=dt===1/0?void 0:dt,ft=ct.index,ct=ct.range,at=at.objectStore(ye),ft=ft.isPrimaryKey?at:at.index(ft.name),ct=D(ct);if(dt===0)return Se({result:[]});fe?((ot=st?ft.getAll(ct,ot):ft.getAllKeys(ct,ot)).onsuccess=function(yt){return Se({result:yt.target.result})},ot.onerror=Ko(ke)):(Le=0,ze=!st&&"openKeyCursor"in ft?ft.openKeyCursor(ct):ft.openCursor(ct),Ge=[],ze.onsuccess=function(yt){var tn=ze.result;return tn?(Ge.push(st?tn.value:tn.primaryKey),++Le===dt?Se({result:Ge}):void tn.continue()):Se({result:Ge})},ze.onerror=Ko(ke))})}),openCursor:function(_e){var Se=_e.trans,ke=_e.values,Le=_e.query,ze=_e.reverse,Ge=_e.unique;return new Promise(function(st,dt){st=zn(st);var ft=Le.index,ot=Le.range,at=Se.objectStore(ye),at=ft.isPrimaryKey?at:at.index(ft.name),ft=ze?Ge?"prevunique":"prev":Ge?"nextunique":"next",ct=!ke&&"openKeyCursor"in at?at.openKeyCursor(D(ot),ft):at.openCursor(D(ot),ft);ct.onerror=Ko(dt),ct.onsuccess=zn(function(yt){var tn,ln,gn,po,Xt=ct.result;Xt?(Xt.___id=++Pa,Xt.done=!1,tn=Xt.continue.bind(Xt),ln=(ln=Xt.continuePrimaryKey)&&ln.bind(Xt),gn=Xt.advance.bind(Xt),po=function(){throw new Error("Cursor not stopped")},Xt.trans=Se,Xt.stop=Xt.continue=Xt.continuePrimaryKey=Xt.advance=function(){throw new Error("Cursor not started")},Xt.fail=zn(dt),Xt.next=function(){var Ii=this,Ai=1;return this.start(function(){return Ai--?Ii.continue():Ii.stop()}).then(function(){return Ii})},Xt.start=function(Ii){function Ai(){if(ct.result)try{Ii()}catch(Ti){Xt.fail(Ti)}else Xt.done=!0,Xt.start=function(){throw new Error("Cursor behind last entry")},Xt.stop()}var Dd=new Promise(function(Ti,ra){Ti=zn(Ti),ct.onerror=Ko(ra),Xt.fail=ra,Xt.stop=function(Yi){Xt.stop=Xt.continue=Xt.continuePrimaryKey=Xt.advance=po,Ti(Yi)}});return ct.onsuccess=zn(function(Ti){ct.onsuccess=Ai,Ai()}),Xt.continue=tn,Xt.continuePrimaryKey=ln,Xt.advance=gn,Ai(),Dd},st(Xt)):st(null)},dt)})},count:function(_e){var Se=_e.query,ke=_e.trans,Le=Se.index,ze=Se.range;return new Promise(function(Ge,st){var dt=ke.objectStore(ye),ot=Le.isPrimaryKey?dt:dt.index(Le.name),dt=D(ze),ot=dt?ot.count(dt):ot.count();ot.onsuccess=zn(function(at){return Ge(at.target.result)}),ot.onerror=Ko(st)})}}}var N,K,ae,Ie=(K=be,ae=Kf((N=g).objectStoreNames),{schema:{name:N.name,tables:ae.map(function(Ae){return K.objectStore(Ae)}).map(function(Ae){var fe=Ae.keyPath,Se=Ae.autoIncrement,ye=o(fe),_e={},Se={name:Ae.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:fe==null,compound:ye,keyPath:fe,autoIncrement:Se,unique:!0,extractKey:Na(fe)},indexes:Kf(Ae.indexNames).map(function(ke){return Ae.index(ke)}).map(function(Ge){var Le=Ge.name,ze=Ge.unique,st=Ge.multiEntry,Ge=Ge.keyPath,st={name:Le,compound:o(Ge),keyPath:Ge,unique:ze,multiEntry:st,extractKey:Na(Ge)};return _e[ac(Ge)]=st}),getIndexByKeyPath:function(ke){return _e[ac(ke)]}};return _e[":id"]=Se.primaryKey,fe!=null&&(_e[ac(fe)]=Se.primaryKey),Se})},hasGetAll:0<ae.length&&"getAll"in K.objectStore(ae[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),be=Ie.schema,we=Ie.hasGetAll,Ie=be.tables.map(I),ce={};return Ie.forEach(function(Ae){return ce[Ae.name]=Ae}),{stack:"dbcore",transaction:g.transaction.bind(g),table:function(Ae){if(!ce[Ae])throw new Error("Table '".concat(Ae,"' not found"));return ce[Ae]},MIN_KEY:-1/0,MAX_KEY:ka(v),schema:be}}function _d(g,v,w,D){var I=w.IDBKeyRange;return w.indexedDB,{dbcore:(D=bd(v,I,D),g.dbcore.reduce(function(N,K){return K=K.create,e(e({},N),K(N))},D))}}function lc(g,D){var w=D.db,D=_d(g._middlewares,w,g._deps,D);g.core=D.dbcore,g.tables.forEach(function(I){var N=I.name;g.core.schema.tables.some(function(K){return K.name===N})&&(I.core=g.core.table(N),g[N]instanceof g.Table&&(g[N].core=I.core))})}function Qo(g,v,w,D){w.forEach(function(I){var N=D[I];v.forEach(function(K){var ae=(function be(we,Ie){return b(we,Ie)||(we=a(we))&&be(we,Ie)})(K,I);(!ae||"value"in ae&&ae.value===void 0)&&(K===g.Transaction.prototype||K instanceof g.Transaction?p(K,I,{get:function(){return this.table(I)},set:function(be){d(this,I,{value:be,writable:!0,configurable:!0,enumerable:!0})}}):K[I]=new g.Table(I,N))})})}function cc(g,v){v.forEach(function(w){for(var D in w)w[D]instanceof g.Table&&delete w[D]})}function eu(g,v){return g._cfg.version-v._cfg.version}function wd(g,v,w,D){var I=g._dbSchema;w.objectStoreNames.contains("$meta")&&!I.$meta&&(I.$meta=gl("$meta",ml("")[0],[]),g._storeNames.push("$meta"));var N=g._createTransaction("readwrite",g._storeNames,I);N.create(w),N._completion.catch(D);var K=N._reject.bind(N),ae=et.transless||et;uo(function(){return et.trans=N,et.transless=ae,v!==0?(lc(g,w),we=v,((be=N).storeNames.includes("$meta")?be.table("$meta").get("version").then(function(Ie){return Ie??we}):Xe.resolve(we)).then(function(Ie){return Ae=Ie,fe=N,ye=w,_e=[],Ie=(ce=g)._versions,Se=ce._dbSchema=Xo(0,ce.idbdb,ye),(Ie=Ie.filter(function(ke){return ke._cfg.version>=Ae})).length!==0?(Ie.forEach(function(ke){_e.push(function(){var Le=Se,ze=ke._cfg.dbschema;fc(ce,Le,ye),fc(ce,ze,ye),Se=ce._dbSchema=ze;var Ge=dc(Le,ze);Ge.add.forEach(function(ft){tu(ye,ft[0],ft[1].primKey,ft[1].indexes)}),Ge.change.forEach(function(ft){if(ft.recreate)throw new ue.Upgrade("Not yet support for changing primary key");var ct=ye.objectStore(ft.name);ft.add.forEach(function(yt){return Zo(ct,yt)}),ft.change.forEach(function(yt){ct.deleteIndex(yt.name),Zo(ct,yt)}),ft.del.forEach(function(yt){return ct.deleteIndex(yt)})});var st=ke._cfg.contentUpgrade;if(st&&ke._cfg.version>Ae){lc(ce,ye),fe._memoizedTables={};var dt=se(ze);Ge.del.forEach(function(ft){dt[ft]=Le[ft]}),cc(ce,[ce.Transaction.prototype]),Qo(ce,[ce.Transaction.prototype],i(dt),dt),fe.schema=dt;var ot,at=ie(st);return at&&Mo(),Ge=Xe.follow(function(){var ft;(ot=st(fe))&&at&&(ft=mi.bind(null,null),ot.then(ft,ft))}),ot&&typeof ot.then=="function"?Xe.resolve(ot):Ge.then(function(){return ot})}}),_e.push(function(Le){var ze,Ge,st=ke._cfg.dbschema;ze=st,Ge=Le,[].slice.call(Ge.db.objectStoreNames).forEach(function(dt){return ze[dt]==null&&Ge.db.deleteObjectStore(dt)}),cc(ce,[ce.Transaction.prototype]),Qo(ce,[ce.Transaction.prototype],ce._storeNames,ce._dbSchema),fe.schema=ce._dbSchema}),_e.push(function(Le){ce.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(ce.idbdb.version/10)===ke._cfg.version?(ce.idbdb.deleteObjectStore("$meta"),delete ce._dbSchema.$meta,ce._storeNames=ce._storeNames.filter(function(ze){return ze!=="$meta"})):Le.objectStore("$meta").put(ke._cfg.version,"version"))})}),(function ke(){return _e.length?Xe.resolve(_e.shift()(fe.idbtrans)).then(ke):Xe.resolve()})().then(function(){xd(Se,ye)})):Xe.resolve();var ce,Ae,fe,ye,_e,Se}).catch(K)):(i(I).forEach(function(Ie){tu(w,Ie,I[Ie].primKey,I[Ie].indexes)}),lc(g,w),void Xe.follow(function(){return g.on.populate.fire(N)}).catch(K));var be,we})}function uc(g,v){xd(g._dbSchema,v),v.db.version%10!=0||v.objectStoreNames.contains("$meta")||v.db.createObjectStore("$meta").add(Math.ceil(v.db.version/10-1),"version");var w=Xo(0,g.idbdb,v);fc(g,g._dbSchema,v);for(var D=0,I=dc(w,g._dbSchema).change;D<I.length;D++){var N=(function(K){if(K.change.length||K.recreate)return console.warn("Unable to patch indexes of table ".concat(K.name," because it has changes on the type of index or primary key.")),{value:void 0};var ae=v.objectStore(K.name);K.add.forEach(function(be){Qe&&console.debug("Dexie upgrade patch: Creating missing index ".concat(K.name,".").concat(be.src)),Zo(ae,be)})})(I[D]);if(typeof N=="object")return N.value}}function dc(g,v){var w,D={del:[],add:[],change:[]};for(w in g)v[w]||D.del.push(w);for(w in v){var I=g[w],N=v[w];if(I){var K={name:w,def:N,recreate:!1,del:[],add:[],change:[]};if(""+(I.primKey.keyPath||"")!=""+(N.primKey.keyPath||"")||I.primKey.auto!==N.primKey.auto)K.recreate=!0,D.change.push(K);else{var ae=I.idxByName,be=N.idxByName,we=void 0;for(we in ae)be[we]||K.del.push(we);for(we in be){var Ie=ae[we],ce=be[we];Ie?Ie.src!==ce.src&&K.change.push(ce):K.add.push(ce)}(0<K.del.length||0<K.add.length||0<K.change.length)&&D.change.push(K)}}else D.add.push([w,N])}return D}function tu(g,v,w,D){var I=g.db.createObjectStore(v,w.keyPath?{keyPath:w.keyPath,autoIncrement:w.auto}:{autoIncrement:w.auto});return D.forEach(function(N){return Zo(I,N)}),I}function xd(g,v){i(g).forEach(function(w){v.db.objectStoreNames.contains(w)||(Qe&&console.debug("Dexie: Creating missing table",w),tu(v,w,g[w].primKey,g[w].indexes))})}function Zo(g,v){g.createIndex(v.name,v.keyPath,{unique:v.unique,multiEntry:v.multi})}function Xo(g,v,w){var D={};return C(v.objectStoreNames,0).forEach(function(I){for(var N=w.objectStore(I),K=yd(Yf(we=N.keyPath),we||"",!0,!1,!!N.autoIncrement,we&&typeof we!="string",!0),ae=[],be=0;be<N.indexNames.length;++be){var Ie=N.index(N.indexNames[be]),we=Ie.keyPath,Ie=yd(Ie.name,we,!!Ie.unique,!!Ie.multiEntry,!1,we&&typeof we!="string",!1);ae.push(Ie)}D[I]=gl(I,K,ae)}),D}function fc(g,v,w){for(var D=w.db.objectStoreNames,I=0;I<D.length;++I){var N=D[I],K=w.objectStore(N);g._hasGetAll="getAll"in K;for(var ae=0;ae<K.indexNames.length;++ae){var be=K.indexNames[ae],we=K.index(be).keyPath,Ie=typeof we=="string"?we:"["+C(we).join("+")+"]";!v[N]||(we=v[N].idxByName[Ie])&&(we.name=be,delete v[N].idxByName[Ie],v[N].idxByName[be]=we)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&r.WorkerGlobalScope&&r instanceof r.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(g._hasGetAll=!1)}function ml(g){return g.split(",").map(function(v,w){var N=v.split(":"),D=(I=N[1])===null||I===void 0?void 0:I.trim(),I=(v=N[0].trim()).replace(/([&*]|\+\+)/g,""),N=/^\[/.test(I)?I.match(/^\[(.*)\]$/)[1].split("+"):I;return yd(I,N||null,/\&/.test(v),/\*/.test(v),/\+\+/.test(v),o(N),w===0,D)})}var Qf=(y.prototype._createTableSchema=gl,y.prototype._parseIndexSyntax=ml,y.prototype._parseStoresSpec=function(g,v){var w=this;i(g).forEach(function(D){if(g[D]!==null){var I=w._parseIndexSyntax(g[D]),N=I.shift();if(!N)throw new ue.Schema("Invalid schema for table "+D+": "+g[D]);if(N.unique=!0,N.multi)throw new ue.Schema("Primary key cannot be multiEntry*");I.forEach(function(K){if(K.auto)throw new ue.Schema("Only primary key can be marked as autoIncrement (++)");if(!K.keyPath)throw new ue.Schema("Index must have a name and cannot be an empty string")}),I=w._createTableSchema(D,N,I),v[D]=I}})},y.prototype.stores=function(w){var v=this.db;this._cfg.storesSource=this._cfg.storesSource?s(this._cfg.storesSource,w):w;var w=v._versions,D={},I={};return w.forEach(function(N){s(D,N._cfg.storesSource),I=N._cfg.dbschema={},N._parseStoresSpec(D,I)}),v._dbSchema=I,cc(v,[v._allTables,v,v.Transaction.prototype]),Qo(v,[v._allTables,v,v.Transaction.prototype,this._cfg.tables],i(I),I),v._storeNames=i(I),this},y.prototype.upgrade=function(g){return this._cfg.contentUpgrade=Ft(this._cfg.contentUpgrade||Re,g),this},y);function y(){}function T(g,v){var w=g._dbNamesDB;return w||(w=g._dbNamesDB=new ji(rc,{addons:[],indexedDB:g,IDBKeyRange:v})).version(1).stores({dbnames:"name"}),w.table("dbnames")}function te(g){return g&&typeof g.databases=="function"}function me(g){return uo(function(){return et.letThrough=!0,g()})}function Te(g){return!("from"in g)}var Ve=function(g,v){if(!this){var w=new Ve;return g&&"d"in g&&s(w,g),w}s(this,arguments.length?{d:1,from:g,to:1<arguments.length?v:g}:{d:0})};function Ke(g,v,w){var D=En(v,w);if(!isNaN(D)){if(0<D)throw RangeError();if(Te(g))return s(g,{from:v,to:w,d:1});var I=g.l,D=g.r;if(En(w,g.from)<0)return I?Ke(I,v,w):g.l={from:v,to:w,d:1,l:null,r:null},en(g);if(0<En(v,g.to))return D?Ke(D,v,w):g.r={from:v,to:w,d:1,l:null,r:null},en(g);En(v,g.from)<0&&(g.from=v,g.l=null,g.d=D?D.d+1:1),0<En(w,g.to)&&(g.to=w,g.r=null,g.d=g.l?g.l.d+1:1),w=!g.r,I&&!g.l&&wt(g,I),D&&w&&wt(g,D)}}function wt(g,v){Te(v)||(function w(D,be){var N=be.from,K=be.to,ae=be.l,be=be.r;Ke(D,N,K),ae&&w(D,ae),be&&w(D,be)})(g,v)}function At(g,v){var w=qt(v),D=w.next();if(D.done)return!1;for(var I=D.value,N=qt(g),K=N.next(I.from),ae=K.value;!D.done&&!K.done;){if(En(ae.from,I.to)<=0&&0<=En(ae.to,I.from))return!0;En(I.from,ae.from)<0?I=(D=w.next(ae.from)).value:ae=(K=N.next(I.from)).value}return!1}function qt(g){var v=Te(g)?null:{s:0,n:g};return{next:function(w){for(var D=0<arguments.length;v;)switch(v.s){case 0:if(v.s=1,D)for(;v.n.l&&En(w,v.n.from)<0;)v={up:v,n:v.n.l,s:1};else for(;v.n.l;)v={up:v,n:v.n.l,s:1};case 1:if(v.s=2,!D||En(w,v.n.to)<=0)return{value:v.n,done:!1};case 2:if(v.n.r){v.s=3,v={up:v,n:v.n.r,s:0};continue}case 3:v=v.up}return{done:!0}}}}function en(g){var v,w,D=(((v=g.r)===null||v===void 0?void 0:v.d)||0)-(((w=g.l)===null||w===void 0?void 0:w.d)||0),I=1<D?"r":D<-1?"l":"";I&&(v=I=="r"?"l":"r",w=e({},g),D=g[I],g.from=D.from,g.to=D.to,g[I]=D[I],w[I]=D[v],(g[v]=w).d=On(w)),g.d=On(g)}function On(w){var v=w.r,w=w.l;return(v?w?Math.max(v.d,w.d):v.d:w?w.d:0)+1}function yr(g,v){return i(v).forEach(function(w){g[w]?wt(g[w],v[w]):g[w]=(function D(I){var N,K,ae={};for(N in I)c(I,N)&&(K=I[N],ae[N]=!K||typeof K!="object"||H.has(K.constructor)?K:D(K));return ae})(v[w])}),g}function Hr(g,v){return g.all||v.all||Object.keys(g).some(function(w){return v[w]&&At(v[w],g[w])})}u(Ve.prototype,((Mr={add:function(g){return wt(this,g),this},addKey:function(g){return Ke(this,g,g),this},addKeys:function(g){var v=this;return g.forEach(function(w){return Ke(v,w,w)}),this},hasKey:function(g){var v=qt(this).next(g).value;return v&&En(v.from,g)<=0&&0<=En(v.to,g)}})[V]=function(){return qt(this)},Mr));var Hn={},Qr={},qr=!1;function ti(g){yr(Qr,g),qr||(qr=!0,setTimeout(function(){qr=!1,Es(Qr,!(Qr={}))},0))}function Es(g,v){v===void 0&&(v=!1);var w=new Set;if(g.all)for(var D=0,I=Object.values(Hn);D<I.length;D++)Jo(K=I[D],g,w,v);else for(var N in g){var K,ae=/^idb\:\/\/(.*)\/(.*)\//.exec(N);ae&&(N=ae[1],ae=ae[2],(K=Hn["idb://".concat(N,"/").concat(ae)])&&Jo(K,g,w,v))}w.forEach(function(be){return be()})}function Jo(g,v,w,D){for(var I=[],N=0,K=Object.entries(g.queries.query);N<K.length;N++){for(var ae=K[N],be=ae[0],we=[],Ie=0,ce=ae[1];Ie<ce.length;Ie++){var Ae=ce[Ie];Hr(v,Ae.obsSet)?Ae.subscribers.forEach(function(Se){return w.add(Se)}):D&&we.push(Ae)}D&&I.push([be,we])}if(D)for(var fe=0,ye=I;fe<ye.length;fe++){var _e=ye[fe],be=_e[0],we=_e[1];g.queries.query[be]=we}}function Oa(g){var v=g._state,w=g._deps.indexedDB;if(v.isBeingOpened||g.idbdb)return v.dbReadyPromise.then(function(){return v.dbOpenError?vr(v.dbOpenError):g});v.isBeingOpened=!0,v.dbOpenError=null,v.openComplete=!1;var D=v.openCanceller,I=Math.round(10*g.verno),N=!1;function K(){if(v.openCanceller!==D)throw new ue.DatabaseClosed("db.open() was cancelled")}function ae(){return new Xe(function(Ae,fe){if(K(),!w)throw new ue.MissingAPI;var ye=g.name,_e=v.autoSchema||!I?w.open(ye):w.open(ye,I);if(!_e)throw new ue.MissingAPI;_e.onerror=Ko(fe),_e.onblocked=zn(g._fireOnBlocked),_e.onupgradeneeded=zn(function(Se){var ke;Ie=_e.transaction,v.autoSchema&&!g._options.allowEmptyDB?(_e.onerror=Ht,Ie.abort(),_e.result.close(),(ke=w.deleteDatabase(ye)).onsuccess=ke.onerror=zn(function(){fe(new ue.NoSuchDatabase("Database ".concat(ye," doesnt exist")))})):(Ie.onerror=Ko(fe),Se=Se.oldVersion>Math.pow(2,62)?0:Se.oldVersion,ce=Se<1,g.idbdb=_e.result,N&&uc(g,Ie),wd(g,Se/10,Ie,fe))},fe),_e.onsuccess=zn(function(){Ie=null;var Se,ke,Le,ze,Ge,st=g.idbdb=_e.result,dt=C(st.objectStoreNames);if(0<dt.length)try{var ot=st.transaction((ze=dt).length===1?ze[0]:ze,"readonly");if(v.autoSchema)ke=st,Le=ot,(Se=g).verno=ke.version/10,Le=Se._dbSchema=Xo(0,ke,Le),Se._storeNames=C(ke.objectStoreNames,0),Qo(Se,[Se._allTables],i(Le),Le);else if(fc(g,g._dbSchema,ot),((Ge=dc(Xo(0,(Ge=g).idbdb,ot),Ge._dbSchema)).add.length||Ge.change.some(function(at){return at.add.length||at.change.length}))&&!N)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),st.close(),I=st.version+1,N=!0,Ae(ae());lc(g,ot)}catch(at){}ea.push(g),st.onversionchange=zn(function(at){v.vcFired=!0,g.on("versionchange").fire(at)}),st.onclose=zn(function(){g.close({disableAutoOpen:!1})}),ce&&(Ge=g._deps,ot=ye,st=Ge.indexedDB,Ge=Ge.IDBKeyRange,te(st)||ot===rc||T(st,Ge).put({name:ot}).catch(Re)),Ae()},fe)}).catch(function(Ae){switch(Ae?.name){case"UnknownError":if(0<v.PR1398_maxLoop)return v.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),ae();break;case"VersionError":if(0<I)return I=0,ae()}return Xe.reject(Ae)})}var be,we=v.dbReadyResolve,Ie=null,ce=!1;return Xe.race([D,(typeof navigator>"u"?Xe.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Ae){function fe(){return indexedDB.databases().finally(Ae)}be=setInterval(fe,100),fe()}).finally(function(){return clearInterval(be)}):Promise.resolve()).then(ae)]).then(function(){return K(),v.onReadyBeingFired=[],Xe.resolve(me(function(){return g.on.ready.fire(g.vip)})).then(function Ae(){if(0<v.onReadyBeingFired.length){var fe=v.onReadyBeingFired.reduce(Ft,Re);return v.onReadyBeingFired=[],Xe.resolve(me(function(){return fe(g.vip)})).then(Ae)}})}).finally(function(){v.openCanceller===D&&(v.onReadyBeingFired=null,v.isBeingOpened=!1)}).catch(function(Ae){v.dbOpenError=Ae;try{Ie&&Ie.abort()}catch(fe){}return D===v.openCanceller&&g._close(),vr(Ae)}).finally(function(){v.openComplete=!0,we()}).then(function(){var Ae;return ce&&(Ae={},g.tables.forEach(function(fe){fe.schema.indexes.forEach(function(ye){ye.name&&(Ae["idb://".concat(g.name,"/").concat(fe.name,"/").concat(ye.name)]=new Ve(-1/0,[[[]]]))}),Ae["idb://".concat(g.name,"/").concat(fe.name,"/")]=Ae["idb://".concat(g.name,"/").concat(fe.name,"/:dels")]=new Ve(-1/0,[[[]]])}),na(sc).fire(Ae),Es(Ae,!0)),g})}function hc(g){function v(N){return g.next(N)}var w=I(v),D=I(function(N){return g.throw(N)});function I(N){return function(be){var ae=N(be),be=ae.value;return ae.done?be:be&&typeof be.then=="function"?be.then(w,D):o(be)?Promise.all(be).then(w,D):w(be)}}return I(v)()}function Ra(g,v,w){for(var D=o(g)?g.slice():[g],I=0;I<w;++I)D.push(v);return D}var vl={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(g){return e(e({},g),{table:function(v){var w=g.table(v),D=w.schema,I={},N=[];function K(ce,Ae,fe){var ye=ac(ce),_e=I[ye]=I[ye]||[],Se=ce==null?0:typeof ce=="string"?1:ce.length,ke=0<Ae,ke=e(e({},fe),{name:ke?"".concat(ye,"(virtual-from:").concat(fe.name,")"):fe.name,lowLevelIndex:fe,isVirtual:ke,keyTail:Ae,keyLength:Se,extractKey:Na(ce),unique:!ke&&fe.unique});return _e.push(ke),ke.isPrimaryKey||N.push(ke),1<Se&&K(Se===2?ce[0]:ce.slice(0,Se-1),Ae+1,fe),_e.sort(function(Le,ze){return Le.keyTail-ze.keyTail}),ke}v=K(D.primaryKey.keyPath,0,D.primaryKey),I[":id"]=[v];for(var ae=0,be=D.indexes;ae<be.length;ae++){var we=be[ae];K(we.keyPath,0,we)}function Ie(ce){var Ae,fe=ce.query.index;return fe.isVirtual?e(e({},ce),{query:{index:fe.lowLevelIndex,range:(Ae=ce.query.range,fe=fe.keyTail,{type:Ae.type===1?2:Ae.type,lower:Ra(Ae.lower,Ae.lowerOpen?g.MAX_KEY:g.MIN_KEY,fe),lowerOpen:!0,upper:Ra(Ae.upper,Ae.upperOpen?g.MIN_KEY:g.MAX_KEY,fe),upperOpen:!0})}}):ce}return e(e({},w),{schema:e(e({},D),{primaryKey:v,indexes:N,getIndexByKeyPath:function(ce){return(ce=I[ac(ce)])&&ce[0]}}),count:function(ce){return w.count(Ie(ce))},query:function(ce){return w.query(Ie(ce))},openCursor:function(ce){var Ae=ce.query.index,fe=Ae.keyTail,ye=Ae.isVirtual,_e=Ae.keyLength;return ye?w.openCursor(Ie(ce)).then(function(ke){return ke&&Se(ke)}):w.openCursor(ce);function Se(ke){return Object.create(ke,{continue:{value:function(Le){Le!=null?ke.continue(Ra(Le,ce.reverse?g.MAX_KEY:g.MIN_KEY,fe)):ce.unique?ke.continue(ke.key.slice(0,_e).concat(ce.reverse?g.MIN_KEY:g.MAX_KEY,fe)):ke.continue()}},continuePrimaryKey:{value:function(Le,ze){ke.continuePrimaryKey(Ra(Le,g.MAX_KEY,fe),ze)}},primaryKey:{get:function(){return ke.primaryKey}},key:{get:function(){var Le=ke.key;return _e===1?Le[0]:Le.slice(0,_e)}},value:{get:function(){return ke.value}}})}}})}})}};function La(g,v,w,D){return w=w||{},D=D||"",i(g).forEach(function(I){var N,K,ae;c(v,I)?(N=g[I],K=v[I],typeof N=="object"&&typeof K=="object"&&N&&K?(ae=le(N))!==le(K)?w[D+I]=v[I]:ae==="Object"?La(N,K,w,D+I+"."):N!==K&&(w[D+I]=v[I]):N!==K&&(w[D+I]=v[I])):w[D+I]=void 0}),i(v).forEach(function(I){c(g,I)||(w[D+I]=v[I])}),w}function Fa(g,v){return v.type==="delete"?v.keys:v.keys||v.values.map(g.extractKey)}var yl={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(g){return e(e({},g),{table:function(v){var w=g.table(v),D=w.schema.primaryKey;return e(e({},w),{mutate:function(I){var N=et.trans,K=N.table(v).hook,ae=K.deleting,be=K.creating,we=K.updating;switch(I.type){case"add":if(be.fire===Re)break;return N._promise("readwrite",function(){return Ie(I)},!0);case"put":if(be.fire===Re&&we.fire===Re)break;return N._promise("readwrite",function(){return Ie(I)},!0);case"delete":if(ae.fire===Re)break;return N._promise("readwrite",function(){return Ie(I)},!0);case"deleteRange":if(ae.fire===Re)break;return N._promise("readwrite",function(){return(function ce(Ae,fe,ye){return w.query({trans:Ae,values:!1,query:{index:D,range:fe},limit:ye}).then(function(_e){var Se=_e.result;return Ie({type:"delete",keys:Se,trans:Ae}).then(function(ke){return 0<ke.numFailures?Promise.reject(ke.failures[0]):Se.length<ye?{failures:[],numFailures:0,lastResult:void 0}:ce(Ae,e(e({},fe),{lower:Se[Se.length-1],lowerOpen:!0}),ye)})})})(I.trans,I.range,1e4)},!0)}return w.mutate(I);function Ie(ce){var Ae,fe,ye,_e=et.trans,Se=ce.keys||Fa(D,ce);if(!Se)throw new Error("Keys missing");return(ce=ce.type==="add"||ce.type==="put"?e(e({},ce),{keys:Se}):e({},ce)).type!=="delete"&&(ce.values=t([],ce.values,!0)),ce.keys&&(ce.keys=t([],ce.keys,!0)),Ae=w,ye=Se,((fe=ce).type==="add"?Promise.resolve([]):Ae.getMany({trans:fe.trans,keys:ye,cache:"immutable"})).then(function(ke){var Le=Se.map(function(ze,Ge){var st,dt,ot,at=ke[Ge],ft={onerror:null,onsuccess:null};return ce.type==="delete"?ae.fire.call(ft,ze,at,_e):ce.type==="add"||at===void 0?(st=be.fire.call(ft,ze,ce.values[Ge],_e),ze==null&&st!=null&&(ce.keys[Ge]=ze=st,D.outbound||U(ce.values[Ge],D.keyPath,ze))):(st=La(at,ce.values[Ge]),(dt=we.fire.call(ft,st,ze,at,_e))&&(ot=ce.values[Ge],Object.keys(dt).forEach(function(ct){c(ot,ct)?ot[ct]=dt[ct]:U(ot,ct,dt[ct])}))),ft});return w.mutate(ce).then(function(ze){for(var Ge=ze.failures,st=ze.results,dt=ze.numFailures,ze=ze.lastResult,ot=0;ot<Se.length;++ot){var at=(st||Se)[ot],ft=Le[ot];at==null?ft.onerror&&ft.onerror(Ge[ot]):ft.onsuccess&&ft.onsuccess(ce.type==="put"&&ke[ot]?ce.values[ot]:at)}return{failures:Ge,results:st,numFailures:dt,lastResult:ze}}).catch(function(ze){return Le.forEach(function(Ge){return Ge.onerror&&Ge.onerror(ze)}),Promise.reject(ze)})})}}})}})}};function _i(g,v,w){try{if(!v||v.keys.length<g.length)return null;for(var D=[],I=0,N=0;I<v.keys.length&&N<g.length;++I)En(v.keys[I],g[N])===0&&(D.push(w?O(v.values[I]):v.values[I]),++N);return D.length===g.length?D:null}catch(K){return null}}var pc={stack:"dbcore",level:-1,create:function(g){return{table:function(v){var w=g.table(v);return e(e({},w),{getMany:function(D){if(!D.cache)return w.getMany(D);var I=_i(D.keys,D.trans._cache,D.cache==="clone");return I?Xe.resolve(I):w.getMany(D).then(function(N){return D.trans._cache={keys:D.keys,values:D.cache==="clone"?O(N):N},N})},mutate:function(D){return D.type!=="add"&&(D.trans._cache=null),w.mutate(D)}})}}}};function bl(g,v){return g.trans.mode==="readonly"&&!!g.subscr&&!g.trans.explicit&&g.trans.db._options.cache!=="disabled"&&!v.schema.primaryKey.outbound}function nu(g,v){switch(g){case"query":return v.values&&!v.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Cd={stack:"dbcore",level:0,name:"Observability",create:function(g){var v=g.schema.name,w=new Ve(g.MIN_KEY,g.MAX_KEY);return e(e({},g),{transaction:function(D,I,N){if(et.subscr&&I!=="readonly")throw new ue.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(et.querier));return g.transaction(D,I,N)},table:function(D){var I=g.table(D),N=I.schema,K=N.primaryKey,ce=N.indexes,ae=K.extractKey,be=K.outbound,we=K.autoIncrement&&ce.filter(function(fe){return fe.compound&&fe.keyPath.includes(K.keyPath)}),Ie=e(e({},I),{mutate:function(fe){function ye(ct){return ct="idb://".concat(v,"/").concat(D,"/").concat(ct),ze[ct]||(ze[ct]=new Ve)}var _e,Se,ke,Le=fe.trans,ze=fe.mutatedParts||(fe.mutatedParts={}),Ge=ye(""),st=ye(":dels"),dt=fe.type,ft=fe.type==="deleteRange"?[fe.range]:fe.type==="delete"?[fe.keys]:fe.values.length<50?[Fa(K,fe).filter(function(ct){return ct}),fe.values]:[],ot=ft[0],at=ft[1],ft=fe.trans._cache;return o(ot)?(Ge.addKeys(ot),(ft=dt==="delete"||ot.length===at.length?_i(ot,ft):null)||st.addKeys(ot),(ft||at)&&(_e=ye,Se=ft,ke=at,N.indexes.forEach(function(ct){var yt=_e(ct.name||"");function tn(gn){return gn!=null?ct.extractKey(gn):null}function ln(gn){return ct.multiEntry&&o(gn)?gn.forEach(function(po){return yt.addKey(po)}):yt.addKey(gn)}(Se||ke).forEach(function(gn,Ii){var Xt=Se&&tn(Se[Ii]),Ii=ke&&tn(ke[Ii]);En(Xt,Ii)!==0&&(Xt!=null&&ln(Xt),Ii!=null&&ln(Ii))})}))):ot?(at={from:(at=ot.lower)!==null&&at!==void 0?at:g.MIN_KEY,to:(at=ot.upper)!==null&&at!==void 0?at:g.MAX_KEY},st.add(at),Ge.add(at)):(Ge.add(w),st.add(w),N.indexes.forEach(function(ct){return ye(ct.name).add(w)})),I.mutate(fe).then(function(ct){return!ot||fe.type!=="add"&&fe.type!=="put"||(Ge.addKeys(ct.results),we&&we.forEach(function(yt){for(var tn=fe.values.map(function(Xt){return yt.extractKey(Xt)}),ln=yt.keyPath.findIndex(function(Xt){return Xt===K.keyPath}),gn=0,po=ct.results.length;gn<po;++gn)tn[gn][ln]=ct.results[gn];ye(yt.name).addKeys(tn)})),Le.mutatedParts=yr(Le.mutatedParts||{},ze),ct})}}),ce=function(ye){var _e=ye.query,ye=_e.index,_e=_e.range;return[ye,new Ve((ye=_e.lower)!==null&&ye!==void 0?ye:g.MIN_KEY,(_e=_e.upper)!==null&&_e!==void 0?_e:g.MAX_KEY)]},Ae={get:function(fe){return[K,new Ve(fe.key)]},getMany:function(fe){return[K,new Ve().addKeys(fe.keys)]},count:ce,query:ce,openCursor:ce};return i(Ae).forEach(function(fe){Ie[fe]=function(ye){var _e=et.subscr,Se=!!_e,ke=bl(et,I)&&nu(fe,ye)?ye.obsSet={}:_e;if(Se){var Le=function(at){return at="idb://".concat(v,"/").concat(D,"/").concat(at),ke[at]||(ke[at]=new Ve)},ze=Le(""),Ge=Le(":dels"),_e=Ae[fe](ye),Se=_e[0],_e=_e[1];if((fe==="query"&&Se.isPrimaryKey&&!ye.values?Ge:Le(Se.name||"")).add(_e),!Se.isPrimaryKey){if(fe!=="count"){var st=fe==="query"&&be&&ye.values&&I.query(e(e({},ye),{values:!1}));return I[fe].apply(this,arguments).then(function(at){if(fe==="query"){if(be&&ye.values)return st.then(function(tn){return tn=tn.result,ze.addKeys(tn),at});var ft=ye.values?at.result.map(ae):at.result;(ye.values?ze:Ge).addKeys(ft)}else if(fe==="openCursor"){var ct=at,yt=ye.values;return ct&&Object.create(ct,{key:{get:function(){return Ge.addKey(ct.primaryKey),ct.key}},primaryKey:{get:function(){var tn=ct.primaryKey;return Ge.addKey(tn),tn}},value:{get:function(){return yt&&ze.addKey(ct.primaryKey),ct.value}}})}return at})}Ge.add(w)}}return I[fe].apply(this,arguments)}}),Ie}})}};function Fi(g,v,w){if(w.numFailures===0)return v;if(v.type==="deleteRange")return null;var D=v.keys?v.keys.length:"values"in v&&v.values?v.values.length:1;return w.numFailures===D?null:(v=e({},v),o(v.keys)&&(v.keys=v.keys.filter(function(I,N){return!(N in w.failures)})),"values"in v&&o(v.values)&&(v.values=v.values.filter(function(I,N){return!(N in w.failures)})),v)}function Ds(g,v){return w=g,((D=v).lower===void 0||(D.lowerOpen?0<En(w,D.lower):0<=En(w,D.lower)))&&(g=g,(v=v).upper===void 0||(v.upperOpen?En(g,v.upper)<0:En(g,v.upper)<=0));var w,D}function gc(g,v,Ae,D,I,N){if(!Ae||Ae.length===0)return g;var K=v.query.index,ae=K.multiEntry,be=v.query.range,we=D.schema.primaryKey.extractKey,Ie=K.extractKey,ce=(K.lowLevelIndex||K).extractKey,Ae=Ae.reduce(function(fe,ye){var _e=fe,Se=[];if(ye.type==="add"||ye.type==="put")for(var ke=new Ve,Le=ye.values.length-1;0<=Le;--Le){var ze,Ge=ye.values[Le],st=we(Ge);ke.hasKey(st)||(ze=Ie(Ge),(ae&&o(ze)?ze.some(function(ct){return Ds(ct,be)}):Ds(ze,be))&&(ke.addKey(st),Se.push(Ge)))}switch(ye.type){case"add":var dt=new Ve().addKeys(v.values?fe.map(function(yt){return we(yt)}):fe),_e=fe.concat(v.values?Se.filter(function(yt){return yt=we(yt),!dt.hasKey(yt)&&(dt.addKey(yt),!0)}):Se.map(function(yt){return we(yt)}).filter(function(yt){return!dt.hasKey(yt)&&(dt.addKey(yt),!0)}));break;case"put":var ot=new Ve().addKeys(ye.values.map(function(yt){return we(yt)}));_e=fe.filter(function(yt){return!ot.hasKey(v.values?we(yt):yt)}).concat(v.values?Se:Se.map(function(yt){return we(yt)}));break;case"delete":var at=new Ve().addKeys(ye.keys);_e=fe.filter(function(yt){return!at.hasKey(v.values?we(yt):yt)});break;case"deleteRange":var ft=ye.range;_e=fe.filter(function(yt){return!Ds(we(yt),ft)})}return _e},g);return Ae===g?g:(Ae.sort(function(fe,ye){return En(ce(fe),ce(ye))||En(we(fe),we(ye))}),v.limit&&v.limit<1/0&&(Ae.length>v.limit?Ae.length=v.limit:g.length===v.limit&&Ae.length<v.limit&&(I.dirty=!0)),N?Object.freeze(Ae):Ae)}function Sd(g,v){return En(g.lower,v.lower)===0&&En(g.upper,v.upper)===0&&!!g.lowerOpen==!!v.lowerOpen&&!!g.upperOpen==!!v.upperOpen}function es(g,v){return(function(w,D,I,N){if(w===void 0)return D!==void 0?-1:0;if(D===void 0)return 1;if((D=En(w,D))===0){if(I&&N)return 0;if(I)return 1;if(N)return-1}return D})(g.lower,v.lower,g.lowerOpen,v.lowerOpen)<=0&&0<=(function(w,D,I,N){if(w===void 0)return D!==void 0?1:0;if(D===void 0)return-1;if((D=En(w,D))===0){if(I&&N)return 0;if(I)return-1;if(N)return 1}return D})(g.upper,v.upper,g.upperOpen,v.upperOpen)}function mc(g,v,w,D){g.subscribers.add(w),D.addEventListener("abort",function(){var I,N;g.subscribers.delete(w),g.subscribers.size===0&&(I=g,N=v,setTimeout(function(){I.subscribers.size===0&&xe(N,I)},3e3))})}var Ed={stack:"dbcore",level:0,name:"Cache",create:function(g){var v=g.schema.name;return e(e({},g),{transaction:function(w,D,I){var N,K,ae=g.transaction(w,D,I);return D==="readwrite"&&(K=(N=new AbortController).signal,I=function(be){return function(){if(N.abort(),D==="readwrite"){for(var we=new Set,Ie=0,ce=w;Ie<ce.length;Ie++){var Ae=ce[Ie],fe=Hn["idb://".concat(v,"/").concat(Ae)];if(fe){var ye=g.table(Ae),_e=fe.optimisticOps.filter(function(yt){return yt.trans===ae});if(ae._explicit&&be&&ae.mutatedParts)for(var Se=0,ke=Object.values(fe.queries.query);Se<ke.length;Se++)for(var Le=0,ze=(dt=ke[Se]).slice();Le<ze.length;Le++)Hr((ot=ze[Le]).obsSet,ae.mutatedParts)&&(xe(dt,ot),ot.subscribers.forEach(function(yt){return we.add(yt)}));else if(0<_e.length){fe.optimisticOps=fe.optimisticOps.filter(function(yt){return yt.trans!==ae});for(var Ge=0,st=Object.values(fe.queries.query);Ge<st.length;Ge++)for(var dt,ot,at,ft=0,ct=(dt=st[Ge]).slice();ft<ct.length;ft++)(ot=ct[ft]).res!=null&&ae.mutatedParts&&(be&&!ot.dirty?(at=Object.isFrozen(ot.res),at=gc(ot.res,ot.req,_e,ye,ot,at),ot.dirty?(xe(dt,ot),ot.subscribers.forEach(function(yt){return we.add(yt)})):at!==ot.res&&(ot.res=at,ot.promise=Xe.resolve({result:at}))):(ot.dirty&&xe(dt,ot),ot.subscribers.forEach(function(yt){return we.add(yt)})))}}}we.forEach(function(yt){return yt()})}}},ae.addEventListener("abort",I(!1),{signal:K}),ae.addEventListener("error",I(!1),{signal:K}),ae.addEventListener("complete",I(!0),{signal:K})),ae},table:function(w){var D=g.table(w),I=D.schema.primaryKey;return e(e({},D),{mutate:function(N){var K=et.trans;if(I.outbound||K.db._options.cache==="disabled"||K.explicit||K.idbtrans.mode!=="readwrite")return D.mutate(N);var ae=Hn["idb://".concat(v,"/").concat(w)];return ae?(K=D.mutate(N),N.type!=="add"&&N.type!=="put"||!(50<=N.values.length||Fa(I,N).some(function(be){return be==null}))?(ae.optimisticOps.push(N),N.mutatedParts&&ti(N.mutatedParts),K.then(function(be){0<be.numFailures&&(xe(ae.optimisticOps,N),(be=Fi(0,N,be))&&ae.optimisticOps.push(be),N.mutatedParts&&ti(N.mutatedParts))}),K.catch(function(){xe(ae.optimisticOps,N),N.mutatedParts&&ti(N.mutatedParts)})):K.then(function(be){var we=Fi(0,e(e({},N),{values:N.values.map(function(Ie,ce){var Ae;return be.failures[ce]?Ie:(Ie=(Ae=I.keyPath)!==null&&Ae!==void 0&&Ae.includes(".")?O(Ie):e({},Ie),U(Ie,I.keyPath,be.results[ce]),Ie)})}),be);ae.optimisticOps.push(we),queueMicrotask(function(){return N.mutatedParts&&ti(N.mutatedParts)})}),K):D.mutate(N)},query:function(N){if(!bl(et,D)||!nu("query",N))return D.query(N);var K=((we=et.trans)===null||we===void 0?void 0:we.db._options.cache)==="immutable",ce=et,ae=ce.requery,be=ce.signal,we=(function(ye,_e,Se,ke){var Le=Hn["idb://".concat(ye,"/").concat(_e)];if(!Le)return[];if(!(_e=Le.queries[Se]))return[null,!1,Le,null];var ze=_e[(ke.query?ke.query.index.name:null)||""];if(!ze)return[null,!1,Le,null];switch(Se){case"query":var Ge=ze.find(function(st){return st.req.limit===ke.limit&&st.req.values===ke.values&&Sd(st.req.query.range,ke.query.range)});return Ge?[Ge,!0,Le,ze]:[ze.find(function(st){return("limit"in st.req?st.req.limit:1/0)>=ke.limit&&(!ke.values||st.req.values)&&es(st.req.query.range,ke.query.range)}),!1,Le,ze];case"count":return Ge=ze.find(function(st){return Sd(st.req.query.range,ke.query.range)}),[Ge,!!Ge,Le,ze]}})(v,w,"query",N),Ie=we[0],ce=we[1],Ae=we[2],fe=we[3];return Ie&&ce?Ie.obsSet=N.obsSet:(ce=D.query(N).then(function(ye){var _e=ye.result;if(Ie&&(Ie.res=_e),K){for(var Se=0,ke=_e.length;Se<ke;++Se)Object.freeze(_e[Se]);Object.freeze(_e)}else ye.result=O(_e);return ye}).catch(function(ye){return fe&&Ie&&xe(fe,Ie),Promise.reject(ye)}),Ie={obsSet:N.obsSet,promise:ce,subscribers:new Set,type:"query",req:N,dirty:!1},fe?fe.push(Ie):(fe=[Ie],(Ae=Ae||(Hn["idb://".concat(v,"/").concat(w)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[N.query.index.name||""]=fe)),mc(Ie,fe,ae,be),Ie.promise.then(function(ye){return{result:gc(ye.result,N,Ae?.optimisticOps,D,Ie,K)}})}})}})}};function _l(g,v){return new Proxy(g,{get:function(w,D,I){return D==="db"?v:Reflect.get(w,D,I)}})}var ji=(ur.prototype.version=function(g){if(isNaN(g)||g<.1)throw new ue.Type("Given version is not a positive number");if(g=Math.round(10*g)/10,this.idbdb||this._state.isBeingOpened)throw new ue.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,g);var v=this._versions,w=v.filter(function(D){return D._cfg.version===g})[0];return w||(w=new this.Version(g),v.push(w),v.sort(eu),w.stores({}),this._state.autoSchema=!1,w)},ur.prototype._whenReady=function(g){var v=this;return this.idbdb&&(this._state.openComplete||et.letThrough||this._vip)?g():new Xe(function(w,D){if(v._state.openComplete)return D(new ue.DatabaseClosed(v._state.dbOpenError));if(!v._state.isBeingOpened){if(!v._state.autoOpen)return void D(new ue.DatabaseClosed);v.open().catch(Re)}v._state.dbReadyPromise.then(w,D)}).then(g)},ur.prototype.use=function(g){var v=g.stack,w=g.create,D=g.level,I=g.name;return I&&this.unuse({stack:v,name:I}),g=this._middlewares[v]||(this._middlewares[v]=[]),g.push({stack:v,create:w,level:D??10,name:I}),g.sort(function(N,K){return N.level-K.level}),this},ur.prototype.unuse=function(g){var v=g.stack,w=g.name,D=g.create;return v&&this._middlewares[v]&&(this._middlewares[v]=this._middlewares[v].filter(function(I){return D?I.create!==D:!!w&&I.name!==w})),this},ur.prototype.open=function(){var g=this;return Po(fn,function(){return Oa(g)})},ur.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var g=this._state,v=ea.indexOf(this);if(0<=v&&ea.splice(v,1),this.idbdb){try{this.idbdb.close()}catch(w){}this.idbdb=null}g.isBeingOpened||(g.dbReadyPromise=new Xe(function(w){g.dbReadyResolve=w}),g.openCanceller=new Xe(function(w,D){g.cancelOpen=D}))},ur.prototype.close=function(w){var v=(w===void 0?{disableAutoOpen:!0}:w).disableAutoOpen,w=this._state;v?(w.isBeingOpened&&w.cancelOpen(new ue.DatabaseClosed),this._close(),w.autoOpen=!1,w.dbOpenError=new ue.DatabaseClosed):(this._close(),w.autoOpen=this._options.autoOpen||w.isBeingOpened,w.openComplete=!1,w.dbOpenError=null)},ur.prototype.delete=function(g){var v=this;g===void 0&&(g={disableAutoOpen:!0});var w=0<arguments.length&&typeof arguments[0]!="object",D=this._state;return new Xe(function(I,N){function K(){v.close(g);var ae=v._deps.indexedDB.deleteDatabase(v.name);ae.onsuccess=zn(function(){var be,we,Ie;be=v._deps,we=v.name,Ie=be.indexedDB,be=be.IDBKeyRange,te(Ie)||we===rc||T(Ie,be).delete(we).catch(Re),I()}),ae.onerror=Ko(N),ae.onblocked=v._fireOnBlocked}if(w)throw new ue.InvalidArgument("Invalid closeOptions argument to db.delete()");D.isBeingOpened?D.dbReadyPromise.then(K):K()})},ur.prototype.backendDB=function(){return this.idbdb},ur.prototype.isOpen=function(){return this.idbdb!==null},ur.prototype.hasBeenClosed=function(){var g=this._state.dbOpenError;return g&&g.name==="DatabaseClosed"},ur.prototype.hasFailed=function(){return this._state.dbOpenError!==null},ur.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(ur.prototype,"tables",{get:function(){var g=this;return i(this._allTables).map(function(v){return g._allTables[v]})},enumerable:!1,configurable:!0}),ur.prototype.transaction=function(){var g=function(v,w,D){var I=arguments.length;if(I<2)throw new ue.InvalidArgument("Too few arguments");for(var N=new Array(I-1);--I;)N[I-1]=arguments[I];return D=N.pop(),[v,Y(N),D]}.apply(this,arguments);return this._transaction.apply(this,g)},ur.prototype._transaction=function(g,v,w){var D=this,I=et.trans;I&&I.db===this&&g.indexOf("!")===-1||(I=null);var N,K,ae=g.indexOf("?")!==-1;g=g.replace("!","").replace("?","");try{if(K=v.map(function(we){if(we=we instanceof D.Table?we.name:we,typeof we!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return we}),g=="r"||g===Zc)N=Zc;else{if(g!="rw"&&g!=ho)throw new ue.InvalidArgument("Invalid transaction mode: "+g);N=ho}if(I){if(I.mode===Zc&&N===ho){if(!ae)throw new ue.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");I=null}I&&K.forEach(function(we){if(I&&I.storeNames.indexOf(we)===-1){if(!ae)throw new ue.SubTransaction("Table "+we+" not included in parent transaction.");I=null}}),ae&&I&&!I.active&&(I=null)}}catch(we){return I?I._promise(null,function(Ie,ce){ce(we)}):vr(we)}var be=function we(Ie,ce,Ae,fe,ye){return Xe.resolve().then(function(){var _e=et.transless||et,Se=Ie._createTransaction(ce,Ae,Ie._dbSchema,fe);if(Se.explicit=!0,_e={trans:Se,transless:_e},fe)Se.idbtrans=fe.idbtrans;else try{Se.create(),Se.idbtrans._explicit=!0,Ie._state.PR1398_maxLoop=3}catch(ze){return ze.name===de.InvalidState&&Ie.isOpen()&&0<--Ie._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Ie.close({disableAutoOpen:!1}),Ie.open().then(function(){return we(Ie,ce,Ae,null,ye)})):vr(ze)}var ke,Le=ie(ye);return Le&&Mo(),_e=Xe.follow(function(){var ze;(ke=ye.call(Se,Se))&&(Le?(ze=mi.bind(null,null),ke.then(ze,ze)):typeof ke.next=="function"&&typeof ke.throw=="function"&&(ke=hc(ke)))},_e),(ke&&typeof ke.then=="function"?Xe.resolve(ke).then(function(ze){return Se.active?ze:vr(new ue.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):_e.then(function(){return ke})).then(function(ze){return fe&&Se._resolve(),Se._completion.then(function(){return ze})}).catch(function(ze){return Se._reject(ze),vr(ze)})})}.bind(null,this,N,K,I,w);return I?I._promise(N,be,"lock"):et.trans?Po(et.transless,function(){return D._whenReady(be)}):this._whenReady(be)},ur.prototype.table=function(g){if(!c(this._allTables,g))throw new ue.InvalidTable("Table ".concat(g," does not exist"));return this._allTables[g]},ur);function ur(g,v){var w=this;this._middlewares={},this.verno=0;var D=ur.dependencies;this._options=v=e({addons:ur.addons,autoOpen:!0,indexedDB:D.indexedDB,IDBKeyRange:D.IDBKeyRange,cache:"cloned"},v),this._deps={indexedDB:v.indexedDB,IDBKeyRange:v.IDBKeyRange},D=v.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var I,N,K,ae,be,we={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Re,dbReadyPromise:null,cancelOpen:Re,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:v.autoOpen};we.dbReadyPromise=new Xe(function(ce){we.dbReadyResolve=ce}),we.openCanceller=new Xe(function(ce,Ae){we.cancelOpen=Ae}),this._state=we,this.name=g,this.on=fl(this,"populate","blocked","versionchange","close",{ready:[Ft,Re]}),this.once=function(ce,Ae){var fe=function(){for(var ye=[],_e=0;_e<arguments.length;_e++)ye[_e]=arguments[_e];w.on(ce).unsubscribe(fe),Ae.apply(w,ye)};return w.on(ce,fe)},this.on.ready.subscribe=S(this.on.ready.subscribe,function(ce){return function(Ae,fe){ur.vip(function(){var ye,_e=w._state;_e.openComplete?(_e.dbOpenError||Xe.resolve().then(Ae),fe&&ce(Ae)):_e.onReadyBeingFired?(_e.onReadyBeingFired.push(Ae),fe&&ce(Ae)):(ce(Ae),ye=w,fe||ce(function Se(){ye.on.ready.unsubscribe(Ae),ye.on.ready.unsubscribe(Se)}))})}}),this.Collection=(I=this,Li(Wf.prototype,function(ke,Se){this.db=I;var fe=fd,ye=null;if(Se)try{fe=Se()}catch(Le){ye=Le}var _e=ke._ctx,Se=_e.table,ke=Se.hook.reading.fire;this._ctx={table:Se,index:_e.index,isPrimKey:!_e.index||Se.schema.primKey.keyPath&&_e.index===Se.schema.primKey.name,range:fe,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:ye,or:_e.or,valueMapper:ke!==Je?ke:null}})),this.Table=(N=this,Li(Cs.prototype,function(ce,Ae,fe){this.db=N,this._tx=fe,this.name=ce,this.schema=Ae,this.hook=N._allTables[ce]?N._allTables[ce].hook:fl(null,{creating:[Lt,Re],reading:[vt,Je],updating:[mt,Re],deleting:[J,Re]})})),this.Transaction=(K=this,Li(Ma.prototype,function(ce,Ae,fe,ye,_e){var Se=this;ce!=="readonly"&&Ae.forEach(function(ke){ke=(ke=fe[ke])===null||ke===void 0?void 0:ke.yProps,ke&&(Ae=Ae.concat(ke.map(function(Le){return Le.updatesTable})))}),this.db=K,this.mode=ce,this.storeNames=Ae,this.schema=fe,this.chromeTransactionDurability=ye,this.idbtrans=null,this.on=fl(this,"complete","error","abort"),this.parent=_e||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Xe(function(ke,Le){Se._resolve=ke,Se._reject=Le}),this._completion.then(function(){Se.active=!1,Se.on.complete.fire()},function(ke){var Le=Se.active;return Se.active=!1,Se.on.error.fire(ke),Se.parent?Se.parent._reject(ke):Le&&Se.idbtrans&&Se.idbtrans.abort(),vr(ke)})})),this.Version=(ae=this,Li(Qf.prototype,function(ce){this.db=ae,this._cfg={version:ce,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(be=this,Li(pl.prototype,function(ce,Ae,fe){if(this.db=be,this._ctx={table:ce,index:Ae===":id"?null:Ae,or:fe},this._cmp=this._ascending=En,this._descending=function(ye,_e){return En(_e,ye)},this._max=function(ye,_e){return 0<En(ye,_e)?ye:_e},this._min=function(ye,_e){return En(ye,_e)<0?ye:_e},this._IDBKeyRange=be._deps.IDBKeyRange,!this._IDBKeyRange)throw new ue.MissingAPI})),this.on("versionchange",function(ce){0<ce.newVersion?console.warn("Another connection wants to upgrade database '".concat(w.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(w.name,"'. Closing db now to resume the delete request.")),w.close({disableAutoOpen:!1})}),this.on("blocked",function(ce){!ce.newVersion||ce.newVersion<ce.oldVersion?console.warn("Dexie.delete('".concat(w.name,"') was blocked")):console.warn("Upgrade '".concat(w.name,"' blocked by other connection holding version ").concat(ce.oldVersion/10))}),this._maxKey=ka(v.IDBKeyRange),this._createTransaction=function(ce,Ae,fe,ye){return new w.Transaction(ce,Ae,fe,w._options.chromeTransactionDurability,ye)},this._fireOnBlocked=function(ce){w.on("blocked").fire(ce),ea.filter(function(Ae){return Ae.name===w.name&&Ae!==w&&!Ae._state.vcFired}).map(function(Ae){return Ae.on("versionchange").fire(ce)})},this.use(pc),this.use(Ed),this.use(Cd),this.use(vl),this.use(yl);var Ie=new Proxy(this,{get:function(ce,Ae,fe){if(Ae==="_vip")return!0;if(Ae==="table")return function(_e){return _l(w.table(_e),Ie)};var ye=Reflect.get(ce,Ae,fe);return ye instanceof Cs?_l(ye,Ie):Ae==="tables"?ye.map(function(_e){return _l(_e,Ie)}):Ae==="_createTransaction"?function(){return _l(ye.apply(this,arguments),Ie)}:ye}});this.vip=Ie,D.forEach(function(ce){return ce(w)})}var Bi,Mr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",wl=(Is.prototype.subscribe=function(g,v,w){return this._subscribe(g&&typeof g!="function"?g:{next:g,error:v,complete:w})},Is.prototype[Mr]=function(){return this},Is);function Is(g){this._subscribe=g}try{Bi={indexedDB:r.indexedDB||r.mozIndexedDB||r.webkitIndexedDB||r.msIndexedDB,IDBKeyRange:r.IDBKeyRange||r.webkitIDBKeyRange}}catch(g){Bi={indexedDB:null,IDBKeyRange:null}}function ja(g){var v,w=!1,D=new wl(function(I){var N=ie(g),K,ae=!1,be={},we={},Ie={get closed(){return ae},unsubscribe:function(){ae||(ae=!0,K&&K.abort(),ce&&na.storagemutated.unsubscribe(fe))}};I.start&&I.start(Ie);var ce=!1,Ae=function(){return Aa(ye)},fe=function(_e){yr(be,_e),Hr(we,be)&&Ae()},ye=function(){var _e,Se,ke;!ae&&Bi.indexedDB&&(be={},_e={},K&&K.abort(),K=new AbortController,ke=(function(Le){var ze=Gr();try{N&&Mo();var Ge=uo(g,Le);return Ge=N?Ge.finally(mi):Ge}finally{ze&&co()}})(Se={subscr:_e,signal:K.signal,requery:Ae,querier:g,trans:null}),Promise.resolve(ke).then(function(Le){w=!0,v=Le,ae||Se.signal.aborted||(be={},(function(ze){for(var Ge in ze)if(c(ze,Ge))return;return 1})(we=_e)||ce||(na(sc,fe),ce=!0),Aa(function(){return!ae&&I.next&&I.next(Le)}))},function(Le){w=!1,["DatabaseClosedError","AbortError"].includes(Le?.name)||ae||Aa(function(){ae||I.error&&I.error(Le)})}))};return setTimeout(Ae,0),Ie});return D.hasValue=function(){return w},D.getValue=function(){return v},D}var As=ji;function xl(g){var v=Ts;try{Ts=!0,na.storagemutated.fire(g),Es(g,!0)}finally{Ts=v}}u(As,e(e({},Be),{delete:function(g){return new As(g,{addons:[]}).delete()},exists:function(g){return new As(g,{addons:[]}).open().then(function(v){return v.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(g){try{return v=As.dependencies,w=v.indexedDB,v=v.IDBKeyRange,(te(w)?Promise.resolve(w.databases()).then(function(D){return D.map(function(I){return I.name}).filter(function(I){return I!==rc})}):T(w,v).toCollection().primaryKeys()).then(g)}catch(D){return vr(new ue.MissingAPI)}var v,w},defineClass:function(){return function(g){s(this,g)}},ignoreTransaction:function(g){return et.trans?Po(et.transless,g):g()},vip:me,async:function(g){return function(){try{var v=hc(g.apply(this,arguments));return v&&typeof v.then=="function"?v:Xe.resolve(v)}catch(w){return vr(w)}}},spawn:function(g,v,w){try{var D=hc(g.apply(w,v||[]));return D&&typeof D.then=="function"?D:Xe.resolve(D)}catch(I){return vr(I)}},currentTransaction:{get:function(){return et.trans||null}},waitFor:function(g,v){return v=Xe.resolve(typeof g=="function"?As.ignoreTransaction(g):g).timeout(v||6e4),et.trans?et.trans.waitFor(v):v},Promise:Xe,debug:{get:function(){return Qe},set:function(g){Vt(g)}},derive:f,extend:s,props:u,override:S,Events:fl,on:na,liveQuery:ja,extendObservabilitySet:yr,getByKeyPath:P,setByKeyPath:U,delByKeyPath:function(g,v){typeof v=="string"?U(g,v,void 0):"length"in v&&[].map.call(v,function(w){U(g,w,void 0)})},shallowClone:se,deepClone:O,getObjectDiff:La,cmp:En,asap:F,minKey:-1/0,addons:[],connections:ea,errnames:de,dependencies:Bi,cache:Hn,semVer:"4.2.1",version:"4.2.1".split(".").map(function(g){return parseInt(g)}).reduce(function(g,v,w){return g+v/Math.pow(10,2*w)})})),As.maxKey=ka(As.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(na(sc,function(g){Ts||(g=new CustomEvent(vd,{detail:g}),Ts=!0,dispatchEvent(g),Ts=!1)}),addEventListener(vd,function(g){g=g.detail,Ts||xl(g)}));var br,Ts=!1,Ms=function(){};return typeof BroadcastChannel<"u"&&((Ms=function(){(br=new BroadcastChannel(vd)).onmessage=function(g){return g.data&&xl(g.data)}})(),typeof br.unref=="function"&&br.unref(),na(sc,function(g){Ts||br.postMessage(g)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(g){if(!ji.disableBfCache&&g.persisted){Qe&&console.debug("Dexie: handling persisted pagehide"),br?.close();for(var v=0,w=ea;v<w.length;v++)w[v].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(g){!ji.disableBfCache&&g.persisted&&(Qe&&console.debug("Dexie: handling persisted pageshow"),Ms(),xl({all:new Ve(-1/0,[[]])}))})),Xe.rejectionMapper=function(g,v){return!g||g instanceof Ee||g instanceof TypeError||g instanceof SyntaxError||!g.name||!je[g.name]?g:(v=new je[g.name](v||g.message,g),"stack"in g&&p(v,"stack",{get:function(){return this.inner.stack}}),v)},Vt(Qe),e(ji,Object.freeze({__proto__:null,Dexie:ji,liveQuery:ja,Entity:hd,cmp:En,PropModification:ic,replacePrefix:function(g,v){return new ic({replacePrefix:[g,v]})},add:function(g){return new ic({add:g})},remove:function(g){return new ic({remove:g})},default:ji,RangeSet:Ve,mergeRanges:wt,rangesOverlap:At}),{default:ji}),ji})});var W6=Br((C5e,kI)=>{"use strict";var MI=(function(n){"use strict";var e=Object.prototype,t=e.hasOwnProperty,r=Object.defineProperty||function(oe,Z,ie){oe[Z]=ie.value},i,o=typeof Symbol=="function"?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(oe,Z,ie){return Object.defineProperty(oe,Z,{value:ie,enumerable:!0,configurable:!0,writable:!0}),oe[Z]}try{c({},"")}catch(oe){c=function(Z,ie,Me){return Z[ie]=Me}}function u(oe,Z,ie,Me){var Ee=Z&&Z.prototype instanceof S?Z:S,k=Object.create(Ee.prototype),W=new V(Me||[]);return r(k,"_invoke",{value:pe(oe,ie,W)}),k}n.wrap=u;function d(oe,Z,ie){try{return{type:"normal",arg:oe.call(Z,ie)}}catch(Me){return{type:"throw",arg:Me}}}var p="suspendedStart",f="suspendedYield",b="executing",_="completed",C={};function S(){}function A(){}function F(){}var P={};c(P,s,function(){return this});var U=Object.getPrototypeOf,se=U&&U(U(Q([])));se&&se!==e&&t.call(se,s)&&(P=se);var he=F.prototype=S.prototype=Object.create(P);A.prototype=F,r(he,"constructor",{value:F,configurable:!0}),r(F,"constructor",{value:A,configurable:!0}),A.displayName=c(F,l,"GeneratorFunction");function Y(oe){["next","throw","return"].forEach(function(Z){c(oe,Z,function(ie){return this._invoke(Z,ie)})})}n.isGeneratorFunction=function(oe){var Z=typeof oe=="function"&&oe.constructor;return Z?Z===A||(Z.displayName||Z.name)==="GeneratorFunction":!1},n.mark=function(oe){return Object.setPrototypeOf?Object.setPrototypeOf(oe,F):(oe.__proto__=F,c(oe,l,"GeneratorFunction")),oe.prototype=Object.create(he),oe},n.awrap=function(oe){return{__await:oe}};function H(oe,Z){function ie(k,W,X,de){var ve=d(oe[k],oe,W);if(ve.type==="throw")de(ve.arg);else{var ue=ve.arg,je=ue.value;return je&&typeof je=="object"&&t.call(je,"__await")?Z.resolve(je.__await).then(function(Be){ie("next",Be,X,de)},function(Be){ie("throw",Be,X,de)}):Z.resolve(je).then(function(Be){ue.value=Be,X(ue)},function(Be){return ie("throw",Be,X,de)})}}var Me;function Ee(k,W){function X(){return new Z(function(de,ve){ie(k,W,de,ve)})}return Me=Me?Me.then(X,X):X()}r(this,"_invoke",{value:Ee})}Y(H.prototype),c(H.prototype,a,function(){return this}),n.AsyncIterator=H,n.async=function(oe,Z,ie,Me,Ee){Ee===void 0&&(Ee=Promise);var k=new H(u(oe,Z,ie,Me),Ee);return n.isGeneratorFunction(Z)?k:k.next().then(function(W){return W.done?W.value:k.next()})};function pe(oe,Z,ie){var Me=p;return function(k,W){if(Me===b)throw new Error("Generator is already running");if(Me===_){if(k==="throw")throw W;return xe()}for(ie.method=k,ie.arg=W;;){var X=ie.delegate;if(X){var de=O(X,ie);if(de){if(de===C)continue;return de}}if(ie.method==="next")ie.sent=ie._sent=ie.arg;else if(ie.method==="throw"){if(Me===p)throw Me=_,ie.arg;ie.dispatchException(ie.arg)}else ie.method==="return"&&ie.abrupt("return",ie.arg);Me=b;var ve=d(oe,Z,ie);if(ve.type==="normal"){if(Me=ie.done?_:f,ve.arg===C)continue;return{value:ve.arg,done:ie.done}}else ve.type==="throw"&&(Me=_,ie.method="throw",ie.arg=ve.arg)}}}function O(oe,Z){var ie=Z.method,Me=oe.iterator[ie];if(Me===i)return Z.delegate=null,ie==="throw"&&oe.iterator.return&&(Z.method="return",Z.arg=i,O(oe,Z),Z.method==="throw")||ie!=="return"&&(Z.method="throw",Z.arg=new TypeError("The iterator does not provide a '"+ie+"' method")),C;var Ee=d(Me,oe.iterator,Z.arg);if(Ee.type==="throw")return Z.method="throw",Z.arg=Ee.arg,Z.delegate=null,C;var k=Ee.arg;if(!k)return Z.method="throw",Z.arg=new TypeError("iterator result is not an object"),Z.delegate=null,C;if(k.done)Z[oe.resultName]=k.value,Z.next=oe.nextLoc,Z.method!=="return"&&(Z.method="next",Z.arg=i);else return k;return Z.delegate=null,C}Y(he),c(he,l,"Generator"),c(he,s,function(){return this}),c(he,"toString",function(){return"[object Generator]"});function $(oe){var Z={tryLoc:oe[0]};1 in oe&&(Z.catchLoc=oe[1]),2 in oe&&(Z.finallyLoc=oe[2],Z.afterLoc=oe[3]),this.tryEntries.push(Z)}function le(oe){var Z=oe.completion||{};Z.type="normal",delete Z.arg,oe.completion=Z}function V(oe){this.tryEntries=[{tryLoc:"root"}],oe.forEach($,this),this.reset(!0)}n.keys=function(oe){var Z=Object(oe),ie=[];for(var Me in Z)ie.push(Me);return ie.reverse(),function Ee(){for(;ie.length;){var k=ie.pop();if(k in Z)return Ee.value=k,Ee.done=!1,Ee}return Ee.done=!0,Ee}};function Q(oe){if(oe){var Z=oe[s];if(Z)return Z.call(oe);if(typeof oe.next=="function")return oe;if(!isNaN(oe.length)){var ie=-1,Me=function Ee(){for(;++ie<oe.length;)if(t.call(oe,ie))return Ee.value=oe[ie],Ee.done=!1,Ee;return Ee.value=i,Ee.done=!0,Ee};return Me.next=Me}}return{next:xe}}n.values=Q;function xe(){return{value:i,done:!0}}return V.prototype={constructor:V,reset:function(oe){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(le),!oe)for(var Z in this)Z.charAt(0)==="t"&&t.call(this,Z)&&!isNaN(+Z.slice(1))&&(this[Z]=i)},stop:function(){this.done=!0;var oe=this.tryEntries[0],Z=oe.completion;if(Z.type==="throw")throw Z.arg;return this.rval},dispatchException:function(oe){if(this.done)throw oe;var Z=this;function ie(de,ve){return k.type="throw",k.arg=oe,Z.next=de,ve&&(Z.method="next",Z.arg=i),!!ve}for(var Me=this.tryEntries.length-1;Me>=0;--Me){var Ee=this.tryEntries[Me],k=Ee.completion;if(Ee.tryLoc==="root")return ie("end");if(Ee.tryLoc<=this.prev){var W=t.call(Ee,"catchLoc"),X=t.call(Ee,"finallyLoc");if(W&&X){if(this.prev<Ee.catchLoc)return ie(Ee.catchLoc,!0);if(this.prev<Ee.finallyLoc)return ie(Ee.finallyLoc)}else if(W){if(this.prev<Ee.catchLoc)return ie(Ee.catchLoc,!0)}else if(X){if(this.prev<Ee.finallyLoc)return ie(Ee.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(oe,Z){for(var ie=this.tryEntries.length-1;ie>=0;--ie){var Me=this.tryEntries[ie];if(Me.tryLoc<=this.prev&&t.call(Me,"finallyLoc")&&this.prev<Me.finallyLoc){var Ee=Me;break}}Ee&&(oe==="break"||oe==="continue")&&Ee.tryLoc<=Z&&Z<=Ee.finallyLoc&&(Ee=null);var k=Ee?Ee.completion:{};return k.type=oe,k.arg=Z,Ee?(this.method="next",this.next=Ee.finallyLoc,C):this.complete(k)},complete:function(oe,Z){if(oe.type==="throw")throw oe.arg;return oe.type==="break"||oe.type==="continue"?this.next=oe.arg:oe.type==="return"?(this.rval=this.arg=oe.arg,this.method="return",this.next="end"):oe.type==="normal"&&Z&&(this.next=Z),C},finish:function(oe){for(var Z=this.tryEntries.length-1;Z>=0;--Z){var ie=this.tryEntries[Z];if(ie.finallyLoc===oe)return this.complete(ie.completion,ie.afterLoc),le(ie),C}},catch:function(oe){for(var Z=this.tryEntries.length-1;Z>=0;--Z){var ie=this.tryEntries[Z];if(ie.tryLoc===oe){var Me=ie.completion;if(Me.type==="throw"){var Ee=Me.arg;le(ie)}return Ee}}throw new Error("illegal catch attempt")},delegateYield:function(oe,Z,ie){return this.delegate={iterator:Q(oe),resultName:Z,nextLoc:ie},this.method==="next"&&(this.arg=i),C}},n})(typeof kI=="object"?kI.exports:{});try{regeneratorRuntime=MI}catch(n){typeof globalThis=="object"?globalThis.regeneratorRuntime=MI:Function("r","regeneratorRuntime = r")(MI)}});var A_=Br((S5e,G6)=>{"use strict";G6.exports=(n,e)=>`${n}-${e}-${Math.random().toString(16).slice(3,8)}`});var NI=Br((E5e,K6)=>{"use strict";var boe=A_(),Y6=0;K6.exports=({id:n,action:e,payload:t={}})=>{let r=n;return typeof r>"u"&&(r=boe("Job",Y6),Y6+=1),{id:r,action:e,payload:t}}});var T_=Br(E0=>{"use strict";var PI=!1;E0.logging=PI;E0.setLogging=n=>{PI=n};E0.log=(...n)=>PI?console.log.apply(E0,n):null});var X6=Br((Fp,Z6)=>{"use strict";var _oe=NI(),{log:M_}=T_(),woe=A_(),Q6=0;Z6.exports=()=>{let n=woe("Scheduler",Q6),e={},t={},r=[];Q6+=1;let i=()=>r.length,o=()=>Object.keys(e).length,s=()=>{if(r.length!==0){let d=Object.keys(e);for(let p=0;p<d.length;p+=1)if(typeof t[d[p]]>"u"){r[0](e[d[p]]);break}}},a=(d,p)=>new Promise((f,b)=>{let _=_oe({action:d,payload:p});r.push(C=>L(Fp,null,function*(){r.shift(),t[C.id]=_;try{f(yield C[d].apply(Fp,[...p,_.id]))}catch(S){b(S)}finally{delete t[C.id],s()}})),M_(`[${n}]: Add ${_.id} to JobQueue`),M_(`[${n}]: JobQueue length=${r.length}`),s()});return{addWorker:d=>(e[d.id]=d,M_(`[${n}]: Add ${d.id}`),M_(`[${n}]: Number of workers=${o()}`),s(),d.id),addJob:(d,...p)=>L(Fp,null,function*(){if(o()===0)throw Error(`[${n}]: You need to have at least one worker before adding jobs`);return a(d,p)}),terminate:()=>L(Fp,null,function*(){Object.keys(e).forEach(d=>L(Fp,null,function*(){yield e[d].terminate()})),r=[]}),getQueueLen:i,getNumWorkers:o}}});var e8=Br((A5e,J6)=>{"use strict";J6.exports=n=>{let e={};return typeof WorkerGlobalScope<"u"?e.type="webworker":typeof document=="object"?e.type="browser":typeof process=="object"&&typeof e5=="function"&&(e.type="node"),typeof n>"u"?e:e[n]}});var n8=Br((M5e,t8)=>{"use strict";var xoe=e8()("type")==="browser",Coe=xoe?n=>new URL(n,window.location.href).href:n=>n;t8.exports=n=>{let e=Fe({},n);return["corePath","workerPath","langPath"].forEach(t=>{n[t]&&(e[t]=Coe(e[t]))}),e}});var OI=Br((N5e,r8)=>{"use strict";r8.exports={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}});var i8=Br((P5e,Soe)=>{Soe.exports={name:"tesseract.js",version:"7.0.0",description:"Pure Javascript Multilingual OCR",main:"src/index.js",type:"commonjs",types:"src/index.d.ts",unpkg:"dist/tesseract.min.js",jsdelivr:"dist/tesseract.min.js",scripts:{start:"node scripts/server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js && rollup -c scripts/rollup.esm.mjs","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json",prepublishOnly:"npm run build",wait:"rimraf dist && wait-on http://localhost:3000/dist/tesseract.min.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser test:node:all","test:browser":"karma start karma.conf.js","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.mjs","test:node:all":"npm run test:node -- ./tests/*.test.mjs",lint:"eslint src","lint:fix":"eslint --fix src",postinstall:"opencollective-postinstall || true"},browser:{"./src/worker/node/index.js":"./src/worker/browser/index.js"},author:"",contributors:["jeromewu"],license:"Apache-2.0",devDependencies:{"@babel/core":"^7.21.4","@babel/eslint-parser":"^7.21.3","@babel/preset-env":"^7.21.4","@rollup/plugin-commonjs":"^24.1.0",acorn:"^8.8.2","babel-loader":"^9.1.2",buffer:"^6.0.3",cors:"^2.8.5",eslint:"^7.32.0","eslint-config-airbnb-base":"^14.2.1","eslint-plugin-import":"^2.27.5","expect.js":"^0.3.1",express:"^4.18.2",mocha:"^10.2.0","npm-run-all":"^4.1.5",karma:"^6.4.2","karma-chrome-launcher":"^3.2.0","karma-firefox-launcher":"^2.1.2","karma-mocha":"^2.0.1","karma-webpack":"^5.0.0",nyc:"^15.1.0",rimraf:"^5.0.0",rollup:"^3.20.7","wait-on":"^7.0.1",webpack:"^5.79.0","webpack-bundle-analyzer":"^4.8.0","webpack-cli":"^5.0.1","webpack-dev-middleware":"^6.0.2","rollup-plugin-sourcemaps":"^0.6.3"},dependencies:{"bmp-js":"^0.1.0","idb-keyval":"^6.2.0","is-url":"^1.2.4","node-fetch":"^2.6.9","opencollective-postinstall":"^2.0.3","regenerator-runtime":"^0.13.3","tesseract.js-core":"^7.0.0","wasm-feature-detect":"^1.8.0",zlibjs:"^0.3.1"},overrides:{"@rollup/pluginutils":"^5.0.2"},repository:{type:"git",url:"https://github.com/naptha/tesseract.js.git"},bugs:{url:"https://github.com/naptha/tesseract.js/issues"},homepage:"https://github.com/naptha/tesseract.js",collective:{type:"opencollective",url:"https://opencollective.com/tesseractjs"}}});var s8=Br((O5e,o8)=>{"use strict";o8.exports={workerBlobURL:!0,logger:()=>{}}});var l8=Br((R5e,a8)=>{"use strict";var Eoe=i8().version,Doe=s8();a8.exports=kt(Fe({},Doe),{workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${Eoe}/dist/worker.min.js`})});var u8=Br((F5e,c8)=>{"use strict";c8.exports=({workerPath:n,workerBlobURL:e})=>{let t;if(Blob&&URL&&e){let r=new Blob([`importScripts("${n}");`],{type:"application/javascript"});t=new Worker(URL.createObjectURL(r))}else t=new Worker(n);return t}});var f8=Br((j5e,d8)=>{"use strict";d8.exports=n=>{n.terminate()}});var p8=Br((B5e,h8)=>{"use strict";h8.exports=(n,e)=>{n.onmessage=({data:t})=>{e(t)}}});var v8=Br((g8,m8)=>{"use strict";m8.exports=(n,e)=>L(null,null,function*(){n.postMessage(e)})});var b8=Br((FI,y8)=>{"use strict";var RI=n=>new Promise((e,t)=>{let r=new FileReader;r.onload=()=>{e(r.result)},r.onerror=({target:{error:{code:i}}})=>{t(Error(`File could not be read! Code=${i}`))},r.readAsArrayBuffer(n)}),LI=n=>L(null,null,function*(){let e=n;if(typeof n>"u")return"undefined";if(typeof n=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(n)?e=atob(n.split(",")[1]).split("").map(t=>t.charCodeAt(0)):e=yield(yield fetch(n)).arrayBuffer();else if(typeof HTMLElement<"u"&&n instanceof HTMLElement)n.tagName==="IMG"&&(e=yield LI(n.src)),n.tagName==="VIDEO"&&(e=yield LI(n.poster)),n.tagName==="CANVAS"&&(yield new Promise(t=>{n.toBlob(r=>L(null,null,function*(){e=yield RI(r),t()}))}));else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas){let t=yield n.convertToBlob();e=yield RI(t)}else(n instanceof File||n instanceof Blob)&&(e=yield RI(n));return new Uint8Array(e)});y8.exports=LI});var w8=Br((z5e,_8)=>{"use strict";var Ioe=l8(),Aoe=u8(),Toe=f8(),Moe=p8(),koe=v8(),Noe=b8();_8.exports={defaultOptions:Ioe,spawnWorker:Aoe,terminateWorker:Toe,onMessage:Moe,send:koe,loadImage:Noe}});var jI=Br((D0,E8)=>{"use strict";var Poe=n8(),ec=NI(),{log:x8}=T_(),Ooe=A_(),Vf=OI(),{defaultOptions:Roe,spawnWorker:Loe,terminateWorker:Foe,onMessage:joe,loadImage:C8,send:Boe}=w8(),S8=0;E8.exports=(...i)=>L(null,[...i],function*(n="eng",e=Vf.LSTM_ONLY,t={},r={}){let o=Ooe("Worker",S8),Z=Poe(Fe(Fe({},Roe),t)),{logger:s,errorHandler:a}=Z,l=ng(Z,["logger","errorHandler"]),c={},u=typeof n=="string"?n.split("+"):n,d=e,p=r,f=[Vf.DEFAULT,Vf.LSTM_ONLY].includes(e)&&!l.legacyCore,b,_,C=new Promise((ie,Me)=>{_=ie,b=Me}),S=ie=>{b(ie.message)},A=Loe(l);A.onerror=S,S8+=1;let F=({id:ie,action:Me,payload:Ee})=>new Promise((k,W)=>{x8(`[${o}]: Start ${ie}, action=${Me}`);let X=`${Me}-${ie}`;c[X]={resolve:k,reject:W},Boe(A,{workerId:o,jobId:ie,action:Me,payload:Ee})}),P=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),U=ie=>F(ec({id:ie,action:"load",payload:{options:{lstmOnly:f,corePath:l.corePath,logging:l.logging}}})),se=(ie,Me,Ee)=>F(ec({id:Ee,action:"FS",payload:{method:"writeFile",args:[ie,Me]}})),he=(ie,Me)=>F(ec({id:Me,action:"FS",payload:{method:"readFile",args:[ie,{encoding:"utf8"}]}})),Y=(ie,Me)=>F(ec({id:Me,action:"FS",payload:{method:"unlink",args:[ie]}})),H=(ie,Me,Ee)=>F(ec({id:Ee,action:"FS",payload:{method:ie,args:Me}})),pe=(ie,Me)=>F(ec({id:Me,action:"loadLanguage",payload:{langs:ie,options:{langPath:l.langPath,dataPath:l.dataPath,cachePath:l.cachePath,cacheMethod:l.cacheMethod,gzip:l.gzip,lstmOnly:[Vf.DEFAULT,Vf.LSTM_ONLY].includes(d)&&!l.legacyLang}}})),O=(ie,Me,Ee,k)=>F(ec({id:k,action:"initialize",payload:{langs:ie,oem:Me,config:Ee}})),$=(ie="eng",Me,Ee,k)=>{if(f&&[Vf.TESSERACT_ONLY,Vf.TESSERACT_LSTM_COMBINED].includes(Me))throw Error("Legacy model requested but code missing.");let W=Me||d;d=W;let X=Ee||p;p=X;let ve=(typeof ie=="string"?ie.split("+"):ie).filter(ue=>!u.includes(ue));return u.push(...ve),ve.length>0?pe(ve,k).then(()=>O(ie,W,X,k)):O(ie,W,X,k)},le=(ie={},Me)=>F(ec({id:Me,action:"setParameters",payload:{params:ie}})),V=(W,...X)=>L(null,[W,...X],function*(ie,Me={},Ee={text:!0},k){return F(ec({id:k,action:"recognize",payload:{image:yield C8(ie),options:Me,output:Ee}}))}),Q=(ie,Me)=>L(null,null,function*(){if(f)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return F(ec({id:Me,action:"detect",payload:{image:yield C8(ie)}}))}),xe=()=>L(null,null,function*(){return A!==null&&(Foe(A),A=null),Promise.resolve()});joe(A,({workerId:ie,jobId:Me,status:Ee,action:k,data:W})=>{let X=`${k}-${Me}`;if(Ee==="resolve")x8(`[${ie}]: Complete ${Me}`),c[X].resolve({jobId:Me,data:W}),delete c[X];else if(Ee==="reject")if(c[X].reject(W),delete c[X],k==="load"&&b(W),a)a(W);else throw Error(W);else Ee==="progress"&&s(kt(Fe({},W),{userJobId:Me}))});let oe={id:o,worker:A,load:P,writeText:se,readText:he,removeFile:Y,FS:H,reinitialize:$,setParameters:le,recognize:V,detect:Q,terminate:xe};return U().then(()=>pe(n)).then(()=>O(n,e,r)).then(()=>_(oe)).catch(()=>{}),C})});var A8=Br((I0,I8)=>{"use strict";var D8=jI(),Voe=(n,e,t)=>L(null,null,function*(){let r=yield D8(e,1,t);return r.recognize(n).finally(()=>L(null,null,function*(){yield r.terminate()}))}),Uoe=(n,e)=>L(null,null,function*(){let t=yield D8("osd",0,e);return t.detect(n).finally(()=>L(null,null,function*(){yield t.terminate()}))});I8.exports={recognize:Voe,detect:Uoe}});var M8=Br(($5e,T8)=>{"use strict";T8.exports={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}});var N8=Br((W5e,k8)=>{"use strict";k8.exports={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}});var O8=Br((G5e,P8)=>{"use strict";W6();var zoe=X6(),Hoe=jI(),qoe=A8(),$oe=M8(),Woe=OI(),Goe=N8(),{setLogging:Yoe}=T_();P8.exports=Fe({languages:$oe,OEM:Woe,PSM:Goe,createScheduler:zoe,createWorker:Hoe,setLogging:Yoe},qoe)});var L8=Br((K5e,R8)=>{"use strict";var BI=class{#e;constructor(e=[]){this.#e=[new Map(e)]}get size(){return this.#e.reduce((e,t)=>e+t.size,0)}clear(){this.#e=[new Map]}delete(e){return this.#e.some(t=>t.delete(e))}get(e){for(let t of this.#e)if(t.has(e))return t.get(e)}has(e){return this.#e.some(t=>t.has(e))}set(e,t){let r=this.#e[0];for(let i of this.#e)if(i.has(e)){r=i;break}return!r.has(e)&&r.size>=8388608&&(this.#e.unshift(new Map),r=this.#e[0]),r.set(e,t),this}*[Symbol.iterator](){for(let e of this.#e)yield*rg(e)}*keys(){for(let e of this.#e)yield*rg(e.keys())}*values(){for(let e of this.#e)yield*rg(e.values())}*entries(){for(let e of this.#e)yield*rg(e.entries())}forEach(e,t){for(let[r,i]of this)e.call(t,i,r,this)}};R8.exports=BI});var B8=Br((Z5e,j8)=>{"use strict";var lr=L8();function F8(n,e){let t=n.toLowerCase(),r=e.toLowerCase();if(r==="")return!1;if(r.indexOf("*")===-1&&r.indexOf("?")===-1&&r.indexOf("[")===-1&&r.indexOf("{")===-1)return t===r;let i=r,o=i.match(/\{([^}]+)\}/);if(o)return o[1].split(",").map(u=>i.replace(o[0],u.trim())).some(u=>F8(n,u));let s="",a=0;for(;a<i.length;){let l=i[a];if(l==="*")s+=".*";else if(l==="?")s+=".";else if(l==="["){let c=a+1,u="[";for(;c<i.length&&i[c]!=="]";)u+=i[c],c++;c<i.length?(u+="]",s+=u,a=c):s+="\\["}else/[.+^${}()|\\]/.test(l)?s+="\\"+l:s+=l;a++}try{return new RegExp("^"+s+"$","i").test(n)}catch(l){return t===r}}var Koe=20,VI=class{constructor(e={}){typeof e=="string"&&(e={dbName:e}),this.store=new lr,this.expireTimes=new lr,this.db=null,this.dbName=e.dbName,this.dbVersion=e.dbVersion||1,this.isIndexedDBAvailable=!1,this.isInitialized=!1,this.initPromise=null,this.storeSet=(t,r)=>{this.store.set(t,r),this._initCleanupLoop(Koe),this.isIndexedDBAvailable&&this.db&&this._persistToIndexedDB(t,r)},this._initIndexedDB()}_initIndexedDB(){typeof window<"u"&&window.indexedDB&&this.dbName?(this.isIndexedDBAvailable=!0,this.initPromise=this._setupIndexedDB()):this.isInitialized=!0}_setupIndexedDB(){return L(this,null,function*(){try{this.db=yield this._openDatabase(),yield this._loadFromIndexedDB(),this.isInitialized=!0}catch(e){console.warn("Failed to initialize IndexedDB:",e),this.isIndexedDBAvailable=!1,this.isInitialized=!0}})}_openDatabase(){return new Promise((e,t)=>{let r=indexedDB.open(this.dbName,this.dbVersion);r.onerror=()=>t(r.error),r.onsuccess=()=>e(r.result),r.onupgradeneeded=i=>{let o=i.target.result;o.objectStoreNames.contains("store")||o.createObjectStore("store",{keyPath:"key"}),o.objectStoreNames.contains("expireTimes")||o.createObjectStore("expireTimes",{keyPath:"key"})}})}_loadFromIndexedDB(){return L(this,null,function*(){if(this.db)try{let e=this.db.transaction(["store","expireTimes"],"readonly"),t=e.objectStore("store"),r=e.objectStore("expireTimes"),i=t.getAll(),o=r.getAll(),[s,a]=yield Promise.all([new Promise((c,u)=>{i.onsuccess=()=>c(i.result),i.onerror=()=>u(i.error)}),new Promise((c,u)=>{o.onsuccess=()=>c(o.result),o.onerror=()=>u(o.error)})]);s.forEach(c=>{this.store.set(c.key,c.value)}),a.forEach(c=>{this.expireTimes.set(c.key,c.expireTime)});let l=Date.now();for(let[c,u]of this.expireTimes.entries())l>u&&(this.store.delete(c),this.expireTimes.delete(c),this._removeFromIndexedDB(c))}catch(e){console.warn("Failed to load data from IndexedDB:",e)}})}_persistToIndexedDB(e,t){return L(this,null,function*(){if(this.db)try{this.db.transaction(["store"],"readwrite").objectStore("store").put({key:e,value:t})}catch(r){console.warn("Failed to persist to IndexedDB:",r)}})}_persistExpirationToIndexedDB(e,t){return L(this,null,function*(){if(this.db)try{let i=this.db.transaction(["expireTimes"],"readwrite").objectStore("expireTimes");t!==void 0?i.put({key:e,expireTime:t}):i.delete(e)}catch(r){console.warn("Failed to persist expiration to IndexedDB:",r)}})}_removeFromIndexedDB(e){return L(this,null,function*(){if(this.db)try{let t=this.db.transaction(["store","expireTimes"],"readwrite"),r=t.objectStore("store"),i=t.objectStore("expireTimes");r.delete(e),i.delete(e)}catch(t){console.warn("Failed to remove from IndexedDB:",t)}})}waitForInitialization(){return L(this,null,function*(){this.isInitialized||this.initPromise&&(yield this.initPromise)})}set(e,t,r={}){let{NX:i=!1,XX:o=!1,GET:s=!1,EX:a=void 0,PX:l=void 0,EXAT:c=void 0,PXAT:u=void 0,KEEPTTL:d=!1}=r,p=i,f=o,b=s,_=a?parseInt(a,10):void 0,C=l?parseInt(l,10):void 0,S=c?parseInt(c,10):void 0,A=u?parseInt(u,10):void 0,F=d,P=this.store.has(e);if(f&&!P||p&&P)return;let U;if(b&&P&&(U=this.store.get(e)),this.storeSet(e,t),_!==void 0||C!==void 0||S!==void 0||A!==void 0||F){let se;_!==void 0?se=Date.now()+_*1e3:C!==void 0?se=Date.now()+C:S!==void 0?se=S*1e3:A!==void 0?se=A:F&&P&&(se=this.expireTimes.get(e)),se!==void 0&&(this.expireTimes.set(e,se),this.isIndexedDBAvailable&&this.db&&this._persistExpirationToIndexedDB(e,se))}else this.expireTimes.delete(e),this.isIndexedDBAvailable&&this.db&&this._persistExpirationToIndexedDB(e,void 0);return b?U:!0}get(e){if(!this._checkAndRemoveExpiredKey(e))return this.store.get(e)}del(...e){let t=0;for(let r of e)this._checkAndRemoveExpiredKey(r)||this.store.delete(r)&&(this.expireTimes.delete(r),this.isIndexedDBAvailable&&this.db&&this._removeFromIndexedDB(r),t++);return t}exists(...e){let t=0;for(let r of e)this._checkAndRemoveExpiredKey(r)||this.store.has(r)&&t++;return t}incr(e){return this.incrby(e,1)}incrby(e,t){let r=this.store.get(e);if(r===void 0)r=0;else if(!Number.isInteger(Number(r)))throw new Error("ERR value is not an integer");let i=Number(r)+t;return this.storeSet(e,i.toString()),i}decr(e){try{return this.decrby(e,1)}catch(t){throw t}}decrby(e,t){let r=this.store.get(e);if(r===void 0)r=0;else if(!Number.isInteger(Number(r)))throw new Error("ERR value is not an integer");let i=Number(r)-t;return this.storeSet(e,i.toString()),i}expire(e,t,r={}){if(!this.store.has(e))return 0;let{NX:i=!1,XX:o=!1,GT:s=!1,LT:a=!1}=r,l=Date.now(),c=this.expireTimes.get(e);return i&&c!==void 0||o&&c===void 0||s&&(c===void 0||c<=l+t*1e3)||a&&(c===void 0||c>=l+t*1e3)?0:(this.expireTimes.set(e,l+t*1e3),1)}keys(e){let t=[];for(let[r,i]of this.store.entries())if(F8(r,e)){let o=this.expireTimes.get(r);(o===void 0||o>Date.now())&&t.push(r)}return t}mget(...e){return e.map(t=>this.get(t))}mset(...e){if(e.length%2!==0)throw new Error("MSET requires an even number of arguments");for(let t=0;t<e.length;t+=2)this.set(e[t],e[t+1]);return!0}renamenx(e,t){if(!this.store.has(e)||this.store.has(t))return 0;let r=this.store.get(e);if(this.store.delete(e),this.storeSet(t,r),this.expireTimes.has(e)){let i=this.expireTimes.get(e);this.expireTimes.delete(e),this.expireTimes.set(t,i)}return 1}randomkey(){let e=Array.from(this.store.keys());if(e.length===0)return;let t=Math.floor(Math.random()*e.length);return e[t]}expireat(e,t,r={}){if(typeof t!="number"||isNaN(t))throw new Error("ERR invalid expire time in SETEX");if(!this.store.has(e))return 0;let{NX:i=!1,XX:o=!1,GT:s=!1,LT:a=!1}=r,l=Date.now(),c=t*1e3-l;if(c<=0)return this.store.delete(e),this.expireTimes.delete(e),0;let u=this.pttl(e);return o&&u===-1||i&&u!==-1||s&&u!==-1&&c<=u||a&&u!==-1&&c>=u?0:this.pexpire(e,c)}pexpire(e,t,r={}){let{NX:i=!1,XX:o=!1,GT:s=!1,LT:a=!1}=r;if(i&&this.store.has(e)||o&&!this.store.has(e))return 0;if(s||a){let l=this.pttl(e);if(s&&l>=t||a&&l<=t)return 0}return this.expireTimes.set(e,Date.now()+t),1}pexpireat(e,t){let r=t-Date.now();return r<=0?(this.store.delete(e),this.expireTimes.delete(e),0):this.pexpire(e,r)}pttl(e){if(!this.store.has(e))return-2;if(!this.expireTimes.has(e))return-1;let t=this.expireTimes.get(e)-Date.now();return t>0?t:-2}ttl(e){if(!this.store.has(e))return-2;if(!this.expireTimes.has(e))return-1;let t=Math.floor((this.expireTimes.get(e)-Date.now())/1e3);return t>0?t:-2}persist(e){return!this.store.has(e)||!this.expireTimes.has(e)?0:(this.expireTimes.delete(e),this.isIndexedDBAvailable&&this.db&&this._persistExpirationToIndexedDB(e,void 0),1)}getrange(e,t,r){let i=this.get(e);return typeof i!="string"?"":i.slice(t,r+1)}getset(e,t){let r=this.get(e);return this.set(e,t),r}setex(e,t,r){if(this.store.has(e))return this.set(e,t),this.expire(e,r),!0}setrange(e,t,r){if(typeof t!="number"||t<0)throw new Error("Invalid offset value");if(typeof r!="string")throw new Error("Value must be a string");let i=this.get(e);(i===void 0||i===void 0)&&(i="");let o=i.slice(0,t),s=i.slice(t+r.length),a=o+r+s;return this.set(e,a),a.length}strlen(e){let t=this.get(e);return t===void 0?0:t.length}msetnx(...e){if(e.length%2!==0)throw new Error("MSETNX requires an even number of arguments");for(let t=0;t<e.length;t+=2)if(this.store.has(e[t]))return 0;for(let t=0;t<e.length;t+=2)this.set(e[t],e[t+1]);return 1}incrbyfloat(e,t){let r=this.store.get(e);if(r===void 0)r=0;else if(isNaN(parseFloat(r)))throw new Error("ERR value is not a valid float");let i=parseFloat(r)+t;return this.storeSet(e,i.toString()),i}append(e,t){let r=this.get(e),i=r===void 0?t:r+t;return this.set(e,i),i.length}getbit(e,t){let r=this.get(e);if(r===void 0||t>=r.length*8)return 0;let i=Math.floor(t/8),o=7-t%8;return r.charCodeAt(i)>>o&1}setbit(e,t,r){if(r!==0&&r!==1)throw new Error("ERR bit is not an integer or out of range");let i=this.get(e);i===void 0&&(i="");let o=Math.floor(t/8),s=7-t%8;for(;o>=i.length;)i+="\0";let a=i.charCodeAt(o),l=a>>s&1,c=a&~(1<<s)|r<<s,u=String.fromCharCode(c),d=i.slice(0,o),p=i.slice(o+1),f=d+u+p;return this.set(e,f),l}copy(e,t){let r=this.get(e);return r===void 0?0:(this.set(t,r),1)}rename(e,t){if(!this.store.has(e))throw new Error("ERR no such key");if(e===t)return!0;let r=this.store.get(e),i=this.expireTimes.get(e);return this.storeSet(t,r),this.store.delete(e),i!==void 0&&(this.expireTimes.set(t,i),this.expireTimes.delete(e)),!0}type(e){return this.store.has(e)?typeof this.store.get(e):"none"}sadd(e,...t){this.store.has(e)||this.storeSet(e,new Set);let r=this.store.get(e);if(!(r instanceof Set))throw new Error("ERR Operation against a key holding the wrong kind of value");let i=0;for(let o of t)r.has(o)||(r.add(o),i++);return i}scard(e){let t=this.store.get(e);if(t===void 0)return 0;if(!(t instanceof Set))throw new Error("ERR Operation against a key holding the wrong kind of value");return t.size}sdiff(e,...t){let r=this.store.get(e)||new Set;if(!(r instanceof Set))throw new Error("ERR Operation against a key holding the wrong kind of value");let i=new Set(r);for(let o of t){let s=this.store.get(o)||new Set;if(!(s instanceof Set))throw new Error("ERR Operation against a key holding the wrong kind of value");for(let a of s)i.delete(a)}return Array.from(i)}sdiffstore(e,t,...r){let i=this.sdiff(t,...r),o=new Set(i);return this.storeSet(e,o),o.size}sinter(...e){if(e.length===0)return[];let t=e.map(i=>{let o=this.store.get(i);if(o===void 0)return new Set;if(!(o instanceof Set))throw new Error("ERR Operation against a key holding the wrong kind of value");return o}),r=new Set(t[0]);for(let i=1;i<t.length;i++)for(let o of r)t[i].has(o)||r.delete(o);return Array.from(r)}sintercard(...e){return this.sinter(...e).length}sinterstore(e,...t){let r=this.sinter(...t),i=new Set(r);return this.storeSet(e,i),i.size}sismember(e,t){let r=this.store.get(e);if(r===void 0)return!1;if(!(r instanceof Set))throw new Error("ERR Operation against a key holding the wrong kind of value");return!!r.has(t)}smembers(e){let t=this.store.get(e);if(t===void 0)return[];if(!(t instanceof Set))throw new Error("ERR Operation against a key holding the wrong kind of value");return Array.from(t)}smismember(e,...t){let r=this.store.get(e)||new Set;if(!(r instanceof Set))throw new Error("ERR Operation against a key holding the wrong kind of value");return t.map(i=>r.has(i)?1:0)}smove(e,t,r){let i=this.store.get(e);if(i===void 0||!i.has(r))return 0;if(!(i instanceof Set))throw new Error("ERR Operation against a key holding the wrong kind of value");let o=this.store.get(t)||new Set;if(!(o instanceof Set))throw new Error("ERR Operation against a key holding the wrong kind of value");return i.delete(r),o.add(r),this.storeSet(t,o),1}spop(e,t=1){let r=this.store.get(e);if(r===void 0)return[];if(!(r instanceof Set))throw new Error("ERR Operation against a key holding the wrong kind of value");let i=[];for(let o of r){if(i.length>=t)break;i.push(o),r.delete(o)}return i}srandmember(e,t=1){let r=this.store.get(e);if(r===void 0)return[];if(!(r instanceof Set))throw new Error("ERR Operation against a key holding the wrong kind of value");let i=Array.from(r),o=[];for(let s=0;s<t&&s<i.length;s++){let a=Math.floor(Math.random()*i.length);o.push(i[a]),i.splice(a,1)}return o}srem(e,...t){let r=this.store.get(e);if(r===void 0)return 0;if(!(r instanceof Set))throw new Error("ERR Operation against a key holding the wrong kind of value");let i=0;for(let o of t)r.delete(o)&&i++;return i}sscan(e,t,r={}){let{match:i="*",count:o=10}=r,s=this.store.get(e);if(s===void 0)return[0,[]];if(!(s instanceof Set))throw new Error("ERR Operation against a key holding the wrong kind of value");let a=new RegExp(i.replace("*",".*")),l=Array.from(s),c=[],u=t;for(let d=t;d<l.length&&c.length<o;d++)a.test(l[d])&&c.push(l[d]),u=d+1;return[u>=l.length?0:u,c]}sunion(...e){let t=new Set;for(let r of e){let i=this.store.get(r)||new Set;if(!(i instanceof Set))throw new Error("ERR Operation against a key holding the wrong kind of value");for(let o of i)t.add(o)}return Array.from(t)}sunionstore(e,...t){let r=new Set;for(let i of t){let o=this.store.get(i)||new Set;if(!(o instanceof Set))throw new Error("ERR Operation against a key holding the wrong kind of value");for(let s of o)r.add(s)}return this.storeSet(e,r),r.size}lset(e,t,r){let i=this.store.get(e);if(i===void 0)throw new Error("ERR no such key");if(!Array.isArray(i))throw new Error("ERR Operation against a key holding the wrong kind of value");if(t<0||t>=i.length)throw new Error("ERR index out of range");return i[t]=r,!0}ltrim(e,t,r){let i=this.store.get(e);if(i===void 0)return!0;if(!Array.isArray(i))throw new Error("ERR Operation against a key holding the wrong kind of value");let o=i.length,s=t>=0?t:Math.max(o+t,0),a=r>=0?r:Math.max(o+r,-1),l=i.slice(s,a+1);return this.storeSet(e,l),!0}rpop(e){let t=this.store.get(e);return t===void 0||!Array.isArray(t)?null:t.pop()}rpoplpush(e,t){let r=this.rpop(e);return r===void 0?null:(this.lpush(t,r),r)}rpush(e,...t){let r=this.store.get(e);if(r===void 0)r=[],this.storeSet(e,r);else if(!Array.isArray(r))throw new Error("ERR Operation against a key holding the wrong kind of value");return r.push(...t),r.length}rpushx(e,t){let r=this.store.get(e);return r===void 0||!Array.isArray(r)?0:(r.push(t),r.length)}lpush(e,...t){let r=this.store.get(e);if(r===void 0)r=[],this.storeSet(e,r);else if(!Array.isArray(r))throw new Error("ERR Operation against a key holding the wrong kind of value");return r.unshift(...t),r.length}lpushx(e,...t){let r=this.store.get(e);return r===void 0||!Array.isArray(r)?0:(r.unshift(...t),r.length)}lrange(e,t,r){let i=this.store.get(e);if(i===void 0||!Array.isArray(i))return[];let o=i.length,s=t>=0?t:Math.max(o+t,0),a=r>=0?r:Math.max(o+r,-1);return i.slice(s,a+1)}lrem(e,t,r){let i=this.store.get(e);if(i===void 0||!Array.isArray(i))return 0;let o=0;if(t>0)for(let s=0;s<i.length&&o<t;s++)i[s]===r&&(i.splice(s,1),o++,s--);else if(t<0)for(let s=i.length-1;s>=0&&o<-t;s--)i[s]===r&&(i.splice(s,1),o++);else o=i.filter(s=>s===r).length,this.storeSet(e,i.filter(s=>s!==r));return o}lmove(e,t,r,i){let o=r==="LEFT"?"lpop":"rpop",s=i==="LEFT"?"lpush":"rpush",a=this[o](e);return a===void 0?null:(this[s](t,a),a)}lmpop(e,t,r){let i=r==="LEFT"?"lpop":"rpop",o=[];for(let s=0;s<e;s++){let a=this[i](t);if(a===void 0)break;o.push(a)}return o}lpop(e){let t=this.store.get(e);return t===void 0||!Array.isArray(t)?null:t.shift()}lpos(e,t,r={}){let{rank:i=0,start:o=0,stop:s=-1}=r,a=this.store.get(e);if(a===void 0||!Array.isArray(a))return;let l=0,c=a.length,u=o>=0?o:Math.max(c+o,0),d=s>=0?s:Math.max(c+s,-1);for(let p=u;p<=d;p++)if(a[p]===t){if(l===i)return p;l++}}brpoplpush(e,t,r){let i=this.brpop(e,r);return i===void 0?null:(this.lpush(t,i),i)}lindex(e,t){let r=this.store.get(e);return r===void 0||!Array.isArray(r)?null:(t<0&&(t=r.length+t),r[t]!==void 0?r[t]:null)}linsert(e,t,r,i){let o=this.store.get(e);if(o===void 0)return 0;if(!Array.isArray(o))throw new Error("ERR Operation against a key holding the wrong kind of value");let s=o.indexOf(r);if(s===-1)return 0;if(t==="BEFORE")o.splice(s,0,i);else if(t==="AFTER")o.splice(s+1,0,i);else throw new Error("ERR syntax error");return o.length}llen(e){let t=this.store.get(e);return t===void 0?0:t.length}blmove(e,t,r,i,o){let s=r==="LEFT"?"blpop":"brpop",a=i==="LEFT"?"lpush":"rpush",l=this[s]([e],o);return l===void 0?null:(this[a](t,l[1]),l[1])}blmpop(e,t,...r){let i=[],o=t*1e3,s=r.length===1?"brpop":"brpoplpush",a=r.concat(o);for(let l=0;l<e;l++){let c=this[s](a);if(c===void 0)break;i.push(c)}return i}blpop(e,...t){return this.blmpop(1,e,...t)[0]}brpop(e,...t){let r=e*1e3,i=Date.now()+r;for(;Date.now()<i;)for(let o=0;o<t.length;o++){let s=t[o],a=this.store.get(s);if(a!==void 0&&Array.isArray(a)&&a.length>0){let l=a.pop();return a.length===0&&this.store.delete(s),[s,l]}}return null}expiretime(e){return this.expireTimes.get(e)}pexpiretime(e){let t=this.expireTimes.get(e);return t?t*1e3:null}zadd(e,t,r){return this._checkAndRemoveExpiredKey(e)?0:(this.store.has(e)||this.storeSet(e,new lr),this.store.get(e).set(r,Number(t)),1)}zcard(e){return this._checkAndRemoveExpiredKey(e)||!this.store.has(e)?0:this.store.get(e).size}zcount(e,t,r){if(this._checkAndRemoveExpiredKey(e)||!this.store.has(e))return 0;let o=this.store.get(e),s=0;for(let a of o.values())a>=t&&a<=r&&s++;return s}zdiff(...e){if(e.length===0)return new Set;let t=e.map(i=>this._checkAndRemoveExpiredKey(i)?new lr:this.store.get(i)||new lr),r=new Set(t[0].keys());for(let i=1;i<t.length;i++)for(let o of t[i].keys())r.delete(o);return r}zdiffstore(e,...t){let r=this.ZDIFF(...t),i=new lr;for(let o of r){let s=t.map(a=>{let l=this.store.get(a);return l?l.get(o):void 0}).filter(a=>a!==void 0);s.length>0&&i.set(o,Math.min(...s))}return this.storeSet(e,i),i.size}bzmpop(e,...t){let r=[];for(let i of t){let o=this.store.get(i);if(o&&o.size>0){let s=Array.from(o.entries()).sort((a,l)=>a[1]-l[1]).slice(0,e).map(([a,l])=>(o.delete(a),[a,l]));r.push([i,...s]);break}}return r}bzpopmax(e,t){let r=this.store.get(e);if(!r||r.size===0)return[];let i=Array.from(r.entries()).sort((o,s)=>s[1]-o[1]).slice(0,t).map(([o,s])=>(r.delete(o),[o,s]));return[e,...i]}bzpopmin(e,t){let r=this.store.get(e);if(!r||r.size===0)return[];let i=Array.from(r.entries()).sort((o,s)=>o[1]-s[1]).slice(0,t).map(([o,s])=>(r.delete(o),[o,s]));return[e,...i]}zincrby(e,t,r){this.store.has(e)||this.storeSet(e,new lr);let i=this.store.get(e),s=(i.get(r)||0)+Number(t);return i.set(r,s),s}zinter(...e){if(e.length===0)return new Set;let t=e.map(i=>this.store.get(i)||new lr),r=new Set(t[0].keys());for(let i=1;i<t.length;i++){let o=new Set;for(let s of t[i].keys())r.has(s)&&o.add(s);r.clear();for(let s of o)r.add(s)}return r}zintercard(...e){return this.ZINTER(...e).size}zinterstore(e,...t){let r=this.ZINTER(...t),i=new lr;for(let o of r){let s=t.map(a=>{let l=this.store.get(a);return l?l.get(o):void 0}).filter(a=>a!==void 0);s.length>0&&i.set(o,Math.max(...s))}return this.storeSet(e,i),i.size}zlexcount(e,t,r){let i=this.store.get(e)||new lr,o=Array.from(i.keys()).sort(),s=0;for(let a of o)a>=t&&a<=r&&s++;return s}zmpop(e,...t){let r=[];for(let i of t){let o=this.store.get(i);if(o&&o.size>0){let s=Array.from(o.entries()).sort((a,l)=>a[1]-l[1]).slice(0,e).map(([a,l])=>(o.delete(a),[a,l]));r.push([i,...s]);break}}return r}zmscore(e,...t){let r=this.store.get(e)||new lr;return t.map(i=>r.get(i))}zpopmax(e,t){let r=this.store.get(e);return!r||r.size===0?[]:Array.from(r.entries()).sort((o,s)=>s[1]-o[1]).slice(0,t).map(([o,s])=>(r.delete(o),[o,s]))}zpopmin(e,t){let r=this.store.get(e);return!r||r.size===0?[]:Array.from(r.entries()).sort((o,s)=>o[1]-s[1]).slice(0,t).map(([o,s])=>(r.delete(o),[o,s]))}zrandmember(e,t=1){let r=this.store.get(e);if(!r||r.size===0)return[];let i=Array.from(r.keys()),o=[];for(let s=0;s<t;s++){let a=Math.floor(Math.random()*i.length);o.push(i[a])}return o}zrange(e,t,r){let i=this.store.get(e)||new lr,o=Array.from(i.entries()).sort((s,a)=>s[1]-a[1]);return t<0&&(t=o.length+t),r<0&&(r=o.length+r),o.slice(t,r+1).map(([s,a])=>[s,a])}zrangebylex(e,t,r,i={}){let o=this.store.get(e)||new lr,a=Array.from(o.keys()).sort().filter(l=>l>=t&&l<=r);if(i.limit){let{offset:l,count:c}=i.limit;a=a.slice(l,l+c)}return a}zrangebyscore(e,t,r,i={}){let o=this.store.get(e)||new lr,a=Array.from(o.entries()).sort((l,c)=>l[1]-c[1]).filter(([,l])=>l>=t&&l<=r);if(i.withscores?a=a.map(([l,c])=>[l,c]):a=a.map(([l])=>l),i.limit){let{offset:l,count:c}=i.limit;a=a.slice(l,l+c)}return a}zrangestore(e,t,r,i){let o=this.store.get(t)||new lr,s=Array.from(o.entries()).sort((l,c)=>l[1]-c[1]);r<0&&(r=s.length+r),i<0&&(i=s.length+i);let a=new lr(s.slice(r,i+1));return this.storeSet(e,a),a.size}zrank(e,t){let r=this.store.get(e);if(!r)return;let i=Array.from(r.entries()).sort((o,s)=>o[1]-s[1]);for(let o=0;o<i.length;o++)if(i[o][0]===t)return o}zrem(e,...t){let r=this.store.get(e);if(!r)return 0;let i=0;for(let o of t)r.delete(o)&&i++;return i}zremrangebylex(e,t,r){let i=this.store.get(e);if(!i)return 0;let o=Array.from(i.keys()).sort(),s=0;for(let a of o)a>=t&&a<=r&&(i.delete(a),s++);return s}zremrangebyrank(e,t,r){let i=this.store.get(e);if(!i)return 0;let o=Array.from(i.entries()).sort((a,l)=>a[1]-l[1]);t<0&&(t=o.length+t),r<0&&(r=o.length+r);let s=0;for(let a=t;a<=r;a++)i.delete(o[a][0])&&s++;return s}zremrangebyscore(e,t,r){let i=this.store.get(e);if(!i)return 0;let o=Array.from(i.entries()).sort((a,l)=>a[1]-l[1]),s=0;for(let[a,l]of o)l>=t&&l<=r&&(i.delete(a),s++);return s}zrevrange(e,t,r){let i=this.store.get(e)||new lr,o=Array.from(i.entries()).sort((s,a)=>a[1]-s[1]);return t<0&&(t=o.length+t),r<0&&(r=o.length+r),o.slice(t,r+1).map(([s,a])=>[s,a])}zrevrangebylex(e,t,r,i={}){let o=this.store.get(e)||new lr,a=Array.from(o.keys()).sort().reverse().filter(l=>l>=r&&l<=t);if(i.limit){let{offset:l,count:c}=i.limit;a=a.slice(l,l+c)}return a}zrevrangebyscore(e,t,r,i={}){let o=this.store.get(e)||new lr,a=Array.from(o.entries()).sort((l,c)=>c[1]-l[1]).filter(([,l])=>l>=r&&l<=t);if(i.withscores?a=a.map(([l,c])=>[l,c]):a=a.map(([l])=>l),i.limit){let{offset:l,count:c}=i.limit;a=a.slice(l,l+c)}return a}zrevrank(e,t){let r=this.store.get(e);if(!r)return;let i=Array.from(r.entries()).sort((o,s)=>s[1]-o[1]);for(let o=0;o<i.length;o++)if(i[o][0]===t)return o}zscan(e,t,r={}){let i=this.store.get(e)||new lr,o=Array.from(i.entries()).sort((c,u)=>c[1]-u[1]),s=[],a=r.count||10,l=t;for(;a>0&&l<o.length;)(!r.match||new RegExp(r.match.replace("*",".*")).test(o[l][0]))&&(s.push(o[l]),a--),l++;return[l>=o.length?0:l,s]}zscore(e,t){let r=this.store.get(e);if(r)return r.get(t)}zunion(e){let t=new lr;for(let r of e){let i=this.store.get(r);if(i)for(let[o,s]of i.entries())t.set(o,(t.get(o)||0)+s)}return Array.from(t.entries()).sort((r,i)=>r[1]-i[1])}zunionstore(e,t){let r=this.zunion(t),i=new lr(r);return this.storeSet(e,i),i.size}geoadd(e,t,r,i){if(typeof t!="number"||typeof r!="number")throw new Error("Invalid longitude or latitude value");let o=this.store.get(e)||new lr;if(!o.get(i)){let a={longitude:t,latitude:r};return o.set(i,a),this.storeSet(e,o),1}return 0}geodist(e,t,r,i="m"){let o=this.store.get(e);if(!o)return;let s=o.get(t),a=o.get(r);if(!s||!a)return;let l=this._haversineDistance(s.latitude,s.longitude,a.latitude,a.longitude);return this._convertDistance(l,i)}geohash(e,...t){let r=this.store.get(e);return r?t.map(i=>{let o=r.get(i);return o?this._encodeGeohash(o.latitude,o.longitude):null}):[]}geopos(e,...t){let r=this.store.get(e);return r?t.map(i=>{let o=r.get(i);return o?[o.latitude,o.longitude]:null}):[]}georadius(e,t,r,i,o="m"){let s=this.store.get(e);if(!s)return[];let a=this._convertDistance(i,o,"m"),l=[];for(let[c,u]of s.entries())this._haversineDistance(r,t,u.latitude,u.longitude)<=a&&l.push(c);return l}georadius_ro(e,t,r,i){return this.georadius(e,t,r,i,!0)}georadiusbymember(e,t,r){let i=this.geopos(e,t);if(i)return this.georadius(i[0],i[1],r,e)}georadiusbymember_ro(e,t,r){let i=this.geopos(e,t);if(i)return this.georadius(i[0],i[1],r,e,!0)}geosearch(e,t,r,i){return this.georadius(t,r,i,e)}geosearchstore(e,t,r,i,o){let s=this.georadius(r,i,o,t);return this.set(e,s),s.length}scan(e,t="*",r=10){let i=this.keys(t),o=Math.min(e+r,i.length);return[o===i.length?0:o,i.slice(e,o)]}sort(e,t="ASC",r=!1){let i=this.store.get(e);return Array.isArray(i)?i.slice().sort((s,a)=>r?t==="ASC"?s.localeCompare(a):a.localeCompare(s):t==="ASC"?s-a:a-s):[]}touch(...e){return e.reduce((t,r)=>t+(this.exists(r)?1:0),0)}sort_ro(e,t="ASC",r=!1){return this.sort(e,t,r)}unlink(...e){let t=0;for(let r of e)this.del(r)&&t++;return t}hset(e,t,r){this.store.has(e)||this.storeSet(e,new lr);let i=this.store.get(e),o=!i.has(t);return i.set(t,r),o?1:0}hdel(e,...t){let r=this.store.get(e);if(!r)return 0;let i=0;for(let o of t)r.delete(o)&&i++;return i}hget(e,t){let r=this.store.get(e);return r?r.get(t):void 0}hgetall(e){let t=this.store.get(e);if(!t)return{};let r={};for(let[i,o]of t)r[i]=o;return r}hincrby(e,t,r){let i=this.store.get(e)||new lr,s=parseInt(i.get(t)||0,10)+r;return i.set(t,s.toString()),this.storeSet(e,i),s}hincrbyfloat(e,t,r){let i=this.store.get(e)||new lr,s=parseFloat(i.get(t)||0)+r;return i.set(t,s.toString()),this.storeSet(e,i),s}hkeys(e){let t=this.store.get(e);return t?Array.from(t.keys()):[]}hlen(e){let t=this.store.get(e);return t?t.size:0}hmget(e,...t){let r=this.store.get(e)||new lr;return t.map(i=>r.get(i))}hmset(e,...t){let r=this.store.get(e)||new lr;for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];r.set(o,s)}return this.storeSet(e,r),!0}hsetnx(e,t,r){let i=this.store.get(e)||new lr;return i.has(t)?0:(i.set(t,r),this.storeSet(e,i),1)}hstrlen(e,t){let r=this.store.get(e),i=r?r.get(t):null;return i?i.length:0}hvals(e){let t=this.store.get(e);return t?Array.from(t.values()):[]}hscan(e,t,r="*",i=10){let o=this.store.get(e)||new lr,s=Array.from(o.keys()).filter(c=>c.includes(r)),a=Math.min(t+i,s.length);return[a===s.length?0:a,s.slice(t,a).map(c=>[c,o.get(c)])]}hexists(e,t){let r=this.store.get(e);return r&&r.has(t)?1:0}hrandfield(e,t=1){let r=this.store.get(e);if(!r)return[];let i=Array.from(r.keys()),o=[];for(let s=0;s<t;s++){let a=Math.floor(Math.random()*i.length);o.push(i[a])}return o}_checkAndRemoveExpiredKey(e){let t=this.expireTimes.get(e);return t&&Date.now()>t?(this.store.delete(e),this.expireTimes.delete(e),this.isIndexedDBAvailable&&this.db&&this._removeFromIndexedDB(e),!0):!1}_initCleanupLoop(e){this.store.size===1&&(this.cleanupLoop=setInterval(()=>{if(this.store.size===0&&this.cleanupLoop)clearInterval(this.cleanupLoop);else for(let t of this.expireTimes.keys())this._checkAndRemoveExpiredKey(t)},e),typeof this.cleanupLoop=="object"&&typeof this.cleanupLoop.unref=="function"&&this.cleanupLoop.unref())}_haversineDistance(e,t,r,i){let o=d=>d*Math.PI/180,a=o(r-e),l=o(i-t),c=Math.sin(a/2)*Math.sin(a/2)+Math.cos(o(e))*Math.cos(o(r))*Math.sin(l/2)*Math.sin(l/2);return 6371e3*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))}_convertDistance(e,t,r){let i={m:1,km:.001,mi:621371e-9,ft:3.28084};if(!i[t]||!i[r])throw new Error("Invalid distance unit");return e*i[t]/i[r]}_encodeGeohash(e,t){let r="0123456789bcdefghjkmnpqrstuvwxyz",i="",o=-90,s=90,a=-180,l=180,c=!0,u=0,d=0;for(;i.length<12;){if(c){let p=(a+l)/2;t>p?(d=(d<<1)+1,a=p):(d=d<<1,l=p)}else{let p=(o+s)/2;e>p?(d=(d<<1)+1,o=p):(d=d<<1,s=p)}c=!c,u<4?u++:(i+=r[d],u=0,d=0)}return i}flushall(){return this.store.clear(),this.expireTimes.clear(),this.isIndexedDBAvailable&&this.db&&this._clearIndexedDB(),!0}_clearIndexedDB(){return L(this,null,function*(){if(this.db)try{let e=this.db.transaction(["store","expireTimes"],"readwrite"),t=e.objectStore("store"),r=e.objectStore("expireTimes");t.clear(),r.clear()}catch(e){console.warn("Failed to clear IndexedDB:",e)}})}};j8.exports=VI});var mo=null,tv=!1,Rw=1,VB=null,jo=Symbol("SIGNAL");function yn(n){let e=mo;return mo=n,e}function rv(){return mo}var og={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function sg(n){if(tv)throw new Error("");if(mo===null)return;mo.consumerOnSignalRead(n);let e=mo.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=mo.recomputing;if(r&&(t=e!==void 0?e.nextProducer:mo.producers,t!==void 0&&t.producer===n)){mo.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===mo&&(!r||zB(i,mo)))return;let o=th(mo),s={producer:n,consumer:mo,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};mo.producersTail=s,e!==void 0?e.nextProducer=s:mo.producers=s,o&&i5(n,s)}function t5(){Rw++}function Lw(n){if(!(th(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Rw)){if(!n.producerMustRecompute(n)&&!ov(n)){Ow(n);return}n.producerRecomputeValue(n),Ow(n)}}function Fw(n){if(n.consumers===void 0)return;let e=tv;tv=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||UB(r)}}finally{tv=e}}function jw(){return mo?.consumerAllowSignalWrites!==!1}function UB(n){n.dirty=!0,Fw(n),n.consumerMarkedDirty?.(n)}function Ow(n){n.dirty=!1,n.lastCleanEpoch=Rw}function ag(n){return n&&n5(n),yn(n)}function n5(n){n.producersTail=void 0,n.recomputing=!0}function iv(n,e){yn(e),n&&r5(n)}function r5(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(th(n))do t=Bw(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function ov(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(Lw(t),r!==t.version))return!0}return!1}function lg(n){if(th(n)){let e=n.producers;for(;e!==void 0;)e=Bw(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function i5(n,e){let t=n.consumersTail,r=th(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)i5(i.producer,i)}function Bw(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!th(e)){let o=e.producers;for(;o!==void 0;)o=Bw(o)}return t}function th(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function Vw(n){VB?.(n)}function zB(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function Uw(n,e){return Object.is(n,e)}function sv(n,e){let t=Object.create(HB);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Lw(t),sg(t),t.value===nv)throw t.error;return t.value};return r[jo]=t,Vw(t),r}var Nw=Symbol("UNSET"),Pw=Symbol("COMPUTING"),nv=Symbol("ERRORED"),HB=kt(Fe({},og),{value:Nw,dirty:!0,error:null,equal:Uw,kind:"computed",producerMustRecompute(n){return n.value===Nw||n.value===Pw},producerRecomputeValue(n){if(n.value===Pw)throw new Error("");let e=n.value;n.value=Pw;let t=ag(n),r,i=!1;try{r=n.computation(),yn(null),i=e!==Nw&&e!==nv&&r!==nv&&n.equal(e,r)}catch(o){r=nv,n.error=o}finally{iv(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function qB(){throw new Error}var o5=qB;function s5(n){o5(n)}function zw(n){o5=n}var $B=null;function Hw(n,e){let t=Object.create(av);t.value=n,e!==void 0&&(t.equal=e);let r=()=>a5(t);return r[jo]=t,Vw(t),[r,s=>cg(t,s),s=>l5(t,s)]}function a5(n){return sg(n),n.value}function cg(n,e){jw()||s5(n),n.equal(n.value,e)||(n.value=e,WB(n))}function l5(n,e){jw()||s5(n),cg(n,e(n.value))}var av=kt(Fe({},og),{equal:Uw,value:void 0,kind:"signal"});function WB(n){n.version++,t5(),Fw(n),$B?.(n)}function qw(n){let e=yn(null);try{return n()}finally{yn(e)}}function un(n){return typeof n=="function"}function nh(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var lv=nh(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Ad(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var ui=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(un(r))try{r()}catch(o){e=o instanceof lv?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{c5(o)}catch(s){e=e??[],s instanceof lv?e=[...e,...s.errors]:e.push(s)}}if(e)throw new lv(e)}}add(e){var t;if(e&&e!==this)if(this.closed)c5(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ad(t,e)}remove(e){let{_finalizers:t}=this;t&&Ad(t,e),e instanceof n&&e._removeParent(this)}};ui.EMPTY=(()=>{let n=new ui;return n.closed=!0,n})();var $w=ui.EMPTY;function cv(n){return n instanceof ui||n&&"closed"in n&&un(n.remove)&&un(n.add)&&un(n.unsubscribe)}function c5(n){un(n)?n():n.unsubscribe()}var za={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var rh={setTimeout(n,e,...t){let{delegate:r}=rh;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=rh;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function uv(n){rh.setTimeout(()=>{let{onUnhandledError:e}=za;if(e)e(n);else throw n})}function Td(){}var u5=Ww("C",void 0,void 0);function d5(n){return Ww("E",void 0,n)}function f5(n){return Ww("N",n,void 0)}function Ww(n,e,t){return{kind:n,value:e,error:t}}var Md=null;function ih(n){if(za.useDeprecatedSynchronousErrorHandling){let e=!Md;if(e&&(Md={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Md;if(Md=null,t)throw r}}else n()}function h5(n){za.useDeprecatedSynchronousErrorHandling&&Md&&(Md.errorThrown=!0,Md.error=n)}var kd=class extends ui{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,cv(e)&&e.add(this)):this.destination=KB}static create(e,t,r){return new cu(e,t,r)}next(e){this.isStopped?Yw(f5(e),this):this._next(e)}error(e){this.isStopped?Yw(d5(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Yw(u5,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},GB=Function.prototype.bind;function Gw(n,e){return GB.call(n,e)}var Kw=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){dv(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){dv(r)}else dv(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){dv(t)}}},cu=class extends kd{constructor(e,t,r){super();let i;if(un(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&za.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Gw(e.next,o),error:e.error&&Gw(e.error,o),complete:e.complete&&Gw(e.complete,o)}):i=e}this.destination=new Kw(i)}};function dv(n){za.useDeprecatedSynchronousErrorHandling?h5(n):uv(n)}function YB(n){throw n}function Yw(n,e){let{onStoppedNotification:t}=za;t&&rh.setTimeout(()=>t(n,e))}var KB={closed:!0,next:Td,error:YB,complete:Td};var oh=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ls(n){return n}function Qw(...n){return Zw(n)}function Zw(n){return n.length===0?Ls:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var bn=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=ZB(t)?t:new cu(t,r,i);return ih(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=p5(r),new r((i,o)=>{let s=new cu({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[oh](){return this}pipe(...t){return Zw(t)(this)}toPromise(t){return t=p5(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function p5(n){var e;return(e=n??za.Promise)!==null&&e!==void 0?e:Promise}function QB(n){return n&&un(n.next)&&un(n.error)&&un(n.complete)}function ZB(n){return n&&n instanceof kd||QB(n)&&cv(n)}function XB(n){return un(n?.lift)}function Jn(n){return e=>{if(XB(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function er(n,e,t,r,i){return new Xw(n,e,t,r,i)}var Xw=class extends kd{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var g5=nh(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var $r=(()=>{class n extends bn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new fv(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new g5}next(t){ih(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){ih(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ih(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?$w:(this.currentObservers=null,o.push(t),new ui(()=>{this.currentObservers=null,Ad(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new bn;return t.source=this,t}}return n.create=(e,t)=>new fv(e,t),n})(),fv=class extends $r{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:$w}};var Rn=class extends $r{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Jw={now(){return(Jw.delegate||Date).now()},delegate:void 0};var hv=class extends ui{constructor(e,t){super()}schedule(e,t=0){return this}};var ug={setInterval(n,e,...t){let{delegate:r}=ug;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=ug;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var pv=class extends hv{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return ug.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&ug.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ad(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var sh=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};sh.now=Jw.now;var gv=class extends sh{constructor(e,t=sh.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var ex=new gv(pv),m5=ex;var Xi=new bn(n=>n.complete());function mv(n){return n&&un(n.schedule)}function v5(n){return n[n.length-1]}function vv(n){return un(v5(n))?n.pop():void 0}function uu(n){return mv(v5(n))?n.pop():void 0}function b5(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}function y5(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Nd(n){return this instanceof Nd?(this.v=n,this):new Nd(n)}function _5(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(f){return function(b){return Promise.resolve(b).then(f,d)}}function a(f,b){r[f]&&(i[f]=function(_){return new Promise(function(C,S){o.push([f,_,C,S])>1||l(f,_)})},b&&(i[f]=b(i[f])))}function l(f,b){try{c(r[f](b))}catch(_){p(o[0][3],_)}}function c(f){f.value instanceof Nd?Promise.resolve(f.value.v).then(u,d):p(o[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function p(f,b){f(b),o.shift(),o.length&&l(o[0][0],o[0][1])}}function w5(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof y5=="function"?y5(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var yv=n=>n&&typeof n.length=="number"&&typeof n!="function";function bv(n){return un(n?.then)}function _v(n){return un(n[oh])}function wv(n){return Symbol.asyncIterator&&un(n?.[Symbol.asyncIterator])}function xv(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function JB(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Cv=JB();function Sv(n){return un(n?.[Cv])}function Ev(n){return _5(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Nd(t.read());if(i)return yield Nd(void 0);yield yield Nd(r)}}finally{t.releaseLock()}})}function Dv(n){return un(n?.getReader)}function wi(n){if(n instanceof bn)return n;if(n!=null){if(_v(n))return e7(n);if(yv(n))return t7(n);if(bv(n))return n7(n);if(wv(n))return x5(n);if(Sv(n))return r7(n);if(Dv(n))return i7(n)}throw xv(n)}function e7(n){return new bn(e=>{let t=n[oh]();if(un(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function t7(n){return new bn(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function n7(n){return new bn(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,uv)})}function r7(n){return new bn(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function x5(n){return new bn(e=>{o7(n,e).catch(t=>e.error(t))})}function i7(n){return x5(Ev(n))}function o7(n,e){var t,r,i,o;return b5(this,void 0,void 0,function*(){try{for(t=w5(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function rs(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Iv(n,e=0){return Jn((t,r)=>{t.subscribe(er(r,i=>rs(r,n,()=>r.next(i),e),()=>rs(r,n,()=>r.complete(),e),i=>rs(r,n,()=>r.error(i),e)))})}function Av(n,e=0){return Jn((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function C5(n,e){return wi(n).pipe(Av(e),Iv(e))}function S5(n,e){return wi(n).pipe(Av(e),Iv(e))}function E5(n,e){return new bn(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function D5(n,e){return new bn(t=>{let r;return rs(t,e,()=>{r=n[Cv](),rs(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>un(r?.return)&&r.return()})}function Tv(n,e){if(!n)throw new Error("Iterable cannot be null");return new bn(t=>{rs(t,e,()=>{let r=n[Symbol.asyncIterator]();rs(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function I5(n,e){return Tv(Ev(n),e)}function A5(n,e){if(n!=null){if(_v(n))return C5(n,e);if(yv(n))return E5(n,e);if(bv(n))return S5(n,e);if(wv(n))return Tv(n,e);if(Sv(n))return D5(n,e);if(Dv(n))return I5(n,e)}throw xv(n)}function Nr(n,e){return e?A5(n,e):wi(n)}function _n(...n){let e=uu(n);return Nr(n,e)}function tx(n,e){let t=un(n)?n:()=>n,r=i=>i.error(t());return new bn(e?i=>e.schedule(r,0,i):r)}function Mv(n){return!!n&&(n instanceof bn||un(n.lift)&&un(n.subscribe))}var _c=nh(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function xi(n,e){let t=typeof e=="object";return new Promise((r,i)=>{let o=new cu({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new _c)}});n.subscribe(o)})}function T5(n){return n instanceof Date&&!isNaN(n)}function Nn(n,e){return Jn((t,r)=>{let i=0;t.subscribe(er(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:s7}=Array;function a7(n,e){return s7(e)?n(...e):n(e)}function kv(n){return Nn(e=>a7(n,e))}var{isArray:l7}=Array,{getPrototypeOf:c7,prototype:u7,keys:d7}=Object;function Nv(n){if(n.length===1){let e=n[0];if(l7(e))return{args:e,keys:null};if(f7(e)){let t=d7(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function f7(n){return n&&typeof n=="object"&&c7(n)===u7}function Pv(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Cl(...n){let e=uu(n),t=vv(n),{args:r,keys:i}=Nv(n);if(r.length===0)return Nr([],e);let o=new bn(h7(r,e,i?s=>Pv(i,s):Ls));return t?o.pipe(kv(t)):o}function h7(n,e,t=Ls){return r=>{M5(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)M5(e,()=>{let c=Nr(n[l],e),u=!1;c.subscribe(er(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function M5(n,e,t){n?rs(t,n,e):e()}function k5(n,e,t,r,i,o,s,a){let l=[],c=0,u=0,d=!1,p=()=>{d&&!l.length&&!c&&e.complete()},f=_=>c<r?b(_):l.push(_),b=_=>{o&&e.next(_),c++;let C=!1;wi(t(_,u++)).subscribe(er(e,S=>{i?.(S),o?f(S):e.next(S)},()=>{C=!0},void 0,()=>{if(C)try{for(c--;l.length&&c<r;){let S=l.shift();s?rs(e,s,()=>b(S)):b(S)}p()}catch(S){e.error(S)}}))};return n.subscribe(er(e,f,()=>{d=!0,p()})),()=>{a?.()}}function Ji(n,e,t=1/0){return un(e)?Ji((r,i)=>Nn((o,s)=>e(r,o,i,s))(wi(n(r,i))),t):(typeof e=="number"&&(t=e),Jn((r,i)=>k5(r,i,n,t)))}function du(n=1/0){return Ji(Ls,n)}function N5(){return du(1)}function fu(...n){return N5()(Nr(n,uu(n)))}function dg(n){return new bn(e=>{wi(n()).subscribe(e)})}function nx(...n){let e=vv(n),{args:t,keys:r}=Nv(n),i=new bn(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;wi(t[u]).subscribe(er(o,p=>{d||(d=!0,c--),a[u]=p},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?Pv(r,a):a),o.complete())}))}});return e?i.pipe(kv(e)):i}function P5(n=0,e,t=m5){let r=-1;return e!=null&&(mv(e)?t=e:r=e),new bn(i=>{let o=T5(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function rx(n=0,e=ex){return n<0&&(n=0),P5(n,n,e)}var wc=new bn(Td);function eo(n,e){return Jn((t,r)=>{let i=0;t.subscribe(er(r,o=>n.call(e,o,i++)&&r.next(o)))})}function ah(n){return Jn((e,t)=>{let r=null,i=!1,o;r=e.subscribe(er(t,void 0,void 0,s=>{o=wi(n(s,ah(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function lh(n,e){return un(e)?Ji(n,e,1):Ji(n,1)}function O5(n){return Jn((e,t)=>{let r=!1;e.subscribe(er(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Bo(n){return n<=0?()=>Xi:Jn((e,t)=>{let r=0;e.subscribe(er(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function ix(n,e=Ls){return n=n??p7,Jn((t,r)=>{let i,o=!0;t.subscribe(er(r,s=>{let a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function p7(n,e){return n===e}function R5(n=g7){return Jn((e,t)=>{let r=!1;e.subscribe(er(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function g7(){return new _c}function ox(n){return Jn((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function sa(n,e){let t=arguments.length>=2;return r=>r.pipe(n?eo((i,o)=>n(i,o,r)):Ls,Bo(1),t?O5(e):R5(()=>new _c))}function Ov(n){return n<=0?()=>Xi:Jn((e,t)=>{let r=[];e.subscribe(er(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function sx(...n){let e=uu(n);return Jn((t,r)=>{(e?fu(n,t,e):fu(n,t)).subscribe(r)})}function Vo(n,e){return Jn((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(er(r,l=>{i?.unsubscribe();let c=0,u=o++;wi(n(l,u)).subscribe(i=er(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function fg(n){return Jn((e,t)=>{wi(n).subscribe(er(t,()=>t.complete(),Td)),!t.closed&&e.subscribe(t)})}function Sl(n,e,t){let r=un(n)||e||t?{next:n,error:e,complete:t}:n;return r?Jn((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(er(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Ls}var ax;function Rv(){return ax}function El(n){let e=ax;return ax=n,e}var L5=Symbol("NotFound");function ch(n){return n===L5||n?.name==="\u0275NotFound"}var Vv="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",gt=class extends Error{code;constructor(e,t){super(Il(e,t)),this.code=e}};function y7(n){return`NG0${Math.abs(n)}`}function Il(n,e){return`${y7(n)}${e?": "+e:""}`}var Sc=globalThis;function or(n){for(let e in n)if(n[e]===or)return e;throw Error("")}function U5(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Cc(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Cc).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function xx(n,e){return n?e?`${n} ${e}`:n:e||""}var b7=or({__forward_ref__:or});function js(n){return n.__forward_ref__=js,n.toString=function(){return Cc(this())},n}function to(n){return Cx(n)?n():n}function Cx(n){return typeof n=="function"&&n.hasOwnProperty(b7)&&n.__forward_ref__===js}function ut(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function aa(n){return{providers:n.providers||[],imports:n.imports||[]}}function yg(n){return _7(n,Uv)}function Sx(n){return yg(n)!==null}function _7(n,e){return n.hasOwnProperty(e)&&n[e]||null}function w7(n){let e=n?.[Uv]??null;return e||null}function cx(n){return n&&n.hasOwnProperty(Fv)?n[Fv]:null}var Uv=or({\u0275prov:or}),Fv=or({\u0275inj:or}),Ct=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=ut({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Ex(n){return n&&!!n.\u0275providers}var Dx=or({\u0275cmp:or}),Ix=or({\u0275dir:or}),Ax=or({\u0275pipe:or}),Tx=or({\u0275mod:or}),pg=or({\u0275fac:or}),Fd=or({__NG_ELEMENT_ID__:or}),F5=or({__NG_ENV_ID__:or});function Mx(n){return zv(n,"@NgModule"),n[Tx]||null}function Ec(n){return zv(n,"@Component"),n[Dx]||null}function kx(n){return zv(n,"@Directive"),n[Ix]||null}function z5(n){return zv(n,"@Pipe"),n[Ax]||null}function zv(n,e){if(n==null)throw new gt(-919,!1)}function Dc(n){return typeof n=="string"?n:n==null?"":String(n)}var H5=or({ngErrorCode:or}),x7=or({ngErrorMessage:or}),C7=or({ngTokenPath:or});function Nx(n,e){return q5("",-200,e)}function Hv(n,e){throw new gt(-201,!1)}function q5(n,e,t){let r=new gt(e,n);return r[H5]=e,r[x7]=n,t&&(r[C7]=t),r}function S7(n){return n[H5]}var ux;function $5(){return ux}function Uo(n){let e=ux;return ux=n,e}function Px(n,e,t){let r=yg(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;Hv(n,"")}var E7={},Pd=E7,D7="__NG_DI_FLAG__",dx=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Od(t)||0;try{return this.injector.get(e,r&8?null:Pd,r)}catch(i){if(ch(i))return i;throw i}}};function I7(n,e=0){let t=Rv();if(t===void 0)throw new gt(-203,!1);if(t===null)return Px(n,void 0,e);{let r=A7(e),i=t.retrieve(n,r);if(ch(i)){if(r.optional)return null;throw i}return i}}function xt(n,e=0){return($5()||I7)(to(n),e)}function Ye(n,e){return xt(n,Od(e))}function Od(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function A7(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function fx(n){let e=[];for(let t=0;t<n.length;t++){let r=to(n[t]);if(Array.isArray(r)){if(r.length===0)throw new gt(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],l=T7(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(xt(i,o))}else e.push(xt(r))}return e}function T7(n){return n[D7]}function hu(n,e){let t=n.hasOwnProperty(pg);return t?n[pg]:null}function W5(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function G5(n){return n.flat(Number.POSITIVE_INFINITY)}function qv(n,e){n.forEach(t=>Array.isArray(t)?qv(t,e):e(t))}function Ox(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function bg(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Y5(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function K5(n,e,t){let r=dh(n,e);return r>=0?n[r|1]=t:(r=~r,Y5(n,r,e,t)),r}function $v(n,e){let t=dh(n,e);if(t>=0)return n[t|1]}function dh(n,e){return M7(n,e,1)}function M7(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var mu={},Fs=[],vu=new Ct(""),Rx=new Ct("",-1),Lx=new Ct(""),gg=class{get(e,t=Pd){if(t===Pd){let i=q5("",-201);throw i.name="\u0275NotFound",i}return t}};function yu(n){return{\u0275providers:n}}function Q5(...n){return{\u0275providers:Fx(!0,n),\u0275fromNgModule:!0}}function Fx(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return qv(e,s=>{let a=s;jv(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Z5(i,o),t}function Z5(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];jx(i,o=>{e(o,r)})}}function jv(n,e,t,r){if(n=to(n),!n)return!1;let i=null,o=cx(n),s=!o&&Ec(n);if(!o&&!s){let l=n.ngModule;if(o=cx(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)jv(c,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;qv(o.imports,u=>{jv(u,e,t,r)&&(c||=[],c.push(u))}),c!==void 0&&Z5(c,e)}if(!a){let c=hu(i)||(()=>new i);e({provide:i,useFactory:c,deps:Fs},i),e({provide:Lx,useValue:i,multi:!0},i),e({provide:vu,useValue:()=>xt(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=n;jx(l,u=>{e(u,c)})}}else return!1;return i!==n&&n.providers!==void 0}function jx(n,e){for(let t of n)Ex(t)&&(t=t.\u0275providers),Array.isArray(t)?jx(t,e):e(t)}var k7=or({provide:String,useValue:or});function X5(n){return n!==null&&typeof n=="object"&&k7 in n}function N7(n){return!!(n&&n.useExisting)}function P7(n){return!!(n&&n.useFactory)}function Rd(n){return typeof n=="function"}function J5(n){return!!n.useClass}var _g=new Ct(""),Lv={},j5={},lx;function wg(){return lx===void 0&&(lx=new gg),lx}var di=class{},Ld=class extends di{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,px(e,s=>this.processProvider(s)),this.records.set(Rx,uh(void 0,this)),i.has("environment")&&this.records.set(di,uh(void 0,this));let o=this.records.get(_g);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Lx,Fs,{self:!0}))}retrieve(e,t){let r=Od(t)||0;try{return this.get(e,Pd,r)}catch(i){if(ch(i))return i;throw i}}destroy(){hg(this),this._destroyed=!0;let e=yn(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),yn(e)}}onDestroy(e){return hg(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){hg(this);let t=El(this),r=Uo(void 0),i;try{return e()}finally{El(t),Uo(r)}}get(e,t=Pd,r){if(hg(this),e.hasOwnProperty(F5))return e[F5](this);let i=Od(r),o,s=El(this),a=Uo(void 0);try{if(!(i&4)){let c=this.records.get(e);if(c===void 0){let u=j7(e)&&yg(e);u&&this.injectableDefInScope(u)?c=uh(hx(e),Lv):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c,i)}let l=i&2?wg():this.parent;return t=i&8&&t===Pd?null:t,l.get(e,t)}catch(l){let c=S7(l);throw c===-200||c===-201?new gt(c,null):l}finally{Uo(a),El(s)}}resolveInjectorInitializers(){let e=yn(null),t=El(this),r=Uo(void 0),i;try{let o=this.get(vu,Fs,{self:!0});for(let s of o)s()}finally{El(t),Uo(r),yn(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Cc(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=to(e);let t=Rd(e)?e:to(e&&e.provide),r=R7(e);if(!Rd(e)&&e.multi===!0){let i=this.records.get(t);i||(i=uh(void 0,Lv,!0),i.factory=()=>fx(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=yn(null);try{if(t.value===j5)throw Nx(Cc(e));return t.value===Lv&&(t.value=j5,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&F7(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{yn(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=to(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function hx(n){let e=yg(n),t=e!==null?e.factory:hu(n);if(t!==null)return t;if(n instanceof Ct)throw new gt(204,!1);if(n instanceof Function)return O7(n);throw new gt(204,!1)}function O7(n){if(n.length>0)throw new gt(204,!1);let t=w7(n);return t!==null?()=>t.factory(n):()=>new n}function R7(n){if(X5(n))return uh(void 0,n.useValue);{let e=Bx(n);return uh(e,Lv)}}function Bx(n,e,t){let r;if(Rd(n)){let i=to(n);return hu(i)||hx(i)}else if(X5(n))r=()=>to(n.useValue);else if(P7(n))r=()=>n.useFactory(...fx(n.deps||[]));else if(N7(n))r=(i,o)=>xt(to(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=to(n&&(n.useClass||n.provide));if(L7(n))r=()=>new i(...fx(n.deps));else return hu(i)||hx(i)}return r}function hg(n){if(n.destroyed)throw new gt(205,!1)}function uh(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function L7(n){return!!n.deps}function F7(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function j7(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function px(n,e){for(let t of n)Array.isArray(t)?px(t,e):t&&Ex(t)?px(t.\u0275providers,e):e(t)}function ro(n,e){let t;n instanceof Ld?(hg(n),t=n):t=new dx(n);let r,i=El(t),o=Uo(void 0);try{return e()}finally{El(i),Uo(o)}}function eT(){return $5()!==void 0||Rv()!=null}var Ha=0,Yt=1,nn=2,Vi=3,la=4,ca=5,xg=6,fh=7,vo=8,bu=9,Al=10,Xr=11,hh=12,Vx=13,jd=14,ua=15,_u=16,Bd=17,Tl=18,wu=19,Ux=20,xc=21,Wv=22,Cg=23,Bs=24,Vd=25,Sg=26,Ui=27,tT=1;var xu=7,Eg=8,Ud=9,zo=10;function Ml(n){return Array.isArray(n)&&typeof n[tT]=="object"}function qa(n){return Array.isArray(n)&&n[tT]===!0}function zx(n){return(n.flags&4)!==0}function Cu(n){return n.componentOffset>-1}function ph(n){return(n.flags&1)===1}function kl(n){return!!n.template}function gh(n){return(n[nn]&512)!==0}function zd(n){return(n[nn]&256)===256}var nT="svg",rT="math";function da(n){for(;Array.isArray(n);)n=n[Ha];return n}function Hx(n,e){return da(e[n])}function $a(n,e){return da(e[n.index])}function Gv(n,e){return n.data[e]}function Yv(n,e){return n[e]}function qx(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function fa(n,e){let t=e[n];return Ml(t)?t:t[Ha]}function iT(n){return(n[nn]&4)===4}function Kv(n){return(n[nn]&128)===128}function oT(n){return qa(n[Vi])}function Dg(n,e){return e==null?null:n[e]}function $x(n){n[Bd]=0}function Wx(n){n[nn]&1024||(n[nn]|=1024,Kv(n)&&mh(n))}function sT(n,e){for(;n>0;)e=e[jd],n--;return e}function Ig(n){return!!(n[nn]&9216||n[Bs]?.dirty)}function Qv(n){n[Al].changeDetectionScheduler?.notify(8),n[nn]&64&&(n[nn]|=1024),Ig(n)&&mh(n)}function mh(n){n[Al].changeDetectionScheduler?.notify(0);let e=pu(n);for(;e!==null&&!(e[nn]&8192||(e[nn]|=8192,!Kv(e)));)e=pu(e)}function Gx(n,e){if(zd(n))throw new gt(911,!1);n[xc]===null&&(n[xc]=[]),n[xc].push(e)}function aT(n,e){if(n[xc]===null)return;let t=n[xc].indexOf(e);t!==-1&&n[xc].splice(t,1)}function pu(n){let e=n[Vi];return qa(e)?e[Vi]:e}function Yx(n){return n[fh]??=[]}function Kx(n){return n.cleanup??=[]}function lT(n,e,t,r){let i=Yx(e);i.push(t),n.firstCreatePass&&Kx(n).push(r,i.length-1)}var Dn={lFrame:ST(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var gx=!1;function cT(){return Dn.lFrame.elementDepthCount}function uT(){Dn.lFrame.elementDepthCount++}function dT(){Dn.lFrame.elementDepthCount--}function Zv(){return Dn.bindingsEnabled}function fT(){return Dn.skipHydrationRootTNode!==null}function hT(n){return Dn.skipHydrationRootTNode===n}function pT(){Dn.skipHydrationRootTNode=null}function Tn(){return Dn.lFrame.lView}function zi(){return Dn.lFrame.tView}function rt(n){return Dn.lFrame.contextLView=n,n[vo]}function it(n){return Dn.lFrame.contextLView=null,n}function io(){let n=Qx();for(;n!==null&&n.type===64;)n=n.parent;return n}function Qx(){return Dn.lFrame.currentTNode}function gT(){let n=Dn.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function vh(n,e){let t=Dn.lFrame;t.currentTNode=n,t.isParent=e}function Zx(){return Dn.lFrame.isParent}function mT(){Dn.lFrame.isParent=!1}function vT(){return Dn.lFrame.contextLView}function Xx(){return gx}function Jx(n){let e=gx;return gx=n,e}function e2(){let n=Dn.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function t2(){return Dn.lFrame.bindingIndex}function yT(n){return Dn.lFrame.bindingIndex=n}function Ag(){return Dn.lFrame.bindingIndex++}function Xv(n){let e=Dn.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function bT(){return Dn.lFrame.inI18n}function _T(n,e){let t=Dn.lFrame;t.bindingIndex=t.bindingRootIndex=n,Jv(e)}function wT(){return Dn.lFrame.currentDirectiveIndex}function Jv(n){Dn.lFrame.currentDirectiveIndex=n}function xT(n){let e=Dn.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function n2(){return Dn.lFrame.currentQueryIndex}function ey(n){Dn.lFrame.currentQueryIndex=n}function B7(n){let e=n[Yt];return e.type===2?e.declTNode:e.type===1?n[ca]:null}function r2(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=B7(o),i===null||(o=o[jd],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=Dn.lFrame=CT();return r.currentTNode=e,r.lView=n,!0}function ty(n){let e=CT(),t=n[Yt];Dn.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function CT(){let n=Dn.lFrame,e=n===null?null:n.child;return e===null?ST(n):e}function ST(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function ET(){let n=Dn.lFrame;return Dn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var i2=ET;function ny(){let n=ET();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function DT(n){return(Dn.lFrame.contextLView=sT(n,Dn.lFrame.contextLView))[vo]}function Ic(){return Dn.lFrame.selectedIndex}function Su(n){Dn.lFrame.selectedIndex=n}function ry(){let n=Dn.lFrame;return Gv(n.tView,n.selectedIndex)}function IT(){return Dn.lFrame.currentNamespace}var AT=!0;function iy(){return AT}function Tg(n){AT=n}function mx(n,e=null,t=null,r){let i=o2(n,e,t,r);return i.resolveInjectorInitializers(),i}function o2(n,e=null,t=null,r,i=new Set){let o=[t||Fs,Q5(n)];return r=r||(typeof n=="object"?void 0:Cc(n)),new Ld(o,e||wg(),r||null,i)}var no=class n{static THROW_IF_NOT_FOUND=Pd;static NULL=new gg;static create(e,t){if(Array.isArray(e))return mx({name:""},t,e,"");{let r=e.name??"";return mx({name:r},e.parent,e.providers,r)}}static \u0275prov=ut({token:n,providedIn:"any",factory:()=>xt(Rx)});static __NG_ELEMENT_ID__=-1},fi=new Ct(""),Wa=(()=>{class n{static __NG_ELEMENT_ID__=V7;static __NG_ENV_ID__=t=>t}return n})(),vx=class extends Wa{_lView;constructor(e){super(),this._lView=e}get destroyed(){return zd(this._lView)}onDestroy(e){let t=this._lView;return Gx(t,e),()=>aT(t,e)}};function V7(){return new vx(Tn())}var s2=!1,TT=new Ct(""),Ac=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Rn(!1);debugTaskTracker=Ye(TT,{optional:!0});get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new bn(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),this.debugTaskTracker?.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.debugTaskTracker?.remove(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=ut({token:n,providedIn:"root",factory:()=>new n})}return n})(),yx=class extends $r{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,eT()&&(this.destroyRef=Ye(Wa,{optional:!0})??void 0,this.pendingTasks=Ye(Ac,{optional:!0})??void 0)}emit(e){let t=yn(null);try{super.next(e)}finally{yn(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof ui&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Zr=yx;function Bv(...n){}function a2(n){let e,t;function r(){n=Bv;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch(i){}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function MT(n){return queueMicrotask(()=>n()),()=>{n=Bv}}var l2="isAngularZone",mg=l2+"_ID",U7=0,Pr=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Zr(!1);onMicrotaskEmpty=new Zr(!1);onStable=new Zr(!1);onError=new Zr(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=s2}=e;if(typeof Zone>"u")throw new gt(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,q7(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(l2)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new gt(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new gt(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,z7,Bv,Bv);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},z7={};function c2(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function H7(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){a2(()=>{n.callbackScheduled=!1,bx(n),n.isCheckStableRunning=!0,c2(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),bx(n)}function q7(n){let e=()=>{H7(n)},t=U7++;n._inner=n._inner.fork({name:"angular",properties:{[l2]:!0,[mg]:t,[mg+t]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if($7(l))return r.invokeTask(o,s,a,l);try{return B5(n),r.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),V5(n)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return B5(n),r.invoke(o,s,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!W7(l)&&e(),V5(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,bx(n),c2(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function bx(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function B5(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function V5(n){n._nesting--,c2(n)}var vg=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Zr;onMicrotaskEmpty=new Zr;onStable=new Zr;onError=new Zr;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function $7(n){return kT(n,"__ignore_ng_zone__")}function W7(n){return kT(n,"__scheduler_tick__")}function kT(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Dl=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Vs=new Ct("",{factory:()=>{let n=Ye(Pr),e=Ye(di),t;return r=>{n.runOutsideAngular(()=>{e.destroyed&&!t?setTimeout(()=>{throw r}):(t??=e.get(Dl),t.handleError(r))})}}}),NT={provide:vu,useValue:()=>{let n=Ye(Dl,{optional:!0})},multi:!0};function Ga(n,e){let[t,r,i]=Hw(n,e?.equal),o=t,s=o[jo];return o.set=r,o.update=i,o.asReadonly=PT.bind(o),o}function PT(){let n=this[jo];if(n.readonlyFn===void 0){let e=()=>this();e[jo]=n,n.readonlyFn=e}return n.readonlyFn}var oy=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=G7}return n})();function G7(){return new oy(Tn(),io())}var gu=class{},yh=new Ct("",{factory:()=>!0});var sy=new Ct("");var u2=(()=>{class n{static \u0275prov=ut({token:n,providedIn:"root",factory:()=>new _x})}return n})(),_x=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}},wx=class{[jo];constructor(e){this[jo]=e}destroy(){this[jo].destroy()}};function ii(n){return qw(n)}function jg(n){return{toString:n}.toString()}function nV(n){return typeof n=="function"}function uM(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var hy=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}},Us=(()=>{let n=()=>dM;return n.ngInherit=!0,n})();function dM(n){return n.type.prototype.ngOnChanges&&(n.setInput=iV),rV}function rV(){let n=hM(this),e=n?.current;if(e){let t=n.previous;if(t===mu)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function iV(n,e,t,r,i){let o=this.declaredInputs[r],s=hM(n)||oV(n,{previous:mu,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new hy(c&&c.currentValue,t,l===mu),uM(n,e,i,t)}var fM="__ngSimpleChanges__";function hM(n){return n[fM]||null}function oV(n,e){return n[fM]=e}var OT=[];var sr=function(n,e=null,t){for(let r=0;r<OT.length;r++){let i=OT[r];i(n,e,t)}},Gn=(function(n){return n[n.TemplateCreateStart=0]="TemplateCreateStart",n[n.TemplateCreateEnd=1]="TemplateCreateEnd",n[n.TemplateUpdateStart=2]="TemplateUpdateStart",n[n.TemplateUpdateEnd=3]="TemplateUpdateEnd",n[n.LifecycleHookStart=4]="LifecycleHookStart",n[n.LifecycleHookEnd=5]="LifecycleHookEnd",n[n.OutputStart=6]="OutputStart",n[n.OutputEnd=7]="OutputEnd",n[n.BootstrapApplicationStart=8]="BootstrapApplicationStart",n[n.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",n[n.BootstrapComponentStart=10]="BootstrapComponentStart",n[n.BootstrapComponentEnd=11]="BootstrapComponentEnd",n[n.ChangeDetectionStart=12]="ChangeDetectionStart",n[n.ChangeDetectionEnd=13]="ChangeDetectionEnd",n[n.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",n[n.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",n[n.AfterRenderHooksStart=16]="AfterRenderHooksStart",n[n.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",n[n.ComponentStart=18]="ComponentStart",n[n.ComponentEnd=19]="ComponentEnd",n[n.DeferBlockStateStart=20]="DeferBlockStateStart",n[n.DeferBlockStateEnd=21]="DeferBlockStateEnd",n[n.DynamicComponentStart=22]="DynamicComponentStart",n[n.DynamicComponentEnd=23]="DynamicComponentEnd",n[n.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",n[n.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",n})(Gn||{});function sV(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=dM(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function pM(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function cy(n,e,t){gM(n,e,3,t)}function uy(n,e,t,r){(n[nn]&3)===t&&gM(n,e,t,r)}function d2(n,e){let t=n[nn];(t&3)===e&&(t&=16383,t+=1,n[nn]=t)}function gM(n,e,t,r){let i=r!==void 0?n[Bd]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(n[Bd]+=65536),(a<o||o==-1)&&(aV(n,t,e,l),n[Bd]=(n[Bd]&4294901760)+l+2),l++}function RT(n,e){sr(Gn.LifecycleHookStart,n,e);let t=yn(null);try{e.call(n)}finally{yn(t),sr(Gn.LifecycleHookEnd,n,e)}}function aV(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[nn]>>14<n[Bd]>>16&&(n[nn]&3)===e&&(n[nn]+=16384,RT(a,o)):RT(a,o)}var _h=-1,qd=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function lV(n){return(n.flags&8)!==0}function cV(n){return(n.flags&16)!==0}function uV(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];dV(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function mM(n){return n===3||n===4||n===6}function dV(n){return n.charCodeAt(0)===64}function Pg(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?LT(n,t,i,null,e[++r]):LT(n,t,i,null,null))}}return n}function LT(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function vM(n){return n!==_h}function py(n){return n&32767}function fV(n){return n>>16}function gy(n,e){let t=fV(n),r=e;for(;t>0;)r=r[jd],t--;return r}var x2=!0;function my(n){let e=x2;return x2=n,e}var hV=256,yM=hV-1,bM=5,pV=0,Nl={};function gV(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Fd)&&(r=t[Fd]),r==null&&(r=t[Fd]=pV++);let i=r&yM,o=1<<i;e.data[n+(i>>bM)]|=o}function vy(n,e){let t=_M(n,e);if(t!==-1)return t;let r=e[Yt];r.firstCreatePass&&(n.injectorIndex=e.length,f2(r.data,n),f2(e,null),f2(r.blueprint,null));let i=z2(n,e),o=n.injectorIndex;if(vM(i)){let s=py(i),a=gy(i,e),l=a[Yt].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function f2(n,e){n.push(0,0,0,0,0,0,0,0,e)}function _M(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function z2(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=EM(i),r===null)return _h;if(t++,i=i[jd],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return _h}function C2(n,e,t){gV(n,e,t)}function mV(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(mM(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function wM(n,e,t){if(t&8||n!==void 0)return n;Hv(e,"NodeInjector")}function xM(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[bu],o=Uo(void 0);try{return i?i.get(e,r,t&8):Px(e,r,t&8)}finally{Uo(o)}}return wM(r,e,t)}function CM(n,e,t,r=0,i){if(n!==null){if(e[nn]&2048&&!(r&2)){let s=_V(n,e,t,r,Nl);if(s!==Nl)return s}let o=SM(n,e,t,r,Nl);if(o!==Nl)return o}return xM(e,t,r,i)}function SM(n,e,t,r,i){let o=yV(t);if(typeof o=="function"){if(!r2(e,n,r))return r&1?wM(i,t,r):xM(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Hv(t);else return s}finally{i2()}}else if(typeof o=="number"){let s=null,a=_M(n,e),l=_h,c=r&1?e[ua][ca]:null;for((a===-1||r&4)&&(l=a===-1?z2(n,e):e[a+8],l===_h||!jT(r,!1)?a=-1:(s=e[Yt],a=py(l),e=gy(l,e)));a!==-1;){let u=e[Yt];if(FT(o,a,u.data)){let d=vV(a,e,t,s,r,c);if(d!==Nl)return d}l=e[a+8],l!==_h&&jT(r,e[Yt].data[a+8]===c)&&FT(o,a,e)?(s=u,a=py(l),e=gy(l,e)):a=-1}}return i}function vV(n,e,t,r,i,o){let s=e[Yt],a=s.data[n+8],l=r==null?Cu(a)&&x2:r!=s&&(a.type&3)!==0,c=i&1&&o===a,u=dy(a,s,t,l,c);return u!==null?Og(e,s,u,a,i):Nl}function dy(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,l=n.directiveStart,c=n.directiveEnd,u=o>>20,d=r?a:a+u,p=i?a+u:c;for(let f=d;f<p;f++){let b=s[f];if(f<l&&t===b||f>=l&&b.type===t)return f}if(i){let f=s[l];if(f&&kl(f)&&f.type===t)return l}return null}function Og(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof qd){let a=o;if(a.resolving)throw Nx("");let l=my(a.canSeeViewProviders);a.resolving=!0;let c=s[t].type||s[t],u,d=a.injectImpl?Uo(a.injectImpl):null,p=r2(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&sV(t,s[t],e)}finally{d!==null&&Uo(d),my(l),a.resolving=!1,i2()}}return o}function yV(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Fd)?n[Fd]:void 0;return typeof e=="number"?e>=0?e&yM:bV:e}function FT(n,e,t){let r=1<<n;return!!(t[e+(n>>bM)]&r)}function jT(n,e){return!(n&2)&&!(n&1&&e)}var Hd=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return CM(this._tNode,this._lView,e,Od(r),t)}};function bV(){return new Hd(io(),Tn())}function Qa(n){return jg(()=>{let e=n.prototype.constructor,t=e[pg]||S2(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[pg]||S2(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function S2(n){return Cx(n)?()=>{let e=S2(to(n));return e&&e()}:hu(n)}function _V(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[nn]&2048&&!gh(s);){let a=SM(o,s,t,r|2,Nl);if(a!==Nl)return a;let l=o.parent;if(!l){let c=s[Ux];if(c){let u=c.get(t,Nl,r);if(u!==Nl)return u}l=EM(s),s=s[jd]}o=l}return i}function EM(n){let e=n[Yt],t=e.type;return t===2?e.declTNode:t===1?n[ca]:null}function Bg(n){return mV(io(),n)}function wV(){return Sh(io(),Tn())}function Sh(n,e){return new Hi($a(n,e))}var Hi=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=wV}return n})();function xV(n){return n instanceof Hi?n.nativeElement:n}function CV(){return this._results[Symbol.iterator]()}var yy=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new $r}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=G5(e);(this._changesDetected=!W5(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=CV};function DM(n){return(n.flags&128)===128}var H2=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(H2||{}),IM=new Map,SV=0;function EV(){return SV++}function DV(n){IM.set(n[wu],n)}function E2(n){IM.delete(n[wu])}var BT="__ngContext__";function wh(n,e){Ml(e)?(n[BT]=e[wu],DV(e)):n[BT]=e}function AM(n){return MM(n[hh])}function TM(n){return MM(n[la])}function MM(n){for(;n!==null&&!qa(n);)n=n[la];return n}var IV;function q2(n){IV=n}var Ty=new Ct("",{factory:()=>AV}),AV="ng";var My=new Ct(""),Vg=new Ct("",{providedIn:"platform",factory:()=>"unknown"});var ky=new Ct("",{factory:()=>Ye(fi).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var kM=!1,NM=new Ct("",{factory:()=>kM});var $2=new Ct("");var TV=(n,e,t,r)=>{};function MV(n,e,t,r){TV(n,e,t,r)}function W2(n){return(n.flags&32)===32}var kV=()=>null;function PM(n,e,t=!1){return kV(n,e,t)}function OM(n,e){let t=n.contentQueries;if(t!==null){let r=yn(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];ey(o),a.contentQueries(2,e[s],s)}}}finally{yn(r)}}}function D2(n,e,t){ey(0);let r=yn(null);try{e(n,t)}finally{yn(r)}}function G2(n,e,t){if(zx(e)){let r=yn(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{yn(r)}}}var Ka=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n[n.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",n})(Ka||{});var ay;function NV(){if(ay===void 0&&(ay=null,Sc.trustedTypes))try{ay=Sc.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return ay}function VT(n){return NV()?.createScriptURL(n)||n}var by=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Vv})`}};function Ug(n){return n instanceof by?n.changingThisBreaksApplicationSecurity:n}function Y2(n,e){let t=RM(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Vv})`)}return t===e}function RM(n){return n instanceof by&&n.getTypeName()||null}var PV=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function LM(n){return n=String(n),n.match(PV)?n:"unsafe:"+n}var OV=/^>|^->|<!--|-->|--!>|<!-$/g,RV=/(<|>)/g,LV="\u200B$1\u200B";function FV(n){return n.replace(OV,e=>e.replace(RV,LV))}function jV(n,e){return n.createText(e)}function BV(n,e,t){n.setValue(e,t)}function VV(n,e){return n.createComment(FV(e))}function FM(n,e,t){return n.createElement(e,t)}function _y(n,e,t,r,i){n.insertBefore(e,t,r,i)}function jM(n,e,t){n.appendChild(e,t)}function UT(n,e,t,r,i){r!==null?_y(n,e,t,r,i):jM(n,e,t)}function UV(n,e,t,r){n.removeChild(null,e,t,r)}function zV(n,e,t){n.setAttribute(e,"style",t)}function HV(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function BM(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&uV(n,e,r),i!==null&&HV(n,e,i),o!==null&&zV(n,e,o)}var Ny=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Ny||{});function zg(n){let e=UM();return e?e.sanitize(Ny.URL,n)||"":Y2(n,"URL")?Ug(n):LM(Dc(n))}function VM(n){let e=UM();if(e)return VT(e.sanitize(Ny.RESOURCE_URL,n)||"");if(Y2(n,"ResourceURL"))return VT(Ug(n));throw new gt(904,!1)}var qV=new Set(["embed","frame","iframe","media","script"]),$V=new Set(["base","link","script"]);function WV(n,e){return e==="src"&&qV.has(n)||e==="href"&&$V.has(n)||e==="xlink:href"&&n==="script"?VM:zg}function K2(n,e,t){return WV(e,t)(n)}function UM(){let n=Tn();return n&&n[Al].sanitizer}function zM(n){return n instanceof Function?n():n}function GV(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var HM="ng-template";function YV(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&GV(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Q2(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Q2(n){return n.type===4&&n.value!==HM}function KV(n,e,t){let r=n.type===4&&!t?HM:n.value;return e===r}function QV(n,e,t){let r=4,i=n.attrs,o=i!==null?JV(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!Ya(r)&&!Ya(l))return!1;if(s&&Ya(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!KV(n,l,t)||l===""&&e.length===1){if(Ya(r))return!1;s=!0}}else if(r&8){if(i===null||!YV(n,i,l,t)){if(Ya(r))return!1;s=!0}}else{let c=e[++a],u=ZV(l,i,Q2(n),t);if(u===-1){if(Ya(r))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&c!==d){if(Ya(r))return!1;s=!0}}}}return Ya(r)||s}function Ya(n){return(n&1)===0}function ZV(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return eU(e,n)}function XV(n,e,t=!1){for(let r=0;r<e.length;r++)if(QV(n,e[r],t))return!0;return!1}function JV(n){for(let e=0;e<n.length;e++){let t=n[e];if(mM(t))return e}return n.length}function eU(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function zT(n,e){return n?":not("+e.trim()+")":e}function tU(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Ya(s)&&(e+=zT(o,i),i=""),r=s,o=o||!Ya(r);t++}return i!==""&&(e+=zT(o,i)),e}function nU(n){return n.map(tU).join(",")}function rU(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Ya(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var zs={};function Z2(n,e,t,r,i,o,s,a,l,c,u){let d=Ui+r,p=d+i,f=iU(d,p),b=typeof c=="function"?c():c;return f[Yt]={type:n,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:b,incompleteFirstPass:!1,ssrId:u}}function iU(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:zs);return t}function oU(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Z2(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function X2(n,e,t,r,i,o,s,a,l,c,u){let d=e.blueprint.slice();return d[Ha]=i,d[nn]=r|4|128|8|64|1024,(c!==null||n&&n[nn]&2048)&&(d[nn]|=2048),$x(d),d[Vi]=d[jd]=n,d[vo]=t,d[Al]=s||n&&n[Al],d[Xr]=a||n&&n[Xr],d[bu]=l||n&&n[bu]||null,d[ca]=o,d[wu]=EV(),d[xg]=u,d[Ux]=c,d[ua]=e.type==2?n[ua]:d,d}function sU(n,e,t){let r=$a(e,n),i=oU(t),o=n[Al].rendererFactory,s=J2(n,X2(n,i,null,qM(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function qM(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function $M(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function J2(n,e){return n[hh]?n[Vx][la]=e:n[hh]=e,n[Vx]=e,e}function ge(n=1){WM(zi(),Tn(),Ic()+n,!1)}function WM(n,e,t,r){if(!r)if((e[nn]&3)===3){let o=n.preOrderCheckHooks;o!==null&&cy(e,o,t)}else{let o=n.preOrderHooks;o!==null&&uy(e,o,0,t)}Su(t)}var Py=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Py||{});function I2(n,e,t,r){let i=yn(null);try{let[o,s,a]=n.inputs[t],l=null;(s&Py.SignalBased)!==0&&(l=e[o][jo]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,l,r,t,o):uM(e,l,o,r)}finally{yn(i)}}var Pl=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Pl||{}),aU;function eC(n,e){return aU(n,e)}var xh=new Set,Oy=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(Oy||{}),Kd=new Ct(""),HT=new Set;function Qd(n){HT.has(n)||(HT.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var tC=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=ut({token:n,providedIn:"root",factory:()=>new n})}return n})(),GM=[0,1,2,3],YM=(()=>{class n{ngZone=Ye(Pr);scheduler=Ye(gu);errorHandler=Ye(Dl,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){Ye(Kd,{optional:!0})}execute(){let t=this.sequences.size>0;t&&sr(Gn.AfterRenderHooksStart),this.executing=!0;for(let r of GM)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&sr(Gn.AfterRenderHooksEnd)}register(t){let{view:r}=t;r!==void 0?((r[Vd]??=[]).push(t),mh(r),r[nn]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Oy.AFTER_NEXT_RENDER,t):t()}static \u0275prov=ut({token:n,providedIn:"root",factory:()=>new n})}return n})(),wy=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Vd];e&&(this.view[Vd]=e.filter(t=>t!==this))}};function Eh(n,e){let t=e?.injector??Ye(no);return Qd("NgAfterNextRender"),cU(n,t,e,!0)}function lU(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function cU(n,e,t,r){let i=e.get(tC);i.impl??=e.get(YM);let o=e.get(Kd,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(Wa):null,a=e.get(oy,null,{optional:!0}),l=new wy(i.impl,lU(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(l),l}var uU=new Ct("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:Ye(di)})});function KM(n,e,t){let r=n.get(uU);if(Array.isArray(e))for(let i of e)r.queue.add(i),t?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),t?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(n)}function dU(n,e){for(let[t,r]of e)KM(n,r.animateFns)}function qT(n,e,t,r){let i=n?.[Sg]?.enter;e!==null&&i&&i.has(t.index)&&dU(r,i)}function bh(n,e,t,r,i,o,s,a){if(i!=null){let l,c=!1;qa(i)?l=i:Ml(i)&&(c=!0,i=i[Ha]);let u=da(i);n===0&&r!==null?(qT(a,r,o,t),s==null?jM(e,r,u):_y(e,r,u,s||null,!0)):n===1&&r!==null?(qT(a,r,o,t),_y(e,r,u,s||null,!0)):n===2?$T(a,o,t,d=>{UV(e,u,c,d)}):n===3&&$T(a,o,t,()=>{e.destroyNode(u)}),l!=null&&SU(e,n,t,l,o,r,s)}}function fU(n,e){QM(n,e),e[Ha]=null,e[ca]=null}function hU(n,e,t,r,i,o){r[Ha]=i,r[ca]=e,Ry(n,r,t,1,i,o)}function QM(n,e){e[Al].changeDetectionScheduler?.notify(9),Ry(n,e,e[Xr],2,null,null)}function pU(n){let e=n[hh];if(!e)return h2(n[Yt],n);for(;e;){let t=null;if(Ml(e))t=e[hh];else{let r=e[zo];r&&(t=r)}if(!t){for(;e&&!e[la]&&e!==n;)Ml(e)&&h2(e[Yt],e),e=e[Vi];e===null&&(e=n),Ml(e)&&h2(e[Yt],e),t=e&&e[la]}e=t}}function nC(n,e){let t=n[Ud],r=t.indexOf(e);t.splice(r,1)}function ZM(n,e){if(zd(e))return;let t=e[Xr];t.destroyNode&&Ry(n,e,t,3,null,null),pU(e)}function h2(n,e){if(zd(e))return;let t=yn(null);try{e[nn]&=-129,e[nn]|=256,e[Bs]&&lg(e[Bs]),vU(n,e),mU(n,e),e[Yt].type===1&&e[Xr].destroy();let r=e[_u];if(r!==null&&qa(e[Vi])){r!==e[Vi]&&nC(r,e);let i=e[Tl];i!==null&&i.detachView(n)}E2(e)}finally{yn(t)}}function $T(n,e,t,r){let i=n?.[Sg];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);n&&xh.add(n[wu]),KM(t,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let l=0;l<s.animateFns.length;l++){let c=s.animateFns[l],{promise:u}=c();a.push(u)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),gU(n,r)}else n&&xh.delete(n[wu]),r(!1)},i)}function gU(n,e){let t=n[Sg]?.running;if(t){t.then(()=>{n[Sg].running=void 0,xh.delete(n[wu]),e(!0)});return}e(!1)}function mU(n,e){let t=n.cleanup,r=e[fh];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[fh]=null);let i=e[xc];if(i!==null){e[xc]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Cg];if(o!==null){e[Cg]=null;for(let s of o)s.destroy()}}function vU(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof qd)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];sr(Gn.LifecycleHookStart,a,l);try{l.call(a)}finally{sr(Gn.LifecycleHookEnd,a,l)}}else{sr(Gn.LifecycleHookStart,i,o);try{o.call(i)}finally{sr(Gn.LifecycleHookEnd,i,o)}}}}}function yU(n,e,t){return bU(n,e.parent,t)}function bU(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Ha];if(Cu(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Ka.None||i===Ka.Emulated)return null}return $a(r,t)}function _U(n,e,t){return xU(n,e,t)}function wU(n,e,t){return n.type&40?$a(n,t):null}var xU=wU,WT;function rC(n,e,t,r){let i=yU(n,r,e),o=e[Xr],s=r.parent||e[ca],a=_U(s,r,e);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)UT(o,i,t[l],a,!1);else UT(o,i,t,a,!1);WT!==void 0&&WT(o,r,e,t,i)}function kg(n,e){if(e!==null){let t=e.type;if(t&3)return $a(e,n);if(t&4)return A2(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return kg(n,r);{let i=n[e.index];return qa(i)?A2(-1,i):da(i)}}else{if(t&128)return kg(n,e.next);if(t&32)return eC(e,n)()||da(n[e.index]);{let r=XM(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=pu(n[ua]);return kg(i,r)}else return kg(n,e.next)}}}return null}function XM(n,e){if(e!==null){let r=n[ua][ca],i=e.projection;return r.projection[i]}return null}function A2(n,e){let t=zo+n+1;if(t<e.length){let r=e[t],i=r[Yt].firstChild;if(i!==null)return kg(r,i)}return e[xu]}function iC(n,e,t,r,i,o,s){for(;t!=null;){let a=r[bu];if(t.type===128){t=t.next;continue}let l=r[t.index],c=t.type;if(s&&e===0&&(l&&wh(da(l),r),t.flags|=2),!W2(t))if(c&8)iC(n,e,t.child,r,i,o,!1),bh(e,n,a,i,l,t,o,r);else if(c&32){let u=eC(t,r),d;for(;d=u();)bh(e,n,a,i,d,t,o,r);bh(e,n,a,i,l,t,o,r)}else c&16?CU(n,e,r,t,i,o):bh(e,n,a,i,l,t,o,r);t=s?t.projectionNext:t.next}}function Ry(n,e,t,r,i,o){iC(t,r,n.firstChild,e,i,o,!1)}function CU(n,e,t,r,i,o){let s=t[ua],l=s[ca].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];bh(e,n,t[bu],i,u,r,o,t)}else{let c=l,u=s[Vi];DM(r)&&(c.flags|=128),iC(n,e,c,u,i,o,!0)}}function SU(n,e,t,r,i,o,s){let a=r[xu],l=da(r);a!==l&&bh(e,n,t,o,a,i,s);for(let c=zo;c<r.length;c++){let u=r[c];Ry(u[Yt],u,n,e,o,a)}}function EU(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Pl.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Pl.Important),n.setStyle(t,r,i,o))}}function JM(n,e,t,r,i){let o=Ic(),s=r&2;try{Su(-1),s&&e.length>Ui&&WM(n,e,Ui,!1);let a=s?Gn.TemplateUpdateStart:Gn.TemplateCreateStart;sr(a,i,t),t(r,i)}finally{Su(o);let a=s?Gn.TemplateUpdateEnd:Gn.TemplateCreateEnd;sr(a,i,t)}}function Ly(n,e,t){NU(n,e,t),(t.flags&64)===64&&PU(n,e,t)}function oC(n,e,t=$a){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function DU(n,e,t,r){let o=r.get(NM,kM)||t===Ka.ShadowDom||t===Ka.ExperimentalIsolatedShadowDom,s=n.selectRootElement(e,o);return IU(s),s}function IU(n){AU(n)}var AU=()=>null;function TU(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function ek(n,e,t,r,i,o){let s=e[Yt];if(aC(n,s,e,t,r)){Cu(n)&&kU(e,n.index);return}n.type&3&&(t=TU(t)),MU(n,e,t,r,i,o)}function MU(n,e,t,r,i,o){if(n.type&3){let s=$a(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function kU(n,e){let t=fa(e,n);t[nn]&16||(t[nn]|=64)}function NU(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Cu(t)&&sU(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||vy(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],l=Og(e,n,s,t);if(wh(l,e),o!==null&&FU(e,s-r,l,a,t,o),kl(a)){let c=fa(t.index,e);c[vo]=Og(e,n,s,t)}}}function PU(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=wT();try{Su(o);for(let a=r;a<i;a++){let l=n.data[a],c=e[a];Jv(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&OU(l,c)}}finally{Su(-1),Jv(s)}}function OU(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function sC(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];XV(e,o.selectors,!1)&&(r??=[],kl(o)?r.unshift(o):r.push(o))}return r}function RU(n,e,t,r,i,o){let s=$a(n,e);LU(e[Xr],s,o,n.value,t,r,i)}function LU(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Dc(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function FU(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];I2(r,t,l,c)}}function tk(n,e,t,r,i){let o=Ui+t,s=e[Yt],a=i(s,e,n,r,t);e[o]=a,vh(n,!0);let l=n.type===2;return l?(BM(e[Xr],a,n),(cT()===0||ph(n))&&wh(a,e),uT()):wh(a,e),iy()&&(!l||!W2(n))&&rC(s,e,a,n),n}function nk(n){let e=n;return Zx()?mT():(e=e.parent,vh(e,!1)),e}function jU(n,e){let t=n[bu];if(!t)return;let r;try{r=t.get(Vs,null)}catch(i){r=null}r?.(e)}function aC(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],u=s[l+1],d=e.data[c];I2(d,t[c],u,i),a=!0}if(o)for(let l of o){let c=t[l],u=e.data[l];I2(u,c,r,i),a=!0}return a}function BU(n,e){let t=fa(e,n),r=t[Yt];VU(r,t);let i=t[Ha];i!==null&&t[xg]===null&&(t[xg]=PM(i,t[bu])),sr(Gn.ComponentStart);try{lC(r,t,t[vo])}finally{sr(Gn.ComponentEnd,t[vo])}}function VU(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function lC(n,e,t){ty(e);try{let r=n.viewQuery;r!==null&&D2(1,r,t);let i=n.template;i!==null&&JM(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Tl]?.finishViewCreation(n),n.staticContentQueries&&OM(n,e),n.staticViewQueries&&D2(2,n.viewQuery,t);let o=n.components;o!==null&&UU(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[nn]&=-5,ny()}}function UU(n,e){for(let t=0;t<e.length;t++)BU(n,e[t])}function zU(n,e,t,r){let i=yn(null);try{let o=e.tView,a=n[nn]&4096?4096:16,l=X2(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=n[e.index];l[_u]=c;let u=n[Tl];return u!==null&&(l[Tl]=u.createEmbeddedView(o)),lC(o,l,t),l}finally{yn(i)}}function GT(n,e){return!e||e.firstChild===null||DM(n)}function Rg(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(da(o)),qa(o)&&rk(o,r);let s=t.type;if(s&8)Rg(n,e,t.child,r);else if(s&32){let a=eC(t,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=XM(e,t);if(Array.isArray(a))r.push(...a);else{let l=pu(e[ua]);Rg(l[Yt],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function rk(n,e){for(let t=zo;t<n.length;t++){let r=n[t],i=r[Yt].firstChild;i!==null&&Rg(r[Yt],r,i,e)}n[xu]!==n[Ha]&&e.push(n[xu])}function ik(n){if(n[Vd]!==null){for(let e of n[Vd])e.impl.addSequence(e);n[Vd].length=0}}var ok=[];function HU(n){return n[Bs]??qU(n)}function qU(n){let e=ok.pop()??Object.create(WU);return e.lView=n,e}function $U(n){n.lView[Bs]!==n&&(n.lView=null,ok.push(n))}var WU=kt(Fe({},og),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{mh(n.lView)},consumerOnSignalRead(){this.lView[Bs]=this}});function GU(n){let e=n[Bs]??Object.create(YU);return e.lView=n,e}var YU=kt(Fe({},og),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=pu(n.lView);for(;e&&!sk(e[Yt]);)e=pu(e);e&&Wx(e)},consumerOnSignalRead(){this.lView[Bs]=this}});function sk(n){return n.type!==2}function ak(n){if(n[Cg]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Cg])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[nn]&8192)}}var KU=100;function lk(n,e=0){let r=n[Al].rendererFactory,i=!1;i||r.begin?.();try{QU(n,e)}finally{i||r.end?.()}}function QU(n,e){let t=Xx();try{Jx(!0),T2(n,e);let r=0;for(;Ig(n);){if(r===KU)throw new gt(103,!1);r++,T2(n,1)}}finally{Jx(t)}}function ZU(n,e,t,r){if(zd(e))return;let i=e[nn],o=!1,s=!1;ty(e);let a=!0,l=null,c=null;o||(sk(n)?(c=HU(e),l=ag(c)):rv()===null?(a=!1,c=GU(e),l=ag(c)):e[Bs]&&(lg(e[Bs]),e[Bs]=null));try{$x(e),yT(n.bindingStartIndex),t!==null&&JM(n,e,t,2,r);let u=(i&3)===3;if(!o)if(u){let f=n.preOrderCheckHooks;f!==null&&cy(e,f,null)}else{let f=n.preOrderHooks;f!==null&&uy(e,f,0,null),d2(e,0)}if(s||XU(e),ak(e),ck(e,0),n.contentQueries!==null&&OM(n,e),!o)if(u){let f=n.contentCheckHooks;f!==null&&cy(e,f)}else{let f=n.contentHooks;f!==null&&uy(e,f,1),d2(e,1)}ez(n,e);let d=n.components;d!==null&&dk(e,d,0);let p=n.viewQuery;if(p!==null&&D2(2,p,r),!o)if(u){let f=n.viewCheckHooks;f!==null&&cy(e,f)}else{let f=n.viewHooks;f!==null&&uy(e,f,2),d2(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Wv]){for(let f of e[Wv])f();e[Wv]=null}o||(ik(e),e[nn]&=-73)}catch(u){throw o||mh(e),u}finally{c!==null&&(iv(c,l),a&&$U(c)),ny()}}function ck(n,e){for(let t=AM(n);t!==null;t=TM(t))for(let r=zo;r<t.length;r++){let i=t[r];uk(i,e)}}function XU(n){for(let e=AM(n);e!==null;e=TM(e)){if(!(e[nn]&2))continue;let t=e[Ud];for(let r=0;r<t.length;r++){let i=t[r];Wx(i)}}}function JU(n,e,t){sr(Gn.ComponentStart);let r=fa(e,n);try{uk(r,t)}finally{sr(Gn.ComponentEnd,r[vo])}}function uk(n,e){Kv(n)&&T2(n,e)}function T2(n,e){let r=n[Yt],i=n[nn],o=n[Bs],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&ov(o)),s||=!1,o&&(o.dirty=!1),n[nn]&=-9217,s)ZU(r,n,r.template,n[vo]);else if(i&8192){let a=yn(null);try{ak(n),ck(n,1);let l=r.components;l!==null&&dk(n,l,1),ik(n)}finally{yn(a)}}}function dk(n,e,t){for(let r=0;r<e.length;r++)JU(n,e[r],t)}function ez(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Su(~i);else{let o=i,s=t[++r],a=t[++r];_T(s,o);let l=e[o];sr(Gn.HostBindingsUpdateStart,l);try{a(2,l)}finally{sr(Gn.HostBindingsUpdateEnd,l)}}}}finally{Su(-1)}}function cC(n,e){let t=Xx()?64:1088;for(n[Al].changeDetectionScheduler?.notify(e);n;){n[nn]|=t;let r=pu(n);if(gh(n)&&!r)return n;n=r}return null}function fk(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function tz(n,e,t,r=!0){let i=e[Yt];if(nz(i,e,n,t),r){let s=A2(t,n),a=e[Xr],l=a.parentNode(n[xu]);l!==null&&hU(i,n[ca],a,e,l,s)}let o=e[xg];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function M2(n,e){if(n.length<=zo)return;let t=zo+e,r=n[t];if(r){let i=r[_u];i!==null&&i!==n&&nC(i,r),e>0&&(n[t-1][la]=r[la]);let o=bg(n,zo+e);fU(r[Yt],r);let s=o[Tl];s!==null&&s.detachView(o[Yt]),r[Vi]=null,r[la]=null,r[nn]&=-129}return r}function nz(n,e,t,r){let i=zo+r,o=t.length;r>0&&(t[i-1][la]=e),r<o-zo?(e[la]=t[i],Ox(t,zo+r,e)):(t.push(e),e[la]=null),e[Vi]=t;let s=e[_u];s!==null&&t!==s&&hk(s,e);let a=e[Tl];a!==null&&a.insertView(n),Qv(e),e[nn]|=128}function hk(n,e){let t=n[Ud],r=e[Vi];if(Ml(r))n[nn]|=2;else{let i=r[Vi][ua];e[ua]!==i&&(n[nn]|=2)}t===null?n[Ud]=[e]:t.push(e)}var Eu=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[Yt];return Rg(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[vo]}set context(e){this._lView[vo]=e}get destroyed(){return zd(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Vi];if(qa(e)){let t=e[Eg],r=t?t.indexOf(this):-1;r>-1&&(M2(e,r),bg(t,r))}this._attachedToViewContainer=!1}ZM(this._lView[Yt],this._lView)}onDestroy(e){Gx(this._lView,e)}markForCheck(){cC(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[nn]&=-129}reattach(){Qv(this._lView),this._lView[nn]|=128}detectChanges(){this._lView[nn]|=1024,lk(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new gt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=gh(this._lView),t=this._lView[_u];t!==null&&!e&&nC(t,this._lView),QM(this._lView[Yt],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new gt(902,!1);this._appRef=e;let t=gh(this._lView),r=this._lView[_u];r!==null&&!t&&hk(r,this._lView),Qv(this._lView)}};var Du=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=rz;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=zU(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Eu(o)}}return n})();function rz(){return Fy(io(),Tn())}function Fy(n,e){return n.type&4?new Du(e,n,Sh(n,e)):null}function uC(n,e,t,r,i){let o=n.data[e];if(o===null)o=iz(n,e,t,r,i),bT()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=gT();o.injectorIndex=s===null?-1:s.injectorIndex}return vh(o,!0),o}function iz(n,e,t,r,i){let o=Qx(),s=Zx(),a=s?o:o&&o.parent,l=n.data[e]=sz(n,a,t,e,r,i);return oz(n,l,o,s),l}function oz(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function sz(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return fT()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var az=()=>null;function YT(n,e){return az(n,e)}var pk=class{},jy=class{},k2=class{resolveComponentFactory(e){throw new gt(917,!1)}},Hg=class{static NULL=new k2},$d=class{},ha=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>lz()}return n})();function lz(){let n=Tn(),e=io(),t=fa(e.index,n);return(Ml(t)?t:n)[Xr]}var gk=(()=>{class n{static \u0275prov=ut({token:n,providedIn:"root",factory:()=>null})}return n})();var fy={},N2=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,fy,r);return i!==fy||t===fy?i:this.parentInjector.get(e,t,r)}};function KT(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=xx(i,a);else if(o==2){let l=a,c=e[++s];r=xx(r,l+": "+c+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function lt(n,e=0){let t=Tn();if(t===null)return xt(n,e);let r=io();return CM(r,t,to(n),e)}function dC(){let n="invalid";throw new Error(n)}function mk(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,l=null,c=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,l,c]=u.resolveHostDirectives(s);break}dz(n,e,t,a,o,l,c)}o!==null&&r!==null&&cz(t,r,o)}function cz(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new gt(-301,!1);r.push(e[i],o)}}function uz(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function dz(n,e,t,r,i,o,s){let a=r.length,l=null;for(let p=0;p<a;p++){let f=r[p];l===null&&kl(f)&&(l=f,uz(n,t,p)),C2(vy(t,e),n,f.type)}vz(t,n.data.length,a),l?.viewProvidersResolver&&l.viewProvidersResolver(l);for(let p=0;p<a;p++){let f=r[p];f.providersResolver&&f.providersResolver(f)}let c=!1,u=!1,d=$M(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let p=0;p<a;p++){let f=r[p];if(t.mergedAttrs=Pg(t.mergedAttrs,f.hostAttrs),hz(n,t,e,d,f),mz(d,f,i),s!==null&&s.has(f)){let[_,C]=s.get(f);t.directiveToIndex.set(f.type,[d,_+t.directiveStart,C+t.directiveStart])}else(o===null||!o.has(f))&&t.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(t.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(t.flags|=64);let b=f.type.prototype;!c&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),c=!0),!u&&(b.ngOnChanges||b.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),u=!0),d++}fz(n,t,o)}function fz(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))QT(0,e,i,r),QT(1,e,i,r),XT(e,r,!1);else{let o=t.get(i);ZT(0,e,o,r),ZT(1,e,o,r),XT(e,r,!0)}}}function QT(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),vk(e,o)}}function ZT(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),vk(e,s)}}function vk(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function XT(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||Q2(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&i.hasOwnProperty(l)){let c=i[l];for(let u of c)if(u===e){s??=[],s.push(l,r[a+1]);break}}else if(t&&o.hasOwnProperty(l)){let c=o[l];for(let u=0;u<c.length;u+=2)if(c[u]===e){s??=[],s.push(c[u+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function hz(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=hu(i.type,!0)),s=new qd(o,kl(i),lt,null);n.blueprint[r]=s,t[r]=s,pz(n,e,r,$M(n,t,i.hostVars,zs),i)}function pz(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;gz(s)!=a&&s.push(a),s.push(t,r,o)}}function gz(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function mz(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;kl(e)&&(t[""]=n)}}function vz(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function fC(n,e,t,r,i,o,s,a){let l=e[Yt],c=l.consts,u=Dg(c,s),d=uC(l,n,t,r,u);return o&&mk(l,e,d,Dg(c,a),i),d.mergedAttrs=Pg(d.mergedAttrs,d.attrs),d.attrs!==null&&KT(d,d.attrs,!1),d.mergedAttrs!==null&&KT(d,d.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,d),d}function hC(n,e){pM(n,e),zx(e)&&n.queries.elementEnd(e)}function pC(n){return bk(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function yk(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function bk(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function _k(n,e,t){return n[e]=t}function Tc(n,e,t){if(t===zs)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function gC(n,e,t,r){let i=Tc(n,e,t);return Tc(n,e+1,r)||i}function yz(n,e,t,r,i){let o=gC(n,e,t,r);return Tc(n,e+2,i)||o}function p2(n,e,t){return function r(i){let o=Cu(n)?fa(n.index,e):e;cC(o,5);let s=e[vo],a=JT(e,s,t,i),l=r.__ngNextListenerFn__;for(;l;)a=JT(e,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function JT(n,e,t,r){let i=yn(null);try{return sr(Gn.OutputStart,e,t),t(r)!==!1}catch(o){return jU(n,o),!1}finally{sr(Gn.OutputEnd,e,t),yn(i)}}function bz(n,e,t,r,i,o,s,a){let l=ph(n),c=!1,u=null;if(!r&&l&&(u=wz(e,t,o,n.index)),u!==null){let d=u.__ngLastListenerFn__||u;d.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,c=!0}else{let d=$a(n,t),p=r?r(d):d;MV(t,p,o,a);let f=i.listen(p,o,a);if(!_z(o)){let b=r?_=>r(da(_[n.index])):n.index;wk(b,e,t,o,a,f,!1)}}return c}function _z(n){return n.startsWith("animation")||n.startsWith("transition")}function wz(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[fh],l=i[o+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function wk(n,e,t,r,i,o,s){let a=e.firstCreatePass?Kx(e):null,l=Yx(t),c=l.length;l.push(i,o),a&&a.push(r,n,c,(c+1)*(s?-1:1))}function eM(n,e,t,r,i,o){let s=e[t],a=e[Yt],c=a.data[t].outputs[r],d=s[c].subscribe(o);wk(n.index,a,e,i,o,d,!0)}var P2=Symbol("BINDING");var xy=class extends Hg{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Ec(e);return new Wd(t,this.ngModule)}};function xz(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Py.SignalBased)!==0};return i&&(o.transform=i),o})}function Cz(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function Sz(n,e,t){let r=e instanceof di?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new N2(t,r):t}function Ez(n){let e=n.get($d,null);if(e===null)throw new gt(407,!1);let t=n.get(gk,null),r=n.get(gu,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function Dz(n,e){let t=xk(n);return FM(e,t,t==="svg"?nT:t==="math"?rT:null)}function xk(n){return(n.selectors[0][0]||"div").toLowerCase()}var Wd=class extends jy{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=xz(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Cz(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=nU(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){sr(Gn.DynamicComponentStart);let a=yn(null);try{let l=this.componentDef,c=Iz(r,l,s,o),u=Sz(l,i||this.ngModule,e),d=Ez(u),p=d.rendererFactory.createRenderer(null,l),f=r?DU(p,r,l.encapsulation,u):Dz(l,p),b=s?.some(tM)||o?.some(S=>typeof S!="function"&&S.bindings.some(tM)),_=X2(null,c,null,512|qM(l),null,null,d,p,u,null,PM(f,u,!0));_[Ui]=f,ty(_);let C=null;try{let S=fC(Ui,_,2,"#host",()=>c.directiveRegistry,!0,0);BM(p,f,S),wh(f,_),Ly(c,_,S),G2(c,S,_),hC(c,S),t!==void 0&&Tz(S,this.ngContentSelectors,t),C=fa(S.index,_),_[vo]=C[vo],lC(c,_,null)}catch(S){throw C!==null&&E2(C),E2(_),S}finally{sr(Gn.DynamicComponentEnd),ny()}return new Cy(this.componentType,_,!!b)}finally{yn(a)}}};function Iz(n,e,t,r){let i=n?["ng-version","21.1.2"]:rU(e.selectors[0]),o=null,s=null,a=0;if(t)for(let u of t)a+=u[P2].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let d=r[u];if(typeof d!="function")for(let p of d.bindings){a+=p[P2].requiredVars;let f=u+1;p.create&&(p.targetIdx=f,(o??=[]).push(p)),p.update&&(p.targetIdx=f,(s??=[]).push(p))}}let l=[e];if(r)for(let u of r){let d=typeof u=="function"?u:u.type,p=kx(d);l.push(p)}return Z2(0,null,Az(o,s),1,a,l,null,null,null,[i],null)}function Az(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function tM(n){let e=n[P2].kind;return e==="input"||e==="twoWay"}var Cy=class extends pk{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Gv(t[Yt],Ui),this.location=Sh(this._tNode,t),this.instance=fa(this._tNode.index,t)[vo],this.hostView=this.changeDetectorRef=new Eu(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=aC(r,i[Yt],i,e,t);this.previousInputValues.set(e,t);let s=fa(r.index,i);cC(s,1)}get injector(){return new Hd(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Tz(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Ol=(()=>{class n{static __NG_ELEMENT_ID__=Mz}return n})();function Mz(){let n=io();return Sk(n,Tn())}var kz=Ol,Ck=class extends kz{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Sh(this._hostTNode,this._hostLView)}get injector(){return new Hd(this._hostTNode,this._hostLView)}get parentInjector(){let e=z2(this._hostTNode,this._hostLView);if(vM(e)){let t=gy(e,this._hostLView),r=py(e),i=t[Yt].data[r+8];return new Hd(i,t)}else return new Hd(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=nM(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-zo}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=YT(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,GT(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let l=e&&!nV(e),c;if(l)c=t;else{let C=t||{};c=C.index,r=C.injector,i=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef,s=C.directives,a=C.bindings}let u=l?e:new Wd(Ec(e)),d=r||this.parentInjector;if(!o&&u.ngModule==null){let S=(l?d:this.parentInjector).get(di,null);S&&(o=S)}let p=Ec(u.componentType??{}),f=YT(this._lContainer,p?.id??null),b=f?.firstChild??null,_=u.create(d,i,b,o,s,a);return this.insertImpl(_.hostView,c,GT(this._hostTNode,f)),_}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(oT(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[Vi],c=new Ck(l,l[ca],l[Vi]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return tz(s,i,o,r),e.attachToViewContainerRef(),Ox(g2(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=nM(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=M2(this._lContainer,t);r&&(bg(g2(this._lContainer),t),ZM(r[Yt],r))}detach(e){let t=this._adjustIndex(e,-1),r=M2(this._lContainer,t);return r&&bg(g2(this._lContainer),t)!=null?new Eu(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function nM(n){return n[Eg]}function g2(n){return n[Eg]||(n[Eg]=[])}function Sk(n,e){let t,r=e[n.index];return qa(r)?t=r:(t=fk(r,e,null,n),e[n.index]=t,J2(e,t)),Pz(t,e,n,r),new Ck(t,n,e)}function Nz(n,e){let t=n[Xr],r=t.createComment(""),i=$a(e,n),o=t.parentNode(i);return _y(t,o,r,t.nextSibling(i),!1),r}var Pz=Lz,Oz=()=>!1;function Rz(n,e,t){return Oz(n,e,t)}function Lz(n,e,t,r){if(n[xu])return;let i;t.type&8?i=da(r):i=Nz(e,t),n[xu]=i}var O2=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},R2=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)mC(e,t).matches!==null&&this.queries[t].setDirty()}},Sy=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=qz(e):this.predicate=e}},L2=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},F2=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,Fz(t,o)),this.matchTNodeWithReadOption(e,t,dy(t,e,o,!1,!1))}else r===Du?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,dy(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Hi||i===Ol||i===Du&&t.type&4)this.addMatch(t.index,-2);else{let o=dy(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function Fz(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function jz(n,e){return n.type&11?Sh(n,e):n.type&4?Fy(n,e):null}function Bz(n,e,t,r){return t===-1?jz(e,n):t===-2?Vz(n,e,r):Og(n,n[Yt],t,e)}function Vz(n,e,t){if(t===Hi)return Sh(e,n);if(t===Du)return Fy(e,n);if(t===Ol)return Sk(e,n)}function Ek(n,e,t,r){let i=e[Tl].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let u=o[c];a.push(Bz(e,u,s[l+1],t.metadata.read))}}i.matches=a}return i.matches}function j2(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=Ek(n,e,i,t);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let c=o[a+1],u=e[-l];for(let d=zo;d<u.length;d++){let p=u[d];p[_u]===p[Vi]&&j2(p[Yt],p,c,r)}if(u[Ud]!==null){let d=u[Ud];for(let p=0;p<d.length;p++){let f=d[p];j2(f[Yt],f,c,r)}}}}}return r}function Uz(n,e){return n[Tl].queries[e].queryList}function Dk(n,e,t){let r=new yy((t&4)===4);return lT(n,e,r,r.destroy),(e[Tl]??=new R2).queries.push(new O2(r))-1}function zz(n,e,t){let r=zi();return r.firstCreatePass&&(Ik(r,new Sy(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),Dk(r,Tn(),e)}function Hz(n,e,t,r){let i=zi();if(i.firstCreatePass){let o=io();Ik(i,new Sy(e,t,r),o.index),$z(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return Dk(i,Tn(),t)}function qz(n){return n.split(",").map(e=>e.trim())}function Ik(n,e,t){n.queries===null&&(n.queries=new L2),n.queries.track(new F2(e,t))}function $z(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function mC(n,e){return n.queries.getByIndex(e)}function Wz(n,e){let t=n[Yt],r=mC(t,e);return r.crossesNgTemplate?j2(t,n,e,[]):Ek(t,n,r,e)}var Gd=class{},By=class{};var Ey=class extends Gd{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new xy(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Mx(e);this._bootstrapComponents=zM(o.bootstrap),this._r3Injector=o2(e,t,[{provide:Gd,useValue:this},{provide:Hg,useValue:this.componentFactoryResolver},...r],Cc(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Dy=class extends By{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Ey(this.moduleType,e,[])}};var Lg=class extends Gd{injector;componentFactoryResolver=new xy(this);instance=null;constructor(e){super();let t=new Ld([...e.providers,{provide:Gd,useValue:this},{provide:Hg,useValue:this.componentFactoryResolver}],e.parent||wg(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Dh(n,e,t=null){return new Lg({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var Gz=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Fx(!1,t.type),i=r.length>0?Dh([r],this._injector,""):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ut({token:n,providedIn:"environment",factory:()=>new n(xt(di))})}return n})();function Pi(n){return jg(()=>{let e=Ak(n),t=kt(Fe({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===H2.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(Gz).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Ka.Emulated,styles:n.styles||Fs,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Qd("NgStandalone"),Tk(t);let r=n.dependencies;return t.directiveDefs=rM(r,Yz),t.pipeDefs=rM(r,z5),t.id=Zz(t),t})}function Yz(n){return Ec(n)||kx(n)}function Za(n){return jg(()=>({type:n.type,bootstrap:n.bootstrap||Fs,declarations:n.declarations||Fs,imports:n.imports||Fs,exports:n.exports||Fs,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Kz(n,e){if(n==null)return mu;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=Py.None,l=null),t[o]=[r,a,l],e[o]=s}return t}function Qz(n){if(n==null)return mu;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Er(n){return jg(()=>{let e=Ak(n);return Tk(e),e})}function qg(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ak(n){let e={};return{type:n.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||mu,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Fs,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Kz(n.inputs,e),outputs:Qz(n.outputs),debugInfo:null}}function Tk(n){n.features?.forEach(e=>e(n))}function rM(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function Zz(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Xz(n){return Object.getPrototypeOf(n.prototype).constructor}function Hs(n){let e=Xz(n.type),t=!0,r=[n];for(;e;){let i;if(kl(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new gt(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=m2(n.inputs),s.declaredInputs=m2(n.declaredInputs),s.outputs=m2(n.outputs);let a=i.hostBindings;a&&rH(n,a);let l=i.viewQuery,c=i.contentQueries;if(l&&tH(n,l),c&&nH(n,c),Jz(n,i),U5(n.outputs,i.outputs),kl(i)&&i.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Hs&&(t=!1)}}e=Object.getPrototypeOf(e)}eH(r)}function Jz(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function eH(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Pg(i.hostAttrs,t=Pg(t,i.hostAttrs))}}function m2(n){return n===mu?{}:n===Fs?[]:n}function tH(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function nH(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function rH(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function iH(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=Pg(n.mergedAttrs,n.attrs);let u=n.tView=Z2(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),u.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),vh(n,!1);let l=sH(t,e,n,r);iy()&&rC(t,e,l,n),wh(l,e);let c=fk(l,e,l,n);e[r+Ui]=c,J2(e,c),Rz(c,n,e)}function oH(n,e,t,r,i,o,s,a,l,c,u){let d=t+Ui,p;return e.firstCreatePass?(p=uC(e,d,4,s||null,a||null),Zv()&&mk(e,n,p,Dg(e.consts,c),sC),pM(e,p)):p=e.data[d],iH(p,n,e,t,r,i,o,l),ph(p)&&Ly(e,n,p),c!=null&&oC(n,p,u),p}function bt(n,e,t,r,i,o,s,a){let l=Tn(),c=zi(),u=Dg(c.consts,o);return oH(l,c,n,e,t,r,i,u,void 0,s,a),bt}var sH=aH;function aH(n,e,t,r){return Tg(!0),e[Xr].createComment("")}var vC=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function Mk(n){return typeof n=="function"&&n[jo]!==void 0}function yC(n){return Mk(n)&&typeof n.set=="function"}var bC=new Ct("");function Mc(n){return!!n&&typeof n.then=="function"}function Vy(n){return!!n&&typeof n.subscribe=="function"}var _C=new Ct("");function Ih(n){return yu([{provide:_C,multi:!0,useValue:n}])}var wC=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=Ye(_C,{optional:!0})??[];injector=Ye(no);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=ro(this.injector,i);if(Mc(o))t.push(o);else if(Vy(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$g=new Ct("");function kk(){zw(()=>{let n="";throw new gt(600,n)})}function Nk(n){return n.isBoundToModule}var lH=10;var is=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=Ye(Vs);afterRenderManager=Ye(tC);zonelessEnabled=Ye(yh);rootEffectScheduler=Ye(u2);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new $r;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=Ye(Ac);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Nn(t=>!t))}constructor(){Ye(Kd,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=Ye(di);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=no.NULL){return this._injector.get(Pr).run(()=>{sr(Gn.BootstrapComponentStart);let s=t instanceof jy;if(!this._injector.get(wC).done){let b="";throw new gt(405,b)}let l;s?l=t:l=this._injector.get(Hg).resolveComponentFactory(t),this.componentTypes.push(l.componentType);let c=Nk(l)?void 0:this._injector.get(Gd),u=r||l.selector,d=l.create(i,[],u,c),p=d.location.nativeElement,f=d.injector.get(bC,null);return f?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),Ng(this.components,d),f?.unregisterApplication(p)}),this._loadComponent(d),sr(Gn.BootstrapComponentEnd,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){sr(Gn.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(Oy.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw sr(Gn.ChangeDetectionEnd),new gt(101,!1);let t=yn(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,yn(t),this.afterTick.next(),sr(Gn.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get($d,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<lH;){sr(Gn.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{sr(Gn.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Ig(i))continue;let o=r&&!this.zonelessEnabled?0:1;lk(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Ig(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Ng(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get($g,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Ng(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new gt(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ng(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Ah(n,e,t,r){let i=Tn(),o=Ag();if(Tc(i,o,e)){let s=zi(),a=ry();RU(a,i,n,e,t,r)}return Ah}var nme=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function Ue(n,e,t){let r=Tn(),i=Ag();if(Tc(r,i,e)){let o=zi(),s=ry();ek(s,r,n,e,r[Xr],t)}return Ue}function iM(n,e,t,r,i){aC(e,n,t,i?"class":"style",r)}function z(n,e,t,r){let i=Tn(),o=i[Yt],s=n+Ui,a=o.firstCreatePass?fC(s,i,2,e,sC,Zv(),t,r):o.data[s];if(tk(a,i,n,e,cH),ph(a)){let l=i[Yt];Ly(l,i,a),G2(l,a,i)}return r!=null&&oC(i,a),z}function B(){let n=zi(),e=io(),t=nk(e);return n.firstCreatePass&&hC(n,t),hT(t)&&pT(),dT(),t.classesWithoutHost!=null&&lV(t)&&iM(n,t,Tn(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&cV(t)&&iM(n,t,Tn(),t.stylesWithoutHost,!1),B}function yo(n,e,t,r){return z(n,e,t,r),B(),yo}var cH=(n,e,t,r,i)=>(Tg(!0),FM(e[Xr],r,IT()));function xC(n,e,t){let r=Tn(),i=r[Yt],o=n+Ui,s=i.firstCreatePass?fC(o,r,8,"ng-container",sC,Zv(),e,t):i.data[o];if(tk(s,r,n,"ng-container",uH),ph(s)){let a=r[Yt];Ly(a,r,s),G2(a,s,r)}return t!=null&&oC(r,s),xC}function CC(){let n=zi(),e=io(),t=nk(e);return n.firstCreatePass&&hC(n,t),CC}function Xa(n,e,t){return xC(n,e,t),CC(),Xa}var uH=(n,e,t,r,i)=>(Tg(!0),VV(e[Xr],""));function wn(){return Tn()}var Mg=void 0;function dH(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var fH=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Mg,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Mg,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",Mg,Mg,Mg],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",dH],v2={};function os(n){let e=hH(n),t=oM(e);if(t)return t;let r=e.split("-")[0];if(t=oM(r),t)return t;if(r==="en")return fH;throw new gt(701,!1)}function oM(n){return n in v2||(v2[n]=Sc.ng&&Sc.ng.common&&Sc.ng.common.locales&&Sc.ng.common.locales[n]),v2[n]}var oi=(function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n})(oi||{});function hH(n){return n.toLowerCase().replace(/_/g,"-")}var Wg="en-US";var pH=Wg;function Pk(n){typeof n=="string"&&(pH=n.toLowerCase().replace(/_/g,"-"))}function tt(n,e,t){let r=Tn(),i=zi(),o=io();return Ok(i,r,r[Xr],o,n,e,t),tt}function Ok(n,e,t,r,i,o,s){let a=!0,l=null;if((r.type&3||s)&&(l??=p2(r,e,o),bz(r,n,e,s,t,i,o,l)&&(a=!1)),a){let c=r.outputs?.[i],u=r.hostDirectiveOutputs?.[i];if(u&&u.length)for(let d=0;d<u.length;d+=2){let p=u[d],f=u[d+1];l??=p2(r,e,o),eM(r,e,p,f,i,l)}if(c&&c.length)for(let d of c)l??=p2(r,e,o),eM(r,e,d,i,i,l)}}function $e(n=1){return DT(n)}function Uy(n,e,t,r){return Hz(n,e,t,r),Uy}function Th(n,e,t){return zz(n,e,t),Th}function Zd(n){let e=Tn(),t=zi(),r=n2();ey(r+1);let i=mC(t,r);if(n.dirty&&iT(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=Wz(e,r);n.reset(o,xV),n.notifyOnChanges()}return!0}return!1}function Xd(){return Uz(Tn(),n2())}function Jd(n){let e=vT();return Yv(e,Ui+n)}function ly(n,e){return n<<17|e<<2}function Yd(n){return n>>17&32767}function gH(n){return(n&2)==2}function mH(n,e){return n&131071|e<<17}function B2(n){return n|2}function Ch(n){return(n&131068)>>2}function y2(n,e){return n&-131069|e<<2}function vH(n){return(n&1)===1}function V2(n){return n|1}function yH(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Yd(s),l=Ch(s);n[r]=t;let c=!1,u;if(Array.isArray(t)){let d=t;u=d[1],(u===null||dh(d,u)>0)&&(c=!0)}else u=t;if(i)if(l!==0){let p=Yd(n[a+1]);n[r+1]=ly(p,a),p!==0&&(n[p+1]=y2(n[p+1],r)),n[a+1]=mH(n[a+1],r)}else n[r+1]=ly(a,0),a!==0&&(n[a+1]=y2(n[a+1],r)),a=r;else n[r+1]=ly(l,0),a===0?a=r:n[l+1]=y2(n[l+1],r),l=r;c&&(n[r+1]=B2(n[r+1])),sM(n,u,r,!0),sM(n,u,r,!1),bH(e,u,n,r,o),s=ly(a,l),o?e.classBindings=s:e.styleBindings=s}function bH(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&dh(o,e)>=0&&(t[r+1]=V2(t[r+1]))}function sM(n,e,t,r){let i=n[t+1],o=e===null,s=r?Yd(i):Ch(i),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],c=n[s+1];_H(l,e)&&(a=!0,n[s+1]=r?V2(c):B2(c)),s=r?Yd(c):Ch(c)}a&&(n[t+1]=r?B2(i):V2(i))}function _H(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?dh(n,e)>=0:!1}function wr(n,e){return wH(n,e,null,!0),wr}function wH(n,e,t,r){let i=Tn(),o=zi(),s=Xv(2);if(o.firstUpdatePass&&CH(o,n,s,r),e!==zs&&Tc(i,s,e)){let a=o.data[Ic()];AH(o,a,i,i[Xr],n,i[s+1]=TH(e,t),r,s)}}function xH(n,e){return e>=n.expandoStartIndex}function CH(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Ic()],s=xH(n,t);MH(o,r)&&e===null&&!s&&(e=!1),e=SH(i,o,e,r),yH(i,o,e,t,s,r)}}function SH(n,e,t,r){let i=xT(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=b2(null,n,e,t,r),t=Fg(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=b2(i,n,e,t,r),o===null){let l=EH(n,e,r);l!==void 0&&Array.isArray(l)&&(l=b2(null,n,e,l[1],r),l=Fg(l,e.attrs,r),DH(n,e,r,l))}else o=IH(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function EH(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Ch(r)!==0)return n[Yd(r)]}function DH(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Yd(i)]=r}function IH(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Fg(r,s,t)}return Fg(r,e.attrs,t)}function b2(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Fg(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Fg(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),K5(n,s,t?!0:e[++o]))}return n===void 0?null:n}function AH(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let l=n.data,c=l[a+1],u=vH(c)?aM(l,e,t,i,Ch(c),s):void 0;if(!Iy(u)){Iy(o)||gH(c)&&(o=aM(l,null,t,i,a,s));let d=Hx(Ic(),t);EU(r,s,d,i,o)}}function aM(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,p=t[i+1];p===zs&&(p=d?Fs:void 0);let f=d?$v(p,r):u===r?p:void 0;if(c&&!Iy(f)&&(f=$v(l,r)),Iy(f)&&(a=f,s))return a;let b=n[i+1];i=s?Yd(b):Ch(b)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=$v(l,r))}return a}function Iy(n){return n!==void 0}function TH(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Cc(Ug(n)))),n}function MH(n,e){return(n.flags&(e?8:16))!==0}function ee(n,e=""){let t=Tn(),r=zi(),i=n+Ui,o=r.firstCreatePass?uC(r,i,1,e,null):r.data[i],s=kH(r,t,o,e);t[i]=s,iy()&&rC(r,t,s,o),vh(o,!1)}var kH=(n,e,t,r)=>(Tg(!0),jV(e[Xr],r));function Rk(n,e,t,r=""){return Tc(n,Ag(),t)?e+Dc(t)+r:zs}function NH(n,e,t,r,i,o=""){let s=t2(),a=gC(n,s,t,i);return Xv(2),a?e+Dc(t)+r+Dc(i)+o:zs}function PH(n,e,t,r,i,o,s,a=""){let l=t2(),c=yz(n,l,t,i,s);return Xv(3),c?e+Dc(t)+r+Dc(i)+o+Dc(s)+a:zs}function Ln(n){return Gt("",n),Ln}function Gt(n,e,t){let r=Tn(),i=Rk(r,n,e,t);return i!==zs&&SC(r,Ic(),i),Gt}function Iu(n,e,t,r,i){let o=Tn(),s=NH(o,n,e,t,r,i);return s!==zs&&SC(o,Ic(),s),Iu}function Au(n,e,t,r,i,o,s){let a=Tn(),l=PH(a,n,e,t,r,i,o,s);return l!==zs&&SC(a,Ic(),l),Au}function SC(n,e,t){let r=Hx(e,n);BV(n[Xr],r,t)}function Yn(n,e,t){yC(e)&&(e=e());let r=Tn(),i=Ag();if(Tc(r,i,e)){let o=zi(),s=ry();ek(s,r,n,e,r[Xr],t)}return Yn}function tr(n,e){let t=yC(n);return t&&n.set(e),t}function Kn(n,e){let t=Tn(),r=zi(),i=io();return Ok(r,t,t[Xr],i,n,e),Kn}function zy(n,e,t=""){return Rk(Tn(),n,e,t)}function lM(n,e,t){let r=zi();r.firstCreatePass&&Lk(e,r.data,r.blueprint,kl(n),t)}function Lk(n,e,t,r,i){if(n=to(n),Array.isArray(n))for(let o=0;o<n.length;o++)Lk(n[o],e,t,r,i);else{let o=zi(),s=Tn(),a=io(),l=Rd(n)?n:to(n.provide),c=Bx(n),u=a.providerIndexes&1048575,d=a.directiveStart,p=a.providerIndexes>>20;if(Rd(n)||!n.multi){let f=new qd(c,i,lt,null),b=w2(l,e,i?u:u+p,d);b===-1?(C2(vy(a,s),o,l),_2(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(f),s.push(f)):(t[b]=f,s[b]=f)}else{let f=w2(l,e,u+p,d),b=w2(l,e,u,u+p),_=f>=0&&t[f],C=b>=0&&t[b];if(i&&!C||!i&&!_){C2(vy(a,s),o,l);let S=LH(i?RH:OH,t.length,i,r,c,n);!i&&C&&(t[b].providerFactory=S),_2(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(S),s.push(S)}else{let S=Fk(t[i?b:f],c,!i&&r);_2(o,n,f>-1?f:b,S)}!i&&r&&C&&t[b].componentProviders++}}}function _2(n,e,t,r){let i=Rd(e),o=J5(e);if(i||o){let l=(o?to(e.useClass):e).prototype.ngOnDestroy;if(l){let c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let u=c.indexOf(t);u===-1?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function Fk(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function w2(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function OH(n,e,t,r,i){return U2(this.multi,[])}function RH(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=Og(r,r[Yt],this.providerFactory.index,i);s=l.slice(0,a),U2(o,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],U2(o,s);return s}function U2(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function LH(n,e,t,r,i,o){let s=new qd(n,t,lt,null);return s.multi=[],s.index=e,s.componentProviders=0,Fk(s,i,r&&!t),s}function Rl(n,e){return t=>{t.providersResolver=(r,i)=>lM(r,i?i(n):n,!1),e&&(t.viewProvidersResolver=(r,i)=>lM(r,i?i(e):e,!0))}}function jk(n,e){let t=n[e];return t===zs?void 0:t}function FH(n,e,t,r,i,o){let s=e+t;return Tc(n,s,i)?_k(n,s+1,o?r.call(o,i):r(i)):jk(n,s+1)}function jH(n,e,t,r,i,o,s){let a=e+t;return gC(n,a,i,o)?_k(n,a+2,s?r.call(s,i,o):r(i,o)):jk(n,a+2)}function $t(n,e){let t=zi(),r,i=n+Ui;t.firstCreatePass?(r=BH(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=hu(r.type,!0)),s,a=Uo(lt);try{let l=my(!1),c=o();return my(l),qx(t,Tn(),i,c),c}finally{Uo(a)}}function BH(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function hr(n,e,t){let r=n+Ui,i=Tn(),o=Yv(i,r);return Bk(i,r)?FH(i,e2(),e,o.transform,t,o):o.transform(t)}function Vr(n,e,t,r){let i=n+Ui,o=Tn(),s=Yv(o,i);return Bk(o,i)?jH(o,e2(),e,s.transform,t,r,s):s.transform(t,r)}function Bk(n,e){return n[Yt].data[e].pure}function ef(n,e){return Fy(n,e)}var Ay=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},EC=(()=>{class n{compileModuleSync(t){return new Dy(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Mx(t),o=zM(i.declarations).reduce((s,a)=>{let l=Ec(a);return l&&s.push(new Wd(l)),s},[]);return new Ay(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Vk=(()=>{class n{applicationErrorHandler=Ye(Vs);appRef=Ye(is);taskService=Ye(Ac);ngZone=Ye(Pr);zonelessEnabled=Ye(yh);tracing=Ye(Kd,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ui;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(mg):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Ye(sy,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{let t=this.taskService.add();if(!this.runningTick&&(this.cleanup(),!this.zonelessEnabled||this.appRef.includeAllTestViews)){this.taskService.remove(t);return}this.switchToMicrotaskScheduler(),this.taskService.remove(t)})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}switchToMicrotaskScheduler(){this.ngZone.runOutsideAngular(()=>{let t=this.taskService.add();this.useMicrotaskScheduler=!0,queueMicrotask(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})})}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?MT:a2;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(mg+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.applicationErrorHandler(r)}finally{this.taskService.remove(t),this.cleanup()}}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Uk(){return[{provide:gu,useExisting:Vk},{provide:Pr,useClass:vg},{provide:yh,useValue:!0}]}function VH(){return typeof $localize<"u"&&$localize.locale||Wg}var Mh=new Ct("",{factory:()=>Ye(Mh,{optional:!0,skipSelf:!0})||VH()});function tf(n,e){return sv(n,e?.equal)}var Gk=Symbol("InputSignalNode#UNSET"),JH=kt(Fe({},av),{transformFn:void 0,applyValueToInputSignal(n,e){cg(n,e)}});function Yk(n,e){let t=Object.create(JH);t.value=n,t.transformFn=e?.transform;function r(){if(sg(t),t.value===Gk){let i=null;throw new gt(-950,i)}return t.value}return r[jo]=t,r}var qy=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Bg(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}};function zk(n,e){return Yk(n,e)}function e9(n){return Yk(Gk,n)}var Kk=(zk.required=e9,zk);var t9=(()=>{class n{zone=Ye(Pr);changeDetectionScheduler=Ye(gu);applicationRef=Ye(is);applicationErrorHandler=Ye(Vs);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),n9=new Ct("",{factory:()=>!1});function r9({ngZoneFactory:n,scheduleInRootZone:e}){return n??=()=>new Pr(kt(Fe({},Zk()),{scheduleInRootZone:e})),[{provide:yh,useValue:!1},{provide:Pr,useFactory:n},{provide:vu,multi:!0,useFactory:()=>{let t=Ye(t9,{optional:!0});return()=>t.initialize()}},{provide:vu,multi:!0,useFactory:()=>{let t=Ye(i9);return()=>{t.initialize()}}},{provide:sy,useValue:e??s2}]}function Qk(n){let e=n?.scheduleInRootZone,t=r9({ngZoneFactory:()=>{let r=Zk(n);return r.scheduleInRootZone=e,r.shouldCoalesceEventChangeDetection&&Qd("NgZone_CoalesceEvent"),new Pr(r)},scheduleInRootZone:e});return yu([{provide:n9,useValue:!0},t])}function Zk(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var i9=(()=>{class n{subscription=new ui;initialized=!1;zone=Ye(Pr);pendingTasks=Ye(Ac);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Pr.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Pr.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var DC=new Ct(""),o9=new Ct("");function Gg(n){return!n.moduleRef}function s9(n){let e=Gg(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Pr);return t.run(()=>{Gg(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Vs),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),Gg(n)){let o=()=>e.destroy(),s=n.platformInjector.get(DC);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(DC);s.add(o),n.moduleRef.onDestroy(()=>{Ng(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return l9(r,t,()=>{let o=e.get(Ac),s=o.add(),a=e.get(wC);return a.runInitializers(),a.donePromise.then(()=>{let l=e.get(Mh,Wg);if(Pk(l||Wg),!e.get(o9,!0))return Gg(n)?e.get(is):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Gg(n)){let u=e.get(is);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return a9?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>{o.remove(s)})})})}var a9;function l9(n,e,t){try{let r=t();return Mc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Hy=null;function c9(n=[],e){return no.create({name:e,providers:[{provide:_g,useValue:"platform"},{provide:DC,useValue:new Set([()=>Hy=null])},...n]})}function u9(n=[]){if(Hy)return Hy;let e=c9(n);return Hy=e,kk(),d9(e),e}function d9(n){let e=n.get(My,null);ro(n,()=>{e?.forEach(t=>t())})}function Xk(){return!1}var f9=1e4;var y_e=f9-1e3;var Ll=(()=>{class n{static __NG_ELEMENT_ID__=h9}return n})();function h9(n){return p9(io(),Tn(),(n&16)===16)}function p9(n,e,t){if(Cu(n)&&!t){let r=fa(n.index,e);return new Eu(r,r)}else if(n.type&175){let r=e[ua];return new Eu(r,e)}return null}var IC=class{constructor(){}supports(e){return pC(e)}create(e){return new AC(e)}},g9=(n,e)=>e,AC=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||g9}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<Hk(r,i,o)?t:r,a=Hk(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,u=l-i;if(c!=u){for(let p=0;p<c;p++){let f=p<o.length?o[p]:o[p]=0,b=f+p;u<=b&&b<c&&(o[p]=f+1)}let d=s.previousIndex;o[d]=u-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!pC(e))throw new gt(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,yk(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new TC(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new $y),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new $y),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},TC=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},MC=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},$y=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new MC,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Hk(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function qk(){return new kC([new IC])}var kC=(()=>{class n{factories;static \u0275prov=ut({token:n,providedIn:"root",factory:qk});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=Ye(n,{optional:!0,skipSelf:!0});return n.create(t,r||qk())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new gt(901,!1)}}return n})();function Jk(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;sr(Gn.BootstrapApplicationStart);try{let o=i?.injector??u9(r),s=[Uk(),NT,...t||[]],a=new Lg({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return s9({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{sr(Gn.BootstrapApplicationEnd)}}function nf(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function eN(n){let e=Ec(n);if(!e)return null;let t=new Wd(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var tN=null;function pa(){return tN}function NC(n){tN??=n}var Yg=class{},rf=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ut({token:n,factory:()=>Ye(nN),providedIn:"platform"})}return n})(),PC=new Ct(""),nN=(()=>{class n extends rf{_location;_history;_doc=Ye(fi);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return pa().getBaseHref(this._doc)}onPopState(t){let r=pa().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=pa().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ut({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Wy(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function rN(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Ja(n){return n&&n[0]!=="?"?`?${n}`:n}var el=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ut({token:n,factory:()=>Ye(Yy),providedIn:"root"})}return n})(),Gy=new Ct(""),Yy=(()=>{class n extends el{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Ye(fi).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Wy(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Ja(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Ja(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Ja(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(xt(rf),xt(Gy,8))};static \u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Mu=(()=>{class n{_subject=new $r;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=y9(rN(iN(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ja(r))}normalize(t){return n.stripTrailingSlash(v9(this._basePath,iN(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ja(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ja(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Ja;static joinWithSlash=Wy;static stripTrailingSlash=rN;static \u0275fac=function(r){return new(r||n)(xt(el))};static \u0275prov=ut({token:n,factory:()=>m9(),providedIn:"root"})}return n})();function m9(){return new Mu(xt(el))}function v9(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function iN(n){return n.replace(/\/index.html$/,"")}function y9(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var UC=(()=>{class n extends el{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Wy(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Ja(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Ja(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(xt(rf),xt(Gy,8))};static \u0275prov=ut({token:n,factory:n.\u0275fac})}return n})();var zC=(function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n})(zC||{});var bo=(function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n})(bo||{}),xr=(function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n})(xr||{}),ss=(function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n})(ss||{}),as={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function cN(n){return os(n)[oi.LocaleId]}function uN(n,e,t){let r=os(n),i=[r[oi.DayPeriodsFormat],r[oi.DayPeriodsStandalone]],o=ga(i,e);return ga(o,t)}function dN(n,e,t){let r=os(n),i=[r[oi.DaysFormat],r[oi.DaysStandalone]],o=ga(i,e);return ga(o,t)}function fN(n,e,t){let r=os(n),i=[r[oi.MonthsFormat],r[oi.MonthsStandalone]],o=ga(i,e);return ga(o,t)}function hN(n,e){let r=os(n)[oi.Eras];return ga(r,e)}function Kg(n,e){let t=os(n);return ga(t[oi.DateFormat],e)}function Qg(n,e){let t=os(n);return ga(t[oi.TimeFormat],e)}function Zg(n,e){let r=os(n)[oi.DateTimeFormat];return ga(r,e)}function Fl(n,e){let t=os(n),r=t[oi.NumberSymbols][e];if(typeof r>"u"){if(e===as.CurrencyDecimal)return t[oi.NumberSymbols][as.Decimal];if(e===as.CurrencyGroup)return t[oi.NumberSymbols][as.Group]}return r}function pN(n,e){return os(n)[oi.NumberFormats][e]}function gN(n){if(!n[oi.ExtraData])throw new gt(2303,!1)}function mN(n){let e=os(n);return gN(e),(e[oi.ExtraData][2]||[]).map(r=>typeof r=="string"?OC(r):[OC(r[0]),OC(r[1])])}function vN(n,e,t){let r=os(n);gN(r);let i=[r[oi.ExtraData][0],r[oi.ExtraData][1]],o=ga(i,e)||[];return ga(o,t)||[]}function ga(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new gt(2304,!1)}function OC(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var b9=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ky={},_9=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function yN(n,e,t,r){let i=T9(n);e=kc(t,e)||e;let s=[],a;for(;e;)if(a=_9.exec(e),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;e=u}else{s.push(e);break}let l=i.getTimezoneOffset();r&&(l=_N(r,l),i=A9(i,r));let c="";return s.forEach(u=>{let d=D9(u);c+=d?d(i,t,l):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function eb(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function kc(n,e){let t=cN(n);if(Ky[t]??={},Ky[t][e])return Ky[t][e];let r="";switch(e){case"shortDate":r=Kg(n,ss.Short);break;case"mediumDate":r=Kg(n,ss.Medium);break;case"longDate":r=Kg(n,ss.Long);break;case"fullDate":r=Kg(n,ss.Full);break;case"shortTime":r=Qg(n,ss.Short);break;case"mediumTime":r=Qg(n,ss.Medium);break;case"longTime":r=Qg(n,ss.Long);break;case"fullTime":r=Qg(n,ss.Full);break;case"short":let i=kc(n,"shortTime"),o=kc(n,"shortDate");r=Qy(Zg(n,ss.Short),[i,o]);break;case"medium":let s=kc(n,"mediumTime"),a=kc(n,"mediumDate");r=Qy(Zg(n,ss.Medium),[s,a]);break;case"long":let l=kc(n,"longTime"),c=kc(n,"longDate");r=Qy(Zg(n,ss.Long),[l,c]);break;case"full":let u=kc(n,"fullTime"),d=kc(n,"fullDate");r=Qy(Zg(n,ss.Full),[u,d]);break}return r&&(Ky[t][e]=r),r}function Qy(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function tl(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function w9(n,e){return tl(n,3).substring(0,e)}function Ci(n,e,t=0,r=!1,i=!1){return function(o,s){let a=x9(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return w9(a,e);let l=Fl(s,as.MinusSign);return tl(a,e,l,r,i)}}function x9(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new gt(2301,!1)}}function Or(n,e,t=bo.Format,r=!1){return function(i,o){return C9(i,o,n,e,t,r)}}function C9(n,e,t,r,i,o){switch(t){case 2:return fN(e,i,r)[n.getMonth()];case 1:return dN(e,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let c=mN(e),u=vN(e,i,r),d=c.findIndex(p=>{if(Array.isArray(p)){let[f,b]=p,_=s>=f.hours&&a>=f.minutes,C=s<b.hours||s===b.hours&&a<b.minutes;if(f.hours<b.hours){if(_&&C)return!0}else if(_||C)return!0}else if(p.hours===s&&p.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return uN(e,i,r)[s<12?0:1];case 3:return hN(e,r)[n.getFullYear()<=0?0:1];default:let l=t;throw new gt(2302,!1)}}function Zy(n){return function(e,t,r){let i=-1*r,o=Fl(t,as.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+tl(s,2,o)+tl(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+tl(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+tl(s,2,o)+":"+tl(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+tl(s,2,o)+":"+tl(Math.abs(i%60),2,o);default:throw new gt(2310,!1)}}}var S9=0,Jy=4;function E9(n){let e=eb(n,S9,1).getDay();return eb(n,0,1+(e<=Jy?Jy:Jy+7)-e)}function bN(n){let e=n.getDay(),t=e===0?-3:Jy-e;return eb(n.getFullYear(),n.getMonth(),n.getDate()+t)}function RC(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=bN(t),s=E9(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return tl(i,n,Fl(r,as.MinusSign))}}function Xy(n,e=!1){return function(t,r){let o=bN(t).getFullYear();return tl(o,n,Fl(r,as.MinusSign),e)}}var LC={};function D9(n){if(LC[n])return LC[n];let e;switch(n){case"G":case"GG":case"GGG":e=Or(3,xr.Abbreviated);break;case"GGGG":e=Or(3,xr.Wide);break;case"GGGGG":e=Or(3,xr.Narrow);break;case"y":e=Ci(0,1,0,!1,!0);break;case"yy":e=Ci(0,2,0,!0,!0);break;case"yyy":e=Ci(0,3,0,!1,!0);break;case"yyyy":e=Ci(0,4,0,!1,!0);break;case"Y":e=Xy(1);break;case"YY":e=Xy(2,!0);break;case"YYY":e=Xy(3);break;case"YYYY":e=Xy(4);break;case"M":case"L":e=Ci(1,1,1);break;case"MM":case"LL":e=Ci(1,2,1);break;case"MMM":e=Or(2,xr.Abbreviated);break;case"MMMM":e=Or(2,xr.Wide);break;case"MMMMM":e=Or(2,xr.Narrow);break;case"LLL":e=Or(2,xr.Abbreviated,bo.Standalone);break;case"LLLL":e=Or(2,xr.Wide,bo.Standalone);break;case"LLLLL":e=Or(2,xr.Narrow,bo.Standalone);break;case"w":e=RC(1);break;case"ww":e=RC(2);break;case"W":e=RC(1,!0);break;case"d":e=Ci(2,1);break;case"dd":e=Ci(2,2);break;case"c":case"cc":e=Ci(7,1);break;case"ccc":e=Or(1,xr.Abbreviated,bo.Standalone);break;case"cccc":e=Or(1,xr.Wide,bo.Standalone);break;case"ccccc":e=Or(1,xr.Narrow,bo.Standalone);break;case"cccccc":e=Or(1,xr.Short,bo.Standalone);break;case"E":case"EE":case"EEE":e=Or(1,xr.Abbreviated);break;case"EEEE":e=Or(1,xr.Wide);break;case"EEEEE":e=Or(1,xr.Narrow);break;case"EEEEEE":e=Or(1,xr.Short);break;case"a":case"aa":case"aaa":e=Or(0,xr.Abbreviated);break;case"aaaa":e=Or(0,xr.Wide);break;case"aaaaa":e=Or(0,xr.Narrow);break;case"b":case"bb":case"bbb":e=Or(0,xr.Abbreviated,bo.Standalone,!0);break;case"bbbb":e=Or(0,xr.Wide,bo.Standalone,!0);break;case"bbbbb":e=Or(0,xr.Narrow,bo.Standalone,!0);break;case"B":case"BB":case"BBB":e=Or(0,xr.Abbreviated,bo.Format,!0);break;case"BBBB":e=Or(0,xr.Wide,bo.Format,!0);break;case"BBBBB":e=Or(0,xr.Narrow,bo.Format,!0);break;case"h":e=Ci(3,1,-12);break;case"hh":e=Ci(3,2,-12);break;case"H":e=Ci(3,1);break;case"HH":e=Ci(3,2);break;case"m":e=Ci(4,1);break;case"mm":e=Ci(4,2);break;case"s":e=Ci(5,1);break;case"ss":e=Ci(5,2);break;case"S":e=Ci(6,1);break;case"SS":e=Ci(6,2);break;case"SSS":e=Ci(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Zy(0);break;case"ZZZZZ":e=Zy(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Zy(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Zy(2);break;default:return null}return LC[n]=e,e}function _N(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function I9(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function A9(n,e,t){let i=n.getTimezoneOffset(),o=_N(e,i);return I9(n,-1*(o-i))}function T9(n){if(oN(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return eb(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(b9))return M9(r)}let e=new Date(n);if(!oN(e))throw new gt(2311,!1);return e}function M9(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,l=Number(n[6]||0),c=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,l,c),e}function oN(n){return n instanceof Date&&!isNaN(n.valueOf())}var k9=/^(\d+)?\.((\d+)(-(\d+))?)?$/,sN=22,tb=".",Xg="0",N9=";",P9=",",FC="#";function O9(n,e,t,r,i,o,s=!1){let a="",l=!1;if(!isFinite(n))a=Fl(t,as.Infinity);else{let c=F9(n);s&&(c=L9(c));let u=e.minInt,d=e.minFrac,p=e.maxFrac;if(o){let A=o.match(k9);if(A===null)throw new gt(2306,!1);let F=A[1],P=A[3],U=A[5];F!=null&&(u=jC(F)),P!=null&&(d=jC(P)),U!=null?p=jC(U):P!=null&&d>p&&(p=d)}j9(c,d,p);let f=c.digits,b=c.integerLen,_=c.exponent,C=[];for(l=f.every(A=>!A);b<u;b++)f.unshift(0);for(;b<0;b++)f.unshift(0);b>0?C=f.splice(b,f.length):(C=f,f=[0]);let S=[];for(f.length>=e.lgSize&&S.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)S.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&S.unshift(f.join("")),a=S.join(Fl(t,r)),C.length&&(a+=Fl(t,i)+C.join("")),_&&(a+=Fl(t,as.Exponential)+"+"+_)}return n<0&&!l?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function wN(n,e,t){let r=pN(e,zC.Decimal),i=R9(r,Fl(e,as.MinusSign));return O9(n,i,e,as.Group,as.Decimal,t)}function R9(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(N9),i=r[0],o=r[1],s=i.indexOf(tb)!==-1?i.split(tb):[i.substring(0,i.lastIndexOf(Xg)+1),i.substring(i.lastIndexOf(Xg)+1)],a=s[0],l=s[1]||"";t.posPre=a.substring(0,a.indexOf(FC));for(let u=0;u<l.length;u++){let d=l.charAt(u);d===Xg?t.minFrac=t.maxFrac=u+1:d===FC?t.maxFrac=u+1:t.posSuf+=d}let c=a.split(P9);if(t.gSize=c[1]?c[1].length:0,t.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){let u=i.length-t.posPre.length-t.posSuf.length,d=o.indexOf(FC);t.negPre=o.substring(0,d).replace(/'/g,""),t.negSuf=o.slice(d+u).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function L9(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function F9(n){let e=Math.abs(n)+"",t=0,r,i,o,s,a;for((i=e.indexOf(tb))>-1&&(e=e.replace(tb,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===Xg;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===Xg;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>sN&&(r=r.splice(0,sN-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function j9(n,e,t){if(e>t)throw new gt(2307,!1);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let d=s;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let d=1;d<s;d++)r[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let l=o!==0,c=e+n.integerLen,u=r.reduceRight(function(d,p,f,b){return p=p+d,b[f]=p<10?p:p-10,l&&(b[f]===0&&f>=c?b.pop():l=!1),p>=10?1:0},0);u&&(r.unshift(u),n.integerLen++)}function jC(n){let e=parseInt(n);if(isNaN(e))throw new gt(2305,!1);return e}var nb=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},_o=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new nb(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),aN(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);aN(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(lt(Ol),lt(Du),lt(kC))};static \u0275dir=Er({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function aN(n,e){n.context.$implicit=e.item}var qs=(()=>{class n{_viewContainer;_context=new rb;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){lN(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){lN(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(lt(Ol),lt(Du))};static \u0275dir=Er({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),rb=class{$implicit=null;ngIf=null};function lN(n,e){if(n&&!n.createEmbeddedView)throw new gt(2020,!1)}var of=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(t){this._viewContainerRef=t}ngOnChanges(t){if(this._shouldRecreateView(t)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(t,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static \u0275fac=function(r){return new(r||n)(lt(Ol))};static \u0275dir=Er({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Us]})}return n})();function HC(n,e){return new gt(2100,!1)}var BC=class{createSubscription(e,t,r){return ii(()=>e.subscribe({next:t,error:r}))}dispose(e){ii(()=>e.unsubscribe())}},VC=class{createSubscription(e,t,r){return e.then(i=>t?.(i),i=>r?.(i)),{unsubscribe:()=>{t=null,r=null}}}dispose(e){e.unsubscribe()}},B9=new VC,V9=new BC,Nc=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=Ye(Vs);constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r),r=>this.applicationErrorHandler(r))}_selectStrategy(t){if(Mc(t))return B9;if(Vy(t))return V9;throw HC(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(lt(Ll,16))};static \u0275pipe=qg({name:"async",type:n,pure:!1})}return n})();var U9="mediumDate",xN=new Ct(""),CN=new Ct(""),sf=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??U9,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return yN(t,s,o||this.locale,a)}catch(s){throw HC(n,s.message)}}static \u0275fac=function(r){return new(r||n)(lt(Mh,16),lt(xN,24),lt(CN,24))};static \u0275pipe=qg({name:"date",type:n,pure:!0})}return n})();var af=(()=>{class n{_locale;constructor(t){this._locale=t}transform(t,r,i){if(!z9(t))return null;i||=this._locale;try{let o=H9(t);return wN(o,i,r)}catch(o){throw HC(n,o.message)}}static \u0275fac=function(r){return new(r||n)(lt(Mh,16))};static \u0275pipe=qg({name:"number",type:n,pure:!0})}return n})();function z9(n){return!(n==null||n===""||n!==n)}function H9(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new gt(2309,!1);return n}var wo=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Za({type:n});static \u0275inj=aa({})}return n})();function qC(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Jg=class{};var SN="browser";var WC=(()=>{class n{static \u0275prov=ut({token:n,providedIn:"root",factory:()=>new $C(Ye(fi),window)})}return n})(),$C=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(kt(Fe({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=q9(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch(t){console.warn(Il(2400,!1))}}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(kt(Fe({},t),{left:i-s[0],top:o-s[1]}))}};function q9(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var em=class{_doc;constructor(e){this._doc=e}manager},ib=(()=>{class n extends em{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(xt(fi))};static \u0275prov=ut({token:n,factory:n.\u0275fac})}return n})(),ab=new Ct(""),QC=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof ib));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof ib);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new gt(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(xt(ab),xt(Pr))};static \u0275prov=ut({token:n,factory:n.\u0275fac})}return n})(),GC="ng-app-id";function EN(n){for(let e of n)e.remove()}function DN(n,e){let t=e.createElement("style");return t.textContent=n,t}function $9(n,e,t,r){let i=n.head?.querySelectorAll(`style[${GC}="${e}"],link[${GC}="${e}"]`);if(i)for(let o of i)o.removeAttribute(GC),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function KC(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var ZC=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,$9(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,DN);r?.forEach(i=>this.addUsage(i,this.external,KC))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(EN(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])EN(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,DN(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,KC(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(xt(fi),xt(Ty),xt(ky,8),xt(Vg))};static \u0275prov=ut({token:n,factory:n.\u0275fac})}return n})(),YC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},XC=/%COMP%/g;var AN="%COMP%",W9=`_nghost-${AN}`,G9=`_ngcontent-${AN}`,Y9=!0,K9=new Ct("",{factory:()=>Y9});function Q9(n){return G9.replace(XC,n)}function Z9(n){return W9.replace(XC,n)}function TN(n,e){return e.map(t=>t.replace(XC,n))}var JC=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(t,r,i,o,s,a,l=null,c=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=l,this.tracingService=c,this.defaultRenderer=new tm(t,s,a,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof sb?i.applyToHost(t):i instanceof nm&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.tracingService;switch(r.encapsulation){case Ka.Emulated:o=new sb(l,c,r,this.appId,u,s,a,d);break;case Ka.ShadowDom:return new ob(l,t,r,s,a,this.nonce,d,c);case Ka.ExperimentalIsolatedShadowDom:return new ob(l,t,r,s,a,this.nonce,d);default:o=new nm(l,c,r,u,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(xt(QC),xt(ZC),xt(Ty),xt(K9),xt(fi),xt(Pr),xt(ky),xt(Kd,8))};static \u0275prov=ut({token:n,factory:n.\u0275fac})}return n})(),tm=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(YC[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(IN(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(IN(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new gt(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=YC[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=YC[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Pl.DashCase|Pl.Important)?e.style.setProperty(t,r,i&Pl.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Pl.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=pa().getGlobalEventTarget(this.doc,e),!e))throw new gt(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function IN(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var ob=class extends tm{hostEl;sharedStylesHost;shadowRoot;constructor(e,t,r,i,o,s,a,l){super(e,i,o,a),this.hostEl=t,this.sharedStylesHost=l,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let c=r.styles;c=TN(r.id,c);for(let d of c){let p=document.createElement("style");s&&p.setAttribute("nonce",s),p.textContent=d,this.shadowRoot.appendChild(p)}let u=r.getExternalStyles?.();if(u)for(let d of u){let p=KC(d,i);s&&p.setAttribute("nonce",s),this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},nm=class extends tm{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let c=r.styles;this.styles=l?TN(l,c):c,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&xh.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},sb=class extends nm{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,l){let c=i+"-"+r.id;super(e,t,r,o,s,a,l,c),this.contentAttr=Q9(c),this.hostAttr=Z9(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var lb=class n extends Yg{supportsDOMEvents=!0;static makeCurrent(){NC(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=X9();return t==null?null:J9(t)}resetBaseElement(){rm=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return qC(document.cookie,e)}},rm=null;function X9(){return rm=rm||document.head.querySelector("base"),rm?rm.getAttribute("href"):null}function J9(n){return new URL(n,document.baseURI).pathname}var eq=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ut({token:n,factory:n.\u0275fac})}return n})(),MN=["alt","control","meta","shift"],tq={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nq={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},kN=(()=>{class n extends em{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>pa().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),MN.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=tq[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),MN.forEach(s=>{if(s!==i){let a=nq[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(xt(fi))};static \u0275prov=ut({token:n,factory:n.\u0275fac})}return n})();function eS(n,e,t){return L(this,null,function*(){let r=Fe({rootComponent:n},rq(e,t));return Jk(r)})}function rq(n,e){return{platformRef:e?.platformRef,appProviders:[...lq,...n?.providers??[]],platformProviders:aq}}function iq(){lb.makeCurrent()}function oq(){return new Dl}function sq(){return q2(document),document}var aq=[{provide:Vg,useValue:SN},{provide:My,useValue:iq,multi:!0},{provide:fi,useFactory:sq}];var lq=[{provide:_g,useValue:"root"},{provide:Dl,useFactory:oq},{provide:ab,useClass:ib,multi:!0},{provide:ab,useClass:kN,multi:!0},JC,ZC,QC,{provide:$d,useExisting:JC},{provide:Jg,useClass:eq},[]];var NN=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(xt(fi))};static \u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var sn="primary",hm=Symbol("RouteTitle"),oS=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function uf(n){return new oS(n)}function tS(n,e,t){for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(i[0]===":")t[i.substring(1)]=o;else if(i!==o.path)return!1}return!0}function UN(n,e,t){let r=t.path.split("/"),i=r.indexOf("**");if(i===-1){if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let l={},c=n.slice(0,r.length);return tS(r,c,l)?{consumed:c,posParams:l}:null}if(i!==r.lastIndexOf("**"))return null;let o=r.slice(0,i),s=r.slice(i+1);if(o.length+s.length>n.length||t.pathMatch==="full"&&e.hasChildren()&&t.path!=="**")return null;let a={};return!tS(o,n.slice(0,o.length),a)||!tS(s,n.slice(n.length-s.length),a)?null:{consumed:n,posParams:a}}function pb(n){return new Promise((e,t)=>{n.pipe(sa()).subscribe({next:r=>e(r),error:r=>t(r)})})}function uq(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!jl(n[t],e[t]))return!1;return!0}function jl(n,e){let t=n?sS(n):void 0,r=e?sS(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!zN(n[i],e[i]))return!1;return!0}function sS(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function zN(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function dq(n){return n.length>0?n[n.length-1]:null}function ff(n){return Mv(n)?n:Mc(n)?Nr(Promise.resolve(n)):_n(n)}function HN(n){return Mv(n)?pb(n):Promise.resolve(n)}var fq={exact:$N,subset:WN},qN={exact:hq,subset:pq,ignored:()=>!0};function _S(n,e,t){let r=n instanceof Ws?n:e.parseUrl(n);return tf(()=>aS(e.lastSuccessfulNavigation()?.finalUrl??new Ws,r,t))}function aS(n,e,t){return fq[t.paths](n.root,e.root,t.matrixParams)&&qN[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function hq(n,e){return jl(n,e)}function $N(n,e,t){if(!lf(n.segments,e.segments)||!db(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!$N(n.children[r],e.children[r],t))return!1;return!0}function pq(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>zN(n[t],e[t]))}function WN(n,e,t){return GN(n,e,e.segments,t)}function GN(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!lf(i,t)||e.hasChildren()||!db(i,t,r))}else if(n.segments.length===t.length){if(!lf(n.segments,t)||!db(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!WN(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!lf(n.segments,i)||!db(n.segments,i,r)||!n.children[sn]?!1:GN(n.children[sn],e,o,r)}}function db(n,e,t){return e.every((r,i)=>qN[t](n[i].parameters,r.parameters))}var Ws=class{root;queryParams;fragment;_queryParamMap;constructor(e=new nr([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=uf(this.queryParams),this._queryParamMap}toString(){return vq.serialize(this)}},nr=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fb(this)}},Nu=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=uf(this.parameters),this._parameterMap}toString(){return KN(this)}};function gq(n,e){return lf(n,e)&&n.every((t,r)=>jl(t.parameters,e[r].parameters))}function lf(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function mq(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===sn&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==sn&&(t=t.concat(e(i,r)))}),t}var hf=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=ut({token:n,factory:()=>new Oc,providedIn:"root"})}return n})(),Oc=class{parse(e){let t=new cS(e);return new Ws(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${im(e.root,!0)}`,r=_q(e.queryParams),i=typeof e.fragment=="string"?`#${yq(e.fragment)}`:"";return`${t}${r}${i}`}},vq=new Oc;function fb(n){return n.segments.map(e=>KN(e)).join("/")}function im(n,e){if(!n.hasChildren())return fb(n);if(e){let t=n.children[sn]?im(n.children[sn],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==sn&&r.push(`${i}:${im(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=mq(n,(r,i)=>i===sn?[im(n.children[sn],!1)]:[`${i}:${im(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[sn]!=null?`${fb(n)}/${t[0]}`:`${fb(n)}/(${t.join("//")})`}}function YN(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function cb(n){return YN(n).replace(/%3B/gi,";")}function yq(n){return encodeURI(n)}function lS(n){return YN(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hb(n){return decodeURIComponent(n)}function PN(n){return hb(n.replace(/\+/g,"%20"))}function KN(n){return`${lS(n.path)}${bq(n.parameters)}`}function bq(n){return Object.entries(n).map(([e,t])=>`;${lS(e)}=${lS(t)}`).join("")}function _q(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${cb(t)}=${cb(i)}`).join("&"):`${cb(t)}=${cb(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var wq=/^[^\/()?;#]+/;function nS(n){let e=n.match(wq);return e?e[0]:""}var xq=/^[^\/()?;=#]+/;function Cq(n){let e=n.match(xq);return e?e[0]:""}var Sq=/^[^=?&#]+/;function Eq(n){let e=n.match(Sq);return e?e[0]:""}var Dq=/^[^&#]+/;function Iq(n){let e=n.match(Dq);return e?e[0]:""}var cS=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new nr([],{}):new nr([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[sn]=new nr(e,t)),r}parseSegment(){let e=nS(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new gt(4009,!1);return this.capture(e),new Nu(hb(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=Cq(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=nS(this.remaining);i&&(r=i,this.capture(r))}e[hb(t)]=hb(r)}parseQueryParam(e){let t=Eq(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=Iq(this.remaining);s&&(r=s,this.capture(r))}let i=PN(t),o=PN(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=nS(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new gt(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=sn);let s=this.parseChildren();t[o??sn]=Object.keys(s).length===1&&s[sn]?s[sn]:new nr([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new gt(4011,!1)}};function QN(n){return n.segments.length>0?new nr([],{[sn]:n}):n}function ZN(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=ZN(i);if(r===sn&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new nr(n.segments,e);return Aq(t)}function Aq(n){if(n.numberOfChildren===1&&n.children[sn]){let e=n.children[sn];return new nr(n.segments.concat(e.segments),e.children)}return n}function Pu(n){return n instanceof Ws}function XN(n,e,t=null,r=null,i=new Oc){let o=JN(n);return eP(o,e,t,r,i)}function JN(n){let e;function t(o){let s={};for(let l of o.children){let c=t(l);s[l.outlet]=c}let a=new nr(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=QN(r);return e??i}function eP(n,e,t,r,i){let o=n;for(;o.parent;)o=o.parent;if(e.length===0)return rS(o,o,o,t,r,i);let s=Tq(e);if(s.toRoot())return rS(o,o,new nr([],{}),t,r,i);let a=Mq(s,o,n),l=a.processChildren?sm(a.segmentGroup,a.index,s.commands):nP(a.segmentGroup,a.index,s.commands);return rS(o,a.segmentGroup,l,t,r,i)}function gb(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function lm(n){return typeof n=="object"&&n!=null&&n.outlets}function ON(n,e,t){n||="\u0275";let r=new Ws;return r.queryParams={[n]:e},t.parse(t.serialize(r)).queryParams[n]}function rS(n,e,t,r,i,o){let s={};for(let[c,u]of Object.entries(r??{}))s[c]=Array.isArray(u)?u.map(d=>ON(c,d,o)):ON(c,u,o);let a;n===e?a=t:a=tP(n,e,t);let l=QN(ZN(a));return new Ws(l,s,i)}function tP(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=tP(o,e,t)}),new nr(n.segments,r)}var mb=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&gb(r[0]))throw new gt(4003,!1);let i=r.find(lm);if(i&&i!==dq(r))throw new gt(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Tq(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new mb(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new mb(t,e,r)}var Nh=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function Mq(n,e,t){if(n.isAbsolute)return new Nh(e,!0,0);if(!t)return new Nh(e,!1,NaN);if(t.parent===null)return new Nh(t,!0,0);let r=gb(n.commands[0])?0:1,i=t.segments.length-1+r;return kq(t,i,n.numberOfDoubleDots)}function kq(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new gt(4005,!1);i=r.segments.length}return new Nh(r,!1,i-o)}function Nq(n){return lm(n[0])?n[0].outlets:{[sn]:n}}function nP(n,e,t){if(n??=new nr([],{}),n.segments.length===0&&n.hasChildren())return sm(n,e,t);let r=Pq(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new nr(n.segments.slice(0,r.pathIndex),{});return o.children[sn]=new nr(n.segments.slice(r.pathIndex),n.children),sm(o,0,i)}else return r.match&&i.length===0?new nr(n.segments,{}):r.match&&!n.hasChildren()?uS(n,e,t):r.match?sm(n,0,i):uS(n,e,t)}function sm(n,e,t){if(t.length===0)return new nr(n.segments,{});{let r=Nq(t),i={};if(Object.keys(r).some(o=>o!==sn)&&n.children[sn]&&n.numberOfChildren===1&&n.children[sn].segments.length===0){let o=sm(n.children[sn],e,t);return new nr(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=nP(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new nr(n.segments,i)}}function Pq(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(lm(a))break;let l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!LN(l,c,s))return o;r+=2}else{if(!LN(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function uS(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(lm(o)){let l=Oq(o.outlets);return new nr(r,l)}if(i===0&&gb(t[0])){let l=n.segments[e];r.push(new Nu(l.path,RN(t[0]))),i++;continue}let s=lm(o)?o.outlets[sn]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&gb(a)?(r.push(new Nu(s,RN(a))),i+=2):(r.push(new Nu(s,{})),i++)}return new nr(r,{})}function Oq(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=uS(new nr([],{}),0,r))}),e}function RN(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function LN(n,e,t){return n==t.path&&jl(e,t.parameters)}var Ph="imperative",Oi=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(Oi||{}),Gs=class{id;url;constructor(e,t){this.id=e,this.url=t}},Ou=class extends Gs{type=Oi.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ys=class extends Gs{urlAfterRedirects;type=Oi.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},xo=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(xo||{}),Rh=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(Rh||{}),ma=class extends Gs{reason;code;type=Oi.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}};function rP(n){return n instanceof ma&&(n.code===xo.Redirect||n.code===xo.SupersededByNewNavigation)}var Bl=class extends Gs{reason;code;type=Oi.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},df=class extends Gs{error;target;type=Oi.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Lh=class extends Gs{urlAfterRedirects;state;type=Oi.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vb=class extends Gs{urlAfterRedirects;state;type=Oi.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yb=class extends Gs{urlAfterRedirects;state;shouldActivate;type=Oi.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},bb=class extends Gs{urlAfterRedirects;state;type=Oi.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_b=class extends Gs{urlAfterRedirects;state;type=Oi.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wb=class{route;type=Oi.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},xb=class{route;type=Oi.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Cb=class{snapshot;type=Oi.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sb=class{snapshot;type=Oi.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Eb=class{snapshot;type=Oi.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Db=class{snapshot;type=Oi.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fh=class{routerEvent;position;anchor;scrollBehavior;type=Oi.Scroll;constructor(e,t,r,i){this.routerEvent=e,this.position=t,this.anchor=r,this.scrollBehavior=i}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},jh=class{},Bh=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function Rq(n){return!(n instanceof jh)&&!(n instanceof Bh)}var Ib=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return this.route?.snapshot._environmentInjector??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new pf(this.rootInjector)}},pf=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Ib(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(xt(di))};static \u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ab=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=dS(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=dS(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=fS(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return fS(e,this._root).map(t=>t.value)}};function dS(n,e){if(n===e.value)return e;for(let t of e.children){let r=dS(n,t);if(r)return r}return null}function fS(n,e){if(n===e.value)return[e];for(let t of e.children){let r=fS(n,t);if(r.length)return r.unshift(e),r}return[]}var $s=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function kh(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var cm=class extends Ab{snapshot;constructor(e,t){super(e),this.snapshot=t,wS(this,e)}toString(){return this.snapshot.toString()}};function iP(n,e){let t=Lq(n,e),r=new Rn([new Nu("",{})]),i=new Rn({}),o=new Rn({}),s=new Rn({}),a=new Rn(""),l=new va(r,i,s,a,o,sn,n,t.root);return l.snapshot=t.root,new cm(new $s(l,[]),t)}function Lq(n,e){let t={},r={},i={},s=new cf([],t,i,"",r,sn,n,null,{},e);return new um("",new $s(s,[]))}var va=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Nn(c=>c[hm]))??_n(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Nn(e=>uf(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Nn(e=>uf(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Tb(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:Fe(Fe({},e.params),n.params),data:Fe(Fe({},e.data),n.data),resolve:Fe(Fe(Fe(Fe({},n.data),e.data),i?.data),n._resolvedData)}:r={params:Fe({},n.params),data:Fe({},n.data),resolve:Fe(Fe({},n.data),n._resolvedData??{})},i&&sP(i)&&(r.resolve[hm]=i.title),r}var cf=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;_environmentInjector;get title(){return this.data?.[hm]}constructor(e,t,r,i,o,s,a,l,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c,this._environmentInjector=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=uf(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=uf(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},um=class extends Ab{url;constructor(e,t){super(t),this.url=e,wS(this,t)}toString(){return oP(this._root)}};function wS(n,e){e.value._routerState=n,e.children.forEach(t=>wS(n,t))}function oP(n){let e=n.children.length>0?` { ${n.children.map(oP).join(", ")} } `:"";return`${n.value}${e}`}function iS(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,jl(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),jl(e.params,t.params)||n.paramsSubject.next(t.params),uq(e.url,t.url)||n.urlSubject.next(t.url),jl(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function hS(n,e){let t=jl(n.params,e.params)&&gq(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||hS(n.parent,e.parent))}function sP(n){return typeof n.title=="string"||n.title===null}var aP=new Ct(""),pm=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=sn;activateEvents=new Zr;deactivateEvents=new Zr;attachEvents=new Zr;detachEvents=new Zr;routerOutletData=Kk();parentContexts=Ye(pf);location=Ye(Ol);changeDetector=Ye(Ll);inputBinder=Ye(gm,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new gt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new gt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new gt(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new gt(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new pS(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Er({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Us]})}return n})(),pS=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===va?this.route:e===pf?this.childContexts:e===aP?this.outletData:this.parent.get(e,t)}},gm=new Ct(""),xS=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Cl([r.queryParams,r.params,r.data]).pipe(Vo(([o,s,a],l)=>(a=Fe(Fe(Fe({},o),s),a),l===0?_n(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=eN(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ut({token:n,factory:n.\u0275fac})}return n})(),CS=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Pi({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&yo(0,"router-outlet")},dependencies:[pm],encapsulation:2})}return n})();function SS(n){let e=n.children&&n.children.map(SS),t=e?kt(Fe({},n),{children:e}):Fe({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==sn&&(t.component=CS),t}function Fq(n,e,t){let r=dm(n,e._root,t?t._root:void 0);return new cm(r,e)}function dm(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=jq(n,e,t);return new $s(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>dm(n,a)),s}}let r=Bq(e.value),i=e.children.map(o=>dm(n,o));return new $s(r,i)}}function jq(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return dm(n,r,i);return dm(n,r)})}function Bq(n){return new va(new Rn(n.url),new Rn(n.params),new Rn(n.queryParams),new Rn(n.fragment),new Rn(n.data),n.outlet,n.component,n)}var Vh=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},lP="ngNavigationCancelingError";function Mb(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Pu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=cP(!1,xo.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function cP(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[lP]=!0,t.cancellationCode=e,t}function Vq(n){return uP(n)&&Pu(n.url)}function uP(n){return!!n&&n[lP]}var gS=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),iS(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=kh(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=kh(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=kh(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=kh(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Db(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Sb(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(iS(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),iS(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},kb=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Oh=class{component;route;constructor(e,t){this.component=e,this.route=t}};function Uq(n,e,t){let r=n._root,i=e?e._root:null;return om(r,i,t,[r.value])}function zq(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function zh(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Sx(n)?n:e.get(n):r}function om(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=kh(e);return n.children.forEach(s=>{Hq(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>am(a,t.getContext(s),i)),i}function Hq(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=qq(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new kb(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?om(n,e,a?a.children:null,r,i):om(n,e,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Oh(a.outlet.component,s))}else s&&am(e,a,i),i.canActivateChecks.push(new kb(r)),o.component?om(n,null,a?a.children:null,r,i):om(n,null,t,r,i);return i}function qq(n,e,t){if(typeof t=="function")return ro(e._environmentInjector,()=>t(n,e));switch(t){case"pathParamsChange":return!lf(n.url,e.url);case"pathParamsOrQueryParamsChange":return!lf(n.url,e.url)||!jl(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hS(n,e)||!jl(n.queryParams,e.queryParams);default:return!hS(n,e)}}function am(n,e,t){let r=kh(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?am(s,e.children.getContext(o),t):am(s,null,t):am(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Oh(e.outlet.component,i)):t.canDeactivateChecks.push(new Oh(null,i)):t.canDeactivateChecks.push(new Oh(null,i))}function mm(n){return typeof n=="function"}function $q(n){return typeof n=="boolean"}function Wq(n){return n&&mm(n.canLoad)}function Gq(n){return n&&mm(n.canActivate)}function Yq(n){return n&&mm(n.canActivateChild)}function Kq(n){return n&&mm(n.canDeactivate)}function Qq(n){return n&&mm(n.canMatch)}function dP(n){return n instanceof _c||n?.name==="EmptyError"}var ub=Symbol("INITIAL_VALUE");function Uh(){return Vo(n=>Cl(n.map(e=>e.pipe(Bo(1),sx(ub)))).pipe(Nn(e=>{for(let t of e)if(t!==!0){if(t===ub)return ub;if(t===!1||Zq(t))return t}return!0}),eo(e=>e!==ub),Bo(1)))}function Zq(n){return Pu(n)||n instanceof Vh}function fP(n){return n.aborted?_n(void 0).pipe(Bo(1)):new bn(e=>{let t=()=>{e.next(),e.complete()};return n.addEventListener("abort",t),()=>n.removeEventListener("abort",t)})}function hP(n){return fg(fP(n))}function Xq(n){return Ji(e=>{let{targetSnapshot:t,currentSnapshot:r,guards:{canActivateChecks:i,canDeactivateChecks:o}}=e;return o.length===0&&i.length===0?_n(kt(Fe({},e),{guardsResult:!0})):Jq(o,t,r).pipe(Ji(s=>s&&$q(s)?e$(t,i,n):_n(s)),Nn(s=>kt(Fe({},e),{guardsResult:s})))})}function Jq(n,e,t){return Nr(n).pipe(Ji(r=>o$(r.component,r.route,t,e)),sa(r=>r!==!0,!0))}function e$(n,e,t){return Nr(e).pipe(lh(r=>fu(n$(r.route.parent,t),t$(r.route,t),i$(n,r.path),r$(n,r.route))),sa(r=>r!==!0,!0))}function t$(n,e){return n!==null&&e&&e(new Eb(n)),_n(!0)}function n$(n,e){return n!==null&&e&&e(new Cb(n)),_n(!0)}function r$(n,e){let t=e.routeConfig?e.routeConfig.canActivate:null;if(!t||t.length===0)return _n(!0);let r=t.map(i=>dg(()=>{let o=e._environmentInjector,s=zh(i,o),a=Gq(s)?s.canActivate(e,n):ro(o,()=>s(e,n));return ff(a).pipe(sa())}));return _n(r).pipe(Uh())}function i$(n,e){let t=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(o=>zq(o)).filter(o=>o!==null).map(o=>dg(()=>{let s=o.guards.map(a=>{let l=o.node._environmentInjector,c=zh(a,l),u=Yq(c)?c.canActivateChild(t,n):ro(l,()=>c(t,n));return ff(u).pipe(sa())});return _n(s).pipe(Uh())}));return _n(i).pipe(Uh())}function o$(n,e,t,r){let i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!i||i.length===0)return _n(!0);let o=i.map(s=>{let a=e._environmentInjector,l=zh(s,a),c=Kq(l)?l.canDeactivate(n,e,t,r):ro(a,()=>l(n,e,t,r));return ff(c).pipe(sa())});return _n(o).pipe(Uh())}function s$(n,e,t,r,i){let o=e.canLoad;if(o===void 0||o.length===0)return _n(!0);let s=o.map(a=>{let l=zh(a,n),c=Wq(l)?l.canLoad(e,t):ro(n,()=>l(e,t)),u=ff(c);return i?u.pipe(hP(i)):u});return _n(s).pipe(Uh(),pP(r))}function pP(n){return Qw(Sl(e=>{if(typeof e!="boolean")throw Mb(n,e)}),Nn(e=>e===!0))}function a$(n,e,t,r,i){let o=e.canMatch;if(!o||o.length===0)return _n(!0);let s=o.map(a=>{let l=zh(a,n),c=Qq(l)?l.canMatch(e,t):ro(n,()=>l(e,t));return ff(c).pipe(hP(i))});return _n(s).pipe(Uh(),pP(r))}var Pc=class n extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,n.prototype)}},fm=class n extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,n.prototype)}};function l$(n){throw new gt(4e3,!1)}function c$(n){throw cP(!1,xo.GuardRejected)}var mS=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){return L(this,null,function*(){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[sn])throw l$(`${e.redirectTo}`);i=i.children[sn]}})}applyRedirectCommands(e,t,r,i,o){return L(this,null,function*(){let s=yield u$(t,i,o);if(s instanceof Ws)throw new fm(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new fm(a);return a})}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Ws(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new nr(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new gt(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function u$(n,e,t){if(typeof n=="string")return Promise.resolve(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,params:c,data:u,title:d,paramMap:p,queryParamMap:f}=e;return pb(ff(ro(t,()=>r({params:c,data:u,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,title:d,paramMap:p,queryParamMap:f}))))}function d$(n,e){return n.providers&&!n._injector&&(n._injector=Dh(n.providers,e,`Route: ${n.path}`)),n._injector??e}function nl(n){return n.outlet||sn}function f$(n,e){let t=n.filter(r=>nl(r)===e);return t.push(...n.filter(r=>nl(r)!==e)),t}var vS={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function h$(n,e,t,r,i,o){let s=gP(n,e,t);return s.matched?(r=d$(e,r),a$(r,e,t,i,o).pipe(Nn(a=>a===!0?s:Fe({},vS)))):_n(s)}function gP(n,e,t){if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?Fe({},vS):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||UN)(t,n,e);if(!i)return Fe({},vS);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?Fe(Fe({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function FN(n,e,t,r){return t.length>0&&m$(n,t,r)?{segmentGroup:new nr(e,g$(r,new nr(t,n.children))),slicedSegments:[]}:t.length===0&&v$(n,t,r)?{segmentGroup:new nr(n.segments,p$(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new nr(n.segments,n.children),slicedSegments:t}}function p$(n,e,t,r){let i={};for(let o of t)if(Pb(n,e,o)&&!r[nl(o)]){let s=new nr([],{});i[nl(o)]=s}return Fe(Fe({},r),i)}function g$(n,e){let t={};t[sn]=e;for(let r of n)if(r.path===""&&nl(r)!==sn){let i=new nr([],{});t[nl(r)]=i}return t}function m$(n,e,t){return t.some(r=>Pb(n,e,r)&&nl(r)!==sn)}function v$(n,e,t){return t.some(r=>Pb(n,e,r))}function Pb(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function y$(n,e,t){return e.length===0&&!n.children[t]}var yS=class{};function b$(n,e,t,r,i,o,s="emptyOnly",a){return L(this,null,function*(){return new bS(n,e,t,r,i,s,o,a).recognize()})}var _$=31,bS=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a,l){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=l,this.applyRedirects=new mS(this.urlSerializer,this.urlTree)}noMatchError(e){return new gt(4002,`'${e.segmentGroup}'`)}recognize(){return L(this,null,function*(){let e=FN(this.urlTree.root,[],[],this.config).segmentGroup,{children:t,rootSnapshot:r}=yield this.match(e),i=new $s(r,t),o=new um("",i),s=XN(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}})}match(e){return L(this,null,function*(){let t=new cf([],Object.freeze({}),Object.freeze(Fe({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),sn,this.rootComponentType,null,{},this.injector);try{return{children:yield this.processSegmentGroup(this.injector,this.config,e,sn,t),rootSnapshot:t}}catch(r){if(r instanceof fm)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Pc?this.noMatchError(r):r}})}processSegmentGroup(e,t,r,i,o){return L(this,null,function*(){if(r.segments.length===0&&r.hasChildren())return this.processChildren(e,t,r,o);let s=yield this.processSegment(e,t,r,r.segments,i,!0,o);return s instanceof $s?[s]:[]})}processChildren(e,t,r,i){return L(this,null,function*(){let o=[];for(let l of Object.keys(r.children))l==="primary"?o.unshift(l):o.push(l);let s=[];for(let l of o){let c=r.children[l],u=f$(t,l),d=yield this.processSegmentGroup(e,u,c,l,i);s.push(...d)}let a=mP(s);return w$(a),a})}processSegment(e,t,r,i,o,s,a){return L(this,null,function*(){for(let l of t)try{return yield this.processSegmentAgainstRoute(l._injector??e,t,l,r,i,o,s,a)}catch(c){if(c instanceof Pc||dP(c))continue;throw c}if(y$(r,i,o))return new yS;throw new Pc(r)})}processSegmentAgainstRoute(e,t,r,i,o,s,a,l){return L(this,null,function*(){if(nl(r)!==s&&(s===sn||!Pb(i,o,r)))throw new Pc(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,i,r,o,s,l);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,l);throw new Pc(i)})}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){return L(this,null,function*(){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:p}=gP(t,i,o);if(!l)throw new Pc(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>_$&&(this.allowRedirects=!1));let f=new cf(o,c,Object.freeze(Fe({},this.urlTree.queryParams)),this.urlTree.fragment,jN(i),nl(i),i.component??i._loadedComponent??null,i,BN(i),e),b=Tb(f,a,this.paramsInheritanceStrategy);if(f.params=Object.freeze(b.params),f.data=Object.freeze(b.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let _=yield this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,f,e),C=yield this.applyRedirects.lineralizeSegments(i,_);return this.processSegment(e,r,t,C.concat(p),s,!1,a)})}matchSegmentAgainstRoute(e,t,r,i,o,s){return L(this,null,function*(){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=yield pb(h$(t,r,i,e,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(t.children={}),!a?.matched)throw new Pc(t);e=r._injector??e;let{routes:l}=yield this.getChildConfig(e,r,i),c=r._loadedInjector??e,{parameters:u,consumedSegments:d,remainingSegments:p}=a,f=new cf(d,u,Object.freeze(Fe({},this.urlTree.queryParams)),this.urlTree.fragment,jN(r),nl(r),r.component??r._loadedComponent??null,r,BN(r),e),b=Tb(f,s,this.paramsInheritanceStrategy);f.params=Object.freeze(b.params),f.data=Object.freeze(b.data);let{segmentGroup:_,slicedSegments:C}=FN(t,d,p,l);if(C.length===0&&_.hasChildren()){let F=yield this.processChildren(c,l,_,f);return new $s(f,F)}if(l.length===0&&C.length===0)return new $s(f,[]);let S=nl(r)===o,A=yield this.processSegment(c,l,_,C,S?sn:o,!0,f);return new $s(f,A instanceof $s?[A]:[])})}getChildConfig(e,t,r){return L(this,null,function*(){if(t.children)return{routes:t.children,injector:e};if(t.loadChildren){if(t._loadedRoutes!==void 0){let o=t._loadedNgModuleFactory;return o&&!t._loadedInjector&&(t._loadedInjector=o.create(e).injector),{routes:t._loadedRoutes,injector:t._loadedInjector}}if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(yield pb(s$(e,t,r,this.urlSerializer,this.abortSignal))){let o=yield this.configLoader.loadChildren(e,t);return t._loadedRoutes=o.routes,t._loadedInjector=o.injector,t._loadedNgModuleFactory=o.factory,o}throw c$(t)}return{routes:[],injector:e}})}};function w$(n){n.sort((e,t)=>e.value.outlet===sn?-1:t.value.outlet===sn?1:e.value.outlet.localeCompare(t.value.outlet))}function x$(n){let e=n.value.routeConfig;return e&&e.path===""}function mP(n){let e=[],t=new Set;for(let r of n){if(!x$(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=mP(r.children);e.push(new $s(r.value,i))}return e.filter(r=>!t.has(r))}function jN(n){return n.data||{}}function BN(n){return n.resolve||{}}function C$(n,e,t,r,i,o,s){return Ji(a=>L(null,null,function*(){let{state:l,tree:c}=yield b$(n,e,t,r,a.extractedUrl,i,o,s);return kt(Fe({},a),{targetSnapshot:l,urlAfterRedirects:c})}))}function S$(n){return Ji(e=>{let{targetSnapshot:t,guards:{canActivateChecks:r}}=e;if(!r.length)return _n(e);let i=new Set(r.map(a=>a.route)),o=new Set;for(let a of i)if(!o.has(a))for(let l of vP(a))o.add(l);let s=0;return Nr(o).pipe(lh(a=>i.has(a)?E$(a,t,n):(a.data=Tb(a,a.parent,n).resolve,_n(void 0))),Sl(()=>s++),Ov(1),Ji(a=>s===o.size?_n(e):Xi))})}function vP(n){let e=n.children.map(t=>vP(t)).flat();return[n,...e]}function E$(n,e,t){let r=n.routeConfig,i=n._resolve;return r?.title!==void 0&&!sP(r)&&(i[hm]=r.title),dg(()=>(n.data=Tb(n,n.parent,t).resolve,D$(i,n,e).pipe(Nn(o=>(n._resolvedData=o,n.data=Fe(Fe({},n.data),o),null)))))}function D$(n,e,t){let r=sS(n);if(r.length===0)return _n({});let i={};return Nr(r).pipe(Ji(o=>I$(n[o],e,t).pipe(sa(),Sl(s=>{if(s instanceof Vh)throw Mb(new Oc,s);i[o]=s}))),Ov(1),Nn(()=>i),ah(o=>dP(o)?Xi:tx(o)))}function I$(n,e,t){let r=e._environmentInjector,i=zh(n,r),o=i.resolve?i.resolve(e,t):ro(r,()=>i(e,t));return ff(o)}function VN(n){return Vo(e=>{let t=n(e);return t?Nr(t).pipe(Nn(()=>e)):_n(e)})}var ES=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===sn);return r}getResolvedTitleForRoute(t){return t.data[hm]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ut({token:n,factory:()=>Ye(yP),providedIn:"root"})}return n})(),yP=(()=>{class n extends ES{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(xt(NN))};static \u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ru=new Ct("",{factory:()=>({})}),gf=new Ct(""),Ob=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=Ye(EC);loadComponent(t,r){return L(this,null,function*(){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=L(this,null,function*(){try{let o=yield HN(ro(t,()=>r.loadComponent())),s=yield wP(_P(o));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}});return this.componentLoaders.set(r,i),i})}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=L(this,null,function*(){try{let o=yield bP(r,this.compiler,t,this.onLoadEndListener);return r._loadedRoutes=o.routes,r._loadedInjector=o.injector,r._loadedNgModuleFactory=o.factory,o}finally{this.childrenLoaders.delete(r)}});return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function bP(n,e,t,r){return L(this,null,function*(){let i=yield HN(ro(t,()=>n.loadChildren())),o=yield wP(_P(i)),s;o instanceof By||Array.isArray(o)?s=o:s=yield e.compileModuleAsync(o),r&&r(n);let a,l,c=!1,u;return Array.isArray(s)?(l=s,c=!0):(a=s.create(t).injector,u=s,l=a.get(gf,[],{optional:!0,self:!0}).flat()),{routes:l.map(SS),injector:a,factory:u}})}function A$(n){return n&&typeof n=="object"&&"default"in n}function _P(n){return A$(n)?n.default:n}function wP(n){return L(this,null,function*(){return n})}var Rb=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=ut({token:n,factory:()=>Ye(T$),providedIn:"root"})}return n})(),T$=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),DS=new Ct(""),IS=new Ct("");function xP(n,e,t){let r=n.get(IS),i=n.get(fi);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=i.startViewTransition(()=>(o(),M$(n)));a.updateCallbackDone.catch(c=>{}),a.ready.catch(c=>{}),a.finished.catch(c=>{});let{onViewTransitionCreated:l}=r;return l&&ro(n,()=>l({transition:a,from:e,to:t})),s}function M$(n){return new Promise(e=>{Eh({read:()=>setTimeout(e)},{injector:n})})}var k$=()=>{},AS=new Ct(""),Lb=(()=>{class n{currentNavigation=Ga(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=Ga(null);events=new $r;transitionAbortWithErrorSubject=new $r;configLoader=Ye(Ob);environmentInjector=Ye(di);destroyRef=Ye(Wa);urlSerializer=Ye(hf);rootContexts=Ye(pf);location=Ye(Mu);inputBindingEnabled=Ye(gm,{optional:!0})!==null;titleStrategy=Ye(ES);options=Ye(Ru,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=Ye(Rb);createViewTransition=Ye(DS,{optional:!0});navigationErrorHandler=Ye(AS,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>_n(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new wb(i)),r=i=>this.events.next(new xb(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;ii(()=>{this.transitions?.next(kt(Fe({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(t){return this.transitions=new Rn(null),this.transitions.pipe(eo(r=>r!==null),Vo(r=>{let i=!1,o=new AbortController,s=()=>!i&&this.currentTransition?.id===r.id;return _n(r).pipe(Vo(a=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",xo.SupersededByNewNavigation),Xi;this.currentTransition=r;let l=this.lastSuccessfulNavigation();this.currentNavigation.set({id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:l?kt(Fe({},l),{previousNavigation:null}):null,abort:()=>o.abort()});let c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=a.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!c&&u!=="reload")return this.events.next(new Bl(a.id,this.urlSerializer.serialize(a.rawUrl),"",Rh.IgnoredSameUrlNavigation)),a.resolve(!1),Xi;if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return _n(a).pipe(Vo(d=>(this.events.next(new Ou(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),d.id!==this.navigationId?Xi:Promise.resolve(d))),C$(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),Sl(d=>{r.targetSnapshot=d.targetSnapshot,r.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation.update(f=>(f.finalUrl=d.urlAfterRedirects,f));let p=new Lh(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:d,extractedUrl:p,source:f,restoredState:b,extras:_}=a,C=new Ou(d,this.urlSerializer.serialize(p),f,b);this.events.next(C);let S=iP(this.rootComponentType,this.environmentInjector).snapshot;return this.currentTransition=r=kt(Fe({},a),{targetSnapshot:S,urlAfterRedirects:p,extras:kt(Fe({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(A=>(A.finalUrl=p,A)),_n(r)}else return this.events.next(new Bl(a.id,this.urlSerializer.serialize(a.extractedUrl),"",Rh.IgnoredByUrlHandlingStrategy)),a.resolve(!1),Xi}),Nn(a=>{let l=new vb(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);return this.events.next(l),this.currentTransition=r=kt(Fe({},a),{guards:Uq(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),r}),Xq(a=>this.events.next(a)),Vo(a=>{if(r.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw Mb(this.urlSerializer,a.guardsResult);let l=new yb(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);if(this.events.next(l),!s())return Xi;if(!a.guardsResult)return this.cancelNavigationTransition(a,"",xo.GuardRejected),Xi;if(a.guards.canActivateChecks.length===0)return _n(a);let c=new bb(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);if(this.events.next(c),!s())return Xi;let u=!1;return _n(a).pipe(S$(this.paramsInheritanceStrategy),Sl({next:()=>{u=!0;let d=new _b(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(d)},complete:()=>{u||this.cancelNavigationTransition(a,"",xo.NoDataFromResolver)}}))}),VN(a=>{let l=u=>{let d=[];if(u.routeConfig?._loadedComponent)u.component=u.routeConfig?._loadedComponent;else if(u.routeConfig?.loadComponent){let p=u._environmentInjector;d.push(this.configLoader.loadComponent(p,u.routeConfig).then(f=>{u.component=f}))}for(let p of u.children)d.push(...l(p));return d},c=l(a.targetSnapshot.root);return c.length===0?_n(a):Nr(Promise.all(c).then(()=>a))}),VN(()=>this.afterPreactivation()),Vo(()=>{let{currentSnapshot:a,targetSnapshot:l}=r,c=this.createViewTransition?.(this.environmentInjector,a.root,l.root);return c?Nr(c).pipe(Nn(()=>r)):_n(r)}),Bo(1),Nn(a=>{let l=Fq(t.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);this.currentTransition=r=a=kt(Fe({},a),{targetRouterState:l}),this.currentNavigation.update(c=>(c.targetRouterState=l,c)),this.events.next(new jh),s()&&(new gS(t.routeReuseStrategy,r.targetRouterState,r.currentRouterState,c=>this.events.next(c),this.inputBindingEnabled).activate(this.rootContexts),s()&&(i=!0,this.currentNavigation.update(c=>(c.abort=k$,c)),this.lastSuccessfulNavigation.set(ii(this.currentNavigation)),this.events.next(new Ys(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)))}),fg(fP(o.signal).pipe(eo(()=>!i&&!r.targetRouterState),Sl(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",xo.Aborted)}))),Sl({complete:()=>{i=!0}}),fg(this.transitionAbortWithErrorSubject.pipe(Sl(a=>{throw a}))),ox(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",xo.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),ah(a=>{if(i=!0,this.destroyed)return r.resolve(!1),Xi;if(uP(a))this.events.next(new ma(r.id,this.urlSerializer.serialize(r.extractedUrl),a.message,a.cancellationCode)),Vq(a)?this.events.next(new Bh(a.url,a.navigationBehaviorOptions)):r.resolve(!1);else{let l=new df(r.id,this.urlSerializer.serialize(r.extractedUrl),a,r.targetSnapshot??void 0);try{let c=ro(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(c instanceof Vh){let{message:u,cancellationCode:d}=Mb(this.urlSerializer,c);this.events.next(new ma(r.id,this.urlSerializer.serialize(r.extractedUrl),u,d)),this.events.next(new Bh(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(l),a}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Xi}))}))}cancelNavigationTransition(t,r,i){let o=new ma(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=ii(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function N$(n){return n!==Ph}var CP=new Ct("");var SP=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=ut({token:n,factory:()=>Ye(P$),providedIn:"root"})}return n})(),Nb=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}shouldDestroyInjector(e){return!0}},P$=(()=>{class n extends Nb{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Qa(n)))(i||n)}})();static \u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),TS=(()=>{class n{urlSerializer=Ye(hf);options=Ye(Ru,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=Ye(Mu);urlHandlingStrategy=Ye(Rb);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ws;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Ws?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=iP(null,Ye(di));getRouterState(){return this.routerState}_stateMemento=this.createStateMemento();get stateMemento(){return this._stateMemento}updateStateMemento(){this._stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}restoredState(){return this.location.getState()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ut({token:n,factory:()=>Ye(O$),providedIn:"root"})}return n})(),O$=(()=>{class n extends TS{currentPageId=0;lastSuccessfulId=-1;get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Ou?this.updateStateMemento():t instanceof Bl?this.commitTransition(r):t instanceof Lh?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof jh?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof ma&&!rP(t)?this.restoreHistory(r):t instanceof df?this.restoreHistory(r,!0):t instanceof Ys&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,l=Fe(Fe({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",l)}else{let a=Fe(Fe({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Qa(n)))(i||n)}})();static \u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Fb(n,e){n.events.pipe(eo(t=>t instanceof Ys||t instanceof ma||t instanceof df||t instanceof Bl),Nn(t=>t instanceof Ys||t instanceof Bl?0:(t instanceof ma?t.code===xo.Redirect||t.code===xo.SupersededByNewNavigation:!1)?2:1),eo(t=>t!==2),Bo(1)).subscribe(()=>{e()})}var MS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ls=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=Ye(vC);stateManager=Ye(TS);options=Ye(Ru,{optional:!0})||{};pendingTasks=Ye(Ac);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=Ye(Lb);urlSerializer=Ye(hf);location=Ye(Mu);urlHandlingStrategy=Ye(Rb);injector=Ye(di);_events=new $r;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=Ye(SP);injectorCleanup=Ye(CP,{optional:!0});onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=Ye(gf,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!Ye(gm,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{}}),this.subscribeToNavigationEvents()}eventsSubscription=new ui;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=ii(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof ma&&r.code!==xo.Redirect&&r.code!==xo.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ys)this.navigated=!0,this.injectorCleanup?.(this.routeReuseStrategy,this.routerState,this.config);else if(r instanceof Bh){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=Fe({scroll:i.extras.scroll,browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||N$(i.source)},s);this.scheduleNavigation(a,Ph,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Rq(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ph,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=Fe({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(l=>{this.disposed||this.injector.get(Vs)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return ii(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(SS),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=Fe(Fe({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let p=i?i.snapshot:this.routerState.snapshot.root;d=JN(p)}catch(p){(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return eP(d,t,u,c??null,this.urlSerializer)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Pu(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ph,null,r)}navigate(t,r={skipLocationChange:!1}){return R$(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch(r){return this.console.warn(Il(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=Fe({},MS):r===!1?i=Fe({},kS):i=r,Pu(t))return aS(this.currentUrlTree,t,i);let o=this.parseUrl(t);return aS(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,p)=>{a=d,l=p});let u=this.pendingTasks.add();return Fb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function R$(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new gt(4008,!1)}var Lu=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Ga(null);get href(){return ii(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new $r;applicationErrorHandler=Ye(Vs);options=Ye(Ru,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(Ye(new qy("href"),{optional:!0}));let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area"||!!(typeof customElements=="object"&&customElements.get(l)?.observedAttributes?.includes?.("href")),this.isAnchorElement&&(this.setTabIndexIfNotOnNativeEl("0"),this.subscribeToNavigationEventsIfNecessary())}subscribeToNavigationEventsIfNecessary(){this.subscription===void 0&&(this.subscription=this.router.events.subscribe(t=>{t instanceof Ys&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Pu(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l)?.catch(c=>{this.applicationErrorHandler(c)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Pu(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(lt(ls),lt(va),Bg("tabindex"),lt(ha),lt(Hi),lt(el))};static \u0275dir=Er({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&tt("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Ah("href",i.reactiveHref(),K2)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",nf],skipLocationChange:[2,"skipLocationChange","skipLocationChange",nf],replaceUrl:[2,"replaceUrl","replaceUrl",nf],routerLink:"routerLink"},features:[Us]})}return n})(),PS=(()=>{class n{router;element;renderer;cdr;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Zr;link=Ye(Lu,{optional:!0});constructor(t,r,i,o){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.routerEventsSubscription=t.events.subscribe(s=>{s instanceof Ys&&this.update()})}ngAfterContentInit(){_n(this.links.changes,_n(null)).pipe(du()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Nr(t).pipe(du()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=L$(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact??!1?Fe({},MS):Fe({},kS);return i=>{let o=i.urlTree;return o?ii(_S(o,t,r)):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(lt(ls),lt(Hi),lt(ha),lt(Ll))};static \u0275dir=Er({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&Uy(o,Lu,5),r&2){let s;Zd(s=Xd())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Us]})}return n})();function L$(n){return!!n.paths}var vm=class{};var EP=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(eo(t=>t instanceof Ys),lh(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription?.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Dh(o.providers,t,""));let s=o._injector??t;o._loadedNgModuleFactory&&!o._loadedInjector&&(o._loadedInjector=o._loadedNgModuleFactory.create(s).injector);let a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Nr(i).pipe(du())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{if(t.destroyed)return _n(null);let i;r.loadChildren&&r.canLoad===void 0?i=Nr(this.loader.loadChildren(t,r)):i=_n(null);let o=i.pipe(Ji(s=>s===null?_n(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,r._loadedNgModuleFactory=s.factory,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(t,r);return Nr([o,s]).pipe(du())}else return o})}static \u0275fac=function(r){return new(r||n)(xt(ls),xt(di),xt(vm),xt(Ob))};static \u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),DP=new Ct(""),F$=(()=>{class n{options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Ph;restoredId=0;store={};urlSerializer=Ye(hf);zone=Ye(Pr);viewportScroller=Ye(WC);transitions=Ye(Lb);constructor(t){this.options=t,this.options.scrollPositionRestoration||="disabled",this.options.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ou?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ys?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Bl&&t.code===Rh.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{if(!(t instanceof Fh)||t.scrollBehavior==="manual")return;let r={behavior:"instant"};t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position,r):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(t,r){let i=ii(this.transitions.currentNavigation)?.extras.scroll;this.zone.runOutsideAngular(()=>L(this,null,function*(){yield new Promise(o=>{setTimeout(o),typeof requestAnimationFrame<"u"&&requestAnimationFrame(o)}),this.zone.run(()=>{this.transitions.events.next(new Fh(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){dC()};static \u0275prov=ut({token:n,factory:n.\u0275fac})}return n})();function OS(n,...e){return yu([{provide:gf,multi:!0,useValue:n},[],{provide:va,useFactory:IP},{provide:$g,multi:!0,useFactory:AP},e.map(t=>t.\u0275providers)])}function IP(){return Ye(ls).routerState.root}function ym(n,e){return{\u0275kind:n,\u0275providers:e}}function AP(){let n=Ye(no);return e=>{let t=n.get(is);if(e!==t.components[0])return;let r=n.get(ls),i=n.get(TP);n.get(RS)===1&&r.initialNavigation(),n.get(NP,null,{optional:!0})?.setUpPreloading(),n.get(DP,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var TP=new Ct("",{factory:()=>new $r}),RS=new Ct("",{factory:()=>1});function MP(){let n=[{provide:$2,useValue:!0},{provide:RS,useValue:0},Ih(()=>{let e=Ye(no);return e.get(PC,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(ls),o=e.get(TP);Fb(i,()=>{r(!0)}),e.get(Lb).afterPreactivation=()=>(r(!0),o.closed?_n(void 0):o),i.initialNavigation()}))})];return ym(2,n)}function kP(){let n=[Ih(()=>{Ye(ls).setUpLocationChangeListener()}),{provide:RS,useValue:2}];return ym(3,n)}var NP=new Ct("");function PP(n){return ym(0,[{provide:NP,useExisting:EP},{provide:vm,useExisting:n}])}function OP(){return ym(8,[xS,{provide:gm,useExisting:xS}])}function RP(n){Qd("NgRouterViewTransitions");let e=[{provide:DS,useValue:xP},{provide:IS,useValue:Fe({skipNextTransition:!!n?.skipInitialTransition},n)}];return ym(9,e)}var LP=[Mu,{provide:hf,useClass:Oc},ls,pf,{provide:va,useFactory:IP},Ob,[]],LS=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[LP,[],{provide:gf,multi:!0,useValue:t},[],r?.errorHandler?{provide:AS,useValue:r.errorHandler}:[],{provide:Ru,useValue:r||{}},r?.useHash?B$():V$(),j$(),r?.preloadingStrategy?PP(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?U$(r):[],r?.bindToComponentInputs?OP().\u0275providers:[],r?.enableViewTransitions?RP().\u0275providers:[],z$()]}}static forChild(t){return{ngModule:n,providers:[{provide:gf,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Za({type:n});static \u0275inj=aa({})}return n})();function j$(){return{provide:DP,useFactory:()=>{let n=Ye(WC),e=Ye(Ru);return e.scrollOffset&&n.setOffset(e.scrollOffset),new F$(e)}}}function B$(){return{provide:el,useClass:UC}}function V$(){return{provide:el,useClass:Yy}}function U$(n){return[n.initialNavigation==="disabled"?kP().\u0275providers:[],n.initialNavigation==="enabledBlocking"?MP().\u0275providers:[]]}var NS=new Ct("");function z$(){return[{provide:NS,useFactory:AP},{provide:$g,multi:!0,useExisting:NS}]}function wm(n){return n+.5|0}var Fu=(n,e,t)=>Math.max(Math.min(n,t),e);function bm(n){return Fu(wm(n*2.55),0,255)}function ju(n){return Fu(wm(n*255),0,255)}function Rc(n){return Fu(wm(n/2.55)/100,0,1)}function jP(n){return Fu(wm(n*100),0,100)}var ya={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},jS=[..."0123456789ABCDEF"],H$=n=>jS[n&15],q$=n=>jS[(n&240)>>4]+jS[n&15],jb=n=>(n&240)>>4===(n&15),$$=n=>jb(n.r)&&jb(n.g)&&jb(n.b)&&jb(n.a);function W$(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&ya[n[1]]*17,g:255&ya[n[2]]*17,b:255&ya[n[3]]*17,a:e===5?ya[n[4]]*17:255}:(e===7||e===9)&&(t={r:ya[n[1]]<<4|ya[n[2]],g:ya[n[3]]<<4|ya[n[4]],b:ya[n[5]]<<4|ya[n[6]],a:e===9?ya[n[7]]<<4|ya[n[8]]:255})),t}var G$=(n,e)=>n<255?e(n):"";function Y$(n){var e=$$(n)?H$:q$;return n?"#"+e(n.r)+e(n.g)+e(n.b)+G$(n.a,e):void 0}var K$=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function zP(n,e,t){let r=e*Math.min(t,1-t),i=(o,s=(o+n/30)%12)=>t-r*Math.max(Math.min(s-3,9-s,1),-1);return[i(0),i(8),i(4)]}function Q$(n,e,t){let r=(i,o=(i+n/60)%6)=>t-t*e*Math.max(Math.min(o,4-o,1),0);return[r(5),r(3),r(1)]}function Z$(n,e,t){let r=zP(n,1,.5),i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)r[i]*=1-e-t,r[i]+=e;return r}function X$(n,e,t,r,i){return n===i?(e-t)/r+(e<t?6:0):e===i?(t-n)/r+2:(n-e)/r+4}function BS(n){let t=n.r/255,r=n.g/255,i=n.b/255,o=Math.max(t,r,i),s=Math.min(t,r,i),a=(o+s)/2,l,c,u;return o!==s&&(u=o-s,c=a>.5?u/(2-o-s):u/(o+s),l=X$(t,r,i,u,o),l=l*60+.5),[l|0,c||0,a]}function VS(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(ju)}function US(n,e,t){return VS(zP,n,e,t)}function J$(n,e,t){return VS(Z$,n,e,t)}function eW(n,e,t){return VS(Q$,n,e,t)}function HP(n){return(n%360+360)%360}function tW(n){let e=K$.exec(n),t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?bm(+e[5]):ju(+e[5]));let i=HP(+e[2]),o=+e[3]/100,s=+e[4]/100;return e[1]==="hwb"?r=J$(i,o,s):e[1]==="hsv"?r=eW(i,o,s):r=US(i,o,s),{r:r[0],g:r[1],b:r[2],a:t}}function nW(n,e){var t=BS(n);t[0]=HP(t[0]+e),t=US(t),n.r=t[0],n.g=t[1],n.b=t[2]}function rW(n){if(!n)return;let e=BS(n),t=e[0],r=jP(e[1]),i=jP(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${i}%, ${Rc(n.a)})`:`hsl(${t}, ${r}%, ${i}%)`}var BP={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},VP={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function iW(){let n={},e=Object.keys(VP),t=Object.keys(BP),r,i,o,s,a;for(r=0;r<e.length;r++){for(s=a=e[r],i=0;i<t.length;i++)o=t[i],a=a.replace(o,BP[o]);o=parseInt(VP[s],16),n[a]=[o>>16&255,o>>8&255,o&255]}return n}var Bb;function oW(n){Bb||(Bb=iW(),Bb.transparent=[0,0,0,0]);let e=Bb[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}var sW=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function aW(n){let e=sW.exec(n),t=255,r,i,o;if(e){if(e[7]!==r){let s=+e[7];t=e[8]?bm(s):Fu(s*255,0,255)}return r=+e[1],i=+e[3],o=+e[5],r=255&(e[2]?bm(r):Fu(r,0,255)),i=255&(e[4]?bm(i):Fu(i,0,255)),o=255&(e[6]?bm(o):Fu(o,0,255)),{r,g:i,b:o,a:t}}}function lW(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Rc(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}var FS=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Hh=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function cW(n,e,t){let r=Hh(Rc(n.r)),i=Hh(Rc(n.g)),o=Hh(Rc(n.b));return{r:ju(FS(r+t*(Hh(Rc(e.r))-r))),g:ju(FS(i+t*(Hh(Rc(e.g))-i))),b:ju(FS(o+t*(Hh(Rc(e.b))-o))),a:n.a+t*(e.a-n.a)}}function Vb(n,e,t){if(n){let r=BS(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=US(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function qP(n,e){return n&&Object.assign(e||{},n)}function UP(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=ju(n[3]))):(e=qP(n,{r:0,g:0,b:0,a:1}),e.a=ju(e.a)),e}function uW(n){return n.charAt(0)==="r"?aW(n):tW(n)}var _m=class n{constructor(e){if(e instanceof n)return e;let t=typeof e,r;t==="object"?r=UP(e):t==="string"&&(r=W$(e)||oW(e)||uW(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=qP(this._rgb);return e&&(e.a=Rc(e.a)),e}set rgb(e){this._rgb=UP(e)}rgbString(){return this._valid?lW(this._rgb):void 0}hexString(){return this._valid?Y$(this._rgb):void 0}hslString(){return this._valid?rW(this._rgb):void 0}mix(e,t){if(e){let r=this.rgb,i=e.rgb,o,s=t===o?.5:t,a=2*s-1,l=r.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;o=1-c,r.r=255&c*r.r+o*i.r+.5,r.g=255&c*r.g+o*i.g+.5,r.b=255&c*r.b+o*i.b+.5,r.a=s*r.a+(1-s)*i.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=cW(this._rgb,e._rgb,t)),this}clone(){return new n(this.rgb)}alpha(e){return this._rgb.a=ju(e),this}clearer(e){let t=this._rgb;return t.a*=1-e,this}greyscale(){let e=this._rgb,t=wm(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){let t=this._rgb;return t.a*=1+e,this}negate(){let e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Vb(this._rgb,2,e),this}darken(e){return Vb(this._rgb,2,-e),this}saturate(e){return Vb(this._rgb,1,e),this}desaturate(e){return Vb(this._rgb,1,-e),this}rotate(e){return nW(this._rgb,e),this}};function zl(){}var tO=(()=>{let n=0;return()=>n++})();function Mn(n){return n==null}function Rr(n){if(Array.isArray&&Array.isArray(n))return!0;let e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Pn(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Jr(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function cs(n,e){return Jr(n)?n:e}function rn(n,e){return typeof n>"u"?e:n}var nO=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,$S=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Dr(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function ar(n,e,t,r){let i,o,s;if(Rr(n))if(o=n.length,r)for(i=o-1;i>=0;i--)e.call(t,n[i],i);else for(i=0;i<o;i++)e.call(t,n[i],i);else if(Pn(n))for(s=Object.keys(n),o=s.length,i=0;i<o;i++)e.call(t,n[s[i]],s[i])}function Sm(n,e){let t,r,i,o;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(i=n[t],o=e[t],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function qb(n){if(Rr(n))return n.map(qb);if(Pn(n)){let e=Object.create(null),t=Object.keys(n),r=t.length,i=0;for(;i<r;++i)e[t[i]]=qb(n[t[i]]);return e}return n}function rO(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function dW(n,e,t,r){if(!rO(n))return;let i=e[n],o=t[n];Pn(i)&&Pn(o)?$h(i,o,r):e[n]=qb(o)}function $h(n,e,t){let r=Rr(e)?e:[e],i=r.length;if(!Pn(n))return n;t=t||{};let o=t.merger||dW,s;for(let a=0;a<i;++a){if(s=r[a],!Pn(s))continue;let l=Object.keys(s);for(let c=0,u=l.length;c<u;++c)o(l[c],n,s,t)}return n}function Gh(n,e){return $h(n,e,{merger:fW})}function fW(n,e,t){if(!rO(n))return;let r=e[n],i=t[n];Pn(r)&&Pn(i)?Gh(r,i):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=qb(i))}var $P={"":n=>n,x:n=>n.x,y:n=>n.y};function hW(n){let e=n.split("."),t=[],r="";for(let i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function pW(n){let e=hW(n);return t=>{for(let r of e){if(r==="")break;t=t&&t[r]}return t}}function jc(n,e){return($P[e]||($P[e]=pW(e)))(n)}function Yb(n){return n.charAt(0).toUpperCase()+n.slice(1)}var Yh=n=>typeof n<"u",Lc=n=>typeof n=="function",WS=(n,e)=>{if(n.size!==e.size)return!1;for(let t of n)if(!e.has(t))return!1;return!0};function iO(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}var Qn=Math.PI,Lr=2*Qn,gW=Lr+Qn,$b=Number.POSITIVE_INFINITY,mW=Qn/180,si=Qn/2,mf=Qn/4,WP=Qn*2/3,Fc=Math.log10,rl=Math.sign;function Kh(n,e,t){return Math.abs(n-e)<t}function GS(n){let e=Math.round(n);n=Kh(n,e,n/1e3)?e:n;let t=Math.pow(10,Math.floor(Fc(n))),r=n/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function oO(n){let e=[],t=Math.sqrt(n),r;for(r=1;r<t;r++)n%r===0&&(e.push(r),e.push(n/r));return t===(t|0)&&e.push(t),e.sort((i,o)=>i-o).pop(),e}function vW(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function bf(n){return!vW(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function sO(n,e){let t=Math.round(n);return t-e<=n&&t+e>=n}function YS(n,e,t){let r,i,o;for(r=0,i=n.length;r<i;r++)o=n[r][t],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function ba(n){return n*(Qn/180)}function Kb(n){return n*(180/Qn)}function KS(n){if(!Jr(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function QS(n,e){let t=e.x-n.x,r=e.y-n.y,i=Math.sqrt(t*t+r*r),o=Math.atan2(r,t);return o<-.5*Qn&&(o+=Lr),{angle:o,distance:i}}function Wb(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function yW(n,e){return(n-e+gW)%Lr-Qn}function oo(n){return(n%Lr+Lr)%Lr}function Qh(n,e,t,r){let i=oo(n),o=oo(e),s=oo(t),a=oo(o-i),l=oo(s-i),c=oo(i-o),u=oo(i-s);return i===o||i===s||r&&o===s||a>l&&c<u}function Ri(n,e,t){return Math.max(e,Math.min(t,n))}function aO(n){return Ri(n,-32768,32767)}function Hl(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function Qb(n,e,t){t=t||(s=>n[s]<e);let r=n.length-1,i=0,o;for(;r-i>1;)o=i+r>>1,t(o)?i=o:r=o;return{lo:i,hi:r}}var Vl=(n,e,t,r)=>Qb(n,t,r?i=>{let o=n[i][e];return o<t||o===t&&n[i+1][e]===t}:i=>n[i][e]<t),lO=(n,e,t)=>Qb(n,t,r=>n[r][e]>=t);function cO(n,e,t){let r=0,i=n.length;for(;r<i&&n[r]<e;)r++;for(;i>r&&n[i-1]>t;)i--;return r>0||i<n.length?n.slice(r,i):n}var uO=["push","pop","shift","splice","unshift"];function dO(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),uO.forEach(t=>{let r="_onData"+Yb(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...o){let s=i.apply(this,o);return n._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...o)}),s}})})}function ZS(n,e){let t=n._chartjs;if(!t)return;let r=t.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(uO.forEach(o=>{delete n[o]}),delete n._chartjs)}function XS(n){let e=new Set(n);return e.size===n.length?n:Array.from(e)}var JS=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function eE(n,e){let t=[],r=!1;return function(...i){t=i,r||(r=!0,JS.call(window,()=>{r=!1,n.apply(e,t)}))}}function fO(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}var Zb=n=>n==="start"?"left":n==="end"?"right":"center",so=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,hO=(n,e,t,r)=>n===(r?"left":"right")?t:n==="center"?(e+t)/2:e;function tE(n,e,t){let r=e.length,i=0,o=r;if(n._sorted){let{iScale:s,vScale:a,_parsed:l}=n,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,u=s.axis,{min:d,max:p,minDefined:f,maxDefined:b}=s.getUserBounds();if(f){if(i=Math.min(Vl(l,u,d).lo,t?r:Vl(e,u,s.getPixelForValue(d)).lo),c){let _=l.slice(0,i+1).reverse().findIndex(C=>!Mn(C[a.axis]));i-=Math.max(0,_)}i=Ri(i,0,r-1)}if(b){let _=Math.max(Vl(l,s.axis,p,!0).hi+1,t?0:Vl(e,u,s.getPixelForValue(p),!0).hi+1);if(c){let C=l.slice(_-1).findIndex(S=>!Mn(S[a.axis]));_+=Math.max(0,C)}o=Ri(_,i,r)-i}else o=r-i}return{start:i,count:o}}function nE(n){let{xScale:e,yScale:t,_scaleRanges:r}=n,i={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!r)return n._scaleRanges=i,!0;let o=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==t.min||r.ymax!==t.max;return Object.assign(r,i),o}var Ub=n=>n===0||n===1,GP=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*Lr/t)),YP=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*Lr/t)+1,qh={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*si)+1,easeOutSine:n=>Math.sin(n*si),easeInOutSine:n=>-.5*(Math.cos(Qn*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Ub(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Ub(n)?n:GP(n,.075,.3),easeOutElastic:n=>Ub(n)?n:YP(n,.075,.3),easeInOutElastic(n){return Ub(n)?n:n<.5?.5*GP(n*2,.1125,.45):.5+.5*YP(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-qh.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?qh.easeInBounce(n*2)*.5:qh.easeOutBounce(n*2-1)*.5+.5};function rE(n){if(n&&typeof n=="object"){let e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function iE(n){return rE(n)?n:new _m(n)}function zS(n){return rE(n)?n:new _m(n).saturate(.5).darken(.1).hexString()}var bW=["x","y","borderWidth","radius","tension"],_W=["color","borderColor","backgroundColor"];function wW(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:_W},numbers:{type:"number",properties:bW}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function xW(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var KP=new Map;function CW(n,e){e=e||{};let t=n+JSON.stringify(e),r=KP.get(t);return r||(r=new Intl.NumberFormat(n,e),KP.set(t,r)),r}function Zh(n,e,t){return CW(e,t).format(n)}var pO={values(n){return Rr(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";let r=this.chart.options.locale,i,o=n;if(t.length>1){let c=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),o=SW(n,t)}let s=Fc(Math.abs(o)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Zh(n,r,l)},logarithmic(n,e,t){if(n===0)return"0";let r=t[e].significand||n/Math.pow(10,Math.floor(Fc(n)));return[1,2,3,5,10,15].includes(r)||e>.8*t.length?pO.numeric.call(this,n,e,t):""}};function SW(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var Em={formatters:pO};function EW(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Em.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}var Uu=Object.create(null),Xb=Object.create(null);function xm(n,e){if(!e)return n;let t=e.split(".");for(let r=0,i=t.length;r<i;++r){let o=t[r];n=n[o]||(n[o]=Object.create(null))}return n}function HS(n,e,t){return typeof e=="string"?$h(xm(n,e),t):$h(xm(n,""),e)}var qS=class{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>zS(i.backgroundColor),this.hoverBorderColor=(r,i)=>zS(i.borderColor),this.hoverColor=(r,i)=>zS(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return HS(this,e,t)}get(e){return xm(this,e)}describe(e,t){return HS(Xb,e,t)}override(e,t){return HS(Uu,e,t)}route(e,t,r,i){let o=xm(this,e),s=xm(this,r),a="_"+t;Object.defineProperties(o,{[a]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){let l=this[a],c=s[i];return Pn(l)?Object.assign({},c,l):rn(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(t=>t(this))}},Ir=new qS({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[wW,xW,EW]);function DW(n){return!n||Mn(n.size)||Mn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Cm(n,e,t,r,i){let o=e[i];return o||(o=e[i]=n.measureText(i).width,t.push(i)),o>r&&(r=o),r}function gO(n,e,t,r){r=r||{};let i=r.data=r.data||{},o=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},o=r.garbageCollect=[],r.font=e),n.save(),n.font=e;let s=0,a=t.length,l,c,u,d,p;for(l=0;l<a;l++)if(d=t[l],d!=null&&!Rr(d))s=Cm(n,i,o,s,d);else if(Rr(d))for(c=0,u=d.length;c<u;c++)p=d[c],p!=null&&!Rr(p)&&(s=Cm(n,i,o,s,p));n.restore();let f=o.length/2;if(f>t.length){for(l=0;l<f;l++)delete i[o[l]];o.splice(0,f)}return s}function zu(n,e,t){let r=n.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*r)/r+i}function oE(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function Jb(n,e,t,r){sE(n,e,t,r,null)}function sE(n,e,t,r,i){let o,s,a,l,c,u,d,p,f=e.pointStyle,b=e.rotation,_=e.radius,C=(b||0)*mW;if(f&&typeof f=="object"&&(o=f.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(t,r),n.rotate(C),n.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),n.restore();return}if(!(isNaN(_)||_<=0)){switch(n.beginPath(),f){default:i?n.ellipse(t,r,i/2,_,0,0,Lr):n.arc(t,r,_,0,Lr),n.closePath();break;case"triangle":u=i?i/2:_,n.moveTo(t+Math.sin(C)*u,r-Math.cos(C)*_),C+=WP,n.lineTo(t+Math.sin(C)*u,r-Math.cos(C)*_),C+=WP,n.lineTo(t+Math.sin(C)*u,r-Math.cos(C)*_),n.closePath();break;case"rectRounded":c=_*.516,l=_-c,s=Math.cos(C+mf)*l,d=Math.cos(C+mf)*(i?i/2-c:l),a=Math.sin(C+mf)*l,p=Math.sin(C+mf)*(i?i/2-c:l),n.arc(t-d,r-a,c,C-Qn,C-si),n.arc(t+p,r-s,c,C-si,C),n.arc(t+d,r+a,c,C,C+si),n.arc(t-p,r+s,c,C+si,C+Qn),n.closePath();break;case"rect":if(!b){l=Math.SQRT1_2*_,u=i?i/2:l,n.rect(t-u,r-l,2*u,2*l);break}C+=mf;case"rectRot":d=Math.cos(C)*(i?i/2:_),s=Math.cos(C)*_,a=Math.sin(C)*_,p=Math.sin(C)*(i?i/2:_),n.moveTo(t-d,r-a),n.lineTo(t+p,r-s),n.lineTo(t+d,r+a),n.lineTo(t-p,r+s),n.closePath();break;case"crossRot":C+=mf;case"cross":d=Math.cos(C)*(i?i/2:_),s=Math.cos(C)*_,a=Math.sin(C)*_,p=Math.sin(C)*(i?i/2:_),n.moveTo(t-d,r-a),n.lineTo(t+d,r+a),n.moveTo(t+p,r-s),n.lineTo(t-p,r+s);break;case"star":d=Math.cos(C)*(i?i/2:_),s=Math.cos(C)*_,a=Math.sin(C)*_,p=Math.sin(C)*(i?i/2:_),n.moveTo(t-d,r-a),n.lineTo(t+d,r+a),n.moveTo(t+p,r-s),n.lineTo(t-p,r+s),C+=mf,d=Math.cos(C)*(i?i/2:_),s=Math.cos(C)*_,a=Math.sin(C)*_,p=Math.sin(C)*(i?i/2:_),n.moveTo(t-d,r-a),n.lineTo(t+d,r+a),n.moveTo(t+p,r-s),n.lineTo(t-p,r+s);break;case"line":s=i?i/2:Math.cos(C)*_,a=Math.sin(C)*_,n.moveTo(t-s,r-a),n.lineTo(t+s,r+a);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(C)*(i?i/2:_),r+Math.sin(C)*_);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function Ul(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function Dm(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Im(n){n.restore()}function mO(n,e,t,r,i){if(!e)return n.lineTo(t.x,t.y);if(i==="middle"){let o=(e.x+t.x)/2;n.lineTo(o,e.y),n.lineTo(o,t.y)}else i==="after"!=!!r?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function vO(n,e,t,r){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?t.cp2x:t.cp1x,r?t.cp2y:t.cp1y,t.x,t.y)}function IW(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Mn(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function AW(n,e,t,r,i){if(i.strikethrough||i.underline){let o=n.measureText(r),s=e-o.actualBoundingBoxLeft,a=e+o.actualBoundingBoxRight,l=t-o.actualBoundingBoxAscent,c=t+o.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(s,u),n.lineTo(a,u),n.stroke()}}function TW(n,e){let t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Hu(n,e,t,r,i,o={}){let s=Rr(e)?e:[e],a=o.strokeWidth>0&&o.strokeColor!=="",l,c;for(n.save(),n.font=i.string,IW(n,o),l=0;l<s.length;++l)c=s[l],o.backdrop&&TW(n,o.backdrop),a&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Mn(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(c,t,r,o.maxWidth)),n.fillText(c,t,r,o.maxWidth),AW(n,t,r,c,o),r+=Number(i.lineHeight);n.restore()}function Xh(n,e){let{x:t,y:r,w:i,h:o,radius:s}=e;n.arc(t+s.topLeft,r+s.topLeft,s.topLeft,1.5*Qn,Qn,!0),n.lineTo(t,r+o-s.bottomLeft),n.arc(t+s.bottomLeft,r+o-s.bottomLeft,s.bottomLeft,Qn,si,!0),n.lineTo(t+i-s.bottomRight,r+o),n.arc(t+i-s.bottomRight,r+o-s.bottomRight,s.bottomRight,si,0,!0),n.lineTo(t+i,r+s.topRight),n.arc(t+i-s.topRight,r+s.topRight,s.topRight,0,-si,!0),n.lineTo(t+s.topLeft,r)}var MW=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,kW=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function NW(n,e){let t=(""+n).match(MW);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}var PW=n=>+n||0;function e1(n,e){let t={},r=Pn(e),i=r?Object.keys(e):e,o=Pn(n)?r?s=>rn(n[s],n[e[s]]):s=>n[s]:()=>n;for(let s of i)t[s]=PW(o(s));return t}function aE(n){return e1(n,{top:"y",right:"x",bottom:"y",left:"x"})}function qu(n){return e1(n,["topLeft","topRight","bottomLeft","bottomRight"])}function ao(n){let e=aE(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Si(n,e){n=n||{},e=e||Ir.font;let t=rn(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=rn(n.style,e.style);r&&!(""+r).match(kW)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);let i={family:rn(n.family,e.family),lineHeight:NW(rn(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:rn(n.weight,e.weight),string:""};return i.string=DW(i),i}function Jh(n,e,t,r){let i=!0,o,s,a;for(o=0,s=n.length;o<s;++o)if(a=n[o],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),i=!1),t!==void 0&&Rr(a)&&(a=a[t%a.length],i=!1),a!==void 0))return r&&!i&&(r.cacheable=!1),a}function yO(n,e,t){let{min:r,max:i}=n,o=$S(e,(i-r)/2),s=(a,l)=>t&&a===0?0:a+l;return{min:s(r,-Math.abs(o)),max:s(i,o)}}function Bc(n,e){return Object.assign(Object.create(n),e)}function t1(n,e=[""],t,r,i=()=>n[0]){let o=t||n;typeof r>"u"&&(r=wO("_fallback",n));let s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:r,_getTarget:i,override:a=>t1([a,...n],e,o,r)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete a._keys,delete n[0][l],!0},get(a,l){return bO(a,l,()=>UW(l,e,n,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,l){return ZP(a).includes(l)},ownKeys(a){return ZP(a)},set(a,l,c){let u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function yf(n,e,t,r){let i={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:lE(n,r),setContext:o=>yf(n,o,t,r),override:o=>yf(n.override(o),e,t,r)};return new Proxy(i,{deleteProperty(o,s){return delete o[s],delete n[s],!0},get(o,s,a){return bO(o,s,()=>RW(o,s,a))},getOwnPropertyDescriptor(o,s){return o._descriptors.allKeys?Reflect.has(n,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,s)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,s){return Reflect.has(n,s)},ownKeys(){return Reflect.ownKeys(n)},set(o,s,a){return n[s]=a,delete o[s],!0}})}function lE(n,e={scriptable:!0,indexable:!0}){let{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=n;return{allKeys:i,scriptable:t,indexable:r,isScriptable:Lc(t)?t:()=>t,isIndexable:Lc(r)?r:()=>r}}var OW=(n,e)=>n?n+Yb(e):e,cE=(n,e)=>Pn(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function bO(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];let r=t();return n[e]=r,r}function RW(n,e,t){let{_proxy:r,_context:i,_subProxy:o,_descriptors:s}=n,a=r[e];return Lc(a)&&s.isScriptable(e)&&(a=LW(e,a,n,t)),Rr(a)&&a.length&&(a=FW(e,a,n,s.isIndexable)),cE(e,a)&&(a=yf(a,i,o&&o[e],s)),a}function LW(n,e,t,r){let{_proxy:i,_context:o,_subProxy:s,_stack:a}=t;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let l=e(o,s||r);return a.delete(n),cE(n,l)&&(l=uE(i._scopes,i,n,l)),l}function FW(n,e,t,r){let{_proxy:i,_context:o,_subProxy:s,_descriptors:a}=t;if(typeof o.index<"u"&&r(n))return e[o.index%e.length];if(Pn(e[0])){let l=e,c=i._scopes.filter(u=>u!==l);e=[];for(let u of l){let d=uE(c,i,n,u);e.push(yf(d,o,s&&s[n],a))}}return e}function _O(n,e,t){return Lc(n)?n(e,t):n}var jW=(n,e)=>n===!0?e:typeof n=="string"?jc(e,n):void 0;function BW(n,e,t,r,i){for(let o of e){let s=jW(t,o);if(s){n.add(s);let a=_O(s._fallback,t,i);if(typeof a<"u"&&a!==t&&a!==r)return a}else if(s===!1&&typeof r<"u"&&t!==r)return null}return!1}function uE(n,e,t,r){let i=e._rootScopes,o=_O(e._fallback,t,r),s=[...n,...i],a=new Set;a.add(r);let l=QP(a,s,t,o||t,r);return l===null||typeof o<"u"&&o!==t&&(l=QP(a,s,o,l,r),l===null)?!1:t1(Array.from(a),[""],i,o,()=>VW(e,t,r))}function QP(n,e,t,r,i){for(;t;)t=BW(n,e,t,r,i);return t}function VW(n,e,t){let r=n._getTarget();e in r||(r[e]={});let i=r[e];return Rr(i)&&Pn(t)?t:i||{}}function UW(n,e,t,r){let i;for(let o of e)if(i=wO(OW(o,n),t),typeof i<"u")return cE(n,i)?uE(t,r,n,i):i}function wO(n,e){for(let t of e){if(!t)continue;let r=t[n];if(typeof r<"u")return r}}function ZP(n){let e=n._keys;return e||(e=n._keys=zW(n._scopes)),e}function zW(n){let e=new Set;for(let t of n)for(let r of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function dE(n,e,t,r){let{iScale:i}=n,{key:o="r"}=this._parsing,s=new Array(r),a,l,c,u;for(a=0,l=r;a<l;++a)c=a+t,u=e[c],s[a]={r:i.parse(jc(u,o),c)};return s}var HW=Number.EPSILON||1e-14,Wh=(n,e)=>e<n.length&&!n[e].skip&&n[e],xO=n=>n==="x"?"y":"x";function qW(n,e,t,r){let i=n.skip?e:n,o=e,s=t.skip?e:t,a=Wb(o,i),l=Wb(s,o),c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;let d=r*c,p=r*u;return{previous:{x:o.x-d*(s.x-i.x),y:o.y-d*(s.y-i.y)},next:{x:o.x+p*(s.x-i.x),y:o.y+p*(s.y-i.y)}}}function $W(n,e,t){let r=n.length,i,o,s,a,l,c=Wh(n,0);for(let u=0;u<r-1;++u)if(l=c,c=Wh(n,u+1),!(!l||!c)){if(Kh(e[u],0,HW)){t[u]=t[u+1]=0;continue}i=t[u]/e[u],o=t[u+1]/e[u],a=Math.pow(i,2)+Math.pow(o,2),!(a<=9)&&(s=3/Math.sqrt(a),t[u]=i*s*e[u],t[u+1]=o*s*e[u])}}function WW(n,e,t="x"){let r=xO(t),i=n.length,o,s,a,l=Wh(n,0);for(let c=0;c<i;++c){if(s=a,a=l,l=Wh(n,c+1),!a)continue;let u=a[t],d=a[r];s&&(o=(u-s[t])/3,a[`cp1${t}`]=u-o,a[`cp1${r}`]=d-o*e[c]),l&&(o=(l[t]-u)/3,a[`cp2${t}`]=u+o,a[`cp2${r}`]=d+o*e[c])}}function GW(n,e="x"){let t=xO(e),r=n.length,i=Array(r).fill(0),o=Array(r),s,a,l,c=Wh(n,0);for(s=0;s<r;++s)if(a=l,l=c,c=Wh(n,s+1),!!l){if(c){let u=c[e]-l[e];i[s]=u!==0?(c[t]-l[t])/u:0}o[s]=a?c?rl(i[s-1])!==rl(i[s])?0:(i[s-1]+i[s])/2:i[s-1]:i[s]}$W(n,i,o),WW(n,o,e)}function zb(n,e,t){return Math.max(Math.min(n,t),e)}function YW(n,e){let t,r,i,o,s,a=Ul(n[0],e);for(t=0,r=n.length;t<r;++t)s=o,o=a,a=t<r-1&&Ul(n[t+1],e),o&&(i=n[t],s&&(i.cp1x=zb(i.cp1x,e.left,e.right),i.cp1y=zb(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=zb(i.cp2x,e.left,e.right),i.cp2y=zb(i.cp2y,e.top,e.bottom)))}function CO(n,e,t,r,i){let o,s,a,l;if(e.spanGaps&&(n=n.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")GW(n,i);else{let c=r?n[n.length-1]:n[0];for(o=0,s=n.length;o<s;++o)a=n[o],l=qW(c,a,n[Math.min(o+1,s-(r?0:1))%s],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&YW(n,t)}function n1(){return typeof window<"u"&&typeof document<"u"}function r1(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Gb(n,e,t){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=n,r}var i1=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function KW(n,e){return i1(n).getPropertyValue(e)}var QW=["top","right","bottom","left"];function vf(n,e,t){let r={};t=t?"-"+t:"";for(let i=0;i<4;i++){let o=QW[i];r[o]=parseFloat(n[e+"-"+o+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}var ZW=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function XW(n,e){let t=n.touches,r=t&&t.length?t[0]:n,{offsetX:i,offsetY:o}=r,s=!1,a,l;if(ZW(i,o,n.target))a=i,l=o;else{let c=e.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,s=!0}return{x:a,y:l,box:s}}function $u(n,e){if("native"in n)return n;let{canvas:t,currentDevicePixelRatio:r}=e,i=i1(t),o=i.boxSizing==="border-box",s=vf(i,"padding"),a=vf(i,"border","width"),{x:l,y:c,box:u}=XW(n,t),d=s.left+(u&&a.left),p=s.top+(u&&a.top),{width:f,height:b}=e;return o&&(f-=s.width+a.width,b-=s.height+a.height),{x:Math.round((l-d)/f*t.width/r),y:Math.round((c-p)/b*t.height/r)}}function JW(n,e,t){let r,i;if(e===void 0||t===void 0){let o=n&&r1(n);if(!o)e=n.clientWidth,t=n.clientHeight;else{let s=o.getBoundingClientRect(),a=i1(o),l=vf(a,"border","width"),c=vf(a,"padding");e=s.width-c.width-l.width,t=s.height-c.height-l.height,r=Gb(a.maxWidth,o,"clientWidth"),i=Gb(a.maxHeight,o,"clientHeight")}}return{width:e,height:t,maxWidth:r||$b,maxHeight:i||$b}}var Vu=n=>Math.round(n*10)/10;function SO(n,e,t,r){let i=i1(n),o=vf(i,"margin"),s=Gb(i.maxWidth,n,"clientWidth")||$b,a=Gb(i.maxHeight,n,"clientHeight")||$b,l=JW(n,e,t),{width:c,height:u}=l;if(i.boxSizing==="content-box"){let p=vf(i,"border","width"),f=vf(i,"padding");c-=f.width+p.width,u-=f.height+p.height}return c=Math.max(0,c-o.width),u=Math.max(0,r?c/r:u-o.height),c=Vu(Math.min(c,s,l.maxWidth)),u=Vu(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Vu(c/2)),(e!==void 0||t!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=Vu(Math.floor(u*r))),{width:c,height:u}}function fE(n,e,t){let r=e||1,i=Vu(n.height*r),o=Vu(n.width*r);n.height=Vu(n.height),n.width=Vu(n.width);let s=n.canvas;return s.style&&(t||!s.style.height&&!s.style.width)&&(s.style.height=`${n.height}px`,s.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||s.height!==i||s.width!==o?(n.currentDevicePixelRatio=r,s.height=i,s.width=o,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}var EO=(function(){let n=!1;try{let e={get passive(){return n=!0,!1}};n1()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch(e){}return n})();function hE(n,e){let t=KW(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Bu(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function DO(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:r==="middle"?t<.5?n.y:e.y:r==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function IO(n,e,t,r){let i={x:n.cp2x,y:n.cp2y},o={x:e.cp1x,y:e.cp1y},s=Bu(n,i,t),a=Bu(i,o,t),l=Bu(o,e,t),c=Bu(s,a,t),u=Bu(a,l,t);return Bu(c,u,t)}var eG=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},tG=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function _f(n,e,t){return n?eG(e,t):tG()}function pE(n,e){let t,r;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function gE(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function AO(n){return n==="angle"?{between:Qh,compare:yW,normalize:oo}:{between:Hl,compare:(e,t)=>e-t,normalize:e=>e}}function XP({start:n,end:e,count:t,loop:r,style:i}){return{start:n%t,end:e%t,loop:r&&(e-n+1)%t===0,style:i}}function nG(n,e,t){let{property:r,start:i,end:o}=t,{between:s,normalize:a}=AO(r),l=e.length,{start:c,end:u,loop:d}=n,p,f;if(d){for(c+=l,u+=l,p=0,f=l;p<f&&s(a(e[c%l][r]),i,o);++p)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:n.style}}function mE(n,e,t){if(!t)return[n];let{property:r,start:i,end:o}=t,s=e.length,{compare:a,between:l,normalize:c}=AO(r),{start:u,end:d,loop:p,style:f}=nG(n,e,t),b=[],_=!1,C=null,S,A,F,P=()=>l(i,F,S)&&a(i,F)!==0,U=()=>a(o,S)===0||l(o,F,S),se=()=>_||P(),he=()=>!_||U();for(let Y=u,H=u;Y<=d;++Y)A=e[Y%s],!A.skip&&(S=c(A[r]),S!==F&&(_=l(S,i,o),C===null&&se()&&(C=a(S,i)===0?Y:H),C!==null&&he()&&(b.push(XP({start:C,end:Y,loop:p,count:s,style:f})),C=null),H=Y,F=S));return C!==null&&b.push(XP({start:C,end:d,loop:p,count:s,style:f})),b}function vE(n,e){let t=[],r=n.segments;for(let i=0;i<r.length;i++){let o=mE(r[i],n.points,e);o.length&&t.push(...o)}return t}function rG(n,e,t,r){let i=0,o=e-1;if(t&&!r)for(;i<e&&!n[i].skip;)i++;for(;i<e&&n[i].skip;)i++;for(i%=e,t&&(o+=i);o>i&&n[o%e].skip;)o--;return o%=e,{start:i,end:o}}function iG(n,e,t,r){let i=n.length,o=[],s=e,a=n[e],l;for(l=e+1;l<=t;++l){let c=n[l%i];c.skip||c.stop?a.skip||(r=!1,o.push({start:e%i,end:(l-1)%i,loop:r}),e=s=c.stop?l:null):(s=l,a.skip&&(e=l)),a=c}return s!==null&&o.push({start:e%i,end:s%i,loop:r}),o}function TO(n,e){let t=n.points,r=n.options.spanGaps,i=t.length;if(!i)return[];let o=!!n._loop,{start:s,end:a}=rG(t,i,o,r);if(r===!0)return JP(n,[{start:s,end:a,loop:o}],t,e);let l=a<s?a+i:a,c=!!n._fullLoop&&s===0&&a===i-1;return JP(n,iG(t,s,l,c),t,e)}function JP(n,e,t,r){return!r||!r.setContext||!t?e:oG(n,e,t,r)}function oG(n,e,t,r){let i=n._chart.getContext(),o=eO(n.options),{_datasetIndex:s,options:{spanGaps:a}}=n,l=t.length,c=[],u=o,d=e[0].start,p=d;function f(b,_,C,S){let A=a?-1:1;if(b!==_){for(b+=l;t[b%l].skip;)b-=A;for(;t[_%l].skip;)_+=A;b%l!==_%l&&(c.push({start:b%l,end:_%l,loop:C,style:S}),u=S,d=_%l)}}for(let b of e){d=a?d:b.start;let _=t[d%l],C;for(p=d+1;p<=b.end;p++){let S=t[p%l];C=eO(r.setContext(Bc(i,{type:"segment",p0:_,p1:S,p0DataIndex:(p-1)%l,p1DataIndex:p%l,datasetIndex:s}))),sG(C,u)&&f(d,p-1,b.loop,u),_=S,u=C}d<p-1&&f(d,p-1,b.loop,u)}return c}function eO(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function sG(n,e){if(!e)return!1;let t=[],r=function(i,o){return rE(o)?(t.includes(o)||t.push(o),t.indexOf(o)):o};return JSON.stringify(n,r)!==JSON.stringify(e,r)}function Hb(n,e,t){return n.options.clip?n[t]:e[t]}function aG(n,e){let{xScale:t,yScale:r}=n;return t&&r?{left:Hb(t,e,"left"),right:Hb(t,e,"right"),top:Hb(r,e,"top"),bottom:Hb(r,e,"bottom")}:e}function yE(n,e){let t=e._clip;if(t.disabled)return!1;let r=aG(e,n.chartArea);return{left:t.left===!1?0:r.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:r.right+(t.right===!0?0:t.right),top:t.top===!1?0:r.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:r.bottom+(t.bottom===!0?0:t.bottom)}}var ME=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,i){let o=t.listeners[i],s=t.duration;o.forEach(a=>a({chart:e,initial:t.initial,numSteps:s,currentStep:Math.min(r-t.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=JS.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;let o=r.items,s=o.length-1,a=!1,l;for(;s>=0;--s)l=o[s],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(o[s]=o[o.length-1],o.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),o.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),t+=o.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){let t=this._charts,r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){let t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;let t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){let t=this._charts.get(e);if(!t||!t.items.length)return;let r=t.items,i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}},Vc=new ME,MO="transparent",lG={boolean(n,e,t){return t>.5?e:n},color(n,e,t){let r=iE(n||MO),i=r.valid&&iE(e||MO);return i&&i.valid?i.mix(r,t).hexString():e},number(n,e,t){return n+(e-n)*t}},kE=class{constructor(e,t,r,i){let o=t[r];i=Jh([e.to,i,o,e.from]);let s=Jh([e.from,o,i]);this._active=!0,this._fn=e.fn||lG[e.type||typeof s],this._easing=qh[e.easing]||qh.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=s,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);let i=this._target[this._prop],o=r-this._start,s=this._duration-o;this._start=r,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Jh([e.to,t,i,e.from]),this._from=Jh([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){let t=e-this._start,r=this._duration,i=this._prop,o=this._from,s=this._loop,a=this._to,l;if(this._active=o!==a&&(s||t<r),!this._active){this._target[i]=a,this._notify(!0);return}if(t<0){this._target[i]=o;return}l=t/r%2,l=s&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(o,a,l)}wait(){let e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){let t=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][t]()}},h1=class{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Pn(e))return;let t=Object.keys(Ir.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{let o=e[i];if(!Pn(o))return;let s={};for(let a of t)s[a]=o[a];(Rr(o.properties)&&o.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,s)})})}_animateOptions(e,t){let r=t.options,i=uG(e,r);if(!i)return[];let o=this._createAnimations(i,r);return r.$shared&&cG(e.options.$animations,r).then(()=>{e.options=r},()=>{}),o}_createAnimations(e,t){let r=this._properties,i=[],o=e.$animations||(e.$animations={}),s=Object.keys(t),a=Date.now(),l;for(l=s.length-1;l>=0;--l){let c=s[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,t));continue}let u=t[c],d=o[c],p=r.get(c);if(d)if(p&&d.active()){d.update(p,u,a);continue}else d.cancel();if(!p||!p.duration){e[c]=u;continue}o[c]=d=new kE(p,e,c,u),i.push(d)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}let r=this._createAnimations(e,t);if(r.length)return Vc.add(this._chart,r),!0}};function cG(n,e){let t=[],r=Object.keys(e);for(let i=0;i<r.length;i++){let o=n[r[i]];o&&o.active()&&t.push(o.wait())}return Promise.all(t)}function uG(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function kO(n,e){let t=n&&n.options||{},r=t.reverse,i=t.min===void 0?e:0,o=t.max===void 0?e:0;return{start:r?o:i,end:r?i:o}}function dG(n,e,t){if(t===!1)return!1;let r=kO(n,t),i=kO(e,t);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function fG(n){let e,t,r,i;return Pn(n)?(e=n.top,t=n.right,r=n.bottom,i=n.left):e=t=r=i=n,{top:e,right:t,bottom:r,left:i,disabled:n===!1}}function MR(n,e){let t=[],r=n._getSortedDatasetMetas(e),i,o;for(i=0,o=r.length;i<o;++i)t.push(r[i].index);return t}function NO(n,e,t,r={}){let i=n.keys,o=r.mode==="single",s,a,l,c;if(e===null)return;let u=!1;for(s=0,a=i.length;s<a;++s){if(l=+i[s],l===t){if(u=!0,r.all)continue;break}c=n.values[l],Jr(c)&&(o||e===0||rl(e)===rl(c))&&(e+=c)}return!u&&!r.all?0:e}function hG(n,e){let{iScale:t,vScale:r}=e,i=t.axis==="x"?"x":"y",o=r.axis==="x"?"x":"y",s=Object.keys(n),a=new Array(s.length),l,c,u;for(l=0,c=s.length;l<c;++l)u=s[l],a[l]={[i]:u,[o]:n[u]};return a}function bE(n,e){let t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function pG(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function gG(n){let{min:e,max:t,minDefined:r,maxDefined:i}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function mG(n,e,t){let r=n[e]||(n[e]={});return r[t]||(r[t]={})}function PO(n,e,t,r){for(let i of e.getMatchingVisibleMetas(r).reverse()){let o=n[i.index];if(t&&o>0||!t&&o<0)return i.index}return null}function OO(n,e){let{chart:t,_cachedMeta:r}=n,i=t._stacks||(t._stacks={}),{iScale:o,vScale:s,index:a}=r,l=o.axis,c=s.axis,u=pG(o,s,r),d=e.length,p;for(let f=0;f<d;++f){let b=e[f],{[l]:_,[c]:C}=b,S=b._stacks||(b._stacks={});p=S[c]=mG(i,u,_),p[a]=C,p._top=PO(p,s,!0,r.type),p._bottom=PO(p,s,!1,r.type);let A=p._visualValues||(p._visualValues={});A[a]=C}}function _E(n,e){let t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function vG(n,e){return Bc(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function yG(n,e,t){return Bc(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Am(n,e){let t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(let i of e){let o=i._stacks;if(!o||o[r]===void 0||o[r][t]===void 0)return;delete o[r][t],o[r]._visualValues!==void 0&&o[r]._visualValues[t]!==void 0&&delete o[r]._visualValues[t]}}}var wE=n=>n==="reset"||n==="none",RO=(n,e)=>e?n:Object.assign({},n),bG=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:MR(t,!0),values:null},Gu=(()=>{class n{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,r){this.chart=t,this._ctx=t.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=bE(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Am(this._cachedMeta),this.index=t}linkScales(){let t=this.chart,r=this._cachedMeta,i=this.getDataset(),o=(p,f,b,_)=>p==="x"?f:p==="r"?_:b,s=r.xAxisID=rn(i.xAxisID,_E(t,"x")),a=r.yAxisID=rn(i.yAxisID,_E(t,"y")),l=r.rAxisID=rn(i.rAxisID,_E(t,"r")),c=r.indexAxis,u=r.iAxisID=o(c,s,a,l),d=r.vAxisID=o(c,a,s,l);r.xScale=this.getScaleForId(s),r.yScale=this.getScaleForId(a),r.rScale=this.getScaleForId(l),r.iScale=this.getScaleForId(u),r.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){let r=this._cachedMeta;return t===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){let t=this._cachedMeta;this._data&&ZS(this._data,this),t._stacked&&Am(t)}_dataCheck(){let t=this.getDataset(),r=t.data||(t.data=[]),i=this._data;if(Pn(r)){let o=this._cachedMeta;this._data=hG(r,o)}else if(i!==r){if(i){ZS(i,this);let o=this._cachedMeta;Am(o),o._parsed=[]}r&&Object.isExtensible(r)&&dO(r,this),this._syncList=[],this._data=r}}addElements(){let t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){let r=this._cachedMeta,i=this.getDataset(),o=!1;this._dataCheck();let s=r._stacked;r._stacked=bE(r.vScale,r),r.stack!==i.stack&&(o=!0,Am(r),r.stack=i.stack),this._resyncElements(t),(o||s!==r._stacked)&&(OO(this,r._parsed),r._stacked=bE(r.vScale,r))}configure(){let t=this.chart.config,r=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),r,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,r){let{_cachedMeta:i,_data:o}=this,{iScale:s,_stacked:a}=i,l=s.axis,c=t===0&&r===o.length?!0:i._sorted,u=t>0&&i._parsed[t-1],d,p,f;if(this._parsing===!1)i._parsed=o,i._sorted=!0,f=o;else{Rr(o[t])?f=this.parseArrayData(i,o,t,r):Pn(o[t])?f=this.parseObjectData(i,o,t,r):f=this.parsePrimitiveData(i,o,t,r);let b=()=>p[l]===null||u&&p[l]<u[l];for(d=0;d<r;++d)i._parsed[d+t]=p=f[d],c&&(b()&&(c=!1),u=p);i._sorted=c}a&&OO(this,f)}parsePrimitiveData(t,r,i,o){let{iScale:s,vScale:a}=t,l=s.axis,c=a.axis,u=s.getLabels(),d=s===a,p=new Array(o),f,b,_;for(f=0,b=o;f<b;++f)_=f+i,p[f]={[l]:d||s.parse(u[_],_),[c]:a.parse(r[_],_)};return p}parseArrayData(t,r,i,o){let{xScale:s,yScale:a}=t,l=new Array(o),c,u,d,p;for(c=0,u=o;c<u;++c)d=c+i,p=r[d],l[c]={x:s.parse(p[0],d),y:a.parse(p[1],d)};return l}parseObjectData(t,r,i,o){let{xScale:s,yScale:a}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(o),d,p,f,b;for(d=0,p=o;d<p;++d)f=d+i,b=r[f],u[d]={x:s.parse(jc(b,l),f),y:a.parse(jc(b,c),f)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,r,i){let o=this.chart,s=this._cachedMeta,a=r[t.axis],l={keys:MR(o,!0),values:r._stacks[t.axis]._visualValues};return NO(l,a,s.index,{mode:i})}updateRangeFromParsed(t,r,i,o){let s=i[r.axis],a=s===null?NaN:s,l=o&&i._stacks[r.axis];o&&l&&(o.values=l,a=NO(o,s,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,r){let i=this._cachedMeta,o=i._parsed,s=i._sorted&&t===i.iScale,a=o.length,l=this._getOtherScale(t),c=bG(r,i,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:p}=gG(l),f,b;function _(){b=o[f];let C=b[l.axis];return!Jr(b[t.axis])||d>C||p<C}for(f=0;f<a&&!(!_()&&(this.updateRangeFromParsed(u,t,b,c),s));++f);if(s){for(f=a-1;f>=0;--f)if(!_()){this.updateRangeFromParsed(u,t,b,c);break}}return u}getAllParsedValues(t){let r=this._cachedMeta._parsed,i=[],o,s,a;for(o=0,s=r.length;o<s;++o)a=r[o][t.axis],Jr(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(t){let r=this._cachedMeta,i=r.iScale,o=r.vScale,s=this.getParsed(t);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:o?""+o.getLabelForValue(s[o.axis]):""}}_update(t){let r=this._cachedMeta;this.update(t||"default"),r._clip=fG(rn(this.options.clip,dG(r.xScale,r.yScale,this.getMaxOverflow())))}update(t){}draw(){let t=this._ctx,r=this.chart,i=this._cachedMeta,o=i.data||[],s=r.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||o.length-l,u=this.options.drawActiveElementsOnTop,d;for(i.dataset&&i.dataset.draw(t,s,l,c),d=l;d<l+c;++d){let p=o[d];p.hidden||(p.active&&u?a.push(p):p.draw(t,s))}for(d=0;d<a.length;++d)a[d].draw(t,s)}getStyle(t,r){let i=r?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,r,i){let o=this.getDataset(),s;if(t>=0&&t<this._cachedMeta.data.length){let a=this._cachedMeta.data[t];s=a.$context||(a.$context=yG(this.getContext(),t,a)),s.parsed=this.getParsed(t),s.raw=o.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=vG(this.chart.getContext(),this.index)),s.dataset=o,s.index=s.datasetIndex=this.index;return s.active=!!r,s.mode=i,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,r){return this._resolveElementOptions(this.dataElementType.id,r,t)}_resolveElementOptions(t,r="default",i){let o=r==="active",s=this._cachedDataOpts,a=t+"-"+r,l=s[a],c=this.enableOptionSharing&&Yh(i);if(l)return RO(l,c);let u=this.chart.config,d=u.datasetElementScopeKeys(this._type,t),p=o?[`${t}Hover`,"hover",t,""]:[t,""],f=u.getOptionScopes(this.getDataset(),d),b=Object.keys(Ir.elements[t]),_=()=>this.getContext(i,o,r),C=u.resolveNamedOptions(f,b,_,p);return C.$shared&&(C.$shared=c,s[a]=Object.freeze(RO(C,c))),C}_resolveAnimations(t,r,i){let o=this.chart,s=this._cachedDataOpts,a=`animation-${r}`,l=s[a];if(l)return l;let c;if(o.options.animation!==!1){let d=this.chart.config,p=d.datasetAnimationScopeKeys(this._type,r),f=d.getOptionScopes(this.getDataset(),p);c=d.createResolver(f,this.getContext(t,i,r))}let u=new h1(o,c&&c.animations);return c&&c._cacheable&&(s[a]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,r){return!r||wE(t)||this.chart._animationsDisabled}_getSharedOptions(t,r){let i=this.resolveDataElementOptions(t,r),o=this._sharedOptions,s=this.getSharedOptions(i),a=this.includeOptions(r,s)||s!==o;return this.updateSharedOptions(s,r,i),{sharedOptions:s,includeOptions:a}}updateElement(t,r,i,o){wE(o)?Object.assign(t,i):this._resolveAnimations(r,o).update(t,i)}updateSharedOptions(t,r,i){t&&!wE(r)&&this._resolveAnimations(void 0,r).update(t,i)}_setStyle(t,r,i,o){t.active=o;let s=this.getStyle(r,o);this._resolveAnimations(r,i,o).update(t,{options:!o&&this.getSharedOptions(s)||s})}removeHoverStyle(t,r,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,r,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){let r=this._data,i=this._cachedMeta.data;for(let[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];let o=i.length,s=r.length,a=Math.min(s,o);a&&this.parse(0,a),s>o?this._insertElements(o,s-o,t):s<o&&this._removeElements(s,o-s)}_insertElements(t,r,i=!0){let o=this._cachedMeta,s=o.data,a=t+r,l,c=u=>{for(u.length+=r,l=u.length-1;l>=a;l--)u[l]=u[l-r]};for(c(s),l=t;l<a;++l)s[l]=new this.dataElementType;this._parsing&&c(o._parsed),this.parse(t,r),i&&this.updateElements(s,t,r,"reset")}updateElements(t,r,i,o){}_removeElements(t,r){let i=this._cachedMeta;if(this._parsing){let o=i._parsed.splice(t,r);i._stacked&&Am(i,o)}i.data.splice(t,r)}_sync(t){if(this._parsing)this._syncList.push(t);else{let[r,i,o]=t;this[r](i,o)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){let t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,r){r&&this._sync(["_removeElements",t,r]);let i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return n})();function _G(n,e){if(!n._cache.$bar){let t=n.getMatchingVisibleMetas(e),r=[];for(let i=0,o=t.length;i<o;i++)r=r.concat(t[i].controller.getAllParsedValues(n));n._cache.$bar=XS(r.sort((i,o)=>i-o))}return n._cache.$bar}function wG(n){let e=n.iScale,t=_G(e,n.type),r=e._length,i,o,s,a,l=()=>{s===32767||s===-32768||(Yh(a)&&(r=Math.min(r,Math.abs(s-a)||r)),a=s)};for(i=0,o=t.length;i<o;++i)s=e.getPixelForValue(t[i]),l();for(a=void 0,i=0,o=e.ticks.length;i<o;++i)s=e.getPixelForTick(i),l();return r}function xG(n,e,t,r){let i=t.barThickness,o,s;return Mn(i)?(o=e.min*t.categoryPercentage,s=t.barPercentage):(o=i*r,s=1),{chunk:o/r,ratio:s,start:e.pixels[n]-o/2}}function CG(n,e,t,r){let i=e.pixels,o=i[n],s=n>0?i[n-1]:null,a=n<i.length-1?i[n+1]:null,l=t.categoryPercentage;s===null&&(s=o-(a===null?e.end-e.start:a-o)),a===null&&(a=o+o-s);let c=o-(o-Math.min(s,a))/2*l;return{chunk:Math.abs(a-s)/2*l/r,ratio:t.barPercentage,start:c}}function SG(n,e,t,r){let i=t.parse(n[0],r),o=t.parse(n[1],r),s=Math.min(i,o),a=Math.max(i,o),l=s,c=a;Math.abs(s)>Math.abs(a)&&(l=a,c=s),e[t.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:o,min:s,max:a}}function kR(n,e,t,r){return Rr(n)?SG(n,e,t,r):e[t.axis]=t.parse(n,r),e}function LO(n,e,t,r){let i=n.iScale,o=n.vScale,s=i.getLabels(),a=i===o,l=[],c,u,d,p;for(c=t,u=t+r;c<u;++c)p=e[c],d={},d[i.axis]=a||i.parse(s[c],c),l.push(kR(p,d,o,c));return l}function xE(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function EG(n,e,t){return n!==0?rl(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function DG(n){let e,t,r,i,o;return n.horizontal?(e=n.base>n.x,t="left",r="right"):(e=n.base<n.y,t="bottom",r="top"),e?(i="end",o="start"):(i="start",o="end"),{start:t,end:r,reverse:e,top:i,bottom:o}}function IG(n,e,t,r){let i=e.borderSkipped,o={};if(!i){n.borderSkipped=o;return}if(i===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:s,end:a,reverse:l,top:c,bottom:u}=DG(n);i==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===r?i=c:(t._bottom||0)===r?i=u:(o[FO(u,s,a,l)]=!0,i=c)),o[FO(i,s,a,l)]=!0,n.borderSkipped=o}function FO(n,e,t,r){return r?(n=AG(n,e,t),n=jO(n,t,e)):n=jO(n,e,t),n}function AG(n,e,t){return n===e?t:n===t?e:n}function jO(n,e,t){return n==="start"?e:n==="end"?t:n}function TG(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}var MG=(()=>{class n extends Gu{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,r,i,o){return LO(t,r,i,o)}parseArrayData(t,r,i,o){return LO(t,r,i,o)}parseObjectData(t,r,i,o){let{iScale:s,vScale:a}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=s.axis==="x"?l:c,d=a.axis==="x"?l:c,p=[],f,b,_,C;for(f=i,b=i+o;f<b;++f)C=r[f],_={},_[s.axis]=s.parse(jc(C,u),f),p.push(kR(jc(C,d),_,a,f));return p}updateRangeFromParsed(t,r,i,o){super.updateRangeFromParsed(t,r,i,o);let s=i._custom;s&&r===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){let r=this._cachedMeta,{iScale:i,vScale:o}=r,s=this.getParsed(t),a=s._custom,l=xE(a)?"["+a.start+", "+a.end+"]":""+o.getLabelForValue(s[o.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();let t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){let r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,t)}updateElements(t,r,i,o){let s=o==="reset",{index:a,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),u=l.isHorizontal(),d=this._getRuler(),{sharedOptions:p,includeOptions:f}=this._getSharedOptions(r,o);for(let b=r;b<r+i;b++){let _=this.getParsed(b),C=s||Mn(_[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(b),S=this._calculateBarIndexPixels(b,d),A=(_._stacks||{})[l.axis],F={horizontal:u,base:C.base,enableBorderRadius:!A||xE(_._custom)||a===A._top||a===A._bottom,x:u?C.head:S.center,y:u?S.center:C.head,height:u?S.size:Math.abs(C.size),width:u?Math.abs(C.size):S.size};f&&(F.options=p||this.resolveDataElementOptions(b,t[b].active?"active":o));let P=F.options||t[b].options;IG(F,P,A,a),TG(F,P,d.ratio),this.updateElement(t[b],b,F,o)}}_getStacks(t,r){let{iScale:i}=this._cachedMeta,o=i.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),s=i.options.stacked,a=[],l=this._cachedMeta.controller.getParsed(r),c=l&&l[i.axis],u=d=>{let p=d._parsed.find(b=>b[i.axis]===c),f=p&&p[d.vScale.axis];if(Mn(f)||isNaN(f))return!0};for(let d of o)if(!(r!==void 0&&u(d))&&((s===!1||a.indexOf(d.stack)===-1||s===void 0&&d.stack===void 0)&&a.push(d.stack),d.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){let t=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===r).shift()}_getAxis(){let t={},r=this.getFirstScaleIdForIndexAxis();for(let i of this.chart.data.datasets)t[rn(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,r)]=!0;return Object.keys(t)}_getStackIndex(t,r,i){let o=this._getStacks(t,i),s=r!==void 0?o.indexOf(r):-1;return s===-1?o.length-1:s}_getRuler(){let t=this.options,r=this._cachedMeta,i=r.iScale,o=[],s,a;for(s=0,a=r.data.length;s<a;++s)o.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));let l=t.barThickness;return{min:l||wG(r),pixels:o,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:l?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){let{_cachedMeta:{vScale:r,_stacked:i,index:o},options:{base:s,minBarLength:a}}=this,l=s||0,c=this.getParsed(t),u=c._custom,d=xE(u),p=c[r.axis],f=0,b=i?this.applyStack(r,c,i):p,_,C;b!==p&&(f=b-p,b=p),d&&(p=u.barStart,b=u.barEnd-u.barStart,p!==0&&rl(p)!==rl(u.barEnd)&&(f=0),f+=p);let S=!Mn(s)&&!d?s:f,A=r.getPixelForValue(S);if(this.chart.getDataVisibility(t)?_=r.getPixelForValue(f+b):_=A,C=_-A,Math.abs(C)<a){C=EG(C,r,l)*a,p===l&&(A-=C/2);let F=r.getPixelForDecimal(0),P=r.getPixelForDecimal(1),U=Math.min(F,P),se=Math.max(F,P);A=Math.max(Math.min(A,se),U),_=A+C,i&&!d&&(c._stacks[r.axis]._visualValues[o]=r.getValueForPixel(_)-r.getValueForPixel(A))}if(A===r.getPixelForValue(l)){let F=rl(C)*r.getLineWidthForValue(l)/2;A+=F,C-=F}return{size:C,base:A,head:_,center:_+C/2}}_calculateBarIndexPixels(t,r){let i=r.scale,o=this.options,s=o.skipNull,a=rn(o.maxBarThickness,1/0),l,c,u=this._getAxisCount();if(r.grouped){let d=s?this._getStackCount(t):r.stackCount,p=o.barThickness==="flex"?CG(t,r,o,d*u):xG(t,r,o,d*u),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,b=this._getAxis().indexOf(rn(f,this.getFirstScaleIdForIndexAxis())),_=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0)+b;l=p.start+p.chunk*_+p.chunk/2,c=Math.min(a,p.chunk*p.ratio)}else l=i.getPixelForValue(this.getParsed(t)[i.axis],t),c=Math.min(a,r.min*r.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){let t=this._cachedMeta,r=t.vScale,i=t.data,o=i.length,s=0;for(;s<o;++s)this.getParsed(s)[r.axis]!==null&&!i[s].hidden&&i[s].draw(this._ctx)}}return n})(),kG=(()=>{class n extends Gu{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,r,i,o){let s=super.parsePrimitiveData(t,r,i,o);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+i).radius;return s}parseArrayData(t,r,i,o){let s=super.parseArrayData(t,r,i,o);for(let a=0;a<s.length;a++){let l=r[i+a];s[a]._custom=rn(l[2],this.resolveDataElementOptions(a+i).radius)}return s}parseObjectData(t,r,i,o){let s=super.parseObjectData(t,r,i,o);for(let a=0;a<s.length;a++){let l=r[i+a];s[a]._custom=rn(l&&l.r&&+l.r,this.resolveDataElementOptions(a+i).radius)}return s}getMaxOverflow(){let t=this._cachedMeta.data,r=0;for(let i=t.length-1;i>=0;--i)r=Math.max(r,t[i].size(this.resolveDataElementOptions(i))/2);return r>0&&r}getLabelAndValue(t){let r=this._cachedMeta,i=this.chart.data.labels||[],{xScale:o,yScale:s}=r,a=this.getParsed(t),l=o.getLabelForValue(a.x),c=s.getLabelForValue(a.y),u=a._custom;return{label:i[t]||"",value:"("+l+", "+c+(u?", "+u:"")+")"}}update(t){let r=this._cachedMeta.data;this.updateElements(r,0,r.length,t)}updateElements(t,r,i,o){let s=o==="reset",{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(r,o),d=a.axis,p=l.axis;for(let f=r;f<r+i;f++){let b=t[f],_=!s&&this.getParsed(f),C={},S=C[d]=s?a.getPixelForDecimal(.5):a.getPixelForValue(_[d]),A=C[p]=s?l.getBasePixel():l.getPixelForValue(_[p]);C.skip=isNaN(S)||isNaN(A),u&&(C.options=c||this.resolveDataElementOptions(f,b.active?"active":o),s&&(C.options.radius=0)),this.updateElement(b,f,C,o)}}resolveDataElementOptions(t,r){let i=this.getParsed(t),o=super.resolveDataElementOptions(t,r);o.$shared&&(o=Object.assign({},o,{$shared:!1}));let s=o.radius;return r!=="active"&&(o.radius=0),o.radius+=rn(i&&i._custom,s),o}}return n})();function NG(n,e,t){let r=1,i=1,o=0,s=0;if(e<Lr){let a=n,l=a+e,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),p=Math.sin(l),f=(F,P,U)=>Qh(F,a,l,!0)?1:Math.max(P,P*t,U,U*t),b=(F,P,U)=>Qh(F,a,l,!0)?-1:Math.min(P,P*t,U,U*t),_=f(0,c,d),C=f(si,u,p),S=b(Qn,c,d),A=b(Qn+si,u,p);r=(_-S)/2,i=(C-A)/2,o=-(_+S)/2,s=-(C+A)/2}return{ratioX:r,ratioY:i,offsetX:o,offsetY:s}}var ZE=(()=>{class n extends Gu{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let r=t.data,{labels:{pointStyle:i,textAlign:o,color:s,useBorderRadius:a,borderRadius:l}}=t.legend.options;return r.labels.length&&r.datasets.length?r.labels.map((c,u)=>{let p=t.getDatasetMeta(0).controller.getStyle(u);return{text:c,fillStyle:p.backgroundColor,fontColor:s,hidden:!t.getDataVisibility(u),lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:p.borderWidth,strokeStyle:p.borderColor,textAlign:o,pointStyle:i,borderRadius:a&&(l||p.borderRadius),index:u}}):[]}},onClick(t,r,i){i.chart.toggleDataVisibility(r.index),i.chart.update()}}}};constructor(t,r){super(t,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,r){let i=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=i;else{let s=c=>+i[c];if(Pn(i[t])){let{key:c="value"}=this._parsing;s=u=>+jc(i[u],c)}let a,l;for(a=t,l=t+r;a<l;++a)o._parsed[a]=s(a)}}_getRotation(){return ba(this.options.rotation-90)}_getCircumference(){return ba(this.options.circumference)}_getRotationExtents(){let t=Lr,r=-Lr;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){let o=this.chart.getDatasetMeta(i).controller,s=o._getRotation(),a=o._getCircumference();t=Math.min(t,s),r=Math.max(r,s+a)}return{rotation:t,circumference:r-t}}update(t){let r=this.chart,{chartArea:i}=r,o=this._cachedMeta,s=o.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(i.width,i.height)-a)/2,0),c=Math.min(nO(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:d,rotation:p}=this._getRotationExtents(),{ratioX:f,ratioY:b,offsetX:_,offsetY:C}=NG(p,d,c),S=(i.width-a)/f,A=(i.height-a)/b,F=Math.max(Math.min(S,A)/2,0),P=$S(this.options.radius,F),U=Math.max(P*c,0),se=(P-U)/this._getVisibleDatasetWeightTotal();this.offsetX=_*P,this.offsetY=C*P,o.total=this.calculateTotal(),this.outerRadius=P-se*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-se*u,0),this.updateElements(s,0,s.length,t)}_circumference(t,r){let i=this.options,o=this._cachedMeta,s=this._getCircumference();return r&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||o._parsed[t]===null||o.data[t].hidden?0:this.calculateCircumference(o._parsed[t]*s/Lr)}updateElements(t,r,i,o){let s=o==="reset",a=this.chart,l=a.chartArea,u=a.options.animation,d=(l.left+l.right)/2,p=(l.top+l.bottom)/2,f=s&&u.animateScale,b=f?0:this.innerRadius,_=f?0:this.outerRadius,{sharedOptions:C,includeOptions:S}=this._getSharedOptions(r,o),A=this._getRotation(),F;for(F=0;F<r;++F)A+=this._circumference(F,s);for(F=r;F<r+i;++F){let P=this._circumference(F,s),U=t[F],se={x:d+this.offsetX,y:p+this.offsetY,startAngle:A,endAngle:A+P,circumference:P,outerRadius:_,innerRadius:b};S&&(se.options=C||this.resolveDataElementOptions(F,U.active?"active":o)),A+=P,this.updateElement(U,F,se,o)}}calculateTotal(){let t=this._cachedMeta,r=t.data,i=0,o;for(o=0;o<r.length;o++){let s=t._parsed[o];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(o)&&!r[o].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(t){let r=this._cachedMeta.total;return r>0&&!isNaN(t)?Lr*(Math.abs(t)/r):0}getLabelAndValue(t){let r=this._cachedMeta,i=this.chart,o=i.data.labels||[],s=Zh(r._parsed[t],i.options.locale);return{label:o[t]||"",value:s}}getMaxBorderWidth(t){let r=0,i=this.chart,o,s,a,l,c;if(!t){for(o=0,s=i.data.datasets.length;o<s;++o)if(i.isDatasetVisible(o)){a=i.getDatasetMeta(o),t=a.data,l=a.controller;break}}if(!t)return 0;for(o=0,s=t.length;o<s;++o)c=l.resolveDataElementOptions(o),c.borderAlign!=="inner"&&(r=Math.max(r,c.borderWidth||0,c.hoverBorderWidth||0));return r}getMaxOffset(t){let r=0;for(let i=0,o=t.length;i<o;++i){let s=this.resolveDataElementOptions(i);r=Math.max(r,s.offset||0,s.hoverOffset||0)}return r}_getRingWeightOffset(t){let r=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(r+=this._getRingWeight(i));return r}_getRingWeight(t){return Math.max(rn(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return n})(),PG=(()=>{class n extends Gu{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){let r=this._cachedMeta,{dataset:i,data:o=[],_dataset:s}=r,a=this.chart._animationsDisabled,{start:l,count:c}=tE(r,o,a);this._drawStart=l,this._drawCount=c,nE(r)&&(l=0,c=o.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=o;let u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:u},t),this.updateElements(o,l,c,t)}updateElements(t,r,i,o){let s=o==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:p}=this._getSharedOptions(r,o),f=a.axis,b=l.axis,{spanGaps:_,segment:C}=this.options,S=bf(_)?_:Number.POSITIVE_INFINITY,A=this.chart._animationsDisabled||s||o==="none",F=r+i,P=t.length,U=r>0&&this.getParsed(r-1);for(let se=0;se<P;++se){let he=t[se],Y=A?he:{};if(se<r||se>=F){Y.skip=!0;continue}let H=this.getParsed(se),pe=Mn(H[b]),O=Y[f]=a.getPixelForValue(H[f],se),$=Y[b]=s||pe?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,H,c):H[b],se);Y.skip=isNaN(O)||isNaN($)||pe,Y.stop=se>0&&Math.abs(H[f]-U[f])>S,C&&(Y.parsed=H,Y.raw=u.data[se]),p&&(Y.options=d||this.resolveDataElementOptions(se,he.active?"active":o)),A||this.updateElement(he,se,Y,o),U=H}}getMaxOverflow(){let t=this._cachedMeta,r=t.dataset,i=r.options&&r.options.borderWidth||0,o=t.data||[];if(!o.length)return i;let s=o[0].size(this.resolveDataElementOptions(0)),a=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(i,s,a)/2}draw(){let t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}return n})(),NR=(()=>{class n extends Gu{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let r=t.data;if(r.labels.length&&r.datasets.length){let{labels:{pointStyle:i,color:o}}=t.legend.options;return r.labels.map((s,a)=>{let c=t.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:o,lineWidth:c.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,r,i){i.chart.toggleDataVisibility(r.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,r){super(t,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){let r=this._cachedMeta,i=this.chart,o=i.data.labels||[],s=Zh(r._parsed[t].r,i.options.locale);return{label:o[t]||"",value:s}}parseObjectData(t,r,i,o){return dE.bind(this)(t,r,i,o)}update(t){let r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,t)}getMinMax(){let t=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,o)=>{let s=this.getParsed(o).r;!isNaN(s)&&this.chart.getDataVisibility(o)&&(s<r.min&&(r.min=s),s>r.max&&(r.max=s))}),r}_updateRadius(){let t=this.chart,r=t.chartArea,i=t.options,o=Math.min(r.right-r.left,r.bottom-r.top),s=Math.max(o/2,0),a=Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0),l=(s-a)/t.getVisibleDatasetCount();this.outerRadius=s-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(t,r,i,o){let s=o==="reset",a=this.chart,c=a.options.animation,u=this._cachedMeta.rScale,d=u.xCenter,p=u.yCenter,f=u.getIndexAngle(0)-.5*Qn,b=f,_,C=360/this.countVisibleElements();for(_=0;_<r;++_)b+=this._computeAngle(_,o,C);for(_=r;_<r+i;_++){let S=t[_],A=b,F=b+this._computeAngle(_,o,C),P=a.getDataVisibility(_)?u.getDistanceFromCenterForValue(this.getParsed(_).r):0;b=F,s&&(c.animateScale&&(P=0),c.animateRotate&&(A=F=f));let U={x:d,y:p,innerRadius:0,outerRadius:P,startAngle:A,endAngle:F,options:this.resolveDataElementOptions(_,S.active?"active":o)};this.updateElement(S,_,U,o)}}countVisibleElements(){let t=this._cachedMeta,r=0;return t.data.forEach((i,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&r++}),r}_computeAngle(t,r,i){return this.chart.getDataVisibility(t)?ba(this.resolveDataElementOptions(t,r).angle||i):0}}return n})(),OG=(()=>{class n extends ZE{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return n})(),RG=(()=>{class n extends Gu{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){let r=this._cachedMeta.vScale,i=this.getParsed(t);return{label:r.getLabels()[t],value:""+r.getLabelForValue(i[r.axis])}}parseObjectData(t,r,i,o){return dE.bind(this)(t,r,i,o)}update(t){let r=this._cachedMeta,i=r.dataset,o=r.data||[],s=r.iScale.getLabels();if(i.points=o,t!=="resize"){let a=this.resolveDatasetElementOptions(t);this.options.showLine||(a.borderWidth=0);let l={_loop:!0,_fullLoop:s.length===o.length,options:a};this.updateElement(i,void 0,l,t)}this.updateElements(o,0,o.length,t)}updateElements(t,r,i,o){let s=this._cachedMeta.rScale,a=o==="reset";for(let l=r;l<r+i;l++){let c=t[l],u=this.resolveDataElementOptions(l,c.active?"active":o),d=s.getPointPositionForValue(l,this.getParsed(l).r),p=a?s.xCenter:d.x,f=a?s.yCenter:d.y,b={x:p,y:f,angle:d.angle,skip:isNaN(p)||isNaN(f),options:u};this.updateElement(c,l,b,o)}}}return n})(),LG=(()=>{class n extends Gu{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){let r=this._cachedMeta,i=this.chart.data.labels||[],{xScale:o,yScale:s}=r,a=this.getParsed(t),l=o.getLabelForValue(a.x),c=s.getLabelForValue(a.y);return{label:i[t]||"",value:"("+l+", "+c+")"}}update(t){let r=this._cachedMeta,{data:i=[]}=r,o=this.chart._animationsDisabled,{start:s,count:a}=tE(r,i,o);if(this._drawStart=s,this._drawCount=a,nE(r)&&(s=0,a=i.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:l,_dataset:c}=r;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=i;let u=this.resolveDatasetElementOptions(t);u.segment=this.options.segment,this.updateElement(l,void 0,{animated:!o,options:u},t)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(i,s,a,t)}addElements(){let{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,r,i,o){let s=o==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,d=this.resolveDataElementOptions(r,o),p=this.getSharedOptions(d),f=this.includeOptions(o,p),b=a.axis,_=l.axis,{spanGaps:C,segment:S}=this.options,A=bf(C)?C:Number.POSITIVE_INFINITY,F=this.chart._animationsDisabled||s||o==="none",P=r>0&&this.getParsed(r-1);for(let U=r;U<r+i;++U){let se=t[U],he=this.getParsed(U),Y=F?se:{},H=Mn(he[_]),pe=Y[b]=a.getPixelForValue(he[b],U),O=Y[_]=s||H?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,he,c):he[_],U);Y.skip=isNaN(pe)||isNaN(O)||H,Y.stop=U>0&&Math.abs(he[b]-P[b])>A,S&&(Y.parsed=he,Y.raw=u.data[U]),f&&(Y.options=p||this.resolveDataElementOptions(U,se.active?"active":o)),F||this.updateElement(se,U,Y,o),P=he}this.updateSharedOptions(p,o,d)}getMaxOverflow(){let t=this._cachedMeta,r=t.data||[];if(!this.options.showLine){let l=0;for(let c=r.length-1;c>=0;--c)l=Math.max(l,r[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}let i=t.dataset,o=i.options&&i.options.borderWidth||0;if(!r.length)return o;let s=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(o,s,a)/2}}return n})(),FG=Object.freeze({__proto__:null,BarController:MG,BubbleController:kG,DoughnutController:ZE,LineController:PG,PieController:OG,PolarAreaController:NR,RadarController:RG,ScatterController:LG});function wf(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var NE=class n{static override(e){Object.assign(n.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return wf()}parse(){return wf()}format(){return wf()}add(){return wf()}diff(){return wf()}startOf(){return wf()}endOf(){return wf()}},jG={_date:NE};function BG(n,e,t,r){let{controller:i,data:o,_sorted:s}=n,a=i._cachedMeta.iScale,l=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&s&&o.length){let c=a._reversePixels?lO:Vl;if(r){if(i._sharedOptions){let u=o[0],d=typeof u.getRange=="function"&&u.getRange(e);if(d){let p=c(o,e,t-d),f=c(o,e,t+d);return{lo:p.lo,hi:f.hi}}}}else{let u=c(o,e,t);if(l){let{vScale:d}=i._cachedMeta,{_parsed:p}=n,f=p.slice(0,u.lo+1).reverse().findIndex(_=>!Mn(_[d.axis]));u.lo-=Math.max(0,f);let b=p.slice(u.hi).findIndex(_=>!Mn(_[d.axis]));u.hi+=Math.max(0,b)}return u}}return{lo:0,hi:o.length-1}}function jm(n,e,t,r,i){let o=n.getSortedVisibleDatasetMetas(),s=t[e];for(let a=0,l=o.length;a<l;++a){let{index:c,data:u}=o[a],{lo:d,hi:p}=BG(o[a],e,s,i);for(let f=d;f<=p;++f){let b=u[f];b.skip||r(b,c,f)}}}function VG(n){let e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(r,i){let o=e?Math.abs(r.x-i.x):0,s=t?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(s,2))}}function CE(n,e,t,r,i){let o=[];return!i&&!n.isPointInArea(e)||jm(n,t,e,function(a,l,c){!i&&!Ul(a,n.chartArea,0)||a.inRange(e.x,e.y,r)&&o.push({element:a,datasetIndex:l,index:c})},!0),o}function UG(n,e,t,r){let i=[];function o(s,a,l){let{startAngle:c,endAngle:u}=s.getProps(["startAngle","endAngle"],r),{angle:d}=QS(s,{x:e.x,y:e.y});Qh(d,c,u)&&i.push({element:s,datasetIndex:a,index:l})}return jm(n,t,e,o),i}function zG(n,e,t,r,i,o){let s=[],a=VG(t),l=Number.POSITIVE_INFINITY;function c(u,d,p){let f=u.inRange(e.x,e.y,i);if(r&&!f)return;let b=u.getCenterPoint(i);if(!(!!o||n.isPointInArea(b))&&!f)return;let C=a(e,b);C<l?(s=[{element:u,datasetIndex:d,index:p}],l=C):C===l&&s.push({element:u,datasetIndex:d,index:p})}return jm(n,t,e,c),s}function SE(n,e,t,r,i,o){return!o&&!n.isPointInArea(e)?[]:t==="r"&&!r?UG(n,e,t,i):zG(n,e,t,r,i,o)}function BO(n,e,t,r,i){let o=[],s=t==="x"?"inXRange":"inYRange",a=!1;return jm(n,t,e,(l,c,u)=>{l[s]&&l[s](e[t],i)&&(o.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),r&&!a?[]:o}var HG={evaluateInteractionItems:jm,modes:{index(n,e,t,r){let i=$u(e,n),o=t.axis||"x",s=t.includeInvisible||!1,a=t.intersect?CE(n,i,o,r,s):SE(n,i,o,!1,r,s),l=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(c=>{let u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(n,e,t,r){let i=$u(e,n),o=t.axis||"xy",s=t.includeInvisible||!1,a=t.intersect?CE(n,i,o,r,s):SE(n,i,o,!1,r,s);if(a.length>0){let l=a[0].datasetIndex,c=n.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(n,e,t,r){let i=$u(e,n),o=t.axis||"xy",s=t.includeInvisible||!1;return CE(n,i,o,r,s)},nearest(n,e,t,r){let i=$u(e,n),o=t.axis||"xy",s=t.includeInvisible||!1;return SE(n,i,o,t.intersect,r,s)},x(n,e,t,r){let i=$u(e,n);return BO(n,i,"x",t.intersect,r)},y(n,e,t,r){let i=$u(e,n);return BO(n,i,"y",t.intersect,r)}}},PR=["left","top","right","bottom"];function Tm(n,e){return n.filter(t=>t.pos===e)}function VO(n,e){return n.filter(t=>PR.indexOf(t.pos)===-1&&t.box.axis===e)}function Mm(n,e){return n.sort((t,r)=>{let i=e?r:t,o=e?t:r;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function qG(n){let e=[],t,r,i,o,s,a;for(t=0,r=(n||[]).length;t<r;++t)i=n[t],{position:o,options:{stack:s,stackWeight:a=1}}=i,e.push({index:t,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:s&&o+s,stackWeight:a});return e}function $G(n){let e={};for(let t of n){let{stack:r,pos:i,stackWeight:o}=t;if(!r||!PR.includes(i))continue;let s=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=o}return e}function WG(n,e){let t=$G(n),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e,o,s,a;for(o=0,s=n.length;o<s;++o){a=n[o];let{fullSize:l}=a.box,c=t[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*r:l&&e.availableWidth,a.height=i):(a.width=r,a.height=u?u*i:l&&e.availableHeight)}return t}function GG(n){let e=qG(n),t=Mm(e.filter(c=>c.box.fullSize),!0),r=Mm(Tm(e,"left"),!0),i=Mm(Tm(e,"right")),o=Mm(Tm(e,"top"),!0),s=Mm(Tm(e,"bottom")),a=VO(e,"x"),l=VO(e,"y");return{fullSize:t,leftAndTop:r.concat(o),rightAndBottom:i.concat(l).concat(s).concat(a),chartArea:Tm(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:o.concat(s).concat(a)}}function UO(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function OR(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function YG(n,e,t,r){let{pos:i,box:o}=t,s=n.maxPadding;if(!Pn(i)){t.size&&(n[i]-=t.size);let d=r[t.stack]||{size:0,count:1};d.size=Math.max(d.size,t.horizontal?o.height:o.width),t.size=d.size/d.count,n[i]+=t.size}o.getPadding&&OR(s,o.getPadding());let a=Math.max(0,e.outerWidth-UO(s,n,"left","right")),l=Math.max(0,e.outerHeight-UO(s,n,"top","bottom")),c=a!==n.w,u=l!==n.h;return n.w=a,n.h=l,t.horizontal?{same:c,other:u}:{same:u,other:c}}function KG(n){let e=n.maxPadding;function t(r){let i=Math.max(e[r]-n[r],0);return n[r]+=i,i}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function QG(n,e){let t=e.maxPadding;function r(i){let o={left:0,top:0,right:0,bottom:0};return i.forEach(s=>{o[s]=Math.max(e[s],t[s])}),o}return r(n?["left","right"]:["top","bottom"])}function Pm(n,e,t,r){let i=[],o,s,a,l,c,u;for(o=0,s=n.length,c=0;o<s;++o){a=n[o],l=a.box,l.update(a.width||e.w,a.height||e.h,QG(a.horizontal,e));let{same:d,other:p}=YG(e,t,a,r);c|=d&&i.length,u=u||p,l.fullSize||i.push(a)}return c&&Pm(i,e,t,r)||u}function o1(n,e,t,r,i){n.top=t,n.left=e,n.right=e+r,n.bottom=t+i,n.width=r,n.height=i}function zO(n,e,t,r){let i=t.padding,{x:o,y:s}=e;for(let a of n){let l=a.box,c=r[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){let d=e.w*u,p=c.size||l.height;Yh(c.start)&&(s=c.start),l.fullSize?o1(l,i.left,s,t.outerWidth-i.right-i.left,p):o1(l,e.left+c.placed,s,d,p),c.start=s,c.placed+=d,s=l.bottom}else{let d=e.h*u,p=c.size||l.width;Yh(c.start)&&(o=c.start),l.fullSize?o1(l,o,i.top,p,t.outerHeight-i.bottom-i.top):o1(l,o,e.top+c.placed,p,d),c.start=o,c.placed+=d,o=l.right}}e.x=o,e.y=s}var Co={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){let t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;let i=ao(n.options.layout.padding),o=Math.max(e-i.width,0),s=Math.max(t-i.height,0),a=GG(n.boxes),l=a.vertical,c=a.horizontal;ar(n.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});let u=l.reduce((_,C)=>C.box.options&&C.box.options.display===!1?_:_+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/u,hBoxMaxHeight:s/2}),p=Object.assign({},i);OR(p,ao(r));let f=Object.assign({maxPadding:p,w:o,h:s,x:i.left,y:i.top},i),b=WG(l.concat(c),d);Pm(a.fullSize,f,d,b),Pm(l,f,d,b),Pm(c,f,d,b)&&Pm(l,f,d,b),KG(f),zO(a.leftAndTop,f,d,b),f.x+=f.w,f.y+=f.h,zO(a.rightAndBottom,f,d,b),n.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},ar(a.chartArea,_=>{let C=_.box;Object.assign(C,n.chartArea),C.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}},p1=class{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,i){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(e){return!0}updateConfig(e){}},PE=class extends p1{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}},d1="$chartjs",ZG={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},HO=n=>n===null||n==="";function XG(n,e){let t=n.style,r=n.getAttribute("height"),i=n.getAttribute("width");if(n[d1]={initial:{height:r,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",HO(i)){let o=hE(n,"width");o!==void 0&&(n.width=o)}if(HO(r))if(n.style.height==="")n.height=n.width/(e||2);else{let o=hE(n,"height");o!==void 0&&(n.height=o)}return n}var RR=EO?{passive:!0}:!1;function JG(n,e,t){n&&n.addEventListener(e,t,RR)}function eY(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,RR)}function tY(n,e){let t=ZG[n.type]||n.type,{x:r,y:i}=$u(n,e);return{type:t,chart:e,native:n,x:r!==void 0?r:null,y:i!==void 0?i:null}}function g1(n,e){for(let t of n)if(t===e||t.contains(e))return!0}function nY(n,e,t){let r=n.canvas,i=new MutationObserver(o=>{let s=!1;for(let a of o)s=s||g1(a.addedNodes,r),s=s&&!g1(a.removedNodes,r);s&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function rY(n,e,t){let r=n.canvas,i=new MutationObserver(o=>{let s=!1;for(let a of o)s=s||g1(a.removedNodes,r),s=s&&!g1(a.addedNodes,r);s&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}var Rm=new Map,qO=0;function LR(){let n=window.devicePixelRatio;n!==qO&&(qO=n,Rm.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function iY(n,e){Rm.size||window.addEventListener("resize",LR),Rm.set(n,e)}function oY(n){Rm.delete(n),Rm.size||window.removeEventListener("resize",LR)}function sY(n,e,t){let r=n.canvas,i=r&&r1(r);if(!i)return;let o=eE((a,l)=>{let c=i.clientWidth;t(a,l),c<i.clientWidth&&t()},window),s=new ResizeObserver(a=>{let l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||o(c,u)});return s.observe(i),iY(n,o),s}function EE(n,e,t){t&&t.disconnect(),e==="resize"&&oY(n)}function aY(n,e,t){let r=n.canvas,i=eE(o=>{n.ctx!==null&&t(tY(o,n))},n);return JG(r,e,i),i}var OE=class extends p1{acquireContext(e,t){let r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(XG(e,t),r):null}releaseContext(e){let t=e.canvas;if(!t[d1])return!1;let r=t[d1].initial;["height","width"].forEach(o=>{let s=r[o];Mn(s)?t.removeAttribute(o):t.setAttribute(o,s)});let i=r.style||{};return Object.keys(i).forEach(o=>{t.style[o]=i[o]}),t.width=t.width,delete t[d1],!0}addEventListener(e,t,r){this.removeEventListener(e,t);let i=e.$proxies||(e.$proxies={}),s={attach:nY,detach:rY,resize:sY}[t]||aY;i[t]=s(e,t,r)}removeEventListener(e,t){let r=e.$proxies||(e.$proxies={}),i=r[t];if(!i)return;({attach:EE,detach:EE,resize:EE}[t]||eY)(e,t,i),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,i){return SO(e,t,r,i)}isAttached(e){let t=e&&r1(e);return!!(t&&t.isConnected)}};function lY(n){return!n1()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?PE:OE}var il=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){let{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return bf(this.x)&&bf(this.y)}getProps(e,t){let r=this.$animations;if(!t||!r)return this;let i={};return e.forEach(o=>{i[o]=r[o]&&r[o].active()?r[o]._to:this[o]}),i}};function cY(n,e){let t=n.options.ticks,r=uY(n),i=Math.min(t.maxTicksLimit||r,r),o=t.major.enabled?fY(e):[],s=o.length,a=o[0],l=o[s-1],c=[];if(s>i)return hY(e,c,o,s/i),c;let u=dY(o,e,i);if(s>0){let d,p,f=s>1?Math.round((l-a)/(s-1)):null;for(s1(e,c,u,Mn(f)?0:a-f,a),d=0,p=s-1;d<p;d++)s1(e,c,u,o[d],o[d+1]);return s1(e,c,u,l,Mn(f)?e.length:l+f),c}return s1(e,c,u),c}function uY(n){let e=n.options.offset,t=n._tickSize(),r=n._length/t+(e?0:1),i=n._maxLength/t;return Math.floor(Math.min(r,i))}function dY(n,e,t){let r=pY(n),i=e.length/t;if(!r)return Math.max(i,1);let o=oO(r);for(let s=0,a=o.length-1;s<a;s++){let l=o[s];if(l>i)return l}return Math.max(i,1)}function fY(n){let e=[],t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}function hY(n,e,t,r){let i=0,o=t[0],s;for(r=Math.ceil(r),s=0;s<n.length;s++)s===o&&(e.push(n[s]),i++,o=t[i*r])}function s1(n,e,t,r,i){let o=rn(r,0),s=Math.min(rn(i,n.length),n.length),a=0,l,c,u;for(t=Math.ceil(t),i&&(l=i-r,t=l/Math.floor(l/t)),u=o;u<0;)a++,u=Math.round(o+a*t);for(c=Math.max(o,0);c<s;c++)c===u&&(e.push(n[c]),a++,u=Math.round(o+a*t))}function pY(n){let e=n.length,t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}var gY=n=>n==="left"?"right":n==="right"?"left":n,$O=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,WO=(n,e)=>Math.min(e||n,n);function GO(n,e){let t=[],r=n.length/e,i=n.length,o=0;for(;o<i;o+=r)t.push(n[Math.floor(o)]);return t}function mY(n,e,t){let r=n.ticks.length,i=Math.min(e,r-1),o=n._startPixel,s=n._endPixel,a=1e-6,l=n.getPixelForTick(i),c;if(!(t&&(r===1?c=Math.max(l-o,s-l):e===0?c=(n.getPixelForTick(1)-l)/2:c=(l-n.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<o-a||l>s+a)))return l}function vY(n,e){ar(n,t=>{let r=t.gc,i=r.length/2,o;if(i>e){for(o=0;o<i;++o)delete t.data[r[o]];r.splice(0,i)}})}function km(n){return n.drawTicks?n.tickLength:0}function YO(n,e){if(!n.display)return 0;let t=Si(n.font,e),r=ao(n.padding);return(Rr(n.text)?n.text.length:1)*t.lineHeight+r.height}function yY(n,e){return Bc(n,{scale:e,type:"scale"})}function bY(n,e,t){return Bc(n,{tick:t,index:e,type:"tick"})}function _Y(n,e,t){let r=Zb(n);return(t&&e!=="right"||!t&&e==="right")&&(r=gY(r)),r}function wY(n,e,t,r){let{top:i,left:o,bottom:s,right:a,chart:l}=n,{chartArea:c,scales:u}=l,d=0,p,f,b,_=s-i,C=a-o;if(n.isHorizontal()){if(f=so(r,o,a),Pn(t)){let S=Object.keys(t)[0],A=t[S];b=u[S].getPixelForValue(A)+_-e}else t==="center"?b=(c.bottom+c.top)/2+_-e:b=$O(n,t,e);p=a-o}else{if(Pn(t)){let S=Object.keys(t)[0],A=t[S];f=u[S].getPixelForValue(A)-C+e}else t==="center"?f=(c.left+c.right)/2-C+e:f=$O(n,t,e);b=so(r,s,i),d=t==="left"?-si:si}return{titleX:f,titleY:b,maxWidth:p,rotation:d}}var Cf=class n extends il{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return e=cs(e,Number.POSITIVE_INFINITY),t=cs(t,Number.NEGATIVE_INFINITY),r=cs(r,Number.POSITIVE_INFINITY),i=cs(i,Number.NEGATIVE_INFINITY),{min:cs(e,r),max:cs(t,i),minDefined:Jr(e),maxDefined:Jr(t)}}getMinMax(e){let{min:t,max:r,minDefined:i,maxDefined:o}=this.getUserBounds(),s;if(i&&o)return{min:t,max:r};let a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)s=a[l].controller.getMinMax(this,e),i||(t=Math.min(t,s.min)),o||(r=Math.max(r,s.max));return t=o&&t>r?r:t,r=i&&t>r?t:r,{min:cs(t,cs(r,t)),max:cs(r,cs(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Dr(this.options.beforeUpdate,[this])}update(e,t,r){let{beginAtZero:i,grace:o,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=yO(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=a<this.ticks.length;this._convertTicksToLabels(l?GO(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=cY(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Dr(this.options.afterUpdate,[this])}beforeSetDimensions(){Dr(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Dr(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Dr(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Dr(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){let t=this.options.ticks,r,i,o;for(r=0,i=e.length;r<i;r++)o=e[r],o.label=Dr(t.callback,[o.value,r,e],this)}afterTickToLabelConversion(){Dr(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Dr(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let e=this.options,t=e.ticks,r=WO(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,o=t.maxRotation,s=i,a,l,c;if(!this._isVisible()||!t.display||i>=o||r<=1||!this.isHorizontal()){this.labelRotation=i;return}let u=this._getLabelSizes(),d=u.widest.width,p=u.highest.height,f=Ri(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/r:f/(r-1),d+6>a&&(a=f/(r-(e.offset?.5:1)),l=this.maxHeight-km(e.grid)-t.padding-YO(e.title,this.chart.options.font),c=Math.sqrt(d*d+p*p),s=Kb(Math.min(Math.asin(Ri((u.highest.height+6)/a,-1,1)),Math.asin(Ri(l/c,-1,1))-Math.asin(Ri(p/c,-1,1)))),s=Math.max(i,Math.min(o,s))),this.labelRotation=s}afterCalculateLabelRotation(){Dr(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Dr(this.options.beforeFit,[this])}fit(){let e={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:o}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){let l=YO(i,t.options.font);if(a?(e.width=this.maxWidth,e.height=km(o)+l):(e.height=this.maxHeight,e.width=km(o)+l),r.display&&this.ticks.length){let{first:c,last:u,widest:d,highest:p}=this._getLabelSizes(),f=r.padding*2,b=ba(this.labelRotation),_=Math.cos(b),C=Math.sin(b);if(a){let S=r.mirror?0:C*d.width+_*p.height;e.height=Math.min(this.maxHeight,e.height+S+f)}else{let S=r.mirror?0:_*d.width+C*p.height;e.width=Math.min(this.maxWidth,e.width+S+f)}this._calculatePadding(c,u,C,_)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,i){let{ticks:{align:o,padding:s},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1),p=0,f=0;l?c?(p=i*e.width,f=r*t.height):(p=r*e.height,f=i*t.width):o==="start"?f=t.width:o==="end"?p=e.width:o!=="inner"&&(p=e.width/2,f=t.width/2),this.paddingLeft=Math.max((p-u+s)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-d+s)*this.width/(this.width-d),0)}else{let u=t.height/2,d=e.height/2;o==="start"?(u=0,d=e.height):o==="end"&&(u=t.height,d=0),this.paddingTop=u+s,this.paddingBottom=d+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Dr(this.options.afterFit,[this])}isHorizontal(){let{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)Mn(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){let t=this.options.ticks.sampleSize,r=this.ticks;t<r.length&&(r=GO(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){let{ctx:i,_longestTextCache:o}=this,s=[],a=[],l=Math.floor(t/WO(t,r)),c=0,u=0,d,p,f,b,_,C,S,A,F,P,U;for(d=0;d<t;d+=l){if(b=e[d].label,_=this._resolveTickFontOptions(d),i.font=C=_.string,S=o[C]=o[C]||{data:{},gc:[]},A=_.lineHeight,F=P=0,!Mn(b)&&!Rr(b))F=Cm(i,S.data,S.gc,F,b),P=A;else if(Rr(b))for(p=0,f=b.length;p<f;++p)U=b[p],!Mn(U)&&!Rr(U)&&(F=Cm(i,S.data,S.gc,F,U),P+=A);s.push(F),a.push(P),c=Math.max(F,c),u=Math.max(P,u)}vY(o,t);let se=s.indexOf(c),he=a.indexOf(u),Y=H=>({width:s[H]||0,height:a[H]||0});return{first:Y(0),last:Y(t-1),widest:Y(se),highest:Y(he),widths:s,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){let t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);let t=this._startPixel+e*this._length;return aO(this._alignToPixels?zu(this.chart,t,0):t)}getDecimalForPixel(e){let t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){let t=this.ticks||[];if(e>=0&&e<t.length){let r=t[e];return r.$context||(r.$context=bY(this.getContext(),e,r))}return this.$context||(this.$context=yY(this.chart.getContext(),this))}_tickSize(){let e=this.options.ticks,t=ba(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),o=this._getLabelSizes(),s=e.autoSkipPadding||0,a=o?o.widest.width+s:0,l=o?o.highest.height+s:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){let e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){let t=this.axis,r=this.chart,i=this.options,{grid:o,position:s,border:a}=i,l=o.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),p=km(o),f=[],b=a.setContext(this.getContext()),_=b.display?b.width:0,C=_/2,S=function(xe){return zu(r,xe,_)},A,F,P,U,se,he,Y,H,pe,O,$,le;if(s==="top")A=S(this.bottom),he=this.bottom-p,H=A-C,O=S(e.top)+C,le=e.bottom;else if(s==="bottom")A=S(this.top),O=e.top,le=S(e.bottom)-C,he=A+C,H=this.top+p;else if(s==="left")A=S(this.right),se=this.right-p,Y=A-C,pe=S(e.left)+C,$=e.right;else if(s==="right")A=S(this.left),pe=e.left,$=S(e.right)-C,se=A+C,Y=this.left+p;else if(t==="x"){if(s==="center")A=S((e.top+e.bottom)/2+.5);else if(Pn(s)){let xe=Object.keys(s)[0],oe=s[xe];A=S(this.chart.scales[xe].getPixelForValue(oe))}O=e.top,le=e.bottom,he=A+C,H=he+p}else if(t==="y"){if(s==="center")A=S((e.left+e.right)/2);else if(Pn(s)){let xe=Object.keys(s)[0],oe=s[xe];A=S(this.chart.scales[xe].getPixelForValue(oe))}se=A-C,Y=se-p,pe=e.left,$=e.right}let V=rn(i.ticks.maxTicksLimit,d),Q=Math.max(1,Math.ceil(d/V));for(F=0;F<d;F+=Q){let xe=this.getContext(F),oe=o.setContext(xe),Z=a.setContext(xe),ie=oe.lineWidth,Me=oe.color,Ee=Z.dash||[],k=Z.dashOffset,W=oe.tickWidth,X=oe.tickColor,de=oe.tickBorderDash||[],ve=oe.tickBorderDashOffset;P=mY(this,F,l),P!==void 0&&(U=zu(r,P,ie),c?se=Y=pe=$=U:he=H=O=le=U,f.push({tx1:se,ty1:he,tx2:Y,ty2:H,x1:pe,y1:O,x2:$,y2:le,width:ie,color:Me,borderDash:Ee,borderDashOffset:k,tickWidth:W,tickColor:X,tickBorderDash:de,tickBorderDashOffset:ve}))}return this._ticksLength=d,this._borderValue=A,f}_computeLabelItems(e){let t=this.axis,r=this.options,{position:i,ticks:o}=r,s=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=o,p=km(r.grid),f=p+u,b=d?-u:f,_=-ba(this.labelRotation),C=[],S,A,F,P,U,se,he,Y,H,pe,O,$,le="middle";if(i==="top")se=this.bottom-b,he=this._getXAxisLabelAlignment();else if(i==="bottom")se=this.top+b,he=this._getXAxisLabelAlignment();else if(i==="left"){let Q=this._getYAxisLabelAlignment(p);he=Q.textAlign,U=Q.x}else if(i==="right"){let Q=this._getYAxisLabelAlignment(p);he=Q.textAlign,U=Q.x}else if(t==="x"){if(i==="center")se=(e.top+e.bottom)/2+f;else if(Pn(i)){let Q=Object.keys(i)[0],xe=i[Q];se=this.chart.scales[Q].getPixelForValue(xe)+f}he=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")U=(e.left+e.right)/2-f;else if(Pn(i)){let Q=Object.keys(i)[0],xe=i[Q];U=this.chart.scales[Q].getPixelForValue(xe)}he=this._getYAxisLabelAlignment(p).textAlign}t==="y"&&(l==="start"?le="top":l==="end"&&(le="bottom"));let V=this._getLabelSizes();for(S=0,A=a.length;S<A;++S){F=a[S],P=F.label;let Q=o.setContext(this.getContext(S));Y=this.getPixelForTick(S)+o.labelOffset,H=this._resolveTickFontOptions(S),pe=H.lineHeight,O=Rr(P)?P.length:1;let xe=O/2,oe=Q.color,Z=Q.textStrokeColor,ie=Q.textStrokeWidth,Me=he;s?(U=Y,he==="inner"&&(S===A-1?Me=this.options.reverse?"left":"right":S===0?Me=this.options.reverse?"right":"left":Me="center"),i==="top"?c==="near"||_!==0?$=-O*pe+pe/2:c==="center"?$=-V.highest.height/2-xe*pe+pe:$=-V.highest.height+pe/2:c==="near"||_!==0?$=pe/2:c==="center"?$=V.highest.height/2-xe*pe:$=V.highest.height-O*pe,d&&($*=-1),_!==0&&!Q.showLabelBackdrop&&(U+=pe/2*Math.sin(_))):(se=Y,$=(1-O)*pe/2);let Ee;if(Q.showLabelBackdrop){let k=ao(Q.backdropPadding),W=V.heights[S],X=V.widths[S],de=$-k.top,ve=0-k.left;switch(le){case"middle":de-=W/2;break;case"bottom":de-=W;break}switch(he){case"center":ve-=X/2;break;case"right":ve-=X;break;case"inner":S===A-1?ve-=X:S>0&&(ve-=X/2);break}Ee={left:ve,top:de,width:X+k.width,height:W+k.height,color:Q.backdropColor}}C.push({label:P,font:H,textOffset:$,options:{rotation:_,color:oe,strokeColor:Z,strokeWidth:ie,textAlign:Me,textBaseline:le,translation:[U,se],backdrop:Ee}})}return C}_getXAxisLabelAlignment(){let{position:e,ticks:t}=this.options;if(-ba(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){let{position:t,ticks:{crossAlign:r,mirror:i,padding:o}}=this.options,s=this._getLabelSizes(),a=e+o,l=s.widest.width,c,u;return t==="left"?i?(u=this.right+o,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):t==="right"?i?(u=this.left+o,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;let e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){let{ctx:e,options:{backgroundColor:t},left:r,top:i,width:o,height:s}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,i,o,s),e.restore())}getLineWidthForValue(e){let t=this.options.grid;if(!this._isVisible()||!t.display)return 0;let i=this.ticks.findIndex(o=>o.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){let t=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),o,s,a=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(t.display)for(o=0,s=i.length;o<s;++o){let l=i[o];t.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),t.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:e,ctx:t,options:{border:r,grid:i}}=this,o=r.setContext(this.getContext()),s=r.display?o.width:0;if(!s)return;let a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue,c,u,d,p;this.isHorizontal()?(c=zu(e,this.left,s)-s/2,u=zu(e,this.right,a)+a/2,d=p=l):(d=zu(e,this.top,s)-s/2,p=zu(e,this.bottom,a)+a/2,c=u=l),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(c,d),t.lineTo(u,p),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;let r=this.ctx,i=this._computeLabelArea();i&&Dm(r,i);let o=this.getLabelItems(e);for(let s of o){let a=s.options,l=s.font,c=s.label,u=s.textOffset;Hu(r,c,0,u,l,a)}i&&Im(r)}drawTitle(){let{ctx:e,options:{position:t,title:r,reverse:i}}=this;if(!r.display)return;let o=Si(r.font),s=ao(r.padding),a=r.align,l=o.lineHeight/2;t==="bottom"||t==="center"||Pn(t)?(l+=s.bottom,Rr(r.text)&&(l+=o.lineHeight*(r.text.length-1))):l+=s.top;let{titleX:c,titleY:u,maxWidth:d,rotation:p}=wY(this,l,t,a);Hu(e,r.text,0,0,o,{color:r.color,maxWidth:d,rotation:p,textAlign:_Y(a,t,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){let e=this.options,t=e.ticks&&e.ticks.z||0,r=rn(e.grid&&e.grid.z,-1),i=rn(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==n.prototype.draw?[{z:t,draw:o=>{this.draw(o)}}]:[{z:r,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){let t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[],o,s;for(o=0,s=t.length;o<s;++o){let a=t[o];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){let t=this.options.ticks.setContext(this.getContext(e));return Si(t.font)}_maxDigits(){let e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}},tp=class{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){let t=Object.getPrototypeOf(e),r;SY(t)&&(r=this.register(t));let i=this.items,o=e.id,s=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in i||(i[o]=e,xY(e,s,r),this.override&&Ir.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){let t=this.items,r=e.id,i=this.scope;r in t&&delete t[r],i&&r in Ir[i]&&(delete Ir[i][r],this.override&&delete Uu[r])}};function xY(n,e,t){let r=$h(Object.create(null),[t?Ir.get(t):{},Ir.get(e),n.defaults]);Ir.set(e,r),n.defaultRoutes&&CY(e,n.defaultRoutes),n.descriptors&&Ir.describe(e,n.descriptors)}function CY(n,e){Object.keys(e).forEach(t=>{let r=t.split("."),i=r.pop(),o=[n].concat(r).join("."),s=e[t].split("."),a=s.pop(),l=s.join(".");Ir.route(o,i,l,a)})}function SY(n){return"id"in n&&"defaults"in n}var RE=class{constructor(){this.controllers=new tp(Gu,"datasets",!0),this.elements=new tp(il,"elements"),this.plugins=new tp(Object,"plugins"),this.scales=new tp(Cf,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(i=>{let o=r||this._getRegistryForType(i);r||o.isForType(i)||o===this.plugins&&i.id?this._exec(e,o,i):ar(i,s=>{let a=r||this._getRegistryForType(s);this._exec(e,a,s)})})}_exec(e,t,r){let i=Yb(e);Dr(r["before"+i],[],r),t[e](r),Dr(r["after"+i],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){let r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){let i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}},$l=new RE,LE=class{constructor(){this._init=void 0}notify(e,t,r,i){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;let o=i?this._descriptors(e).filter(i):this._descriptors(e),s=this._notify(o,e,t,r);return t==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),s}_notify(e,t,r,i){i=i||{};for(let o of e){let s=o.plugin,a=s[r],l=[t,i,o.options];if(Dr(a,l,s)===!1&&i.cancelable)return!1}return!0}invalidate(){Mn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;let t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){let r=e&&e.config,i=rn(r.options&&r.options.plugins,{}),o=EY(r);return i===!1&&!t?[]:IY(e,o,i,t)}_notifyStateChanges(e){let t=this._oldCache||[],r=this._cache,i=(o,s)=>o.filter(a=>!s.some(l=>a.plugin.id===l.plugin.id));this._notify(i(t,r),e,"stop"),this._notify(i(r,t),e,"start")}};function EY(n){let e={},t=[],r=Object.keys($l.plugins.items);for(let o=0;o<r.length;o++)t.push($l.getPlugin(r[o]));let i=n.plugins||[];for(let o=0;o<i.length;o++){let s=i[o];t.indexOf(s)===-1&&(t.push(s),e[s.id]=!0)}return{plugins:t,localIds:e}}function DY(n,e){return!e&&n===!1?null:n===!0?{}:n}function IY(n,{plugins:e,localIds:t},r,i){let o=[],s=n.getContext();for(let a of e){let l=a.id,c=DY(r[l],i);c!==null&&o.push({plugin:a,options:AY(n.config,{plugin:a,local:t[l]},c,s)})}return o}function AY(n,{plugin:e,local:t},r,i){let o=n.pluginScopeKeys(e),s=n.getOptionScopes(r,o);return t&&e.defaults&&s.push(e.defaults),n.createResolver(s,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function FE(n,e){let t=Ir.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function TY(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function MY(n,e){return n===e?"_index_":"_value_"}function KO(n){if(n==="x"||n==="y"||n==="r")return n}function kY(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function jE(n,...e){if(KO(n))return n;for(let t of e){let r=t.axis||kY(t.position)||n.length>1&&KO(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function QO(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function NY(n,e){if(e.data&&e.data.datasets){let t=e.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(t.length)return QO(n,"x",t[0])||QO(n,"y",t[0])}return{}}function PY(n,e){let t=Uu[n.type]||{scales:{}},r=e.scales||{},i=FE(n.type,e),o=Object.create(null);return Object.keys(r).forEach(s=>{let a=r[s];if(!Pn(a))return console.error(`Invalid scale configuration for scale: ${s}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);let l=jE(s,a,NY(s,n),Ir.scales[a.type]),c=MY(l,i),u=t.scales||{};o[s]=Gh(Object.create(null),[{axis:l},a,u[l],u[c]])}),n.data.datasets.forEach(s=>{let a=s.type||n.type,l=s.indexAxis||FE(a,e),u=(Uu[a]||{}).scales||{};Object.keys(u).forEach(d=>{let p=TY(d,l),f=s[p+"AxisID"]||p;o[f]=o[f]||Object.create(null),Gh(o[f],[{axis:p},r[f],u[d]])})}),Object.keys(o).forEach(s=>{let a=o[s];Gh(a,[Ir.scales[a.type],Ir.scale])}),o}function FR(n){let e=n.options||(n.options={});e.plugins=rn(e.plugins,{}),e.scales=PY(n,e)}function jR(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function OY(n){return n=n||{},n.data=jR(n.data),FR(n),n}var ZO=new Map,BR=new Set;function a1(n,e){let t=ZO.get(n);return t||(t=e(),ZO.set(n,t),BR.add(t)),t}var Nm=(n,e,t)=>{let r=jc(e,t);r!==void 0&&n.add(r)},BE=class{constructor(e){this._config=OY(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=jR(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){let e=this._config;this.clearCache(),FR(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return a1(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return a1(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return a1(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){let t=e.id,r=this.type;return a1(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){let r=this._scopeCache,i=r.get(e);return(!i||t)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,t,r){let{options:i,type:o}=this,s=this._cachedScopes(e,r),a=s.get(t);if(a)return a;let l=new Set;t.forEach(u=>{e&&(l.add(e),u.forEach(d=>Nm(l,e,d))),u.forEach(d=>Nm(l,i,d)),u.forEach(d=>Nm(l,Uu[o]||{},d)),u.forEach(d=>Nm(l,Ir,d)),u.forEach(d=>Nm(l,Xb,d))});let c=Array.from(l);return c.length===0&&c.push(Object.create(null)),BR.has(t)&&s.set(t,c),c}chartOptionScopes(){let{options:e,type:t}=this;return[e,Uu[t]||{},Ir.datasets[t]||{},{type:t},Ir,Xb]}resolveNamedOptions(e,t,r,i=[""]){let o={$shared:!0},{resolver:s,subPrefixes:a}=XO(this._resolverCache,e,i),l=s;if(LY(s,t)){o.$shared=!1,r=Lc(r)?r():r;let c=this.createResolver(e,r,a);l=yf(s,r,c)}for(let c of t)o[c]=l[c];return o}createResolver(e,t,r=[""],i){let{resolver:o}=XO(this._resolverCache,e,r);return Pn(t)?yf(o,t,void 0,i):o}};function XO(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));let i=t.join(),o=r.get(i);return o||(o={resolver:t1(e,t),subPrefixes:t.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,o)),o}var RY=n=>Pn(n)&&Object.getOwnPropertyNames(n).some(e=>Lc(n[e]));function LY(n,e){let{isScriptable:t,isIndexable:r}=lE(n);for(let i of e){let o=t(i),s=r(i),a=(s||o)&&n[i];if(o&&(Lc(a)||RY(a))||s&&Rr(a))return!0}return!1}var FY="4.5.1",jY=["top","bottom","left","right","chartArea"];function JO(n,e){return n==="top"||n==="bottom"||jY.indexOf(n)===-1&&e==="x"}function eR(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function tR(n){let e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Dr(t&&t.onComplete,[n],e)}function BY(n){let e=n.chart,t=e.options.animation;Dr(t&&t.onProgress,[n],e)}function VR(n){return n1()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}var f1={},nR=n=>{let e=VR(n);return Object.values(f1).filter(t=>t.canvas===e).pop()};function VY(n,e,t){let r=Object.keys(n);for(let i of r){let o=+i;if(o>=e){let s=n[i];delete n[i],(t>0||o>e)&&(n[o+t]=s)}}}function UY(n,e,t,r){return!t||n.type==="mouseout"?null:r?e:n}var b1=(()=>{class n{static defaults=Ir;static instances=f1;static overrides=Uu;static registry=$l;static version=FY;static getChart=nR;static register(...t){$l.add(...t),rR()}static unregister(...t){$l.remove(...t),rR()}constructor(t,r){let i=this.config=new BE(r),o=VR(t),s=nR(o);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");let a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||lY(o)),this.platform.updateConfig(i);let l=this.platform.acquireContext(o,a.aspectRatio),c=l&&l.canvas,u=c&&c.height,d=c&&c.width;if(this.id=tO(),this.ctx=l,this.canvas=c,this.width=d,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new LE,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=fO(p=>this.update(p),a.resizeDelay||0),this._dataChanges=[],f1[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Vc.listen(this,"complete",tR),Vc.listen(this,"progress",BY),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:t,maintainAspectRatio:r},width:i,height:o,_aspectRatio:s}=this;return Mn(t)?r&&s?s:o?i/o:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return $l}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():fE(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return oE(this.canvas,this.ctx),this}stop(){return Vc.stop(this),this}resize(t,r){Vc.running(this)?this._resizeBeforeDraw={width:t,height:r}:this._resize(t,r)}_resize(t,r){let i=this.options,o=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(o,t,r,s),l=i.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,fE(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Dr(i.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){let r=this.options.scales||{};ar(r,(i,o)=>{i.id=o})}buildOrUpdateScales(){let t=this.options,r=t.scales,i=this.scales,o=Object.keys(i).reduce((a,l)=>(a[l]=!1,a),{}),s=[];r&&(s=s.concat(Object.keys(r).map(a=>{let l=r[a],c=jE(a,l),u=c==="r",d=c==="x";return{options:l,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),ar(s,a=>{let l=a.options,c=l.id,u=jE(c,l),d=rn(l.type,a.dtype);(l.position===void 0||JO(l.position,u)!==JO(a.dposition))&&(l.position=a.dposition),o[c]=!0;let p=null;if(c in i&&i[c].type===d)p=i[c];else{let f=$l.getScale(d);p=new f({id:c,type:d,ctx:this.ctx,chart:this}),i[p.id]=p}p.init(l,t)}),ar(o,(a,l)=>{a||delete i[l]}),ar(i,a=>{Co.configure(this,a,a.options),Co.addBox(this,a)})}_updateMetasets(){let t=this._metasets,r=this.data.datasets.length,i=t.length;if(t.sort((o,s)=>o.index-s.index),i>r){for(let o=r;o<i;++o)this._destroyDatasetMeta(o);t.splice(r,i-r)}this._sortedMetasets=t.slice(0).sort(eR("order","index"))}_removeUnreferencedMetasets(){let{_metasets:t,data:{datasets:r}}=this;t.length>r.length&&delete this._stacks,t.forEach((i,o)=>{r.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){let t=[],r=this.data.datasets,i,o;for(this._removeUnreferencedMetasets(),i=0,o=r.length;i<o;i++){let s=r[i],a=this.getDatasetMeta(i),l=s.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=l,a.indexAxis=s.indexAxis||FE(l,this.options),a.order=s.order||0,a.index=i,a.label=""+s.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{let c=$l.getController(l),{datasetElementType:u,dataElementType:d}=Ir.datasets[l];Object.assign(c,{dataElementType:$l.getElement(d),datasetElementType:u&&$l.getElement(u)}),a.controller=new c(this,i),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){ar(this.data.datasets,(t,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){let r=this.config;r.update();let i=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;let s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,d=this.data.datasets.length;u<d;u++){let{controller:p}=this.getDatasetMeta(u),f=!o&&s.indexOf(p)===-1;p.buildOrUpdateElements(f),a=Math.max(+p.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),o||ar(s,u=>{u.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(eR("z","_idx"));let{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){ar(this.scales,t=>{Co.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let t=this.options,r=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!WS(r,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:t}=this,r=this._getUniformDataChanges()||[];for(let{method:i,start:o,count:s}of r){let a=i==="_removeElements"?-s:s;VY(t,o,a)}}_getUniformDataChanges(){let t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];let r=this.data.datasets.length,i=s=>new Set(t.filter(a=>a[0]===s).map((a,l)=>l+","+a.splice(1).join(","))),o=i(0);for(let s=1;s<r;s++)if(!WS(o,i(s)))return;return Array.from(o).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Co.update(this,this.width,this.height,t);let r=this.chartArea,i=r.width<=0||r.height<=0;this._layers=[],ar(this.boxes,o=>{i&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,s)=>{o._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let r=0,i=this.data.datasets.length;r<i;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,i=this.data.datasets.length;r<i;++r)this._updateDataset(r,Lc(t)?t({datasetIndex:r}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,r){let i=this.getDatasetMeta(t),o={meta:i,index:t,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(i.controller._update(r),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Vc.has(this)?this.attached&&!Vc.running(this)&&Vc.start(this):(this.draw(),tR({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){let{width:i,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let r=this._layers;for(t=0;t<r.length&&r[t].z<=0;++t)r[t].draw(this.chartArea);for(this._drawDatasets();t<r.length;++t)r[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){let r=this._sortedMetasets,i=[],o,s;for(o=0,s=r.length;o<s;++o){let a=r[o];(!t||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let t=this.getSortedVisibleDatasetMetas();for(let r=t.length-1;r>=0;--r)this._drawDataset(t[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){let r=this.ctx,i={meta:t,index:t.index,cancelable:!0},o=yE(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(o&&Dm(r,o),t.controller.draw(),o&&Im(r),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Ul(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,r,i,o){let s=HG.modes[r];return typeof s=="function"?s(this,t,i,o):[]}getDatasetMeta(t){let r=this.data.datasets[t],i=this._metasets,o=i.filter(s=>s&&s._dataset===r).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:t,_dataset:r,_parsed:[],_sorted:!1},i.push(o)),o}getContext(){return this.$context||(this.$context=Bc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){let r=this.data.datasets[t];if(!r)return!1;let i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!r.hidden}setDatasetVisibility(t,r){let i=this.getDatasetMeta(t);i.hidden=!r}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,r,i){let o=i?"show":"hide",s=this.getDatasetMeta(t),a=s.controller._resolveAnimations(void 0,o);Yh(r)?(s.data[r].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),a.update(s,{visible:i}),this.update(l=>l.datasetIndex===t?o:void 0))}hide(t,r){this._updateVisibility(t,r,!1)}show(t,r){this._updateVisibility(t,r,!0)}_destroyDatasetMeta(t){let r=this._metasets[t];r&&r.controller&&r.controller._destroy(),delete this._metasets[t]}_stop(){let t,r;for(this.stop(),Vc.remove(this),t=0,r=this.data.datasets.length;t<r;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:t,ctx:r}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),oE(t,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete f1[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let t=this._listeners,r=this.platform,i=(s,a)=>{r.addEventListener(this,s,a),t[s]=a},o=(s,a,l)=>{s.offsetX=a,s.offsetY=l,this._eventHandler(s)};ar(this.options.events,s=>i(s,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let t=this._responsiveListeners,r=this.platform,i=(c,u)=>{r.addEventListener(this,c,u),t[c]=u},o=(c,u)=>{t[c]&&(r.removeEventListener(this,c,u),delete t[c])},s=(c,u)=>{this.canvas&&this.resize(c,u)},a,l=()=>{o("attach",l),this.attached=!0,this.resize(),i("resize",s),i("detach",a)};a=()=>{this.attached=!1,o("resize",s),this._stop(),this._resize(0,0),i("attach",l)},r.isAttached(this.canvas)?l():a()}unbindEvents(){ar(this._listeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._listeners={},ar(this._responsiveListeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,r,i){let o=i?"set":"remove",s,a,l,c;for(r==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+o+"DatasetHoverStyle"]()),l=0,c=t.length;l<c;++l){a=t[l];let u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[o+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){let r=this._active||[],i=t.map(({datasetIndex:s,index:a})=>{let l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[a],index:a}});!Sm(i,r)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,r))}notifyPlugins(t,r,i){return this._plugins.notify(this,t,r,i)}isPluginEnabled(t){return this._plugins._cache.filter(r=>r.plugin.id===t).length===1}_updateHoverStyles(t,r,i){let o=this.options.hover,s=(c,u)=>c.filter(d=>!u.some(p=>d.datasetIndex===p.datasetIndex&&d.index===p.index)),a=s(r,t),l=i?t:s(t,r);a.length&&this.updateHoverStyle(a,o.mode,!1),l.length&&o.mode&&this.updateHoverStyle(l,o.mode,!0)}_eventHandler(t,r){let i={event:t,replay:r,cancelable:!0,inChartArea:this.isPointInArea(t)},o=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,o)===!1)return;let s=this._handleEvent(t,r,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,o),(s||i.changed)&&this.render(),this}_handleEvent(t,r,i){let{_active:o=[],options:s}=this,a=r,l=this._getActiveElements(t,o,i,a),c=iO(t),u=UY(t,this._lastEvent,i,c);i&&(this._lastEvent=null,Dr(s.onHover,[t,l,this],this),c&&Dr(s.onClick,[t,l,this],this));let d=!Sm(l,o);return(d||r)&&(this._active=l,this._updateHoverStyles(l,o,r)),this._lastEvent=u,d}_getActiveElements(t,r,i,o){if(t.type==="mouseout")return[];if(!i)return r;let s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,o)}}return n})();function rR(){return ar(b1.instances,n=>n._plugins.invalidate())}function zY(n,e,t){let{startAngle:r,x:i,y:o,outerRadius:s,innerRadius:a,options:l}=e,{borderWidth:c,borderJoinStyle:u}=l,d=Math.min(c/s,oo(r-t));if(n.beginPath(),n.arc(i,o,s-c/2,r+d/2,t-d/2),a>0){let p=Math.min(c/a,oo(r-t));n.arc(i,o,a+c/2,t-p/2,r+p/2,!0)}else{let p=Math.min(c/2,s*oo(r-t));if(u==="round")n.arc(i,o,p,t-Qn/2,r+Qn/2,!0);else if(u==="bevel"){let f=2*p*p,b=-f*Math.cos(t+Qn/2)+i,_=-f*Math.sin(t+Qn/2)+o,C=f*Math.cos(r+Qn/2)+i,S=f*Math.sin(r+Qn/2)+o;n.lineTo(b,_),n.lineTo(C,S)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function HY(n,e,t){let{startAngle:r,pixelMargin:i,x:o,y:s,outerRadius:a,innerRadius:l}=e,c=i/a;n.beginPath(),n.arc(o,s,a,r-c,t+c),l>i?(c=i/l,n.arc(o,s,l,t+c,r-c,!0)):n.arc(o,s,i,t+si,r-si),n.closePath(),n.clip()}function qY(n){return e1(n,["outerStart","outerEnd","innerStart","innerEnd"])}function $Y(n,e,t,r){let i=qY(n.options.borderRadius),o=(t-e)/2,s=Math.min(o,r*e/2),a=l=>{let c=(t-Math.min(o,l))*r/2;return Ri(l,0,Math.min(o,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Ri(i.innerStart,0,s),innerEnd:Ri(i.innerEnd,0,s)}}function ep(n,e,t,r){return{x:t+n*Math.cos(e),y:r+n*Math.sin(e)}}function m1(n,e,t,r,i,o){let{x:s,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+r+t-c,0),p=u>0?u+r+t+c:0,f=0,b=i-l;if(r){let Q=u>0?u-r:0,xe=d>0?d-r:0,oe=(Q+xe)/2,Z=oe!==0?b*oe/(oe+r):b;f=(b-Z)/2}let _=Math.max(.001,b*d-t/Qn)/d,C=(b-_)/2,S=l+C+f,A=i-C-f,{outerStart:F,outerEnd:P,innerStart:U,innerEnd:se}=$Y(e,p,d,A-S),he=d-F,Y=d-P,H=S+F/he,pe=A-P/Y,O=p+U,$=p+se,le=S+U/O,V=A-se/$;if(n.beginPath(),o){let Q=(H+pe)/2;if(n.arc(s,a,d,H,Q),n.arc(s,a,d,Q,pe),P>0){let ie=ep(Y,pe,s,a);n.arc(ie.x,ie.y,P,pe,A+si)}let xe=ep($,A,s,a);if(n.lineTo(xe.x,xe.y),se>0){let ie=ep($,V,s,a);n.arc(ie.x,ie.y,se,A+si,V+Math.PI)}let oe=(A-se/p+(S+U/p))/2;if(n.arc(s,a,p,A-se/p,oe,!0),n.arc(s,a,p,oe,S+U/p,!0),U>0){let ie=ep(O,le,s,a);n.arc(ie.x,ie.y,U,le+Math.PI,S-si)}let Z=ep(he,S,s,a);if(n.lineTo(Z.x,Z.y),F>0){let ie=ep(he,H,s,a);n.arc(ie.x,ie.y,F,S-si,H)}}else{n.moveTo(s,a);let Q=Math.cos(H)*d+s,xe=Math.sin(H)*d+a;n.lineTo(Q,xe);let oe=Math.cos(pe)*d+s,Z=Math.sin(pe)*d+a;n.lineTo(oe,Z)}n.closePath()}function WY(n,e,t,r,i){let{fullCircles:o,startAngle:s,circumference:a}=e,l=e.endAngle;if(o){m1(n,e,t,r,l,i);for(let c=0;c<o;++c)n.fill();isNaN(a)||(l=s+(a%Lr||Lr))}return m1(n,e,t,r,l,i),n.fill(),l}function GY(n,e,t,r,i){let{fullCircles:o,startAngle:s,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:p,borderRadius:f}=l,b=l.borderAlign==="inner";if(!c)return;n.setLineDash(d||[]),n.lineDashOffset=p,b?(n.lineWidth=c*2,n.lineJoin=u||"round"):(n.lineWidth=c,n.lineJoin=u||"bevel");let _=e.endAngle;if(o){m1(n,e,t,r,_,i);for(let C=0;C<o;++C)n.stroke();isNaN(a)||(_=s+(a%Lr||Lr))}b&&HY(n,e,_),l.selfJoin&&_-s>=Qn&&f===0&&u!=="miter"&&zY(n,e,_),o||(m1(n,e,t,r,_,i),n.stroke())}var VE=class extends il{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,r){let i=this.getProps(["x","y"],r),{angle:o,distance:s}=QS(i,{x:e,y:t}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:u,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),p=(this.options.spacing+this.options.borderWidth)/2,f=rn(d,l-a),b=Qh(o,a,l)&&a!==l,_=f>=Lr||b,C=Hl(s,c+p,u+p);return _&&C}getCenterPoint(e){let{x:t,y:r,startAngle:i,endAngle:o,innerRadius:s,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:l,spacing:c}=this.options,u=(i+o)/2,d=(s+a+c+l)/2;return{x:t+Math.cos(u)*d,y:r+Math.sin(u)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){let{options:t,circumference:r}=this,i=(t.offset||0)/4,o=(t.spacing||0)/2,s=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=r>Lr?Math.floor(r/Lr):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*i,Math.sin(a)*i);let l=1-Math.sin(Math.min(Qn,r||0)),c=i*l;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,WY(e,this,c,o,s),GY(e,this,c,o,s),e.restore()}};function UR(n,e,t=e){n.lineCap=rn(t.borderCapStyle,e.borderCapStyle),n.setLineDash(rn(t.borderDash,e.borderDash)),n.lineDashOffset=rn(t.borderDashOffset,e.borderDashOffset),n.lineJoin=rn(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=rn(t.borderWidth,e.borderWidth),n.strokeStyle=rn(t.borderColor,e.borderColor)}function YY(n,e,t){n.lineTo(t.x,t.y)}function KY(n){return n.stepped?mO:n.tension||n.cubicInterpolationMode==="monotone"?vO:YY}function zR(n,e,t={}){let r=n.length,{start:i=0,end:o=r-1}=t,{start:s,end:a}=e,l=Math.max(i,s),c=Math.min(o,a),u=i<s&&o<s||i>a&&o>a;return{count:r,start:l,loop:e.loop,ilen:c<l&&!u?r+c-l:c-l}}function QY(n,e,t,r){let{points:i,options:o}=e,{count:s,start:a,loop:l,ilen:c}=zR(i,t,r),u=KY(o),{move:d=!0,reverse:p}=r||{},f,b,_;for(f=0;f<=c;++f)b=i[(a+(p?c-f:f))%s],!b.skip&&(d?(n.moveTo(b.x,b.y),d=!1):u(n,_,b,p,o.stepped),_=b);return l&&(b=i[(a+(p?c:0))%s],u(n,_,b,p,o.stepped)),!!l}function ZY(n,e,t,r){let i=e.points,{count:o,start:s,ilen:a}=zR(i,t,r),{move:l=!0,reverse:c}=r||{},u=0,d=0,p,f,b,_,C,S,A=P=>(s+(c?a-P:P))%o,F=()=>{_!==C&&(n.lineTo(u,C),n.lineTo(u,_),n.lineTo(u,S))};for(l&&(f=i[A(0)],n.moveTo(f.x,f.y)),p=0;p<=a;++p){if(f=i[A(p)],f.skip)continue;let P=f.x,U=f.y,se=P|0;se===b?(U<_?_=U:U>C&&(C=U),u=(d*u+P)/++d):(F(),n.lineTo(P,U),b=se,d=0,_=C=U),S=U}F()}function UE(n){let e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?ZY:QY}function XY(n){return n.stepped?DO:n.tension||n.cubicInterpolationMode==="monotone"?IO:Bu}function JY(n,e,t,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,r)&&i.closePath()),UR(n,e.options),n.stroke(i)}function eK(n,e,t,r){let{segments:i,options:o}=e,s=UE(e);for(let a of i)UR(n,o,a.style),n.beginPath(),s(n,e,a,{start:t,end:t+r-1})&&n.closePath(),n.stroke()}var tK=typeof Path2D=="function";function nK(n,e,t,r){tK&&!e.options.segment?JY(n,e,t,r):eK(n,e,t,r)}var _1=(()=>{class n extends il{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,r){let i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){let o=i.spanGaps?this._loop:this._fullLoop;CO(this._points,i,t,o,r),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=TO(this,this.options.segment))}first(){let t=this.segments,r=this.points;return t.length&&r[t[0].start]}last(){let t=this.segments,r=this.points,i=t.length;return i&&r[t[i-1].end]}interpolate(t,r){let i=this.options,o=t[r],s=this.points,a=vE(this,{property:r,start:o,end:o});if(!a.length)return;let l=[],c=XY(i),u,d;for(u=0,d=a.length;u<d;++u){let{start:p,end:f}=a[u],b=s[p],_=s[f];if(b===_){l.push(b);continue}let C=Math.abs((o-b[r])/(_[r]-b[r])),S=c(b,_,C,i.stepped);S[r]=t[r],l.push(S)}return l.length===1?l[0]:l}pathSegment(t,r,i){return UE(this)(t,this,r,i)}path(t,r,i){let o=this.segments,s=UE(this),a=this._loop;r=r||0,i=i||this.points.length-r;for(let l of o)a&=s(t,this,l,{start:r,end:r+i-1});return!!a}draw(t,r,i,o){let s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),nK(t,this,i,o),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return n})();function iR(n,e,t,r){let i=n.options,{[t]:o}=n.getProps([t],r);return Math.abs(e-o)<i.radius+i.hitRadius}var rK=(()=>{class n extends il{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,r,i){let o=this.options,{x:s,y:a}=this.getProps(["x","y"],i);return Math.pow(t-s,2)+Math.pow(r-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(t,r){return iR(this,t,"x",r)}inYRange(t,r){return iR(this,t,"y",r)}getCenterPoint(t){let{x:r,y:i}=this.getProps(["x","y"],t);return{x:r,y:i}}size(t){t=t||this.options||{};let r=t.radius||0;r=Math.max(r,r&&t.hoverRadius||0);let i=r&&t.borderWidth||0;return(r+i)*2}draw(t,r){let i=this.options;this.skip||i.radius<.1||!Ul(this,r,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Jb(t,i,this.x,this.y))}getRange(){let t=this.options||{};return t.radius+t.hitRadius}}return n})();function HR(n,e){let{x:t,y:r,base:i,width:o,height:s}=n.getProps(["x","y","base","width","height"],e),a,l,c,u,d;return n.horizontal?(d=s/2,a=Math.min(t,i),l=Math.max(t,i),c=r-d,u=r+d):(d=o/2,a=t-d,l=t+d,c=Math.min(r,i),u=Math.max(r,i)),{left:a,top:c,right:l,bottom:u}}function Wu(n,e,t,r){return n?0:Ri(e,t,r)}function iK(n,e,t){let r=n.options.borderWidth,i=n.borderSkipped,o=aE(r);return{t:Wu(i.top,o.top,0,t),r:Wu(i.right,o.right,0,e),b:Wu(i.bottom,o.bottom,0,t),l:Wu(i.left,o.left,0,e)}}function oK(n,e,t){let{enableBorderRadius:r}=n.getProps(["enableBorderRadius"]),i=n.options.borderRadius,o=qu(i),s=Math.min(e,t),a=n.borderSkipped,l=r||Pn(i);return{topLeft:Wu(!l||a.top||a.left,o.topLeft,0,s),topRight:Wu(!l||a.top||a.right,o.topRight,0,s),bottomLeft:Wu(!l||a.bottom||a.left,o.bottomLeft,0,s),bottomRight:Wu(!l||a.bottom||a.right,o.bottomRight,0,s)}}function sK(n){let e=HR(n),t=e.right-e.left,r=e.bottom-e.top,i=iK(n,t/2,r/2),o=oK(n,t/2,r/2);return{outer:{x:e.left,y:e.top,w:t,h:r,radius:o},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function DE(n,e,t,r){let i=e===null,o=t===null,a=n&&!(i&&o)&&HR(n,r);return a&&(i||Hl(e,a.left,a.right))&&(o||Hl(t,a.top,a.bottom))}function aK(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function lK(n,e){n.rect(e.x,e.y,e.w,e.h)}function IE(n,e,t={}){let r=n.x!==t.x?-e:0,i=n.y!==t.y?-e:0,o=(n.x+n.w!==t.x+t.w?e:0)-r,s=(n.y+n.h!==t.y+t.h?e:0)-i;return{x:n.x+r,y:n.y+i,w:n.w+o,h:n.h+s,radius:n.radius}}var zE=class extends il{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){let{inflateAmount:t,options:{borderColor:r,backgroundColor:i}}=this,{inner:o,outer:s}=sK(this),a=aK(s.radius)?Xh:lK;e.save(),(s.w!==o.w||s.h!==o.h)&&(e.beginPath(),a(e,IE(s,t,o)),e.clip(),a(e,IE(o,-t,s)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),a(e,IE(o,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,r){return DE(this,e,t,r)}inXRange(e,t){return DE(this,e,null,t)}inYRange(e,t){return DE(this,null,e,t)}getCenterPoint(e){let{x:t,y:r,base:i,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(t+i)/2:t,y:o?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}},cK=Object.freeze({__proto__:null,ArcElement:VE,BarElement:zE,LineElement:_1,PointElement:rK}),HE=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],oR=HE.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function qR(n){return HE[n%HE.length]}function $R(n){return oR[n%oR.length]}function uK(n,e){return n.borderColor=qR(e),n.backgroundColor=$R(e),++e}function dK(n,e){return n.backgroundColor=n.data.map(()=>qR(e++)),e}function fK(n,e){return n.backgroundColor=n.data.map(()=>$R(e++)),e}function hK(n){let e=0;return(t,r)=>{let i=n.getDatasetMeta(r).controller;i instanceof ZE?e=dK(t,e):i instanceof NR?e=fK(t,e):i&&(e=uK(t,e))}}function sR(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}function pK(n){return n&&(n.borderColor||n.backgroundColor)}function gK(){return Ir.borderColor!=="rgba(0,0,0,0.1)"||Ir.backgroundColor!=="rgba(0,0,0,0.1)"}var mK={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,t){if(!t.enabled)return;let{data:{datasets:r},options:i}=n.config,{elements:o}=i,s=sR(r)||pK(i)||o&&sR(o)||gK();if(!t.forceOverride&&s)return;let a=hK(n);r.forEach(a)}};function vK(n,e,t,r,i){let o=i.samples||r;if(o>=t)return n.slice(e,e+t);let s=[],a=(t-2)/(o-2),l=0,c=e+t-1,u=e,d,p,f,b,_;for(s[l++]=n[u],d=0;d<o-2;d++){let C=0,S=0,A,F=Math.floor((d+1)*a)+1+e,P=Math.min(Math.floor((d+2)*a)+1,t)+e,U=P-F;for(A=F;A<P;A++)C+=n[A].x,S+=n[A].y;C/=U,S/=U;let se=Math.floor(d*a)+1+e,he=Math.min(Math.floor((d+1)*a)+1,t)+e,{x:Y,y:H}=n[u];for(f=b=-1,A=se;A<he;A++)b=.5*Math.abs((Y-C)*(n[A].y-H)-(Y-n[A].x)*(S-H)),b>f&&(f=b,p=n[A],_=A);s[l++]=p,u=_}return s[l++]=n[c],s}function yK(n,e,t,r){let i=0,o=0,s,a,l,c,u,d,p,f,b,_,C=[],S=e+t-1,A=n[e].x,P=n[S].x-A;for(s=e;s<e+t;++s){a=n[s],l=(a.x-A)/P*r,c=a.y;let U=l|0;if(U===u)c<b?(b=c,d=s):c>_&&(_=c,p=s),i=(o*i+a.x)/++o;else{let se=s-1;if(!Mn(d)&&!Mn(p)){let he=Math.min(d,p),Y=Math.max(d,p);he!==f&&he!==se&&C.push(kt(Fe({},n[he]),{x:i})),Y!==f&&Y!==se&&C.push(kt(Fe({},n[Y]),{x:i}))}s>0&&se!==f&&C.push(n[se]),C.push(a),u=U,o=0,b=_=c,d=p=f=s}}return C}function WR(n){if(n._decimated){let e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function aR(n){n.data.datasets.forEach(e=>{WR(e)})}function bK(n,e){let t=e.length,r=0,i,{iScale:o}=n,{min:s,max:a,minDefined:l,maxDefined:c}=o.getUserBounds();return l&&(r=Ri(Vl(e,o.axis,s).lo,0,t-1)),c?i=Ri(Vl(e,o.axis,a).hi+1,r,t)-r:i=t-r,{start:r,count:i}}var _K={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled){aR(n);return}let r=n.width;n.data.datasets.forEach((i,o)=>{let{_data:s,indexAxis:a}=i,l=n.getDatasetMeta(o),c=s||i.data;if(Jh([a,n.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;let u=n.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||n.options.parsing)return;let{start:d,count:p}=bK(l,c),f=t.threshold||4*r;if(p<=f){WR(i);return}Mn(s)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(_){this._data=_}}));let b;switch(t.algorithm){case"lttb":b=vK(c,d,p,r,t);break;case"min-max":b=yK(c,d,p,r);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}i._decimated=b})},destroy(n){aR(n)}};function wK(n,e,t){let r=n.segments,i=n.points,o=e.points,s=[];for(let a of r){let{start:l,end:c}=a;c=w1(l,c,i);let u=qE(t,i[l],i[c],a.loop);if(!e.segments){s.push({source:a,target:u,start:i[l],end:i[c]});continue}let d=vE(e,u);for(let p of d){let f=qE(t,o[p.start],o[p.end],p.loop),b=mE(a,i,f);for(let _ of b)s.push({source:_,target:p,start:{[t]:lR(u,f,"start",Math.max)},end:{[t]:lR(u,f,"end",Math.min)}})}}return s}function qE(n,e,t,r){if(r)return;let i=e[n],o=t[n];return n==="angle"&&(i=oo(i),o=oo(o)),{property:n,start:i,end:o}}function xK(n,e){let{x:t=null,y:r=null}=n||{},i=e.points,o=[];return e.segments.forEach(({start:s,end:a})=>{a=w1(s,a,i);let l=i[s],c=i[a];r!==null?(o.push({x:l.x,y:r}),o.push({x:c.x,y:r})):t!==null&&(o.push({x:t,y:l.y}),o.push({x:t,y:c.y}))}),o}function w1(n,e,t){for(;e>n;e--){let r=t[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function lR(n,e,t,r){return n&&e?r(n[t],e[t]):n?n[t]:e?e[t]:0}function GR(n,e){let t=[],r=!1;return Rr(n)?(r=!0,t=n):t=xK(n,e),t.length?new _1({points:t,options:{tension:0},_loop:r,_fullLoop:r}):null}function cR(n){return n&&n.fill!==!1}function CK(n,e,t){let i=n[e].fill,o=[e],s;if(!t)return i;for(;i!==!1&&o.indexOf(i)===-1;){if(!Jr(i))return i;if(s=n[i],!s)return!1;if(s.visible)return i;o.push(i),i=s.fill}return!1}function SK(n,e,t){let r=AK(n);if(Pn(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return Jr(i)&&Math.floor(i)===i?EK(r[0],e,i,t):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function EK(n,e,t,r){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=r?!1:t}function DK(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:Pn(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function IK(n,e,t){let r;return n==="start"?r=t:n==="end"?r=e.options.reverse?e.min:e.max:Pn(n)?r=n.value:r=e.getBaseValue(),r}function AK(n){let e=n.options,t=e.fill,r=rn(t&&t.target,t);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function TK(n){let{scale:e,index:t,line:r}=n,i=[],o=r.segments,s=r.points,a=MK(e,t);a.push(GR({x:null,y:e.bottom},r));for(let l=0;l<o.length;l++){let c=o[l];for(let u=c.start;u<=c.end;u++)kK(i,s[u],a)}return new _1({points:i,options:{}})}function MK(n,e){let t=[],r=n.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){let o=r[i];if(o.index===e)break;o.hidden||t.unshift(o.dataset)}return t}function kK(n,e,t){let r=[];for(let i=0;i<t.length;i++){let o=t[i],{first:s,last:a,point:l}=NK(o,e,"x");if(!(!l||s&&a)){if(s)r.unshift(l);else if(n.push(l),!a)break}}n.push(...r)}function NK(n,e,t){let r=n.interpolate(e,t);if(!r)return{};let i=r[t],o=n.segments,s=n.points,a=!1,l=!1;for(let c=0;c<o.length;c++){let u=o[c],d=s[u.start][t],p=s[u.end][t];if(Hl(i,d,p)){a=i===d,l=i===p;break}}return{first:a,last:l,point:r}}var v1=class{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,r){let{x:i,y:o,radius:s}=this;return t=t||{start:0,end:Lr},e.arc(i,o,s,t.end,t.start,!0),!r.bounds}interpolate(e){let{x:t,y:r,radius:i}=this,o=e.angle;return{x:t+Math.cos(o)*i,y:r+Math.sin(o)*i,angle:o}}};function PK(n){let{chart:e,fill:t,line:r}=n;if(Jr(t))return OK(e,t);if(t==="stack")return TK(n);if(t==="shape")return!0;let i=RK(n);return i instanceof v1?i:GR(i,r)}function OK(n,e){let t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function RK(n){return(n.scale||{}).getPointPositionForValue?FK(n):LK(n)}function LK(n){let{scale:e={},fill:t}=n,r=DK(t,e);if(Jr(r)){let i=e.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function FK(n){let{scale:e,fill:t}=n,r=e.options,i=e.getLabels().length,o=r.reverse?e.max:e.min,s=IK(t,e,o),a=[];if(r.grid.circular){let l=e.getPointPositionForValue(0,o);return new v1({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(s)})}for(let l=0;l<i;++l)a.push(e.getPointPositionForValue(l,s));return a}function AE(n,e,t){let r=PK(e),{chart:i,index:o,line:s,scale:a,axis:l}=e,c=s.options,u=c.fill,d=c.backgroundColor,{above:p=d,below:f=d}=u||{},b=i.getDatasetMeta(o),_=yE(i,b);r&&s.points.length&&(Dm(n,t),jK(n,{line:s,target:r,above:p,below:f,area:t,scale:a,axis:l,clip:_}),Im(n))}function jK(n,e){let{line:t,target:r,above:i,below:o,area:s,scale:a,clip:l}=e,c=t._loop?"angle":e.axis;n.save();let u=o;o!==i&&(c==="x"?(uR(n,r,s.top),TE(n,{line:t,target:r,color:i,scale:a,property:c,clip:l}),n.restore(),n.save(),uR(n,r,s.bottom)):c==="y"&&(dR(n,r,s.left),TE(n,{line:t,target:r,color:o,scale:a,property:c,clip:l}),n.restore(),n.save(),dR(n,r,s.right),u=i)),TE(n,{line:t,target:r,color:u,scale:a,property:c,clip:l}),n.restore()}function uR(n,e,t){let{segments:r,points:i}=e,o=!0,s=!1;n.beginPath();for(let a of r){let{start:l,end:c}=a,u=i[l],d=i[w1(l,c,i)];o?(n.moveTo(u.x,u.y),o=!1):(n.lineTo(u.x,t),n.lineTo(u.x,u.y)),s=!!e.pathSegment(n,a,{move:s}),s?n.closePath():n.lineTo(d.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function dR(n,e,t){let{segments:r,points:i}=e,o=!0,s=!1;n.beginPath();for(let a of r){let{start:l,end:c}=a,u=i[l],d=i[w1(l,c,i)];o?(n.moveTo(u.x,u.y),o=!1):(n.lineTo(t,u.y),n.lineTo(u.x,u.y)),s=!!e.pathSegment(n,a,{move:s}),s?n.closePath():n.lineTo(t,d.y)}n.lineTo(t,e.first().y),n.closePath(),n.clip()}function TE(n,e){let{line:t,target:r,property:i,color:o,scale:s,clip:a}=e,l=wK(t,r,i);for(let{source:c,target:u,start:d,end:p}of l){let{style:{backgroundColor:f=o}={}}=c,b=r!==!0;n.save(),n.fillStyle=f,BK(n,s,a,b&&qE(i,d,p)),n.beginPath();let _=!!t.pathSegment(n,c),C;if(b){_?n.closePath():fR(n,r,p,i);let S=!!r.pathSegment(n,u,{move:_,reverse:!0});C=_&&S,C||fR(n,r,d,i)}n.closePath(),n.fill(C?"evenodd":"nonzero"),n.restore()}}function BK(n,e,t,r){let i=e.chart.chartArea,{property:o,start:s,end:a}=r||{};if(o==="x"||o==="y"){let l,c,u,d;o==="x"?(l=s,c=i.top,u=a,d=i.bottom):(l=i.left,c=s,u=i.right,d=a),n.beginPath(),t&&(l=Math.max(l,t.left),u=Math.min(u,t.right),c=Math.max(c,t.top),d=Math.min(d,t.bottom)),n.rect(l,c,u-l,d-c),n.clip()}}function fR(n,e,t,r){let i=e.interpolate(t,r);i&&n.lineTo(i.x,i.y)}var VK={id:"filler",afterDatasetsUpdate(n,e,t){let r=(n.data.datasets||[]).length,i=[],o,s,a,l;for(s=0;s<r;++s)o=n.getDatasetMeta(s),a=o.dataset,l=null,a&&a.options&&a instanceof _1&&(l={visible:n.isDatasetVisible(s),index:s,fill:SK(a,s,r),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=l,i.push(l);for(s=0;s<r;++s)l=i[s],!(!l||l.fill===!1)&&(l.fill=CK(i,s,t.propagate))},beforeDraw(n,e,t){let r=t.drawTime==="beforeDraw",i=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let s=i.length-1;s>=0;--s){let a=i[s].$filler;a&&(a.line.updateControlPoints(o,a.axis),r&&a.fill&&AE(n.ctx,a,o))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;let r=n.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){let o=r[i].$filler;cR(o)&&AE(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,e,t){let r=e.meta.$filler;!cR(r)||t.drawTime!=="beforeDatasetDraw"||AE(n.ctx,r,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},hR=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},UK=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index,y1=class extends il{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let e=this.options.labels||{},t=Dr(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){let{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}let r=e.labels,i=Si(r.font),o=i.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=hR(r,o),c,u;t.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(s,o,a,l)+10):(u=this.maxHeight,c=this._fitCols(s,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,i){let{ctx:o,maxWidth:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a,d=e;o.textAlign="left",o.textBaseline="middle";let p=-1,f=-u;return this.legendItems.forEach((b,_)=>{let C=r+t/2+o.measureText(b.text).width;(_===0||c[c.length-1]+C+2*a>s)&&(d+=u,c[c.length-(_>0?0:1)]=0,f+=u,p++),l[_]={left:0,top:f,row:p,width:C,height:i},c[c.length-1]+=C+a}),d}_fitCols(e,t,r,i){let{ctx:o,maxHeight:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=s-e,d=a,p=0,f=0,b=0,_=0;return this.legendItems.forEach((C,S)=>{let{itemWidth:A,itemHeight:F}=zK(r,t,o,C,i);S>0&&f+F+2*a>u&&(d+=p+a,c.push({width:p,height:f}),b+=p+a,_++,p=f=0),l[S]={left:b,top:f,col:_,width:A,height:F},p=Math.max(p,A),f+=F+a}),d+=p,c.push({width:p,height:f}),d}adjustHitBoxes(){if(!this.options.display)return;let e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:i},rtl:o}}=this,s=_f(o,this.left,this.width);if(this.isHorizontal()){let a=0,l=so(r,this.left+i,this.right-this.lineWidths[a]);for(let c of t)a!==c.row&&(a=c.row,l=so(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=s.leftForLtr(s.x(l),c.width),l+=c.width+i}else{let a=0,l=so(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(let c of t)c.col!==a&&(a=c.col,l=so(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=s.leftForLtr(s.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let e=this.ctx;Dm(e,this),this._draw(),Im(e)}}_draw(){let{options:e,columnSizes:t,lineWidths:r,ctx:i}=this,{align:o,labels:s}=e,a=Ir.color,l=_f(e.rtl,this.left,this.width),c=Si(s.font),{padding:u}=s,d=c.size,p=d/2,f;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;let{boxWidth:b,boxHeight:_,itemHeight:C}=hR(s,d),S=function(se,he,Y){if(isNaN(b)||b<=0||isNaN(_)||_<0)return;i.save();let H=rn(Y.lineWidth,1);if(i.fillStyle=rn(Y.fillStyle,a),i.lineCap=rn(Y.lineCap,"butt"),i.lineDashOffset=rn(Y.lineDashOffset,0),i.lineJoin=rn(Y.lineJoin,"miter"),i.lineWidth=H,i.strokeStyle=rn(Y.strokeStyle,a),i.setLineDash(rn(Y.lineDash,[])),s.usePointStyle){let pe={radius:_*Math.SQRT2/2,pointStyle:Y.pointStyle,rotation:Y.rotation,borderWidth:H},O=l.xPlus(se,b/2),$=he+p;sE(i,pe,O,$,s.pointStyleWidth&&b)}else{let pe=he+Math.max((d-_)/2,0),O=l.leftForLtr(se,b),$=qu(Y.borderRadius);i.beginPath(),Object.values($).some(le=>le!==0)?Xh(i,{x:O,y:pe,w:b,h:_,radius:$}):i.rect(O,pe,b,_),i.fill(),H!==0&&i.stroke()}i.restore()},A=function(se,he,Y){Hu(i,Y.text,se,he+C/2,c,{strikethrough:Y.hidden,textAlign:l.textAlign(Y.textAlign)})},F=this.isHorizontal(),P=this._computeTitleHeight();F?f={x:so(o,this.left+u,this.right-r[0]),y:this.top+u+P,line:0}:f={x:this.left+u,y:so(o,this.top+P+u,this.bottom-t[0].height),line:0},pE(this.ctx,e.textDirection);let U=C+u;this.legendItems.forEach((se,he)=>{i.strokeStyle=se.fontColor,i.fillStyle=se.fontColor;let Y=i.measureText(se.text).width,H=l.textAlign(se.textAlign||(se.textAlign=s.textAlign)),pe=b+p+Y,O=f.x,$=f.y;l.setWidth(this.width),F?he>0&&O+pe+u>this.right&&($=f.y+=U,f.line++,O=f.x=so(o,this.left+u,this.right-r[f.line])):he>0&&$+U>this.bottom&&(O=f.x=O+t[f.line].width+u,f.line++,$=f.y=so(o,this.top+P+u,this.bottom-t[f.line].height));let le=l.x(O);if(S(le,$,se),O=hO(H,O+b+p,F?O+pe:this.right,e.rtl),A(l.x(O),$,se),F)f.x+=pe+u;else if(typeof se.text!="string"){let V=c.lineHeight;f.y+=YR(se,V)+u}else f.y+=U}),gE(this.ctx,e.textDirection)}drawTitle(){let e=this.options,t=e.title,r=Si(t.font),i=ao(t.padding);if(!t.display)return;let o=_f(e.rtl,this.left,this.width),s=this.ctx,a=t.position,l=r.size/2,c=i.top+l,u,d=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),u=this.top+c,d=so(e.align,d,this.right-p);else{let b=this.columnSizes.reduce((_,C)=>Math.max(_,C.height),0);u=c+so(e.align,this.top,this.bottom-b-e.labels.padding-this._computeTitleHeight())}let f=so(a,d,d+p);s.textAlign=o.textAlign(Zb(a)),s.textBaseline="middle",s.strokeStyle=t.color,s.fillStyle=t.color,s.font=r.string,Hu(s,t.text,f,u,r)}_computeTitleHeight(){let e=this.options.title,t=Si(e.font),r=ao(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,i,o;if(Hl(e,this.left,this.right)&&Hl(t,this.top,this.bottom)){for(o=this.legendHitBoxes,r=0;r<o.length;++r)if(i=o[r],Hl(e,i.left,i.left+i.width)&&Hl(t,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){let t=this.options;if(!$K(e.type,t))return;let r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){let i=this._hoveredItem,o=UK(i,r);i&&!o&&Dr(t.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!o&&Dr(t.onHover,[e,r,this],this)}else r&&Dr(t.onClick,[e,r,this],this)}};function zK(n,e,t,r,i){let o=HK(r,n,e,t),s=qK(i,r,e.lineHeight);return{itemWidth:o,itemHeight:s}}function HK(n,e,t,r){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((o,s)=>o.length>s.length?o:s)),e+t.size/2+r.measureText(i).width}function qK(n,e,t){let r=n;return typeof e.text!="string"&&(r=YR(e,t)),r}function YR(n,e){let t=n.text?n.text.length:0;return e*t}function $K(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var WK={id:"legend",_element:y1,start(n,e,t){let r=n.legend=new y1({ctx:n.ctx,options:t,chart:n});Co.configure(n,r,t),Co.addBox(n,r)},stop(n){Co.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){let r=n.legend;Co.configure(n,r,t),r.options=t},afterUpdate(n){let e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){let r=e.datasetIndex,i=t.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){let e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:i,color:o,useBorderRadius:s,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{let c=l.controller.getStyle(t?0:void 0),u=ao(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:o,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:s&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}},Lm=class extends il{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){let r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;let i=Rr(r.text)?r.text.length:1;this._padding=ao(r.padding);let o=i*Si(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){let e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){let{top:t,left:r,bottom:i,right:o,options:s}=this,a=s.align,l=0,c,u,d;return this.isHorizontal()?(u=so(a,r,o),d=t+e,c=o-r):(s.position==="left"?(u=r+e,d=so(a,i,t),l=Qn*-.5):(u=o-e,d=so(a,t,i),l=Qn*.5),c=i-t),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){let e=this.ctx,t=this.options;if(!t.display)return;let r=Si(t.font),o=r.lineHeight/2+this._padding.top,{titleX:s,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(o);Hu(e,t.text,0,0,r,{color:t.color,maxWidth:l,rotation:c,textAlign:Zb(t.align),textBaseline:"middle",translation:[s,a]})}};function GK(n,e){let t=new Lm({ctx:n.ctx,options:e,chart:n});Co.configure(n,t,e),Co.addBox(n,t),n.titleBlock=t}var YK={id:"title",_element:Lm,start(n,e,t){GK(n,t)},stop(n){let e=n.titleBlock;Co.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){let r=n.titleBlock;Co.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},l1=new WeakMap,KK={id:"subtitle",start(n,e,t){let r=new Lm({ctx:n.ctx,options:t,chart:n});Co.configure(n,r,t),Co.addBox(n,r),l1.set(n,r)},stop(n){Co.removeBox(n,l1.get(n)),l1.delete(n)},beforeUpdate(n,e,t){let r=l1.get(n);Co.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Om={average(n){if(!n.length)return!1;let e,t,r=new Set,i=0,o=0;for(e=0,t=n.length;e<t;++e){let a=n[e].element;if(a&&a.hasValue()){let l=a.tooltipPosition();r.add(l.x),i+=l.y,++o}}return o===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/o}},nearest(n,e){if(!n.length)return!1;let t=e.x,r=e.y,i=Number.POSITIVE_INFINITY,o,s,a;for(o=0,s=n.length;o<s;++o){let l=n[o].element;if(l&&l.hasValue()){let c=l.getCenterPoint(),u=Wb(e,c);u<i&&(i=u,a=l)}}if(a){let l=a.tooltipPosition();t=l.x,r=l.y}return{x:t,y:r}}};function ql(n,e){return e&&(Rr(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Uc(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function QK(n,e){let{element:t,datasetIndex:r,index:i}=e,o=n.getDatasetMeta(r).controller,{label:s,value:a}=o.getLabelAndValue(i);return{chart:n,label:s,parsed:o.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:a,dataset:o.getDataset(),dataIndex:i,datasetIndex:r,element:t}}function pR(n,e){let t=n.chart.ctx,{body:r,footer:i,title:o}=n,{boxWidth:s,boxHeight:a}=e,l=Si(e.bodyFont),c=Si(e.titleFont),u=Si(e.footerFont),d=o.length,p=i.length,f=r.length,b=ao(e.padding),_=b.height,C=0,S=r.reduce((P,U)=>P+U.before.length+U.lines.length+U.after.length,0);if(S+=n.beforeBody.length+n.afterBody.length,d&&(_+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),S){let P=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;_+=f*P+(S-f)*l.lineHeight+(S-1)*e.bodySpacing}p&&(_+=e.footerMarginTop+p*u.lineHeight+(p-1)*e.footerSpacing);let A=0,F=function(P){C=Math.max(C,t.measureText(P).width+A)};return t.save(),t.font=c.string,ar(n.title,F),t.font=l.string,ar(n.beforeBody.concat(n.afterBody),F),A=e.displayColors?s+2+e.boxPadding:0,ar(r,P=>{ar(P.before,F),ar(P.lines,F),ar(P.after,F)}),A=0,t.font=u.string,ar(n.footer,F),t.restore(),C+=b.width,{width:C,height:_}}function ZK(n,e){let{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}function XK(n,e,t,r){let{x:i,width:o}=r,s=t.caretSize+t.caretPadding;if(n==="left"&&i+o+s>e.width||n==="right"&&i-o-s<0)return!0}function JK(n,e,t,r){let{x:i,width:o}=t,{width:s,chartArea:{left:a,right:l}}=n,c="center";return r==="center"?c=i<=(a+l)/2?"left":"right":i<=o/2?c="left":i>=s-o/2&&(c="right"),XK(c,n,e,t)&&(c="center"),c}function gR(n,e,t){let r=t.yAlign||e.yAlign||ZK(n,t);return{xAlign:t.xAlign||e.xAlign||JK(n,e,t,r),yAlign:r}}function eQ(n,e){let{x:t,width:r}=n;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function tQ(n,e,t){let{y:r,height:i}=n;return e==="top"?r+=t:e==="bottom"?r-=i+t:r-=i/2,r}function mR(n,e,t,r){let{caretSize:i,caretPadding:o,cornerRadius:s}=n,{xAlign:a,yAlign:l}=t,c=i+o,{topLeft:u,topRight:d,bottomLeft:p,bottomRight:f}=qu(s),b=eQ(e,a),_=tQ(e,l,c);return l==="center"?a==="left"?b+=c:a==="right"&&(b-=c):a==="left"?b-=Math.max(u,p)+i:a==="right"&&(b+=Math.max(d,f)+i),{x:Ri(b,0,r.width-e.width),y:Ri(_,0,r.height-e.height)}}function c1(n,e,t){let r=ao(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-r.right:n.x+r.left}function vR(n){return ql([],Uc(n))}function nQ(n,e,t){return Bc(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function yR(n,e){let t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}var KR={beforeTitle:zl,title(n){if(n.length>0){let e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:zl,beforeBody:zl,beforeLabel:zl,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");let t=n.formattedValue;return Mn(t)||(e+=t),e},labelColor(n){let t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){let t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:zl,afterBody:zl,beforeFooter:zl,footer:zl,afterFooter:zl};function us(n,e,t,r){let i=n[e].call(t,r);return typeof i>"u"?KR[e].call(t,r):i}var bR=(()=>{class n extends il{static positioners=Om;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let t=this._cachedAnimations;if(t)return t;let r=this.chart,i=this.options.setContext(this.getContext()),o=i.enabled&&r.options.animation&&i.animations,s=new h1(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=nQ(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,r){let{callbacks:i}=r,o=us(i,"beforeTitle",this,t),s=us(i,"title",this,t),a=us(i,"afterTitle",this,t),l=[];return l=ql(l,Uc(o)),l=ql(l,Uc(s)),l=ql(l,Uc(a)),l}getBeforeBody(t,r){return vR(us(r.callbacks,"beforeBody",this,t))}getBody(t,r){let{callbacks:i}=r,o=[];return ar(t,s=>{let a={before:[],lines:[],after:[]},l=yR(i,s);ql(a.before,Uc(us(l,"beforeLabel",this,s))),ql(a.lines,us(l,"label",this,s)),ql(a.after,Uc(us(l,"afterLabel",this,s))),o.push(a)}),o}getAfterBody(t,r){return vR(us(r.callbacks,"afterBody",this,t))}getFooter(t,r){let{callbacks:i}=r,o=us(i,"beforeFooter",this,t),s=us(i,"footer",this,t),a=us(i,"afterFooter",this,t),l=[];return l=ql(l,Uc(o)),l=ql(l,Uc(s)),l=ql(l,Uc(a)),l}_createItems(t){let r=this._active,i=this.chart.data,o=[],s=[],a=[],l=[],c,u;for(c=0,u=r.length;c<u;++c)l.push(QK(this.chart,r[c]));return t.filter&&(l=l.filter((d,p,f)=>t.filter(d,p,f,i))),t.itemSort&&(l=l.sort((d,p)=>t.itemSort(d,p,i))),ar(l,d=>{let p=yR(t.callbacks,d);o.push(us(p,"labelColor",this,d)),s.push(us(p,"labelPointStyle",this,d)),a.push(us(p,"labelTextColor",this,d))}),this.labelColors=o,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=l,l}update(t,r){let i=this.options.setContext(this.getContext()),o=this._active,s,a=[];if(!o.length)this.opacity!==0&&(s={opacity:0});else{let l=Om[i.position].call(this,o,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);let c=this._size=pR(this,i),u=Object.assign({},l,c),d=gR(this.chart,i,u),p=mR(i,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,s={opacity:1,x:p.x,y:p.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(t,r,i,o){let s=this.getCaretPosition(t,i,o);r.lineTo(s.x1,s.y1),r.lineTo(s.x2,s.y2),r.lineTo(s.x3,s.y3)}getCaretPosition(t,r,i){let{xAlign:o,yAlign:s}=this,{caretSize:a,cornerRadius:l}=i,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:p}=qu(l),{x:f,y:b}=t,{width:_,height:C}=r,S,A,F,P,U,se;return s==="center"?(U=b+C/2,o==="left"?(S=f,A=S-a,P=U+a,se=U-a):(S=f+_,A=S+a,P=U-a,se=U+a),F=S):(o==="left"?A=f+Math.max(c,d)+a:o==="right"?A=f+_-Math.max(u,p)-a:A=this.caretX,s==="top"?(P=b,U=P-a,S=A-a,F=A+a):(P=b+C,U=P+a,S=A+a,F=A-a),se=P),{x1:S,x2:A,x3:F,y1:P,y2:U,y3:se}}drawTitle(t,r,i){let o=this.title,s=o.length,a,l,c;if(s){let u=_f(i.rtl,this.x,this.width);for(t.x=c1(this,i.titleAlign,i),r.textAlign=u.textAlign(i.titleAlign),r.textBaseline="middle",a=Si(i.titleFont),l=i.titleSpacing,r.fillStyle=i.titleColor,r.font=a.string,c=0;c<s;++c)r.fillText(o[c],u.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+l,c+1===s&&(t.y+=i.titleMarginBottom-l)}}_drawColorBox(t,r,i,o,s){let a=this.labelColors[i],l=this.labelPointStyles[i],{boxHeight:c,boxWidth:u}=s,d=Si(s.bodyFont),p=c1(this,"left",s),f=o.x(p),b=c<d.lineHeight?(d.lineHeight-c)/2:0,_=r.y+b;if(s.usePointStyle){let C={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},S=o.leftForLtr(f,u)+u/2,A=_+c/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,Jb(t,C,S,A),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,Jb(t,C,S,A)}else{t.lineWidth=Pn(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;let C=o.leftForLtr(f,u),S=o.leftForLtr(o.xPlus(f,1),u-2),A=qu(a.borderRadius);Object.values(A).some(F=>F!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,Xh(t,{x:C,y:_,w:u,h:c,radius:A}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),Xh(t,{x:S,y:_+1,w:u-2,h:c-2,radius:A}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(C,_,u,c),t.strokeRect(C,_,u,c),t.fillStyle=a.backgroundColor,t.fillRect(S,_+1,u-2,c-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,r,i){let{body:o}=this,{bodySpacing:s,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:d}=i,p=Si(i.bodyFont),f=p.lineHeight,b=0,_=_f(i.rtl,this.x,this.width),C=function(H){r.fillText(H,_.x(t.x+b),t.y+f/2),t.y+=f+s},S=_.textAlign(a),A,F,P,U,se,he,Y;for(r.textAlign=a,r.textBaseline="middle",r.font=p.string,t.x=c1(this,S,i),r.fillStyle=i.bodyColor,ar(this.beforeBody,C),b=l&&S!=="right"?a==="center"?u/2+d:u+2+d:0,U=0,he=o.length;U<he;++U){for(A=o[U],F=this.labelTextColors[U],r.fillStyle=F,ar(A.before,C),P=A.lines,l&&P.length&&(this._drawColorBox(r,t,U,_,i),f=Math.max(p.lineHeight,c)),se=0,Y=P.length;se<Y;++se)C(P[se]),f=p.lineHeight;ar(A.after,C)}b=0,f=p.lineHeight,ar(this.afterBody,C),t.y-=s}drawFooter(t,r,i){let o=this.footer,s=o.length,a,l;if(s){let c=_f(i.rtl,this.x,this.width);for(t.x=c1(this,i.footerAlign,i),t.y+=i.footerMarginTop,r.textAlign=c.textAlign(i.footerAlign),r.textBaseline="middle",a=Si(i.footerFont),r.fillStyle=i.footerColor,r.font=a.string,l=0;l<s;++l)r.fillText(o[l],c.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+i.footerSpacing}}drawBackground(t,r,i,o){let{xAlign:s,yAlign:a}=this,{x:l,y:c}=t,{width:u,height:d}=i,{topLeft:p,topRight:f,bottomLeft:b,bottomRight:_}=qu(o.cornerRadius);r.fillStyle=o.backgroundColor,r.strokeStyle=o.borderColor,r.lineWidth=o.borderWidth,r.beginPath(),r.moveTo(l+p,c),a==="top"&&this.drawCaret(t,r,i,o),r.lineTo(l+u-f,c),r.quadraticCurveTo(l+u,c,l+u,c+f),a==="center"&&s==="right"&&this.drawCaret(t,r,i,o),r.lineTo(l+u,c+d-_),r.quadraticCurveTo(l+u,c+d,l+u-_,c+d),a==="bottom"&&this.drawCaret(t,r,i,o),r.lineTo(l+b,c+d),r.quadraticCurveTo(l,c+d,l,c+d-b),a==="center"&&s==="left"&&this.drawCaret(t,r,i,o),r.lineTo(l,c+p),r.quadraticCurveTo(l,c,l+p,c),r.closePath(),r.fill(),o.borderWidth>0&&r.stroke()}_updateAnimationTarget(t){let r=this.chart,i=this.$animations,o=i&&i.x,s=i&&i.y;if(o||s){let a=Om[t.position].call(this,this._active,this._eventPosition);if(!a)return;let l=this._size=pR(this,t),c=Object.assign({},a,this._size),u=gR(r,t,c),d=mR(t,c,u,r);(o._to!==d.x||s._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(t){let r=this.options.setContext(this.getContext()),i=this.opacity;if(!i)return;this._updateAnimationTarget(r);let o={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;let a=ao(r.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&l&&(t.save(),t.globalAlpha=i,this.drawBackground(s,t,o,r),pE(t,r.textDirection),s.y+=a.top,this.drawTitle(s,t,r),this.drawBody(s,t,r),this.drawFooter(s,t,r),gE(t,r.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,r){let i=this._active,o=t.map(({datasetIndex:l,index:c})=>{let u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),s=!Sm(i,o),a=this._positionChanged(o,r);(s||a)&&(this._active=o,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,r,i=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let o=this.options,s=this._active||[],a=this._getActiveElements(t,s,r,i),l=this._positionChanged(a,t),c=r||!Sm(a,s)||l;return c&&(this._active=a,(o.enabled||o.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,r))),c}_getActiveElements(t,r,i,o){let s=this.options;if(t.type==="mouseout")return[];if(!o)return r.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);let a=this.chart.getElementsAtEventForMode(t,s.mode,s,i);return s.reverse&&a.reverse(),a}_positionChanged(t,r){let{caretX:i,caretY:o,options:s}=this,a=Om[s.position].call(this,t,r);return a!==!1&&(i!==a.x||o!==a.y)}}return n})(),rQ={id:"tooltip",_element:bR,positioners:Om,afterInit(n,e,t){t&&(n.tooltip=new bR({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){let e=n.tooltip;if(e&&e._willRender()){let t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",kt(Fe({},t),{cancelable:!0}))===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){let t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:KR},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},iQ=Object.freeze({__proto__:null,Colors:mK,Decimation:_K,Filler:VK,Legend:WK,SubTitle:KK,Title:YK,Tooltip:rQ}),oQ=(n,e,t,r)=>(typeof e=="string"?(t=n.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function sQ(n,e,t,r){let i=n.indexOf(e);if(i===-1)return oQ(n,e,t,r);let o=n.lastIndexOf(e);return i!==o?t:i}var aQ=(n,e)=>n===null?null:Ri(Math.round(n),0,e);function _R(n){let e=this.getLabels();return n>=0&&n<e.length?e[n]:n}var lQ=(()=>{class n extends Cf{static id="category";static defaults={ticks:{callback:_R}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){let r=this._addedLabels;if(r.length){let i=this.getLabels();for(let{index:o,label:s}of r)i[o]===s&&i.splice(o,1);this._addedLabels=[]}super.init(t)}parse(t,r){if(Mn(t))return null;let i=this.getLabels();return r=isFinite(r)&&i[r]===t?r:sQ(i,t,rn(r,t),this._addedLabels),aQ(r,i.length-1)}determineDataLimits(){let{minDefined:t,maxDefined:r}=this.getUserBounds(),{min:i,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),r||(o=this.getLabels().length-1)),this.min=i,this.max=o}buildTicks(){let t=this.min,r=this.max,i=this.options.offset,o=[],s=this.getLabels();s=t===0&&r===s.length-1?s:s.slice(t,r+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=t;a<=r;a++)o.push({value:a});return o}getLabelForValue(t){return _R.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){let r=this.ticks;return t<0||t>r.length-1?null:this.getPixelForValue(r[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}return n})();function cQ(n,e){let t=[],{bounds:i,step:o,min:s,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:p}=n,f=o||1,b=u-1,{min:_,max:C}=e,S=!Mn(s),A=!Mn(a),F=!Mn(c),P=(C-_)/(d+1),U=GS((C-_)/b/f)*f,se,he,Y,H;if(U<1e-14&&!S&&!A)return[{value:_},{value:C}];H=Math.ceil(C/U)-Math.floor(_/U),H>b&&(U=GS(H*U/b/f)*f),Mn(l)||(se=Math.pow(10,l),U=Math.ceil(U*se)/se),i==="ticks"?(he=Math.floor(_/U)*U,Y=Math.ceil(C/U)*U):(he=_,Y=C),S&&A&&o&&sO((a-s)/o,U/1e3)?(H=Math.round(Math.min((a-s)/U,u)),U=(a-s)/H,he=s,Y=a):F?(he=S?s:he,Y=A?a:Y,H=c-1,U=(Y-he)/H):(H=(Y-he)/U,Kh(H,Math.round(H),U/1e3)?H=Math.round(H):H=Math.ceil(H));let pe=Math.max(KS(U),KS(he));se=Math.pow(10,Mn(l)?pe:l),he=Math.round(he*se)/se,Y=Math.round(Y*se)/se;let O=0;for(S&&(p&&he!==s?(t.push({value:s}),he<s&&O++,Kh(Math.round((he+O*U)*se)/se,s,wR(s,P,n))&&O++):he<s&&O++);O<H;++O){let $=Math.round((he+O*U)*se)/se;if(A&&$>a)break;t.push({value:$})}return A&&p&&Y!==a?t.length&&Kh(t[t.length-1].value,a,wR(a,P,n))?t[t.length-1].value=a:t.push({value:a}):(!A||Y===a)&&t.push({value:Y}),t}function wR(n,e,{horizontal:t,minRotation:r}){let i=ba(r),o=(t?Math.sin(i):Math.cos(i))||.001,s=.75*e*(""+n).length;return Math.min(e/o,s)}var np=class extends Cf{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Mn(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){let{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds(),{min:i,max:o}=this,s=l=>i=t?i:l,a=l=>o=r?o:l;if(e){let l=rl(i),c=rl(o);l<0&&c<0?a(0):l>0&&c>0&&s(0)}if(i===o){let l=o===0?1:Math.abs(o*.05);a(o+l),e||s(i-l)}this.min=i,this.max=o}getTickLimit(){let e=this.options.ticks,{maxTicksLimit:t,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let e=this.options,t=e.ticks,r=this.getTickLimit();r=Math.max(2,r);let i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},o=this._range||this,s=cQ(i,o);return e.bounds==="ticks"&&YS(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){let e=this.ticks,t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){let i=(r-t)/Math.max(e.length-1,1)/2;t-=i,r+=i}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return Zh(e,this.chart.options.locale,this.options.ticks.format)}},$E=class extends np{static id="linear";static defaults={ticks:{callback:Em.formatters.numeric}};determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=Jr(e)?e:0,this.max=Jr(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){let e=this.isHorizontal(),t=e?this.width:this.height,r=ba(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,o.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}},Fm=n=>Math.floor(Fc(n)),xf=(n,e)=>Math.pow(10,Fm(n)+e);function xR(n){return n/Math.pow(10,Fm(n))===1}function CR(n,e,t){let r=Math.pow(10,t),i=Math.floor(n/r);return Math.ceil(e/r)-i}function uQ(n,e){let t=e-n,r=Fm(t);for(;CR(n,e,r)>10;)r++;for(;CR(n,e,r)<10;)r--;return Math.min(r,Fm(n))}function dQ(n,{min:e,max:t}){e=cs(n.min,e);let r=[],i=Fm(e),o=uQ(e,t),s=o<0?Math.pow(10,Math.abs(o)):1,a=Math.pow(10,o),l=i>o?Math.pow(10,i):0,c=Math.round((e-l)*s)/s,u=Math.floor((e-l)/a/10)*a*10,d=Math.floor((c-u)/Math.pow(10,o)),p=cs(n.min,Math.round((l+u+d*Math.pow(10,o))*s)/s);for(;p<t;)r.push({value:p,major:xR(p),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(o++,d=2,s=o>=0?1:s),p=Math.round((l+u+d*Math.pow(10,o))*s)/s;let f=cs(n.max,p);return r.push({value:f,major:xR(f),significand:d}),r}var WE=class extends Cf{static id="logarithmic";static defaults={ticks:{callback:Em.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){let r=np.prototype.parse.apply(this,[e,t]);if(r===0){this._zero=!0;return}return Jr(r)&&r>0?r:null}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=Jr(e)?Math.max(0,e):null,this.max=Jr(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Jr(this._userMin)&&(this.min=e===xf(this.min,0)?xf(this.min,-1):xf(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:e,maxDefined:t}=this.getUserBounds(),r=this.min,i=this.max,o=a=>r=e?r:a,s=a=>i=t?i:a;r===i&&(r<=0?(o(1),s(10)):(o(xf(r,-1)),s(xf(i,1)))),r<=0&&o(xf(i,-1)),i<=0&&s(xf(r,1)),this.min=r,this.max=i}buildTicks(){let e=this.options,t={min:this._userMin,max:this._userMax},r=dQ(t,this);return e.bounds==="ticks"&&YS(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":Zh(e,this.chart.options.locale,this.options.ticks.format)}configure(){let e=this.min;super.configure(),this._startValue=Fc(e),this._valueRange=Fc(this.max)-Fc(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Fc(e)-this._startValue)/this._valueRange)}getValueForPixel(e){let t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}};function GE(n){let e=n.ticks;if(e.display&&n.display){let t=ao(e.backdropPadding);return rn(e.font&&e.font.size,Ir.font.size)+t.height}return 0}function fQ(n,e,t){return t=Rr(t)?t:[t],{w:gO(n,e.string,t),h:t.length*e.lineHeight}}function SR(n,e,t,r,i){return n===r||n===i?{start:e-t/2,end:e+t/2}:n<r||n>i?{start:e-t,end:e}:{start:e,end:e+t}}function hQ(n){let e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),r=[],i=[],o=n._pointLabels.length,s=n.options.pointLabels,a=s.centerPointLabels?Qn/o:0;for(let l=0;l<o;l++){let c=s.setContext(n.getPointLabelContext(l));i[l]=c.padding;let u=n.getPointPosition(l,n.drawingArea+i[l],a),d=Si(c.font),p=fQ(n.ctx,d,n._pointLabels[l]);r[l]=p;let f=oo(n.getIndexAngle(l)+a),b=Math.round(Kb(f)),_=SR(b,u.x,p.w,0,180),C=SR(b,u.y,p.h,90,270);pQ(t,e,f,_,C)}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=vQ(n,r,i)}function pQ(n,e,t,r,i){let o=Math.abs(Math.sin(t)),s=Math.abs(Math.cos(t)),a=0,l=0;r.start<e.l?(a=(e.l-r.start)/o,n.l=Math.min(n.l,e.l-a)):r.end>e.r&&(a=(r.end-e.r)/o,n.r=Math.max(n.r,e.r+a)),i.start<e.t?(l=(e.t-i.start)/s,n.t=Math.min(n.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/s,n.b=Math.max(n.b,e.b+l))}function gQ(n,e,t){let r=n.drawingArea,{extra:i,additionalAngle:o,padding:s,size:a}=t,l=n.getPointPosition(e,r+i+s,o),c=Math.round(Kb(oo(l.angle+si))),u=_Q(l.y,a.h,c),d=yQ(c),p=bQ(l.x,a.w,d);return{visible:!0,x:l.x,y:u,textAlign:d,left:p,top:u,right:p+a.w,bottom:u+a.h}}function mQ(n,e){if(!e)return!0;let{left:t,top:r,right:i,bottom:o}=n;return!(Ul({x:t,y:r},e)||Ul({x:t,y:o},e)||Ul({x:i,y:r},e)||Ul({x:i,y:o},e))}function vQ(n,e,t){let r=[],i=n._pointLabels.length,o=n.options,{centerPointLabels:s,display:a}=o.pointLabels,l={extra:GE(o)/2,additionalAngle:s?Qn/i:0},c;for(let u=0;u<i;u++){l.padding=t[u],l.size=e[u];let d=gQ(n,u,l);r.push(d),a==="auto"&&(d.visible=mQ(d,c),d.visible&&(c=d))}return r}function yQ(n){return n===0||n===180?"center":n<180?"left":"right"}function bQ(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function _Q(n,e,t){return t===90||t===270?n-=e/2:(t>270||t<90)&&(n-=e),n}function wQ(n,e,t){let{left:r,top:i,right:o,bottom:s}=t,{backdropColor:a}=e;if(!Mn(a)){let l=qu(e.borderRadius),c=ao(e.backdropPadding);n.fillStyle=a;let u=r-c.left,d=i-c.top,p=o-r+c.width,f=s-i+c.height;Object.values(l).some(b=>b!==0)?(n.beginPath(),Xh(n,{x:u,y:d,w:p,h:f,radius:l}),n.fill()):n.fillRect(u,d,p,f)}}function xQ(n,e){let{ctx:t,options:{pointLabels:r}}=n;for(let i=e-1;i>=0;i--){let o=n._pointLabelItems[i];if(!o.visible)continue;let s=r.setContext(n.getPointLabelContext(i));wQ(t,s,o);let a=Si(s.font),{x:l,y:c,textAlign:u}=o;Hu(t,n._pointLabels[i],l,c+a.lineHeight/2,a,{color:s.color,textAlign:u,textBaseline:"middle"})}}function QR(n,e,t,r){let{ctx:i}=n;if(t)i.arc(n.xCenter,n.yCenter,e,0,Lr);else{let o=n.getPointPosition(0,e);i.moveTo(o.x,o.y);for(let s=1;s<r;s++)o=n.getPointPosition(s,e),i.lineTo(o.x,o.y)}}function CQ(n,e,t,r,i){let o=n.ctx,s=e.circular,{color:a,lineWidth:l}=e;!s&&!r||!a||!l||t<0||(o.save(),o.strokeStyle=a,o.lineWidth=l,o.setLineDash(i.dash||[]),o.lineDashOffset=i.dashOffset,o.beginPath(),QR(n,t,s,r),o.closePath(),o.stroke(),o.restore())}function SQ(n,e,t){return Bc(n,{label:t,index:e,type:"pointLabel"})}var YE=class extends np{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Em.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let e=this._padding=ao(GE(this.options)/2),t=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(t,r)/2)}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!1);this.min=Jr(e)&&!isNaN(e)?e:0,this.max=Jr(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/GE(this.options))}generateTickLabels(e){np.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,r)=>{let i=Dr(this.options.pointLabels.callback,[t,r],this);return i||i===0?i:""}).filter((t,r)=>this.chart.getDataVisibility(r))}fit(){let e=this.options;e.display&&e.pointLabels.display?hQ(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,r,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,r,i))}getIndexAngle(e){let t=Lr/(this._pointLabels.length||1),r=this.options.startAngle||0;return oo(e*t+ba(r))}getDistanceFromCenterForValue(e){if(Mn(e))return NaN;let t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Mn(e))return NaN;let t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){let t=this._pointLabels||[];if(e>=0&&e<t.length){let r=t[e];return SQ(this.getContext(),e,r)}}getPointPosition(e,t,r=0){let i=this.getIndexAngle(e)-si+r;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){let{left:t,top:r,right:i,bottom:o}=this._pointLabelItems[e];return{left:t,top:r,right:i,bottom:o}}drawBackground(){let{backgroundColor:e,grid:{circular:t}}=this.options;if(e){let r=this.ctx;r.save(),r.beginPath(),QR(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){let e=this.ctx,t=this.options,{angleLines:r,grid:i,border:o}=t,s=this._pointLabels.length,a,l,c;if(t.pointLabels.display&&xQ(this,s),i.display&&this.ticks.forEach((u,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);let p=this.getContext(d),f=i.setContext(p),b=o.setContext(p);CQ(this,f,l,s,b)}}),r.display){for(e.save(),a=s-1;a>=0;a--){let u=r.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:p}=u;!p||!d||(e.lineWidth=p,e.strokeStyle=d,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){let e=this.ctx,t=this.options,r=t.ticks;if(!r.display)return;let i=this.getIndexAngle(0),o,s;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!t.reverse)return;let c=r.setContext(this.getContext(l)),u=Si(c.font);if(o=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,s=e.measureText(a.label).width,e.fillStyle=c.backdropColor;let d=ao(c.backdropPadding);e.fillRect(-s/2-d.left,-o-u.size/2-d.top,s+d.width,u.size+d.height)}Hu(e,a.label,0,-o,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}},x1={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ds=Object.keys(x1);function ER(n,e){return n-e}function DR(n,e){if(Mn(e))return null;let t=n._adapter,{parser:r,round:i,isoWeekday:o}=n._parseOpts,s=e;return typeof r=="function"&&(s=r(s)),Jr(s)||(s=typeof r=="string"?t.parse(s,r):t.parse(s)),s===null?null:(i&&(s=i==="week"&&(bf(o)||o===!0)?t.startOf(s,"isoWeek",o):t.startOf(s,i)),+s)}function IR(n,e,t,r){let i=ds.length;for(let o=ds.indexOf(n);o<i-1;++o){let s=x1[ds[o]],a=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((t-e)/(a*s.size))<=r)return ds[o]}return ds[i-1]}function EQ(n,e,t,r,i){for(let o=ds.length-1;o>=ds.indexOf(t);o--){let s=ds[o];if(x1[s].common&&n._adapter.diff(i,r,s)>=e-1)return s}return ds[t?ds.indexOf(t):0]}function DQ(n){for(let e=ds.indexOf(n)+1,t=ds.length;e<t;++e)if(x1[ds[e]].common)return ds[e]}function AR(n,e,t){if(!t)n[e]=!0;else if(t.length){let{lo:r,hi:i}=Qb(t,e),o=t[r]>=e?t[r]:t[i];n[o]=!0}}function IQ(n,e,t,r){let i=n._adapter,o=+i.startOf(e[0].value,r),s=e[e.length-1].value,a,l;for(a=o;a<=s;a=+i.add(a,1,r))l=t[a],l>=0&&(e[l].major=!0);return e}function TR(n,e,t){let r=[],i={},o=e.length,s,a;for(s=0;s<o;++s)a=e[s],i[a]=s,r.push({value:a,major:!1});return o===0||!t?r:IQ(n,r,i,t)}var KE=(()=>{class n extends Cf{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,r={}){let i=t.time||(t.time={}),o=this._adapter=new jG._date(t.adapters.date);o.init(r),Gh(i.displayFormats,o.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=r.normalized}parse(t,r){return t===void 0?null:DR(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let t=this.options,r=this._adapter,i=t.time.unit||"day",{min:o,max:s,minDefined:a,maxDefined:l}=this.getUserBounds();function c(u){!a&&!isNaN(u.min)&&(o=Math.min(o,u.min)),!l&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!a||!l)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),o=Jr(o)&&!isNaN(o)?o:+r.startOf(Date.now(),i),s=Jr(s)&&!isNaN(s)?s:+r.endOf(Date.now(),i)+1,this.min=Math.min(o,s-1),this.max=Math.max(o+1,s)}_getLabelBounds(){let t=this.getLabelTimestamps(),r=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(r=t[0],i=t[t.length-1]),{min:r,max:i}}buildTicks(){let t=this.options,r=t.time,i=t.ticks,o=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);let s=this.min,a=this.max,l=cO(o,s,a);return this._unit=r.unit||(i.autoSkip?IR(r.minUnit,this.min,this.max,this._getLabelCapacity(s)):EQ(this,l.length,r.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:DQ(this._unit),this.initOffsets(o),t.reverse&&l.reverse(),TR(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let r=0,i=0,o,s;this.options.offset&&t.length&&(o=this.getDecimalForValue(t[0]),t.length===1?r=1-o:r=(this.getDecimalForValue(t[1])-o)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?i=s:i=(s-this.getDecimalForValue(t[t.length-2]))/2);let a=t.length<3?.5:.25;r=Ri(r,0,a),i=Ri(i,0,a),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){let t=this._adapter,r=this.min,i=this.max,o=this.options,s=o.time,a=s.unit||IR(s.minUnit,r,i,this._getLabelCapacity(r)),l=rn(o.ticks.stepSize,1),c=a==="week"?s.isoWeekday:!1,u=bf(c)||c===!0,d={},p=r,f,b;if(u&&(p=+t.startOf(p,"isoWeek",c)),p=+t.startOf(p,u?"day":a),t.diff(i,r,a)>1e5*l)throw new Error(r+" and "+i+" are too far apart with stepSize of "+l+" "+a);let _=o.ticks.source==="data"&&this.getDataTimestamps();for(f=p,b=0;f<i;f=+t.add(f,l,a),b++)AR(d,f,_);return(f===i||o.bounds==="ticks"||b===1)&&AR(d,f,_),Object.keys(d).sort(ER).map(C=>+C)}getLabelForValue(t){let r=this._adapter,i=this.options.time;return i.tooltipFormat?r.format(t,i.tooltipFormat):r.format(t,i.displayFormats.datetime)}format(t,r){let o=this.options.time.displayFormats,s=this._unit,a=r||o[s];return this._adapter.format(t,a)}_tickFormatFunction(t,r,i,o){let s=this.options,a=s.ticks.callback;if(a)return Dr(a,[t,r,i],this);let l=s.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&l[c],p=u&&l[u],f=i[r],b=u&&p&&f&&f.major;return this._adapter.format(t,o||(b?p:d))}generateTickLabels(t){let r,i,o;for(r=0,i=t.length;r<i;++r)o=t[r],o.label=this._tickFormatFunction(o.value,r,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){let r=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((r.start+i)*r.factor)}getValueForPixel(t){let r=this._offsets,i=this.getDecimalForPixel(t)/r.factor-r.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){let r=this.options.ticks,i=this.ctx.measureText(t).width,o=ba(this.isHorizontal()?r.maxRotation:r.minRotation),s=Math.cos(o),a=Math.sin(o),l=this._resolveTickFontOptions(0).size;return{w:i*s+l*a,h:i*a+l*s}}_getLabelCapacity(t){let r=this.options.time,i=r.displayFormats,o=i[r.unit]||i.millisecond,s=this._tickFormatFunction(t,0,TR(this,[t],this._majorUnit),o),a=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],r,i;if(t.length)return t;let o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(r=0,i=o.length;r<i;++r)t=t.concat(o[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){let t=this._cache.labels||[],r,i;if(t.length)return t;let o=this.getLabels();for(r=0,i=o.length;r<i;++r)t.push(DR(this,o[r]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return XS(t.sort(ER))}}return n})();function u1(n,e,t){let r=0,i=n.length-1,o,s,a,l;t?(e>=n[r].pos&&e<=n[i].pos&&({lo:r,hi:i}=Vl(n,"pos",e)),{pos:o,time:a}=n[r],{pos:s,time:l}=n[i]):(e>=n[r].time&&e<=n[i].time&&({lo:r,hi:i}=Vl(n,"time",e)),{time:o,pos:a}=n[r],{time:s,pos:l}=n[i]);let c=s-o;return c?a+(l-a)*(e-o)/c:a}var QE=class extends KE{static id="timeseries";static defaults=KE.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=u1(t,this.min),this._tableRange=u1(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){let{min:t,max:r}=this,i=[],o=[],s,a,l,c,u;for(s=0,a=e.length;s<a;++s)c=e[s],c>=t&&c<=r&&i.push(c);if(i.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(s=0,a=i.length;s<a;++s)u=i[s+1],l=i[s-1],c=i[s],Math.round((u+l)/2)!==c&&o.push({time:c,pos:s/(a-1)});return o}_generate(){let e=this.min,t=this.max,r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((i,o)=>i-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;let t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(u1(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){let t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return u1(this._table,r*this._tableRange+this._minPos,!0)}},AQ=Object.freeze({__proto__:null,CategoryScale:lQ,LinearScale:$E,LogarithmicScale:WE,RadialLinearScale:YE,TimeScale:KE,TimeSeriesScale:QE}),ZR=[FG,cK,iQ,AQ];var TQ=typeof global=="object"&&global&&global.Object===Object&&global,C1=TQ;var MQ=typeof self=="object"&&self&&self.Object===Object&&self,kQ=C1||MQ||Function("return this")(),_a=kQ;var NQ=_a.Symbol,rp=NQ;var XR=Object.prototype,PQ=XR.hasOwnProperty,OQ=XR.toString,Bm=rp?rp.toStringTag:void 0;function RQ(n){var e=PQ.call(n,Bm),t=n[Bm];try{n[Bm]=void 0;var r=!0}catch(o){}var i=OQ.call(n);return r&&(e?n[Bm]=t:delete n[Bm]),i}var JR=RQ;var LQ=Object.prototype,FQ=LQ.toString;function jQ(n){return FQ.call(n)}var eL=jQ;var BQ="[object Null]",VQ="[object Undefined]",tL=rp?rp.toStringTag:void 0;function UQ(n){return n==null?n===void 0?VQ:BQ:tL&&tL in Object(n)?JR(n):eL(n)}var Yu=UQ;function zQ(n){return n!=null&&typeof n=="object"}var Wl=zQ;var HQ=Array.isArray,Vm=HQ;function qQ(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var fs=qQ;function $Q(n){return n}var S1=$Q;var WQ="[object AsyncFunction]",GQ="[object Function]",YQ="[object GeneratorFunction]",KQ="[object Proxy]";function QQ(n){if(!fs(n))return!1;var e=Yu(n);return e==GQ||e==YQ||e==WQ||e==KQ}var ip=QQ;var ZQ=_a["__core-js_shared__"],E1=ZQ;var nL=(function(){var n=/[^.]+$/.exec(E1&&E1.keys&&E1.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function XQ(n){return!!nL&&nL in n}var rL=XQ;var JQ=Function.prototype,eZ=JQ.toString;function tZ(n){if(n!=null){try{return eZ.call(n)}catch(e){}try{return n+""}catch(e){}}return""}var iL=tZ;var nZ=/[\\^$.*+?()[\]{}|]/g,rZ=/^\[object .+?Constructor\]$/,iZ=Function.prototype,oZ=Object.prototype,sZ=iZ.toString,aZ=oZ.hasOwnProperty,lZ=RegExp("^"+sZ.call(aZ).replace(nZ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function cZ(n){if(!fs(n)||rL(n))return!1;var e=ip(n)?lZ:rZ;return e.test(iL(n))}var oL=cZ;function uZ(n,e){return n?.[e]}var sL=uZ;function dZ(n,e){var t=sL(n,e);return oL(t)?t:void 0}var op=dZ;var aL=Object.create,fZ=(function(){function n(){}return function(e){if(!fs(e))return{};if(aL)return aL(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}})(),lL=fZ;function hZ(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}var cL=hZ;function pZ(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var uL=pZ;var gZ=800,mZ=16,vZ=Date.now;function yZ(n){var e=0,t=0;return function(){var r=vZ(),i=mZ-(r-t);if(t=r,i>0){if(++e>=gZ)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}var dL=yZ;function bZ(n){return function(){return n}}var fL=bZ;var _Z=(function(){try{var n=op(Object,"defineProperty");return n({},"",{}),n}catch(e){}})(),sp=_Z;var wZ=sp?function(n,e){return sp(n,"toString",{configurable:!0,enumerable:!1,value:fL(e),writable:!0})}:S1,hL=wZ;var xZ=dL(hL),pL=xZ;var CZ=9007199254740991,SZ=/^(?:0|[1-9]\d*)$/;function EZ(n,e){var t=typeof n;return e=e??CZ,!!e&&(t=="number"||t!="symbol"&&SZ.test(n))&&n>-1&&n%1==0&&n<e}var D1=EZ;function DZ(n,e,t){e=="__proto__"&&sp?sp(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}var ap=DZ;function IZ(n,e){return n===e||n!==n&&e!==e}var Ku=IZ;var AZ=Object.prototype,TZ=AZ.hasOwnProperty;function MZ(n,e,t){var r=n[e];(!(TZ.call(n,e)&&Ku(r,t))||t===void 0&&!(e in n))&&ap(n,e,t)}var gL=MZ;function kZ(n,e,t,r){var i=!t;t||(t={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=r?r(t[a],n[a],a,t,n):void 0;l===void 0&&(l=n[a]),i?ap(t,a,l):gL(t,a,l)}return t}var mL=kZ;var vL=Math.max;function NZ(n,e,t){return e=vL(e===void 0?n.length-1:e,0),function(){for(var r=arguments,i=-1,o=vL(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=t(s),cL(n,this,a)}}var yL=NZ;function PZ(n,e){return pL(yL(n,e,S1),n+"")}var bL=PZ;var OZ=9007199254740991;function RZ(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=OZ}var I1=RZ;function LZ(n){return n!=null&&I1(n.length)&&!ip(n)}var lp=LZ;function FZ(n,e,t){if(!fs(t))return!1;var r=typeof e;return(r=="number"?lp(t)&&D1(e,t.length):r=="string"&&e in t)?Ku(t[e],n):!1}var _L=FZ;function jZ(n){return bL(function(e,t){var r=-1,i=t.length,o=i>1?t[i-1]:void 0,s=i>2?t[2]:void 0;for(o=n.length>3&&typeof o=="function"?(i--,o):void 0,s&&_L(t[0],t[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var a=t[r];a&&n(e,a,r,o)}return e})}var wL=jZ;var BZ=Object.prototype;function VZ(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||BZ;return n===t}var A1=VZ;function UZ(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var xL=UZ;var zZ="[object Arguments]";function HZ(n){return Wl(n)&&Yu(n)==zZ}var XE=HZ;var CL=Object.prototype,qZ=CL.hasOwnProperty,$Z=CL.propertyIsEnumerable,WZ=XE((function(){return arguments})())?XE:function(n){return Wl(n)&&qZ.call(n,"callee")&&!$Z.call(n,"callee")},Um=WZ;function GZ(){return!1}var SL=GZ;var IL=typeof exports=="object"&&exports&&!exports.nodeType&&exports,EL=IL&&typeof module=="object"&&module&&!module.nodeType&&module,YZ=EL&&EL.exports===IL,DL=YZ?_a.Buffer:void 0,KZ=DL?DL.isBuffer:void 0,QZ=KZ||SL,T1=QZ;var ZZ="[object Arguments]",XZ="[object Array]",JZ="[object Boolean]",eX="[object Date]",tX="[object Error]",nX="[object Function]",rX="[object Map]",iX="[object Number]",oX="[object Object]",sX="[object RegExp]",aX="[object Set]",lX="[object String]",cX="[object WeakMap]",uX="[object ArrayBuffer]",dX="[object DataView]",fX="[object Float32Array]",hX="[object Float64Array]",pX="[object Int8Array]",gX="[object Int16Array]",mX="[object Int32Array]",vX="[object Uint8Array]",yX="[object Uint8ClampedArray]",bX="[object Uint16Array]",_X="[object Uint32Array]",Ur={};Ur[fX]=Ur[hX]=Ur[pX]=Ur[gX]=Ur[mX]=Ur[vX]=Ur[yX]=Ur[bX]=Ur[_X]=!0;Ur[ZZ]=Ur[XZ]=Ur[uX]=Ur[JZ]=Ur[dX]=Ur[eX]=Ur[tX]=Ur[nX]=Ur[rX]=Ur[iX]=Ur[oX]=Ur[sX]=Ur[aX]=Ur[lX]=Ur[cX]=!1;function wX(n){return Wl(n)&&I1(n.length)&&!!Ur[Yu(n)]}var AL=wX;function xX(n){return function(e){return n(e)}}var TL=xX;var ML=typeof exports=="object"&&exports&&!exports.nodeType&&exports,zm=ML&&typeof module=="object"&&module&&!module.nodeType&&module,CX=zm&&zm.exports===ML,JE=CX&&C1.process,SX=(function(){try{var n=zm&&zm.require&&zm.require("util").types;return n||JE&&JE.binding&&JE.binding("util")}catch(e){}})(),eD=SX;var kL=eD&&eD.isTypedArray,EX=kL?TL(kL):AL,M1=EX;var DX=Object.prototype,IX=DX.hasOwnProperty;function AX(n,e){var t=Vm(n),r=!t&&Um(n),i=!t&&!r&&T1(n),o=!t&&!r&&!i&&M1(n),s=t||r||i||o,a=s?xL(n.length,String):[],l=a.length;for(var c in n)(e||IX.call(n,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||D1(c,l)))&&a.push(c);return a}var NL=AX;function TX(n,e){return function(t){return n(e(t))}}var PL=TX;function MX(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var OL=MX;var kX=Object.prototype,NX=kX.hasOwnProperty;function PX(n){if(!fs(n))return OL(n);var e=A1(n),t=[];for(var r in n)r=="constructor"&&(e||!NX.call(n,r))||t.push(r);return t}var RL=PX;function OX(n){return lp(n)?NL(n,!0):RL(n)}var k1=OX;var RX=op(Object,"create"),zc=RX;function LX(){this.__data__=zc?zc(null):{},this.size=0}var LL=LX;function FX(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var FL=FX;var jX="__lodash_hash_undefined__",BX=Object.prototype,VX=BX.hasOwnProperty;function UX(n){var e=this.__data__;if(zc){var t=e[n];return t===jX?void 0:t}return VX.call(e,n)?e[n]:void 0}var jL=UX;var zX=Object.prototype,HX=zX.hasOwnProperty;function qX(n){var e=this.__data__;return zc?e[n]!==void 0:HX.call(e,n)}var BL=qX;var $X="__lodash_hash_undefined__";function WX(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=zc&&e===void 0?$X:e,this}var VL=WX;function cp(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}cp.prototype.clear=LL;cp.prototype.delete=FL;cp.prototype.get=jL;cp.prototype.has=BL;cp.prototype.set=VL;var tD=cp;function GX(){this.__data__=[],this.size=0}var UL=GX;function YX(n,e){for(var t=n.length;t--;)if(Ku(n[t][0],e))return t;return-1}var Qu=YX;var KX=Array.prototype,QX=KX.splice;function ZX(n){var e=this.__data__,t=Qu(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():QX.call(e,t,1),--this.size,!0}var zL=ZX;function XX(n){var e=this.__data__,t=Qu(e,n);return t<0?void 0:e[t][1]}var HL=XX;function JX(n){return Qu(this.__data__,n)>-1}var qL=JX;function eJ(n,e){var t=this.__data__,r=Qu(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}var $L=eJ;function up(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}up.prototype.clear=UL;up.prototype.delete=zL;up.prototype.get=HL;up.prototype.has=qL;up.prototype.set=$L;var Zu=up;var tJ=op(_a,"Map"),N1=tJ;function nJ(){this.size=0,this.__data__={hash:new tD,map:new(N1||Zu),string:new tD}}var WL=nJ;function rJ(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}var GL=rJ;function iJ(n,e){var t=n.__data__;return GL(e)?t[typeof e=="string"?"string":"hash"]:t.map}var Xu=iJ;function oJ(n){var e=Xu(this,n).delete(n);return this.size-=e?1:0,e}var YL=oJ;function sJ(n){return Xu(this,n).get(n)}var KL=sJ;function aJ(n){return Xu(this,n).has(n)}var QL=aJ;function lJ(n,e){var t=Xu(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}var ZL=lJ;function dp(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}dp.prototype.clear=WL;dp.prototype.delete=YL;dp.prototype.get=KL;dp.prototype.has=QL;dp.prototype.set=ZL;var XL=dp;var cJ=PL(Object.getPrototypeOf,Object),P1=cJ;var uJ="[object Object]",dJ=Function.prototype,fJ=Object.prototype,JL=dJ.toString,hJ=fJ.hasOwnProperty,pJ=JL.call(Object);function gJ(n){if(!Wl(n)||Yu(n)!=uJ)return!1;var e=P1(n);if(e===null)return!0;var t=hJ.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&JL.call(t)==pJ}var e3=gJ;function mJ(){this.__data__=new Zu,this.size=0}var t3=mJ;function vJ(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}var n3=vJ;function yJ(n){return this.__data__.get(n)}var r3=yJ;function bJ(n){return this.__data__.has(n)}var i3=bJ;var _J=200;function wJ(n,e){var t=this.__data__;if(t instanceof Zu){var r=t.__data__;if(!N1||r.length<_J-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new XL(r)}return t.set(n,e),this.size=t.size,this}var o3=wJ;function fp(n){var e=this.__data__=new Zu(n);this.size=e.size}fp.prototype.clear=t3;fp.prototype.delete=n3;fp.prototype.get=r3;fp.prototype.has=i3;fp.prototype.set=o3;var s3=fp;var u3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,a3=u3&&typeof module=="object"&&module&&!module.nodeType&&module,xJ=a3&&a3.exports===u3,l3=xJ?_a.Buffer:void 0,c3=l3?l3.allocUnsafe:void 0;function CJ(n,e){if(e)return n.slice();var t=n.length,r=c3?c3(t):new n.constructor(t);return n.copy(r),r}var d3=CJ;var SJ=_a.Uint8Array,nD=SJ;function EJ(n){var e=new n.constructor(n.byteLength);return new nD(e).set(new nD(n)),e}var f3=EJ;function DJ(n,e){var t=e?f3(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var h3=DJ;function IJ(n){return typeof n.constructor=="function"&&!A1(n)?lL(P1(n)):{}}var p3=IJ;function AJ(n){return function(e,t,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[n?a:++i];if(t(o[l],l,o)===!1)break}return e}}var g3=AJ;var TJ=g3(),m3=TJ;function MJ(n,e,t){(t!==void 0&&!Ku(n[e],t)||t===void 0&&!(e in n))&&ap(n,e,t)}var Hm=MJ;function kJ(n){return Wl(n)&&lp(n)}var v3=kJ;function NJ(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}var qm=NJ;function PJ(n){return mL(n,k1(n))}var y3=PJ;function OJ(n,e,t,r,i,o,s){var a=qm(n,t),l=qm(e,t),c=s.get(l);if(c){Hm(n,t,c);return}var u=o?o(a,l,t+"",n,e,s):void 0,d=u===void 0;if(d){var p=Vm(l),f=!p&&T1(l),b=!p&&!f&&M1(l);u=l,p||f||b?Vm(a)?u=a:v3(a)?u=uL(a):f?(d=!1,u=d3(l,!0)):b?(d=!1,u=h3(l,!0)):u=[]:e3(l)||Um(l)?(u=a,Um(a)?u=y3(a):(!fs(a)||ip(a))&&(u=p3(l))):d=!1}d&&(s.set(l,u),i(u,l,r,o,s),s.delete(l)),Hm(n,t,u)}var b3=OJ;function _3(n,e,t,r,i){n!==e&&m3(e,function(o,s){if(i||(i=new s3),fs(o))b3(n,e,s,t,_3,r,i);else{var a=r?r(qm(n,s),o,s+"",n,e,i):void 0;a===void 0&&(a=o),Hm(n,s,a)}},k1)}var w3=_3;var RJ=wL(function(n,e,t){w3(n,e,t)}),O1=RJ;var x3=new Ct("Configuration for ngCharts");function C3(...n){return{registerables:[...ZR,...n]}}function S3(...n){let e=O1({},...n);return{provide:x3,useValue:e}}var LJ=(()=>{class n{constructor(){this.colorschemesOptions=new Rn(void 0)}setColorschemesOptions(t){this.pColorschemesOptions=t,this.colorschemesOptions.next(t)}getColorschemesOptions(){return this.pColorschemesOptions}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),E3=(()=>{class n{constructor(t,r,i,o){this.zone=r,this.themeService=i,this.type="bar",this.plugins=[],this.chartClick=new Zr,this.chartHover=new Zr,this.subs=[],this.themeOverrides={},o?.registerables&&b1.register(...o.registerables),o?.defaults&&Ir.set(o.defaults),this.ctx=t.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe(ix()).subscribe(s=>this.themeChanged(s)))}ngOnChanges(t){let r=["type"],i=Object.getOwnPropertyNames(t);if(i.some(o=>r.includes(o))||i.every(o=>t[o].isFirstChange()))this.render();else{let o=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,o.data),this.chart.config.plugins&&Object.assign(this.chart.config.plugins,o.plugins),this.chart.config.options&&Object.assign(this.chart.config.options,o.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(t=>t.unsubscribe())}render(){return this.chart&&this.chart.destroy(),this.zone.runOutsideAngular(()=>this.chart=new b1(this.ctx,this.getChartConfiguration()))}update(t){this.chart&&this.zone.runOutsideAngular(()=>this.chart?.update(t))}hideDataset(t,r){this.chart&&(this.chart.getDatasetMeta(t).hidden=r,this.update())}isDatasetHidden(t){return this.chart?.getDatasetMeta(t)?.hidden}toBase64Image(){return this.chart?.toBase64Image()}themeChanged(t){this.themeOverrides=t,this.chart&&(this.chart.config.options&&Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return O1({onHover:(t,r)=>{!this.chartHover.observed&&!this.chartHover.observers?.length||this.zone.run(()=>this.chartHover.emit({event:t,active:r}))},onClick:(t,r)=>{!this.chartClick.observed&&!this.chartClick.observers?.length||this.zone.run(()=>this.chartClick.emit({event:t,active:r}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),options:this.getChartOptions(),plugins:this.plugins}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}static{this.\u0275fac=function(r){return new(r||n)(lt(Hi),lt(Pr),lt(LJ),lt(x3,8))}}static{this.\u0275dir=Er({type:n,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],features:[Us]})}}return n})();var R3=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(lt(ha),lt(Hi))};static \u0275dir=Er({type:n})}return n})(),mp=(()=>{class n extends R3{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Qa(n)))(i||n)}})();static \u0275dir=Er({type:n,features:[Hs]})}return n})(),Ef=new Ct(""),FJ={provide:Ef,useExisting:js(()=>Km),multi:!0},Km=(()=>{class n extends mp{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Qa(n)))(i||n)}})();static \u0275dir=Er({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&tt("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Rl([FJ]),Hs]})}return n})(),jJ={provide:Ef,useExisting:js(()=>hs),multi:!0};function BJ(){let n=pa()?pa().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var VJ=new Ct(""),hs=(()=>{class n extends R3{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!BJ())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(lt(ha),lt(Hi),lt(VJ,8))};static \u0275dir=Er({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&tt("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Rl([jJ]),Hs]})}return n})();var L3=new Ct(""),UJ=new Ct("");function zJ(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function D3(n){return null}function F3(n){return n!=null}function j3(n){return Mc(n)?Nr(n):n}function B3(n){let e={};return n.forEach(t=>{e=t!=null?Fe(Fe({},e),t):e}),Object.keys(e).length===0?null:e}function V3(n,e){return e.map(t=>t(n))}function HJ(n){return!n.validate}function U3(n){return n.map(e=>HJ(e)?e:t=>e.validate(t))}function qJ(n){if(!n)return null;let e=n.filter(F3);return e.length==0?null:function(t){return B3(V3(t,e))}}function z3(n){return n!=null?qJ(U3(n)):null}function $J(n){if(!n)return null;let e=n.filter(F3);return e.length==0?null:function(t){let r=V3(t,e).map(j3);return nx(r).pipe(Nn(B3))}}function H3(n){return n!=null?$J(U3(n)):null}function I3(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function WJ(n){return n._rawValidators}function GJ(n){return n._rawAsyncValidators}function rD(n){return n?Array.isArray(n)?n:[n]:[]}function L1(n,e){return Array.isArray(n)?n.includes(e):n===e}function A3(n,e){let t=rD(e);return rD(n).forEach(i=>{L1(t,i)||t.push(i)}),t}function T3(n,e){return rD(e).filter(t=>!L1(n,t))}var F1=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=z3(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=H3(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},iD=class extends F1{name;get formDirective(){return null}get path(){return null}},gp=class extends F1{_parent=null;name=null;valueAccessor=null},oD=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var ps=(()=>{class n extends oD{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(lt(gp,2))};static \u0275dir=Er({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&wr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Hs]})}return n})();var $m="VALID",R1="INVALID",hp="PENDING",Wm="DISABLED",Sf=class{},j1=class extends Sf{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Gm=class extends Sf{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Ym=class extends Sf{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},pp=class extends Sf{status;source;constructor(e,t){super(),this.status=e,this.source=t}};var sD=class extends Sf{source;constructor(e){super(),this.source=e}};function YJ(n){return(B1(n)?n.validators:n)||null}function KJ(n){return Array.isArray(n)?z3(n):n||null}function QJ(n,e){return(B1(e)?e.asyncValidators:n)||null}function ZJ(n){return Array.isArray(n)?H3(n):n||null}function B1(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}var aD=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return ii(this.statusReactive)}set status(e){ii(()=>this.statusReactive.set(e))}_status=tf(()=>this.statusReactive());statusReactive=Ga(void 0);get valid(){return this.status===$m}get invalid(){return this.status===R1}get pending(){return this.status==hp}get disabled(){return this.status===Wm}get enabled(){return this.status!==Wm}errors;get pristine(){return ii(this.pristineReactive)}set pristine(e){ii(()=>this.pristineReactive.set(e))}_pristine=tf(()=>this.pristineReactive());pristineReactive=Ga(!0);get dirty(){return!this.pristine}get touched(){return ii(this.touchedReactive)}set touched(e){ii(()=>this.touchedReactive.set(e))}_touched=tf(()=>this.touchedReactive());touchedReactive=Ga(!1);get untouched(){return!this.touched}_events=new $r;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(A3(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(A3(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(T3(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(T3(e,this._rawAsyncValidators))}hasValidator(e){return L1(this._rawValidators,e)}hasAsyncValidator(e){return L1(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(kt(Fe({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Ym(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Ym(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(kt(Fe({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Gm(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Gm(!0,r))}markAsPending(e={}){this.status=hp;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new pp(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(kt(Fe({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Wm,this.errors=null,this._forEachChild(i=>{i.disable(kt(Fe({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new j1(this.value,r)),this._events.next(new pp(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(kt(Fe({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=$m,this._forEachChild(r=>{r.enable(kt(Fe({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(kt(Fe({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$m||this.status===hp)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new j1(this.value,t)),this._events.next(new pp(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(kt(Fe({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wm:$m}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=hp,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=j3(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new pp(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Zr,this.statusChanges=new Zr}_calculateStatus(){return this._allControlsDisabled()?Wm:this.errors?R1:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hp)?hp:this._anyControlsHaveStatus(R1)?R1:$m}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Gm(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Ym(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){B1(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=KJ(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=ZJ(this._rawAsyncValidators)}};var lD=new Ct("",{factory:()=>V1}),V1="always";function XJ(n,e){return[...e.path,n]}function JJ(n,e,t=V1){tee(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),nee(n,e),iee(n,e),ree(n,e),eee(n,e)}function M3(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function eee(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function tee(n,e){let t=WJ(n);e.validator!==null?n.setValidators(I3(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=GJ(n);e.asyncValidator!==null?n.setAsyncValidators(I3(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();M3(e._rawValidators,i),M3(e._rawAsyncValidators,i)}function nee(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&q3(n,e)})}function ree(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&q3(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function q3(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function iee(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function oee(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function see(n){return Object.getPrototypeOf(n.constructor)===mp}function aee(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===hs?t=o:see(o)?r=o:i=o}),i||r||t||null}function k3(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function N3(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var lee=class extends aD{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(YJ(t),QJ(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),B1(t)&&(t.nonNullable||t.initialValueIsDefault)&&(N3(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),t.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new sD(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){k3(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){k3(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){N3(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var cee={provide:gp,useExisting:js(()=>Ho)},P3=Promise.resolve(),Ho=(()=>{class n extends gp{_changeDetectorRef;callSetDisabledState;control=new lee;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Zr;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=aee(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),oee(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){JJ(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){P3.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&nf(r);P3.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?XJ(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(lt(iD,9),lt(L3,10),lt(UJ,10),lt(Ef,10),lt(Ll,8),lt(lD,8))};static \u0275dir=Er({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Rl([cee]),Hs,Us]})}return n})();var uee={provide:Ef,useExisting:js(()=>Hc),multi:!0},Hc=(()=>{class n extends mp{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Qa(n)))(i||n)}})();static \u0275dir=Er({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&tt("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Rl([uee]),Hs]})}return n})(),dee={provide:Ef,useExisting:js(()=>cD),multi:!0};var fee=(()=>{class n{_accessors=[];add(t,r){this._accessors.push([t,r])}remove(t){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===t){this._accessors.splice(r,1);return}}select(t){this._accessors.forEach(r=>{this._isSameGroup(r,t)&&r[1]!==t&&r[1].fireUncheck(t.value)})}_isSameGroup(t,r){return t[0].control?t[0]._parent===r._control._parent&&t[1].name===r.name:!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cD=(()=>{class n extends mp{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=Ye(lD,{optional:!0})??V1;constructor(t,r,i,o){super(t,r),this._registry=i,this._injector=o}ngOnInit(){this._control=this._injector.get(gp),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(r){return new(r||n)(lt(ha),lt(Hi),lt(fee),lt(no))};static \u0275dir=Er({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){r&1&&tt("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[Rl([dee]),Hs]})}return n})();var hee={provide:Ef,useExisting:js(()=>gs),multi:!0};function $3(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function pee(n){return n.split(":")[0]}var gs=(()=>{class n extends mp{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=Ye(is).injector;destroyRef=Ye(Wa);cdr=Ye(Ll);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Eh({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),i=$3(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=pee(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Qa(n)))(i||n)}})();static \u0275dir=Er({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&tt("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Rl([hee]),Hs]})}return n})(),wa=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue($3(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||n)(lt(Hi),lt(ha),lt(gs,9))};static \u0275dir=Er({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),gee={provide:Ef,useExisting:js(()=>W3),multi:!0};function O3(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function mee(n){return n.split(":")[0]}var W3=(()=>{class n extends mp{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);i.push(c)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=mee(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Qa(n)))(i||n)}})();static \u0275dir=Er({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&tt("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Rl([gee]),Hs]})}return n})(),xa=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(O3(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(O3(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(lt(Hi),lt(ha),lt(W3,9))};static \u0275dir=Er({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function vee(n){return typeof n=="number"?n:parseFloat(n)}var yee=(()=>{class n{_validator=D3;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):D3,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Er({type:n,features:[Us]})}return n})();var bee={provide:L3,useExisting:js(()=>uD),multi:!0},uD=(()=>{class n extends yee{min;inputName="min";normalizeInput=t=>vee(t);createValidator=t=>zJ(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=Qa(n)))(i||n)}})();static \u0275dir=Er({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Ah("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[Rl([bee]),Hs]})}return n})();var _ee=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Za({type:n});static \u0275inj=aa({})}return n})();var ms=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:lD,useValue:t.callSetDisabledState??V1}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Za({type:n});static \u0275inj=aa({imports:[_ee]})}return n})();var U1=kw(G3(),1),Y3=Symbol.for("Dexie"),z1=globalThis[Y3]||(globalThis[Y3]=U1.default);if(U1.default.semVer!==z1.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${U1.default.semVer} and ${z1.semVer}`);var{liveQuery:Ks,mergeRanges:CIe,rangesOverlap:SIe,RangeSet:EIe,cmp:DIe,Entity:IIe,PropModification:AIe,replacePrefix:TIe,add:MIe,remove:kIe,DexieYProvider:NIe}=z1;var K3=z1;var So=class n extends K3{incomes;people;quotas;quotaPayments;quotaTemplates;expenses;settings;conceptMappings;constructor(){super("BoteDB"),this.version(1).stores({incomes:"++id, date, person",expenses:"++id, date, concept",settings:"key"}),this.version(2).stores({people:"++id, name, active"}),this.version(3).stores({quotas:"++id, personId, [personId+year+month]"}),this.version(4).stores({incomes:"++id, date, person, personId"}),this.version(5).stores({incomes:"++id, date, personId"}),this.version(6).stores({people:"++id, name, quotaTemplateId",quotaTemplates:"++id, name"}),this.version(7).stores({quotaPayments:"++id, incomeId, quotaId"}),this.version(8).stores({conceptMappings:"rawConcept"})}clearDatabase(){return L(this,null,function*(){yield this.transaction("rw",[this.incomes,this.expenses,this.people,this.quotas,this.settings,this.quotaTemplates,this.quotaPayments,this.conceptMappings],()=>L(this,null,function*(){yield this.incomes.clear(),yield this.expenses.clear(),yield this.people.clear(),yield this.quotas.clear(),yield this.settings.clear(),yield this.quotaTemplates.clear(),yield this.quotaPayments.clear(),yield this.conceptMappings.clear()}))})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ju=class n{constructor(e){this.db=e}getIncomes(){return Ks(()=>this.db.incomes.orderBy("date").reverse().toArray())}addIncome(e){return L(this,null,function*(){return yield this.db.incomes.add(e)})}updateIncome(e,t){return L(this,null,function*(){return yield this.db.incomes.update(e,t)})}deleteIncome(e){return L(this,null,function*(){return yield this.db.incomes.delete(e)})}getTotalIncome(){return L(this,null,function*(){return(yield this.db.incomes.toArray()).reduce((t,r)=>t+r.amount,0)})}addIncomeWithQuotaPayments(e,t){return L(this,null,function*(){return yield this.db.transaction("rw",this.db.incomes,this.db.quotaPayments,this.db.quotas,()=>L(this,null,function*(){let r=yield this.db.incomes.add(e);return t&&t.length>0&&(yield this.distributePayment(r,e.amount,t)),r}))})}updateIncomeWithQuotaPayments(e,t,r){return L(this,null,function*(){return yield this.db.transaction("rw",this.db.incomes,this.db.quotaPayments,this.db.quotas,()=>L(this,null,function*(){yield this.db.incomes.update(e,t),yield this.db.quotaPayments.where("incomeId").equals(e).delete(),r&&r.length>0&&(yield this.distributePayment(e,t.amount,r))}))})}deleteIncomeAndPayments(e){return L(this,null,function*(){return yield this.db.transaction("rw",this.db.incomes,this.db.quotaPayments,()=>L(this,null,function*(){yield this.db.quotaPayments.where("incomeId").equals(e).delete(),yield this.db.incomes.delete(e)}))})}distributePayment(e,t,r){return L(this,null,function*(){let i=t,o=yield this.db.quotas.where("id").anyOf(r).toArray(),s=new Map(o.map(a=>[a.id,a]));for(let a=0;a<r.length;a++){let l=r[a],c=s.get(l);if(!c)continue;let u=a===r.length-1,p=(yield this.db.quotaPayments.where("quotaId").equals(l).toArray()).reduce((_,C)=>_+C.amount,0),f=Math.max(0,c.amount-p),b=0;u?b=i:b=Math.min(f,i),(b>0||u)&&(yield this.db.quotaPayments.add({incomeId:e,quotaId:l,amount:parseFloat(b.toFixed(2))}),i-=b),i=Math.max(0,i)}})}static \u0275fac=function(t){return new(t||n)(xt(So))};static \u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"root"})};var ed=class n{constructor(e){this.db=e}getTemplates(){return Nr(Ks(()=>this.db.quotaTemplates.toArray()))}getTemplateById(e){return this.db.quotaTemplates.get(e)}addTemplate(e){return L(this,null,function*(){return yield this.db.quotaTemplates.add(e)})}updateTemplate(e,t){return L(this,null,function*(){return yield this.db.quotaTemplates.update(e,t)})}deleteTemplate(e){return L(this,null,function*(){return yield this.db.people.where("quotaTemplateId").equals(e).modify({quotaTemplateId:void 0}),yield this.db.quotaTemplates.delete(e)})}applyAllTemplatesToYear(e){return L(this,null,function*(){let t=yield this.db.people.filter(o=>o.active!==!1&&o.quotaTemplateId!=null).toArray(),r=yield this.db.quotaTemplates.toArray(),i=new Map;r.forEach(o=>i.set(o.id,o)),yield this.db.transaction("rw",this.db.quotas,this.db.quotaPayments,()=>L(this,null,function*(){for(let o of t){if(!o.quotaTemplateId)continue;let s=i.get(o.quotaTemplateId);if(s)for(let a=0;a<12;a++){let l=s.monthlyAmounts[a],c=yield this.db.quotas.where({personId:o.id,year:e,month:a}).first();if(c){if(c.custom||(yield this.isQuotaPaid(c.id)))continue;yield this.db.quotas.update(c.id,{amount:l})}else yield this.db.quotas.add({personId:o.id,year:e,month:a,amount:l})}}}))})}isQuotaPaid(e){return L(this,null,function*(){return(yield this.db.quotaPayments.where("quotaId").equals(e).count())>0})}static \u0275fac=function(t){return new(t||n)(xt(So))};static \u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ca=class n{constructor(e,t){this.db=e;this.quotaTemplateService=t}applyTemplateToPerson(e,t,r){return L(this,null,function*(){let i=yield this.quotaTemplateService.getTemplateById(t);if(i)for(let o=0;o<12;o++){let s=i.monthlyAmounts[o],a=yield this.db.quotas.where("[personId+year+month]").equals([e,r,o]).first();if(a){if(a.custom||(yield this.isQuotaPaid(a.id)))continue;yield this.db.quotas.update(a.id,{amount:s,custom:!1})}else yield this.db.quotas.add({personId:e,year:r,month:o,amount:s,custom:!1})}})}removeTemplateFromPerson(e,t){return L(this,null,function*(){let r=yield this.db.quotas.where("[personId+year+month]").between([e,t,0],[e,t,11],!0,!0).toArray();for(let i of r)i.custom||(yield this.isQuotaPaid(i.id))||(yield this.db.quotas.delete(i.id))})}isQuotaPaid(e){return L(this,null,function*(){return(yield this.db.quotaPayments.where("quotaId").equals(e).count())>0})}getQuotasByPersonAndYear(e,t){return Ks(()=>this.db.quotas.where("[personId+year+month]").between([e,t,0],[e,t,11],!0,!0).toArray())}getAllQuotas(){return Ks(()=>this.db.quotas.toArray())}saveQuotas(e){return L(this,null,function*(){return yield this.db.transaction("rw",this.db.quotas,()=>L(this,null,function*(){for(let t of e){let r=yield this.db.quotas.where("[personId+year+month]").equals([t.personId,t.year,t.month]).first();r?yield this.db.quotas.update(r.id,{amount:t.amount,custom:t.custom}):yield this.db.quotas.add(t)}}))})}getPendingQuotas(e){return L(this,null,function*(){e=e*1;let t=yield this.db.quotas.where("personId").equals(e).toArray();if(t.length===0)return[];let r=t.map(o=>o.id),i=yield this.db.quotaPayments.where("quotaId").anyOf(r).toArray();return t.map(o=>{let s=i.filter(a=>a.quotaId===o.id).reduce((a,l)=>a+l.amount,0);return kt(Fe({},o),{paid:s,pending:o.amount-s})}).filter(o=>o.pending>.001)})}getPaymentsForIncome(e){return L(this,null,function*(){return yield this.db.quotaPayments.where("incomeId").equals(e).toArray()})}getQuotasByIds(e){return L(this,null,function*(){return yield this.db.quotas.where("id").anyOf(e).toArray()})}getAllPayments(){return Ks(()=>this.db.quotaPayments.toArray())}static \u0275fac=function(t){return new(t||n)(xt(So),xt(ed))};static \u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"root"})};var Sa=class n{constructor(e,t){this.db=e;this.quotaService=t}getPeople(){return Ks(()=>L(this,null,function*(){return(yield this.db.people.toArray()).sort((t,r)=>t.name.localeCompare(r.name))}))}getActivePeople(){return Ks(()=>L(this,null,function*(){return(yield this.db.people.toArray()).filter(t=>t.active!==!1).sort((t,r)=>t.name.localeCompare(r.name))}))}addPerson(e,t){return L(this,null,function*(){let r=yield this.db.people.add({name:e.trim(),quotaTemplateId:t||void 0,active:!0});if(typeof r=="number"&&t){let i=new Date().getFullYear();yield this.quotaService.applyTemplateToPerson(r,t,i)}return r})}updatePerson(e,t,r){return L(this,null,function*(){let i={name:t.trim()},o=!1,a=(yield this.db.people.get(e))?.quotaTemplateId;if(r!==void 0){let c=r||void 0;i.quotaTemplateId=c,c!==a&&(o=!0)}let l=yield this.db.people.update(e,i);if(o&&r!==void 0){let c=new Date().getFullYear();r?yield this.quotaService.applyTemplateToPerson(e,r,c):yield this.quotaService.removeTemplateFromPerson(e,c)}return l})}softDelete(e){return L(this,null,function*(){return yield this.db.people.update(e,{active:!1})})}reactivate(e){return L(this,null,function*(){return yield this.db.people.update(e,{active:!0})})}deletePermanently(e){return L(this,null,function*(){return yield this.db.people.delete(e)})}static \u0275fac=function(t){return new(t||n)(xt(So),xt(Ca))};static \u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"root"})};var ol=Uint8Array,Qs=Uint16Array,bD=Int32Array,_D=new ol([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),wD=new ol([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Q3=new ol([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),eF=function(n,e){for(var t=new Qs(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new bD(t[30]),r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)i[o]=o-t[r]<<5|r;return{b:t,r:i}},tF=eF(_D,2),wee=tF.b,mD=tF.r;wee[28]=258,mD[258]=28;var nF=eF(wD,0),GIe=nF.b,Z3=nF.r,vD=new Qs(32768);for(rr=0;rr<32768;++rr)qc=(rr&43690)>>1|(rr&21845)<<1,qc=(qc&52428)>>2|(qc&13107)<<2,qc=(qc&61680)>>4|(qc&3855)<<4,vD[rr]=((qc&65280)>>8|(qc&255)<<8)>>1;var qc,rr,e0=function(n,e,t){for(var r=n.length,i=0,o=new Qs(e);i<r;++i)n[i]&&++o[n[i]-1];var s=new Qs(e);for(i=1;i<e;++i)s[i]=s[i-1]+o[i-1]<<1;var a;if(t){a=new Qs(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var c=i<<4|n[i],u=e-n[i],d=s[n[i]-1]++<<u,p=d|(1<<u)-1;d<=p;++d)a[vD[d]>>l]=c}else for(a=new Qs(r),i=0;i<r;++i)n[i]&&(a[i]=vD[s[n[i]-1]++]>>15-n[i]);return a},Af=new ol(288);for(rr=0;rr<144;++rr)Af[rr]=8;var rr;for(rr=144;rr<256;++rr)Af[rr]=9;var rr;for(rr=256;rr<280;++rr)Af[rr]=7;var rr;for(rr=280;rr<288;++rr)Af[rr]=8;var rr,H1=new ol(32);for(rr=0;rr<32;++rr)H1[rr]=5;var rr,xee=e0(Af,9,0);var Cee=e0(H1,5,0);var rF=function(n){return(n+7)/8|0},See=function(n,e,t){return(e==null||e<0)&&(e=0),(t==null||t>n.length)&&(t=n.length),new ol(n.subarray(e,t))};var $c=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},Xm=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},gD=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,o=t.slice();if(!i)return{t:oF,l:0};if(i==1){var s=new ol(t[0].s+1);return s[t[0].s]=1,{t:s,l:1}}t.sort(function(U,se){return U.f-se.f}),t.push({s:-1,f:25001});var a=t[0],l=t[1],c=0,u=1,d=2;for(t[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=t[t[c].f<t[d].f?c++:d++],l=t[c!=u&&t[c].f<t[d].f?c++:d++],t[u++]={s:-1,f:a.f+l.f,l:a,r:l};for(var p=o[0].s,r=1;r<i;++r)o[r].s>p&&(p=o[r].s);var f=new Qs(p+1),b=yD(t[u-1],f,0);if(b>e){var r=0,_=0,C=b-e,S=1<<C;for(o.sort(function(se,he){return f[he.s]-f[se.s]||se.f-he.f});r<i;++r){var A=o[r].s;if(f[A]>e)_+=S-(1<<b-f[A]),f[A]=e;else break}for(_>>=C;_>0;){var F=o[r].s;f[F]<e?_-=1<<e-f[F]++-1:++r}for(;r>=0&&_;--r){var P=o[r].s;f[P]==e&&(--f[P],++_)}b=e}return{t:new ol(f),l:b}},yD=function(n,e,t){return n.s==-1?Math.max(yD(n.l,e,t+1),yD(n.r,e,t+1)):e[n.s]=t},X3=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Qs(++e),r=0,i=n[0],o=1,s=function(l){t[r++]=l},a=1;a<=e;++a)if(n[a]==i&&a!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=n[a]}return{c:t.subarray(0,r),n:e}},Jm=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},iF=function(n,e,t){var r=t.length,i=rF(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var o=0;o<r;++o)n[i+o+4]=t[o];return(i+4+r)*8},J3=function(n,e,t,r,i,o,s,a,l,c,u){$c(e,u++,t),++i[256];for(var d=gD(i,15),p=d.t,f=d.l,b=gD(o,15),_=b.t,C=b.l,S=X3(p),A=S.c,F=S.n,P=X3(_),U=P.c,se=P.n,he=new Qs(19),Y=0;Y<A.length;++Y)++he[A[Y]&31];for(var Y=0;Y<U.length;++Y)++he[U[Y]&31];for(var H=gD(he,7),pe=H.t,O=H.l,$=19;$>4&&!pe[Q3[$-1]];--$);var le=c+5<<3,V=Jm(i,Af)+Jm(o,H1)+s,Q=Jm(i,p)+Jm(o,_)+s+14+3*$+Jm(he,pe)+2*he[16]+3*he[17]+7*he[18];if(l>=0&&le<=V&&le<=Q)return iF(e,u,n.subarray(l,l+c));var xe,oe,Z,ie;if($c(e,u,1+(Q<V)),u+=2,Q<V){xe=e0(p,f,0),oe=p,Z=e0(_,C,0),ie=_;var Me=e0(pe,O,0);$c(e,u,F-257),$c(e,u+5,se-1),$c(e,u+10,$-4),u+=14;for(var Y=0;Y<$;++Y)$c(e,u+3*Y,pe[Q3[Y]]);u+=3*$;for(var Ee=[A,U],k=0;k<2;++k)for(var W=Ee[k],Y=0;Y<W.length;++Y){var X=W[Y]&31;$c(e,u,Me[X]),u+=pe[X],X>15&&($c(e,u,W[Y]>>5&127),u+=W[Y]>>12)}}else xe=xee,oe=Af,Z=Cee,ie=H1;for(var Y=0;Y<a;++Y){var de=r[Y];if(de>255){var X=de>>18&31;Xm(e,u,xe[X+257]),u+=oe[X+257],X>7&&($c(e,u,de>>23&31),u+=_D[X]);var ve=de&31;Xm(e,u,Z[ve]),u+=ie[ve],ve>3&&(Xm(e,u,de>>5&8191),u+=wD[ve])}else Xm(e,u,xe[de]),u+=oe[de]}return Xm(e,u,xe[256]),u+oe[256]},Eee=new bD([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),oF=new ol(0),Dee=function(n,e,t,r,i,o){var s=o.z||n.length,a=new ol(r+s+5*(1+Math.ceil(s/7e3))+i),l=a.subarray(r,a.length-i),c=o.l,u=(o.r||0)&7;if(e){u&&(l[0]=o.r>>3);for(var d=Eee[e-1],p=d>>13,f=d&8191,b=(1<<t)-1,_=o.p||new Qs(32768),C=o.h||new Qs(b+1),S=Math.ceil(t/3),A=2*S,F=function(Lt){return(n[Lt]^n[Lt+1]<<S^n[Lt+2]<<A)&b},P=new bD(25e3),U=new Qs(288),se=new Qs(32),he=0,Y=0,H=o.i||0,pe=0,O=o.w||0,$=0;H+2<s;++H){var le=F(H),V=H&32767,Q=C[le];if(_[V]=Q,C[le]=V,O<=H){var xe=s-H;if((he>7e3||pe>24576)&&(xe>423||!c)){u=J3(n,l,0,P,U,se,Y,pe,$,H-$,u),pe=he=Y=0,$=H;for(var oe=0;oe<286;++oe)U[oe]=0;for(var oe=0;oe<30;++oe)se[oe]=0}var Z=2,ie=0,Me=f,Ee=V-Q&32767;if(xe>2&&le==F(H-Ee))for(var k=Math.min(p,xe)-1,W=Math.min(32767,H),X=Math.min(258,xe);Ee<=W&&--Me&&V!=Q;){if(n[H+Z]==n[H+Z-Ee]){for(var de=0;de<X&&n[H+de]==n[H+de-Ee];++de);if(de>Z){if(Z=de,ie=Ee,de>k)break;for(var ve=Math.min(Ee,de-2),ue=0,oe=0;oe<ve;++oe){var je=H-Ee+oe&32767,Be=_[je],Re=je-Be&32767;Re>ue&&(ue=Re,Q=je)}}}V=Q,Q=_[V],Ee+=V-Q&32767}if(ie){P[pe++]=268435456|mD[Z]<<18|Z3[ie];var Je=mD[Z]&31,vt=Z3[ie]&31;Y+=_D[Je]+wD[vt],++U[257+Je],++se[vt],O=H+Z,++he}else P[pe++]=n[H],++U[n[H]]}}for(H=Math.max(H,O);H<s;++H)P[pe++]=n[H],++U[n[H]];u=J3(n,l,c,P,U,se,Y,pe,$,H-$,u),c||(o.r=u&7|l[u/8|0]<<3,u-=7,o.h=C,o.p=_,o.i=H,o.w=O)}else{for(var H=o.w||0;H<s+c;H+=65535){var ht=H+65535;ht>=s&&(l[u/8|0]=c,ht=s),u=iF(l,u+1,n.subarray(H,ht))}o.i=s}return See(a,0,r+rF(u)+i)};var sF=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,o=t.length|0,s=0;s!=o;){for(var a=Math.min(s+2655,o);s<a;++s)i+=r+=t[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},Iee=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),s=new ol(o.length+n.length);s.set(o),s.set(n,o.length),n=s,i.w=o.length}return Dee(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)};var aF=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8};var Aee=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=sF();i.p(e.dictionary),aF(n,2,i.d())}};function q1(n,e){e||(e={});var t=sF();t.p(n);var r=Iee(n,e,e.dictionary?6:2,4);return Aee(r,e),aF(r,r.length-4,t.d()),r}var Tee=typeof TextDecoder<"u"&&new TextDecoder,Mee=0;try{Tee.decode(oF,{stream:!0}),Mee=1}catch(n){}function lF(n){if(Array.isArray(n))return n}function cF(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function xD(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function uF(n,e){if(n){if(typeof n=="string")return xD(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?xD(n,e):void 0}}function dF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CD(n,e){return lF(n)||cF(n,e)||uF(n,e)||dF()}function SD(n,e="utf8"){return new TextDecoder(e).decode(n)}var kee=new TextEncoder;function fF(n){return kee.encode(n)}var Nee=1024*8,Pee=(()=>{let n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),ED={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array},t0=class n{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=Nee,t={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);let i=t.offset?t.offset>>>0:0,o=e.byteLength-i,s=i;(ArrayBuffer.isView(e)||e instanceof n)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){let e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){let r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){let r=ED[t].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,o=this.buffer.slice(i,i+r);if(this.littleEndian===Pee&&t!=="uint8"&&t!=="int8"){let a=new Uint8Array(this.buffer.slice(i,i+r));a.reverse();let l=new ED[t](a.buffer);return this.offset+=r,l.reverse(),l}let s=new ED[t](o);return this.offset+=r,s}readInt16(){let e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){let e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){let e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){let e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){let e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){let e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){let e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){let e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return SD(this.readBytes(e))}decodeText(e=1,t="utf8"){return SD(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(fF(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}};function xp(n){let e=n.length;for(;--e>=0;)n[e]=0}var Oee=0,ZF=1,Ree=2,Lee=3,Fee=258,KD=29,m0=256,l0=m0+1+KD,bp=30,QD=19,XF=2*l0+1,Tf=15,DD=16,jee=7,ZD=256,JF=16,e4=17,t4=18,VD=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Q1=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Bee=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),n4=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Vee=512,Gc=new Array((l0+2)*2);xp(Gc);var o0=new Array(bp*2);xp(o0);var c0=new Array(Vee);xp(c0);var u0=new Array(Fee-Lee+1);xp(u0);var XD=new Array(KD);xp(XD);var Z1=new Array(bp);xp(Z1);function ID(n,e,t,r,i){this.static_tree=n,this.extra_bits=e,this.extra_base=t,this.elems=r,this.max_length=i,this.has_stree=n&&n.length}var r4,i4,o4;function AD(n,e){this.dyn_tree=n,this.max_code=0,this.stat_desc=e}var s4=n=>n<256?c0[n]:c0[256+(n>>>7)],d0=(n,e)=>{n.pending_buf[n.pending++]=e&255,n.pending_buf[n.pending++]=e>>>8&255},vs=(n,e,t)=>{n.bi_valid>DD-t?(n.bi_buf|=e<<n.bi_valid&65535,d0(n,n.bi_buf),n.bi_buf=e>>DD-n.bi_valid,n.bi_valid+=t-DD):(n.bi_buf|=e<<n.bi_valid&65535,n.bi_valid+=t)},Yl=(n,e,t)=>{vs(n,t[e*2],t[e*2+1])},a4=(n,e)=>{let t=0;do t|=n&1,n>>>=1,t<<=1;while(--e>0);return t>>>1},Uee=n=>{n.bi_valid===16?(d0(n,n.bi_buf),n.bi_buf=0,n.bi_valid=0):n.bi_valid>=8&&(n.pending_buf[n.pending++]=n.bi_buf&255,n.bi_buf>>=8,n.bi_valid-=8)},zee=(n,e)=>{let t=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,o=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,l=e.stat_desc.max_length,c,u,d,p,f,b,_=0;for(p=0;p<=Tf;p++)n.bl_count[p]=0;for(t[n.heap[n.heap_max]*2+1]=0,c=n.heap_max+1;c<XF;c++)u=n.heap[c],p=t[t[u*2+1]*2+1]+1,p>l&&(p=l,_++),t[u*2+1]=p,!(u>r)&&(n.bl_count[p]++,f=0,u>=a&&(f=s[u-a]),b=t[u*2],n.opt_len+=b*(p+f),o&&(n.static_len+=b*(i[u*2+1]+f)));if(_!==0){do{for(p=l-1;n.bl_count[p]===0;)p--;n.bl_count[p]--,n.bl_count[p+1]+=2,n.bl_count[l]--,_-=2}while(_>0);for(p=l;p!==0;p--)for(u=n.bl_count[p];u!==0;)d=n.heap[--c],!(d>r)&&(t[d*2+1]!==p&&(n.opt_len+=(p-t[d*2+1])*t[d*2],t[d*2+1]=p),u--)}},l4=(n,e,t)=>{let r=new Array(Tf+1),i=0,o,s;for(o=1;o<=Tf;o++)i=i+t[o-1]<<1,r[o]=i;for(s=0;s<=e;s++){let a=n[s*2+1];a!==0&&(n[s*2]=a4(r[a]++,a))}},Hee=()=>{let n,e,t,r,i,o=new Array(Tf+1);for(t=0,r=0;r<KD-1;r++)for(XD[r]=t,n=0;n<1<<VD[r];n++)u0[t++]=r;for(u0[t-1]=r,i=0,r=0;r<16;r++)for(Z1[r]=i,n=0;n<1<<Q1[r];n++)c0[i++]=r;for(i>>=7;r<bp;r++)for(Z1[r]=i<<7,n=0;n<1<<Q1[r]-7;n++)c0[256+i++]=r;for(e=0;e<=Tf;e++)o[e]=0;for(n=0;n<=143;)Gc[n*2+1]=8,n++,o[8]++;for(;n<=255;)Gc[n*2+1]=9,n++,o[9]++;for(;n<=279;)Gc[n*2+1]=7,n++,o[7]++;for(;n<=287;)Gc[n*2+1]=8,n++,o[8]++;for(l4(Gc,l0+1,o),n=0;n<bp;n++)o0[n*2+1]=5,o0[n*2]=a4(n,5);r4=new ID(Gc,VD,m0+1,l0,Tf),i4=new ID(o0,Q1,0,bp,Tf),o4=new ID(new Array(0),Bee,0,QD,jee)},c4=n=>{let e;for(e=0;e<l0;e++)n.dyn_ltree[e*2]=0;for(e=0;e<bp;e++)n.dyn_dtree[e*2]=0;for(e=0;e<QD;e++)n.bl_tree[e*2]=0;n.dyn_ltree[ZD*2]=1,n.opt_len=n.static_len=0,n.sym_next=n.matches=0},u4=n=>{n.bi_valid>8?d0(n,n.bi_buf):n.bi_valid>0&&(n.pending_buf[n.pending++]=n.bi_buf),n.bi_buf=0,n.bi_valid=0},hF=(n,e,t,r)=>{let i=e*2,o=t*2;return n[i]<n[o]||n[i]===n[o]&&r[e]<=r[t]},TD=(n,e,t)=>{let r=n.heap[t],i=t<<1;for(;i<=n.heap_len&&(i<n.heap_len&&hF(e,n.heap[i+1],n.heap[i],n.depth)&&i++,!hF(e,r,n.heap[i],n.depth));)n.heap[t]=n.heap[i],t=i,i<<=1;n.heap[t]=r},pF=(n,e,t)=>{let r,i,o=0,s,a;if(n.sym_next!==0)do r=n.pending_buf[n.sym_buf+o++]&255,r+=(n.pending_buf[n.sym_buf+o++]&255)<<8,i=n.pending_buf[n.sym_buf+o++],r===0?Yl(n,i,e):(s=u0[i],Yl(n,s+m0+1,e),a=VD[s],a!==0&&(i-=XD[s],vs(n,i,a)),r--,s=s4(r),Yl(n,s,t),a=Q1[s],a!==0&&(r-=Z1[s],vs(n,r,a)));while(o<n.sym_next);Yl(n,ZD,e)},UD=(n,e)=>{let t=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.elems,s,a,l=-1,c;for(n.heap_len=0,n.heap_max=XF,s=0;s<o;s++)t[s*2]!==0?(n.heap[++n.heap_len]=l=s,n.depth[s]=0):t[s*2+1]=0;for(;n.heap_len<2;)c=n.heap[++n.heap_len]=l<2?++l:0,t[c*2]=1,n.depth[c]=0,n.opt_len--,i&&(n.static_len-=r[c*2+1]);for(e.max_code=l,s=n.heap_len>>1;s>=1;s--)TD(n,t,s);c=o;do s=n.heap[1],n.heap[1]=n.heap[n.heap_len--],TD(n,t,1),a=n.heap[1],n.heap[--n.heap_max]=s,n.heap[--n.heap_max]=a,t[c*2]=t[s*2]+t[a*2],n.depth[c]=(n.depth[s]>=n.depth[a]?n.depth[s]:n.depth[a])+1,t[s*2+1]=t[a*2+1]=c,n.heap[1]=c++,TD(n,t,1);while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1],zee(n,e),l4(t,l,n.bl_count)},gF=(n,e,t)=>{let r,i=-1,o,s=e[1],a=0,l=7,c=4;for(s===0&&(l=138,c=3),e[(t+1)*2+1]=65535,r=0;r<=t;r++)o=s,s=e[(r+1)*2+1],!(++a<l&&o===s)&&(a<c?n.bl_tree[o*2]+=a:o!==0?(o!==i&&n.bl_tree[o*2]++,n.bl_tree[JF*2]++):a<=10?n.bl_tree[e4*2]++:n.bl_tree[t4*2]++,a=0,i=o,s===0?(l=138,c=3):o===s?(l=6,c=3):(l=7,c=4))},mF=(n,e,t)=>{let r,i=-1,o,s=e[1],a=0,l=7,c=4;for(s===0&&(l=138,c=3),r=0;r<=t;r++)if(o=s,s=e[(r+1)*2+1],!(++a<l&&o===s)){if(a<c)do Yl(n,o,n.bl_tree);while(--a!==0);else o!==0?(o!==i&&(Yl(n,o,n.bl_tree),a--),Yl(n,JF,n.bl_tree),vs(n,a-3,2)):a<=10?(Yl(n,e4,n.bl_tree),vs(n,a-3,3)):(Yl(n,t4,n.bl_tree),vs(n,a-11,7));a=0,i=o,s===0?(l=138,c=3):o===s?(l=6,c=3):(l=7,c=4)}},qee=n=>{let e;for(gF(n,n.dyn_ltree,n.l_desc.max_code),gF(n,n.dyn_dtree,n.d_desc.max_code),UD(n,n.bl_desc),e=QD-1;e>=3&&n.bl_tree[n4[e]*2+1]===0;e--);return n.opt_len+=3*(e+1)+5+5+4,e},$ee=(n,e,t,r)=>{let i;for(vs(n,e-257,5),vs(n,t-1,5),vs(n,r-4,4),i=0;i<r;i++)vs(n,n.bl_tree[n4[i]*2+1],3);mF(n,n.dyn_ltree,e-1),mF(n,n.dyn_dtree,t-1)},Wee=n=>{let e=4093624447,t;for(t=0;t<=31;t++,e>>>=1)if(e&1&&n.dyn_ltree[t*2]!==0)return 0;if(n.dyn_ltree[18]!==0||n.dyn_ltree[20]!==0||n.dyn_ltree[26]!==0)return 1;for(t=32;t<m0;t++)if(n.dyn_ltree[t*2]!==0)return 1;return 0},vF=!1,Gee=n=>{vF||(Hee(),vF=!0),n.l_desc=new AD(n.dyn_ltree,r4),n.d_desc=new AD(n.dyn_dtree,i4),n.bl_desc=new AD(n.bl_tree,o4),n.bi_buf=0,n.bi_valid=0,c4(n)},d4=(n,e,t,r)=>{vs(n,(Oee<<1)+(r?1:0),3),u4(n),d0(n,t),d0(n,~t),t&&n.pending_buf.set(n.window.subarray(e,e+t),n.pending),n.pending+=t},Yee=n=>{vs(n,ZF<<1,3),Yl(n,ZD,Gc),Uee(n)},Kee=(n,e,t,r)=>{let i,o,s=0;n.level>0?(n.strm.data_type===2&&(n.strm.data_type=Wee(n)),UD(n,n.l_desc),UD(n,n.d_desc),s=qee(n),i=n.opt_len+3+7>>>3,o=n.static_len+3+7>>>3,o<=i&&(i=o)):i=o=t+5,t+4<=i&&e!==-1?d4(n,e,t,r):n.strategy===4||o===i?(vs(n,(ZF<<1)+(r?1:0),3),pF(n,Gc,o0)):(vs(n,(Ree<<1)+(r?1:0),3),$ee(n,n.l_desc.max_code+1,n.d_desc.max_code+1,s+1),pF(n,n.dyn_ltree,n.dyn_dtree)),c4(n),r&&u4(n)},Qee=(n,e,t)=>(n.pending_buf[n.sym_buf+n.sym_next++]=e,n.pending_buf[n.sym_buf+n.sym_next++]=e>>8,n.pending_buf[n.sym_buf+n.sym_next++]=t,e===0?n.dyn_ltree[t*2]++:(n.matches++,e--,n.dyn_ltree[(u0[t]+m0+1)*2]++,n.dyn_dtree[s4(e)*2]++),n.sym_next===n.sym_end),Zee=Gee,Xee=d4,Jee=Kee,ete=Qee,tte=Yee,nte={_tr_init:Zee,_tr_stored_block:Xee,_tr_flush_block:Jee,_tr_tally:ete,_tr_align:tte},rte=(n,e,t,r)=>{let i=n&65535|0,o=n>>>16&65535|0,s=0;for(;t!==0;){s=t>2e3?2e3:t,t-=s;do i=i+e[r++]|0,o=o+i|0;while(--s);i%=65521,o%=65521}return i|o<<16|0},f0=rte,ite=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},ote=new Uint32Array(ite()),ste=(n,e,t,r)=>{let i=ote,o=r+t;n^=-1;for(let s=r;s<o;s++)n=n>>>8^i[(n^e[s])&255];return n^-1},qi=ste,Nf={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Cp={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:ate,_tr_stored_block:zD,_tr_flush_block:lte,_tr_tally:rd,_tr_align:cte}=nte,{Z_NO_FLUSH:id,Z_PARTIAL_FLUSH:ute,Z_FULL_FLUSH:dte,Z_FINISH:Ea,Z_BLOCK:yF,Z_OK:lo,Z_STREAM_END:bF,Z_STREAM_ERROR:Kl,Z_DATA_ERROR:fte,Z_BUF_ERROR:MD,Z_DEFAULT_COMPRESSION:hte,Z_FILTERED:pte,Z_HUFFMAN_ONLY:$1,Z_RLE:gte,Z_FIXED:mte,Z_DEFAULT_STRATEGY:vte,Z_UNKNOWN:yte,Z_DEFLATED:e_}=Cp,bte=9,_te=15,wte=8,xte=29,Cte=256,HD=Cte+1+xte,Ste=30,Ete=19,Dte=2*HD+1,Ite=15,jn=3,nd=258,Ql=nd+jn+1,Ate=32,_p=42,JD=57,qD=69,$D=73,WD=91,GD=103,Mf=113,r0=666,qo=1,Sp=2,Pf=3,Ep=4,Tte=3,kf=(n,e)=>(n.msg=Nf[e],e),_F=n=>n*2-(n>4?9:0),td=n=>{let e=n.length;for(;--e>=0;)n[e]=0},Mte=n=>{let e,t,r,i=n.w_size;e=n.hash_size,r=e;do t=n.head[--r],n.head[r]=t>=i?t-i:0;while(--e);e=i,r=e;do t=n.prev[--r],n.prev[r]=t>=i?t-i:0;while(--e)},kte=(n,e,t)=>(e<<n.hash_shift^t)&n.hash_mask,od=kte,Zs=n=>{let e=n.state,t=e.pending;t>n.avail_out&&(t=n.avail_out),t!==0&&(n.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+t),n.next_out),n.next_out+=t,e.pending_out+=t,n.total_out+=t,n.avail_out-=t,e.pending-=t,e.pending===0&&(e.pending_out=0))},Xs=(n,e)=>{lte(n,n.block_start>=0?n.block_start:-1,n.strstart-n.block_start,e),n.block_start=n.strstart,Zs(n.strm)},ir=(n,e)=>{n.pending_buf[n.pending++]=e},n0=(n,e)=>{n.pending_buf[n.pending++]=e>>>8&255,n.pending_buf[n.pending++]=e&255},YD=(n,e,t,r)=>{let i=n.avail_in;return i>r&&(i=r),i===0?0:(n.avail_in-=i,e.set(n.input.subarray(n.next_in,n.next_in+i),t),n.state.wrap===1?n.adler=f0(n.adler,e,i,t):n.state.wrap===2&&(n.adler=qi(n.adler,e,i,t)),n.next_in+=i,n.total_in+=i,i)},f4=(n,e)=>{let t=n.max_chain_length,r=n.strstart,i,o,s=n.prev_length,a=n.nice_match,l=n.strstart>n.w_size-Ql?n.strstart-(n.w_size-Ql):0,c=n.window,u=n.w_mask,d=n.prev,p=n.strstart+nd,f=c[r+s-1],b=c[r+s];n.prev_length>=n.good_match&&(t>>=2),a>n.lookahead&&(a=n.lookahead);do if(i=e,!(c[i+s]!==b||c[i+s-1]!==f||c[i]!==c[r]||c[++i]!==c[r+1])){r+=2,i++;do;while(c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&r<p);if(o=nd-(p-r),r=p-nd,o>s){if(n.match_start=e,s=o,o>=a)break;f=c[r+s-1],b=c[r+s]}}while((e=d[e&u])>l&&--t!==0);return s<=n.lookahead?s:n.lookahead},wp=n=>{let e=n.w_size,t,r,i;do{if(r=n.window_size-n.lookahead-n.strstart,n.strstart>=e+(e-Ql)&&(n.window.set(n.window.subarray(e,e+e-r),0),n.match_start-=e,n.strstart-=e,n.block_start-=e,n.insert>n.strstart&&(n.insert=n.strstart),Mte(n),r+=e),n.strm.avail_in===0)break;if(t=YD(n.strm,n.window,n.strstart+n.lookahead,r),n.lookahead+=t,n.lookahead+n.insert>=jn)for(i=n.strstart-n.insert,n.ins_h=n.window[i],n.ins_h=od(n,n.ins_h,n.window[i+1]);n.insert&&(n.ins_h=od(n,n.ins_h,n.window[i+jn-1]),n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++,n.insert--,!(n.lookahead+n.insert<jn)););}while(n.lookahead<Ql&&n.strm.avail_in!==0)},h4=(n,e)=>{let t=n.pending_buf_size-5>n.w_size?n.w_size:n.pending_buf_size-5,r,i,o,s=0,a=n.strm.avail_in;do{if(r=65535,o=n.bi_valid+42>>3,n.strm.avail_out<o||(o=n.strm.avail_out-o,i=n.strstart-n.block_start,r>i+n.strm.avail_in&&(r=i+n.strm.avail_in),r>o&&(r=o),r<t&&(r===0&&e!==Ea||e===id||r!==i+n.strm.avail_in)))break;s=e===Ea&&r===i+n.strm.avail_in?1:0,zD(n,0,0,s),n.pending_buf[n.pending-4]=r,n.pending_buf[n.pending-3]=r>>8,n.pending_buf[n.pending-2]=~r,n.pending_buf[n.pending-1]=~r>>8,Zs(n.strm),i&&(i>r&&(i=r),n.strm.output.set(n.window.subarray(n.block_start,n.block_start+i),n.strm.next_out),n.strm.next_out+=i,n.strm.avail_out-=i,n.strm.total_out+=i,n.block_start+=i,r-=i),r&&(YD(n.strm,n.strm.output,n.strm.next_out,r),n.strm.next_out+=r,n.strm.avail_out-=r,n.strm.total_out+=r)}while(s===0);return a-=n.strm.avail_in,a&&(a>=n.w_size?(n.matches=2,n.window.set(n.strm.input.subarray(n.strm.next_in-n.w_size,n.strm.next_in),0),n.strstart=n.w_size,n.insert=n.strstart):(n.window_size-n.strstart<=a&&(n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,n.insert>n.strstart&&(n.insert=n.strstart)),n.window.set(n.strm.input.subarray(n.strm.next_in-a,n.strm.next_in),n.strstart),n.strstart+=a,n.insert+=a>n.w_size-n.insert?n.w_size-n.insert:a),n.block_start=n.strstart),n.high_water<n.strstart&&(n.high_water=n.strstart),s?Ep:e!==id&&e!==Ea&&n.strm.avail_in===0&&n.strstart===n.block_start?Sp:(o=n.window_size-n.strstart,n.strm.avail_in>o&&n.block_start>=n.w_size&&(n.block_start-=n.w_size,n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,o+=n.w_size,n.insert>n.strstart&&(n.insert=n.strstart)),o>n.strm.avail_in&&(o=n.strm.avail_in),o&&(YD(n.strm,n.window,n.strstart,o),n.strstart+=o,n.insert+=o>n.w_size-n.insert?n.w_size-n.insert:o),n.high_water<n.strstart&&(n.high_water=n.strstart),o=n.bi_valid+42>>3,o=n.pending_buf_size-o>65535?65535:n.pending_buf_size-o,t=o>n.w_size?n.w_size:o,i=n.strstart-n.block_start,(i>=t||(i||e===Ea)&&e!==id&&n.strm.avail_in===0&&i<=o)&&(r=i>o?o:i,s=e===Ea&&n.strm.avail_in===0&&r===i?1:0,zD(n,n.block_start,r,s),n.block_start+=r,Zs(n.strm)),s?Pf:qo)},kD=(n,e)=>{let t,r;for(;;){if(n.lookahead<Ql){if(wp(n),n.lookahead<Ql&&e===id)return qo;if(n.lookahead===0)break}if(t=0,n.lookahead>=jn&&(n.ins_h=od(n,n.ins_h,n.window[n.strstart+jn-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),t!==0&&n.strstart-t<=n.w_size-Ql&&(n.match_length=f4(n,t)),n.match_length>=jn)if(r=rd(n,n.strstart-n.match_start,n.match_length-jn),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&n.lookahead>=jn){n.match_length--;do n.strstart++,n.ins_h=od(n,n.ins_h,n.window[n.strstart+jn-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart;while(--n.match_length!==0);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=od(n,n.ins_h,n.window[n.strstart+1]);else r=rd(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(r&&(Xs(n,!1),n.strm.avail_out===0))return qo}return n.insert=n.strstart<jn-1?n.strstart:jn-1,e===Ea?(Xs(n,!0),n.strm.avail_out===0?Pf:Ep):n.sym_next&&(Xs(n,!1),n.strm.avail_out===0)?qo:Sp},vp=(n,e)=>{let t,r,i;for(;;){if(n.lookahead<Ql){if(wp(n),n.lookahead<Ql&&e===id)return qo;if(n.lookahead===0)break}if(t=0,n.lookahead>=jn&&(n.ins_h=od(n,n.ins_h,n.window[n.strstart+jn-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=jn-1,t!==0&&n.prev_length<n.max_lazy_match&&n.strstart-t<=n.w_size-Ql&&(n.match_length=f4(n,t),n.match_length<=5&&(n.strategy===pte||n.match_length===jn&&n.strstart-n.match_start>4096)&&(n.match_length=jn-1)),n.prev_length>=jn&&n.match_length<=n.prev_length){i=n.strstart+n.lookahead-jn,r=rd(n,n.strstart-1-n.prev_match,n.prev_length-jn),n.lookahead-=n.prev_length-1,n.prev_length-=2;do++n.strstart<=i&&(n.ins_h=od(n,n.ins_h,n.window[n.strstart+jn-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart);while(--n.prev_length!==0);if(n.match_available=0,n.match_length=jn-1,n.strstart++,r&&(Xs(n,!1),n.strm.avail_out===0))return qo}else if(n.match_available){if(r=rd(n,0,n.window[n.strstart-1]),r&&Xs(n,!1),n.strstart++,n.lookahead--,n.strm.avail_out===0)return qo}else n.match_available=1,n.strstart++,n.lookahead--}return n.match_available&&(r=rd(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=n.strstart<jn-1?n.strstart:jn-1,e===Ea?(Xs(n,!0),n.strm.avail_out===0?Pf:Ep):n.sym_next&&(Xs(n,!1),n.strm.avail_out===0)?qo:Sp},Nte=(n,e)=>{let t,r,i,o,s=n.window;for(;;){if(n.lookahead<=nd){if(wp(n),n.lookahead<=nd&&e===id)return qo;if(n.lookahead===0)break}if(n.match_length=0,n.lookahead>=jn&&n.strstart>0&&(i=n.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){o=n.strstart+nd;do;while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);n.match_length=nd-(o-i),n.match_length>n.lookahead&&(n.match_length=n.lookahead)}if(n.match_length>=jn?(t=rd(n,1,n.match_length-jn),n.lookahead-=n.match_length,n.strstart+=n.match_length,n.match_length=0):(t=rd(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++),t&&(Xs(n,!1),n.strm.avail_out===0))return qo}return n.insert=0,e===Ea?(Xs(n,!0),n.strm.avail_out===0?Pf:Ep):n.sym_next&&(Xs(n,!1),n.strm.avail_out===0)?qo:Sp},Pte=(n,e)=>{let t;for(;;){if(n.lookahead===0&&(wp(n),n.lookahead===0)){if(e===id)return qo;break}if(n.match_length=0,t=rd(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++,t&&(Xs(n,!1),n.strm.avail_out===0))return qo}return n.insert=0,e===Ea?(Xs(n,!0),n.strm.avail_out===0?Pf:Ep):n.sym_next&&(Xs(n,!1),n.strm.avail_out===0)?qo:Sp};function Gl(n,e,t,r,i){this.good_length=n,this.max_lazy=e,this.nice_length=t,this.max_chain=r,this.func=i}var i0=[new Gl(0,0,0,0,h4),new Gl(4,4,8,4,kD),new Gl(4,5,16,8,kD),new Gl(4,6,32,32,kD),new Gl(4,4,16,16,vp),new Gl(8,16,32,32,vp),new Gl(8,16,128,128,vp),new Gl(8,32,128,256,vp),new Gl(32,128,258,1024,vp),new Gl(32,258,258,4096,vp)],Ote=n=>{n.window_size=2*n.w_size,td(n.head),n.max_lazy_match=i0[n.level].max_lazy,n.good_match=i0[n.level].good_length,n.nice_match=i0[n.level].nice_length,n.max_chain_length=i0[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=jn-1,n.match_available=0,n.ins_h=0};function Rte(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=e_,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Dte*2),this.dyn_dtree=new Uint16Array((2*Ste+1)*2),this.bl_tree=new Uint16Array((2*Ete+1)*2),td(this.dyn_ltree),td(this.dyn_dtree),td(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Ite+1),this.heap=new Uint16Array(2*HD+1),td(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*HD+1),td(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var v0=n=>{if(!n)return 1;let e=n.state;return!e||e.strm!==n||e.status!==_p&&e.status!==JD&&e.status!==qD&&e.status!==$D&&e.status!==WD&&e.status!==GD&&e.status!==Mf&&e.status!==r0?1:0},p4=n=>{if(v0(n))return kf(n,Kl);n.total_in=n.total_out=0,n.data_type=yte;let e=n.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?JD:e.wrap?_p:Mf,n.adler=e.wrap===2?0:1,e.last_flush=-2,ate(e),lo},g4=n=>{let e=p4(n);return e===lo&&Ote(n.state),e},Lte=(n,e)=>v0(n)||n.state.wrap!==2?Kl:(n.state.gzhead=e,lo),m4=(n,e,t,r,i,o)=>{if(!n)return Kl;let s=1;if(e===hte&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>bte||t!==e_||r<8||r>15||e<0||e>9||o<0||o>mte||r===8&&s!==1)return kf(n,Kl);r===8&&(r=9);let a=new Rte;return n.state=a,a.strm=n,a.status=_p,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+jn-1)/jn),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=e,a.strategy=o,a.method=t,g4(n)},Fte=(n,e)=>m4(n,e,e_,_te,wte,vte),jte=(n,e)=>{if(v0(n)||e>yF||e<0)return n?kf(n,Kl):Kl;let t=n.state;if(!n.output||n.avail_in!==0&&!n.input||t.status===r0&&e!==Ea)return kf(n,n.avail_out===0?MD:Kl);let r=t.last_flush;if(t.last_flush=e,t.pending!==0){if(Zs(n),n.avail_out===0)return t.last_flush=-1,lo}else if(n.avail_in===0&&_F(e)<=_F(r)&&e!==Ea)return kf(n,MD);if(t.status===r0&&n.avail_in!==0)return kf(n,MD);if(t.status===_p&&t.wrap===0&&(t.status=Mf),t.status===_p){let i=e_+(t.w_bits-8<<4)<<8,o=-1;if(t.strategy>=$1||t.level<2?o=0:t.level<6?o=1:t.level===6?o=2:o=3,i|=o<<6,t.strstart!==0&&(i|=Ate),i+=31-i%31,n0(t,i),t.strstart!==0&&(n0(t,n.adler>>>16),n0(t,n.adler&65535)),n.adler=1,t.status=Mf,Zs(n),t.pending!==0)return t.last_flush=-1,lo}if(t.status===JD){if(n.adler=0,ir(t,31),ir(t,139),ir(t,8),t.gzhead)ir(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),ir(t,t.gzhead.time&255),ir(t,t.gzhead.time>>8&255),ir(t,t.gzhead.time>>16&255),ir(t,t.gzhead.time>>24&255),ir(t,t.level===9?2:t.strategy>=$1||t.level<2?4:0),ir(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(ir(t,t.gzhead.extra.length&255),ir(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(n.adler=qi(n.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=qD;else if(ir(t,0),ir(t,0),ir(t,0),ir(t,0),ir(t,0),ir(t,t.level===9?2:t.strategy>=$1||t.level<2?4:0),ir(t,Tte),t.status=Mf,Zs(n),t.pending!==0)return t.last_flush=-1,lo}if(t.status===qD){if(t.gzhead.extra){let i=t.pending,o=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+o>t.pending_buf_size;){let a=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+a),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>i&&(n.adler=qi(n.adler,t.pending_buf,t.pending-i,i)),t.gzindex+=a,Zs(n),t.pending!==0)return t.last_flush=-1,lo;i=0,o-=a}let s=new Uint8Array(t.gzhead.extra);t.pending_buf.set(s.subarray(t.gzindex,t.gzindex+o),t.pending),t.pending+=o,t.gzhead.hcrc&&t.pending>i&&(n.adler=qi(n.adler,t.pending_buf,t.pending-i,i)),t.gzindex=0}t.status=$D}if(t.status===$D){if(t.gzhead.name){let i=t.pending,o;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>i&&(n.adler=qi(n.adler,t.pending_buf,t.pending-i,i)),Zs(n),t.pending!==0)return t.last_flush=-1,lo;i=0}t.gzindex<t.gzhead.name.length?o=t.gzhead.name.charCodeAt(t.gzindex++)&255:o=0,ir(t,o)}while(o!==0);t.gzhead.hcrc&&t.pending>i&&(n.adler=qi(n.adler,t.pending_buf,t.pending-i,i)),t.gzindex=0}t.status=WD}if(t.status===WD){if(t.gzhead.comment){let i=t.pending,o;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>i&&(n.adler=qi(n.adler,t.pending_buf,t.pending-i,i)),Zs(n),t.pending!==0)return t.last_flush=-1,lo;i=0}t.gzindex<t.gzhead.comment.length?o=t.gzhead.comment.charCodeAt(t.gzindex++)&255:o=0,ir(t,o)}while(o!==0);t.gzhead.hcrc&&t.pending>i&&(n.adler=qi(n.adler,t.pending_buf,t.pending-i,i))}t.status=GD}if(t.status===GD){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(Zs(n),t.pending!==0))return t.last_flush=-1,lo;ir(t,n.adler&255),ir(t,n.adler>>8&255),n.adler=0}if(t.status=Mf,Zs(n),t.pending!==0)return t.last_flush=-1,lo}if(n.avail_in!==0||t.lookahead!==0||e!==id&&t.status!==r0){let i=t.level===0?h4(t,e):t.strategy===$1?Pte(t,e):t.strategy===gte?Nte(t,e):i0[t.level].func(t,e);if((i===Pf||i===Ep)&&(t.status=r0),i===qo||i===Pf)return n.avail_out===0&&(t.last_flush=-1),lo;if(i===Sp&&(e===ute?cte(t):e!==yF&&(zD(t,0,0,!1),e===dte&&(td(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),Zs(n),n.avail_out===0))return t.last_flush=-1,lo}return e!==Ea?lo:t.wrap<=0?bF:(t.wrap===2?(ir(t,n.adler&255),ir(t,n.adler>>8&255),ir(t,n.adler>>16&255),ir(t,n.adler>>24&255),ir(t,n.total_in&255),ir(t,n.total_in>>8&255),ir(t,n.total_in>>16&255),ir(t,n.total_in>>24&255)):(n0(t,n.adler>>>16),n0(t,n.adler&65535)),Zs(n),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?lo:bF)},Bte=n=>{if(v0(n))return Kl;let e=n.state.status;return n.state=null,e===Mf?kf(n,fte):lo},Vte=(n,e)=>{let t=e.length;if(v0(n))return Kl;let r=n.state,i=r.wrap;if(i===2||i===1&&r.status!==_p||r.lookahead)return Kl;if(i===1&&(n.adler=f0(n.adler,e,t,0)),r.wrap=0,t>=r.w_size){i===0&&(td(r.head),r.strstart=0,r.block_start=0,r.insert=0);let l=new Uint8Array(r.w_size);l.set(e.subarray(t-r.w_size,t),0),e=l,t=r.w_size}let o=n.avail_in,s=n.next_in,a=n.input;for(n.avail_in=t,n.next_in=0,n.input=e,wp(r);r.lookahead>=jn;){let l=r.strstart,c=r.lookahead-(jn-1);do r.ins_h=od(r,r.ins_h,r.window[l+jn-1]),r.prev[l&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=l,l++;while(--c);r.strstart=l,r.lookahead=jn-1,wp(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=jn-1,r.match_available=0,n.next_in=s,n.input=a,n.avail_in=o,r.wrap=i,lo},Ute=Fte,zte=m4,Hte=g4,qte=p4,$te=Lte,Wte=jte,Gte=Bte,Yte=Vte,Kte="pako deflate (from Nodeca project)",s0={deflateInit:Ute,deflateInit2:zte,deflateReset:Hte,deflateResetKeep:qte,deflateSetHeader:$te,deflate:Wte,deflateEnd:Gte,deflateSetDictionary:Yte,deflateInfo:Kte},Qte=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),Zte=function(n){let e=Array.prototype.slice.call(arguments,1);for(;e.length;){let t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(let r in t)Qte(t,r)&&(n[r]=t[r])}}return n},Xte=n=>{let e=0;for(let r=0,i=n.length;r<i;r++)e+=n[r].length;let t=new Uint8Array(e);for(let r=0,i=0,o=n.length;r<o;r++){let s=n[r];t.set(s,i),i+=s.length}return t},t_={assign:Zte,flattenChunks:Xte},v4=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(n){v4=!1}var h0=new Uint8Array(256);for(let n=0;n<256;n++)h0[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;h0[254]=h0[254]=1;var Jte=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,i,o,s=n.length,a=0;for(i=0;i<s;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<s&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),a+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(a),o=0,i=0;o<a;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<s&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e},ene=(n,e)=>{if(e<65534&&n.subarray&&v4)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t},tne=(n,e)=>{let t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,i,o=new Array(t*2);for(i=0,r=0;r<t;){let s=n[r++];if(s<128){o[i++]=s;continue}let a=h0[s];if(a>4){o[i++]=65533,r+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&r<t;)s=s<<6|n[r++]&63,a--;if(a>1){o[i++]=65533;continue}s<65536?o[i++]=s:(s-=65536,o[i++]=55296|s>>10&1023,o[i++]=56320|s&1023)}return ene(o,i)},nne=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+h0[n[t]]>e?t:e},p0={string2buf:Jte,buf2string:tne,utf8border:nne};function rne(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var y4=rne,b4=Object.prototype.toString,{Z_NO_FLUSH:ine,Z_SYNC_FLUSH:one,Z_FULL_FLUSH:sne,Z_FINISH:ane,Z_OK:X1,Z_STREAM_END:lne,Z_DEFAULT_COMPRESSION:cne,Z_DEFAULT_STRATEGY:une,Z_DEFLATED:dne}=Cp;function y0(n){this.options=t_.assign({level:cne,method:dne,chunkSize:16384,windowBits:15,memLevel:8,strategy:une},n||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y4,this.strm.avail_out=0;let t=s0.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(t!==X1)throw new Error(Nf[t]);if(e.header&&s0.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(typeof e.dictionary=="string"?r=p0.string2buf(e.dictionary):b4.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,t=s0.deflateSetDictionary(this.strm,r),t!==X1)throw new Error(Nf[t]);this._dict_set=!0}}y0.prototype.push=function(n,e){let t=this.strm,r=this.options.chunkSize,i,o;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?ane:ine,typeof n=="string"?t.input=p0.string2buf(n):b4.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),(o===one||o===sne)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(i=s0.deflate(t,o),i===lne)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),i=s0.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===X1;if(t.avail_out===0){this.onData(t.output);continue}if(o>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0};y0.prototype.onData=function(n){this.chunks.push(n)};y0.prototype.onEnd=function(n){n===X1&&(this.result=t_.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function eI(n,e){let t=new y0(e);if(t.push(n,!0),t.err)throw t.msg||Nf[t.err];return t.result}function fne(n,e){return e=e||{},e.raw=!0,eI(n,e)}function hne(n,e){return e=e||{},e.gzip=!0,eI(n,e)}var pne=y0,gne=eI,mne=fne,vne=hne,yne=Cp,bne={Deflate:pne,deflate:gne,deflateRaw:mne,gzip:vne,constants:yne},W1=16209,_ne=16191,wne=function(e,t){let r,i,o,s,a,l,c,u,d,p,f,b,_,C,S,A,F,P,U,se,he,Y,H,pe,O=e.state;r=e.next_in,H=e.input,i=r+(e.avail_in-5),o=e.next_out,pe=e.output,s=o-(t-e.avail_out),a=o+(e.avail_out-257),l=O.dmax,c=O.wsize,u=O.whave,d=O.wnext,p=O.window,f=O.hold,b=O.bits,_=O.lencode,C=O.distcode,S=(1<<O.lenbits)-1,A=(1<<O.distbits)-1;e:do{b<15&&(f+=H[r++]<<b,b+=8,f+=H[r++]<<b,b+=8),F=_[f&S];t:for(;;){if(P=F>>>24,f>>>=P,b-=P,P=F>>>16&255,P===0)pe[o++]=F&65535;else if(P&16){U=F&65535,P&=15,P&&(b<P&&(f+=H[r++]<<b,b+=8),U+=f&(1<<P)-1,f>>>=P,b-=P),b<15&&(f+=H[r++]<<b,b+=8,f+=H[r++]<<b,b+=8),F=C[f&A];n:for(;;){if(P=F>>>24,f>>>=P,b-=P,P=F>>>16&255,P&16){if(se=F&65535,P&=15,b<P&&(f+=H[r++]<<b,b+=8,b<P&&(f+=H[r++]<<b,b+=8)),se+=f&(1<<P)-1,se>l){e.msg="invalid distance too far back",O.mode=W1;break e}if(f>>>=P,b-=P,P=o-s,se>P){if(P=se-P,P>u&&O.sane){e.msg="invalid distance too far back",O.mode=W1;break e}if(he=0,Y=p,d===0){if(he+=c-P,P<U){U-=P;do pe[o++]=p[he++];while(--P);he=o-se,Y=pe}}else if(d<P){if(he+=c+d-P,P-=d,P<U){U-=P;do pe[o++]=p[he++];while(--P);if(he=0,d<U){P=d,U-=P;do pe[o++]=p[he++];while(--P);he=o-se,Y=pe}}}else if(he+=d-P,P<U){U-=P;do pe[o++]=p[he++];while(--P);he=o-se,Y=pe}for(;U>2;)pe[o++]=Y[he++],pe[o++]=Y[he++],pe[o++]=Y[he++],U-=3;U&&(pe[o++]=Y[he++],U>1&&(pe[o++]=Y[he++]))}else{he=o-se;do pe[o++]=pe[he++],pe[o++]=pe[he++],pe[o++]=pe[he++],U-=3;while(U>2);U&&(pe[o++]=pe[he++],U>1&&(pe[o++]=pe[he++]))}}else if((P&64)===0){F=C[(F&65535)+(f&(1<<P)-1)];continue n}else{e.msg="invalid distance code",O.mode=W1;break e}break}}else if((P&64)===0){F=_[(F&65535)+(f&(1<<P)-1)];continue t}else if(P&32){O.mode=_ne;break e}else{e.msg="invalid literal/length code",O.mode=W1;break e}break}}while(r<i&&o<a);U=b>>3,r-=U,b-=U<<3,f&=(1<<b)-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=o<a?257+(a-o):257-(o-a),O.hold=f,O.bits=b},yp=15,wF=852,xF=592,CF=0,ND=1,SF=2,xne=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Cne=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Sne=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ene=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Dne=(n,e,t,r,i,o,s,a)=>{let l=a.bits,c=0,u=0,d=0,p=0,f=0,b=0,_=0,C=0,S=0,A=0,F,P,U,se,he,Y=null,H,pe=new Uint16Array(yp+1),O=new Uint16Array(yp+1),$=null,le,V,Q;for(c=0;c<=yp;c++)pe[c]=0;for(u=0;u<r;u++)pe[e[t+u]]++;for(f=l,p=yp;p>=1&&pe[p]===0;p--);if(f>p&&(f=p),p===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,a.bits=1,0;for(d=1;d<p&&pe[d]===0;d++);for(f<d&&(f=d),C=1,c=1;c<=yp;c++)if(C<<=1,C-=pe[c],C<0)return-1;if(C>0&&(n===CF||p!==1))return-1;for(O[1]=0,c=1;c<yp;c++)O[c+1]=O[c]+pe[c];for(u=0;u<r;u++)e[t+u]!==0&&(s[O[e[t+u]]++]=u);if(n===CF?(Y=$=s,H=20):n===ND?(Y=xne,$=Cne,H=257):(Y=Sne,$=Ene,H=0),A=0,u=0,c=d,he=o,b=f,_=0,U=-1,S=1<<f,se=S-1,n===ND&&S>wF||n===SF&&S>xF)return 1;for(;;){le=c-_,s[u]+1<H?(V=0,Q=s[u]):s[u]>=H?(V=$[s[u]-H],Q=Y[s[u]-H]):(V=96,Q=0),F=1<<c-_,P=1<<b,d=P;do P-=F,i[he+(A>>_)+P]=le<<24|V<<16|Q|0;while(P!==0);for(F=1<<c-1;A&F;)F>>=1;if(F!==0?(A&=F-1,A+=F):A=0,u++,--pe[c]===0){if(c===p)break;c=e[t+s[u]]}if(c>f&&(A&se)!==U){for(_===0&&(_=f),he+=d,b=c-_,C=1<<b;b+_<p&&(C-=pe[b+_],!(C<=0));)b++,C<<=1;if(S+=1<<b,n===ND&&S>wF||n===SF&&S>xF)return 1;U=A&se,i[U]=f<<24|b<<16|he-o|0}}return A!==0&&(i[he+A]=c-_<<24|64<<16|0),a.bits=f,0},a0=Dne,Ine=0,_4=1,w4=2,{Z_FINISH:EF,Z_BLOCK:Ane,Z_TREES:G1,Z_OK:Of,Z_STREAM_END:Tne,Z_NEED_DICT:Mne,Z_STREAM_ERROR:Da,Z_DATA_ERROR:x4,Z_MEM_ERROR:C4,Z_BUF_ERROR:kne,Z_DEFLATED:DF}=Cp,n_=16180,IF=16181,AF=16182,TF=16183,MF=16184,kF=16185,NF=16186,PF=16187,OF=16188,RF=16189,J1=16190,Wc=16191,PD=16192,LF=16193,OD=16194,FF=16195,jF=16196,BF=16197,VF=16198,Y1=16199,K1=16200,UF=16201,zF=16202,HF=16203,qF=16204,$F=16205,RD=16206,WF=16207,GF=16208,Wr=16209,S4=16210,E4=16211,Nne=852,Pne=592,One=15,Rne=One,YF=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function Lne(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var Rf=n=>{if(!n)return 1;let e=n.state;return!e||e.strm!==n||e.mode<n_||e.mode>E4?1:0},D4=n=>{if(Rf(n))return Da;let e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=n_,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Nne),e.distcode=e.distdyn=new Int32Array(Pne),e.sane=1,e.back=-1,Of},I4=n=>{if(Rf(n))return Da;let e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,D4(n)},A4=(n,e)=>{let t;if(Rf(n))return Da;let r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Da:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,I4(n))},T4=(n,e)=>{if(!n)return Da;let t=new Lne;n.state=t,t.strm=n,t.window=null,t.mode=n_;let r=A4(n,e);return r!==Of&&(n.state=null),r},Fne=n=>T4(n,Rne),KF=!0,LD,FD,jne=n=>{if(KF){LD=new Int32Array(512),FD=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(a0(_4,n.lens,0,288,LD,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;a0(w4,n.lens,0,32,FD,0,n.work,{bits:5}),KF=!1}n.lencode=LD,n.lenbits=9,n.distcode=FD,n.distbits=5},M4=(n,e,t,r)=>{let i,o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(e.subarray(t-r,t-r+i),o.wnext),r-=i,r?(o.window.set(e.subarray(t-r,t),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},Bne=(n,e)=>{let t,r,i,o,s,a,l,c,u,d,p,f,b,_,C=0,S,A,F,P,U,se,he,Y,H=new Uint8Array(4),pe,O,$=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Rf(n)||!n.output||!n.input&&n.avail_in!==0)return Da;t=n.state,t.mode===Wc&&(t.mode=PD),s=n.next_out,i=n.output,l=n.avail_out,o=n.next_in,r=n.input,a=n.avail_in,c=t.hold,u=t.bits,d=a,p=l,Y=Of;e:for(;;)switch(t.mode){case n_:if(t.wrap===0){t.mode=PD;break}for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(t.wrap&2&&c===35615){t.wbits===0&&(t.wbits=15),t.check=0,H[0]=c&255,H[1]=c>>>8&255,t.check=qi(t.check,H,2,0),c=0,u=0,t.mode=IF;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((c&255)<<8)+(c>>8))%31){n.msg="incorrect header check",t.mode=Wr;break}if((c&15)!==DF){n.msg="unknown compression method",t.mode=Wr;break}if(c>>>=4,u-=4,he=(c&15)+8,t.wbits===0&&(t.wbits=he),he>15||he>t.wbits){n.msg="invalid window size",t.mode=Wr;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=c&512?RF:Wc,c=0,u=0;break;case IF:for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(t.flags=c,(t.flags&255)!==DF){n.msg="unknown compression method",t.mode=Wr;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=Wr;break}t.head&&(t.head.text=c>>8&1),t.flags&512&&t.wrap&4&&(H[0]=c&255,H[1]=c>>>8&255,t.check=qi(t.check,H,2,0)),c=0,u=0,t.mode=AF;case AF:for(;u<32;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}t.head&&(t.head.time=c),t.flags&512&&t.wrap&4&&(H[0]=c&255,H[1]=c>>>8&255,H[2]=c>>>16&255,H[3]=c>>>24&255,t.check=qi(t.check,H,4,0)),c=0,u=0,t.mode=TF;case TF:for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}t.head&&(t.head.xflags=c&255,t.head.os=c>>8),t.flags&512&&t.wrap&4&&(H[0]=c&255,H[1]=c>>>8&255,t.check=qi(t.check,H,2,0)),c=0,u=0,t.mode=MF;case MF:if(t.flags&1024){for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}t.length=c,t.head&&(t.head.extra_len=c),t.flags&512&&t.wrap&4&&(H[0]=c&255,H[1]=c>>>8&255,t.check=qi(t.check,H,2,0)),c=0,u=0}else t.head&&(t.head.extra=null);t.mode=kF;case kF:if(t.flags&1024&&(f=t.length,f>a&&(f=a),f&&(t.head&&(he=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(o,o+f),he)),t.flags&512&&t.wrap&4&&(t.check=qi(t.check,r,f,o)),a-=f,o+=f,t.length-=f),t.length))break e;t.length=0,t.mode=NF;case NF:if(t.flags&2048){if(a===0)break e;f=0;do he=r[o+f++],t.head&&he&&t.length<65536&&(t.head.name+=String.fromCharCode(he));while(he&&f<a);if(t.flags&512&&t.wrap&4&&(t.check=qi(t.check,r,f,o)),a-=f,o+=f,he)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=PF;case PF:if(t.flags&4096){if(a===0)break e;f=0;do he=r[o+f++],t.head&&he&&t.length<65536&&(t.head.comment+=String.fromCharCode(he));while(he&&f<a);if(t.flags&512&&t.wrap&4&&(t.check=qi(t.check,r,f,o)),a-=f,o+=f,he)break e}else t.head&&(t.head.comment=null);t.mode=OF;case OF:if(t.flags&512){for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(t.wrap&4&&c!==(t.check&65535)){n.msg="header crc mismatch",t.mode=Wr;break}c=0,u=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Wc;break;case RF:for(;u<32;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}n.adler=t.check=YF(c),c=0,u=0,t.mode=J1;case J1:if(t.havedict===0)return n.next_out=s,n.avail_out=l,n.next_in=o,n.avail_in=a,t.hold=c,t.bits=u,Mne;n.adler=t.check=1,t.mode=Wc;case Wc:if(e===Ane||e===G1)break e;case PD:if(t.last){c>>>=u&7,u-=u&7,t.mode=RD;break}for(;u<3;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}switch(t.last=c&1,c>>>=1,u-=1,c&3){case 0:t.mode=LF;break;case 1:if(jne(t),t.mode=Y1,e===G1){c>>>=2,u-=2;break e}break;case 2:t.mode=jF;break;case 3:n.msg="invalid block type",t.mode=Wr}c>>>=2,u-=2;break;case LF:for(c>>>=u&7,u-=u&7;u<32;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){n.msg="invalid stored block lengths",t.mode=Wr;break}if(t.length=c&65535,c=0,u=0,t.mode=OD,e===G1)break e;case OD:t.mode=FF;case FF:if(f=t.length,f){if(f>a&&(f=a),f>l&&(f=l),f===0)break e;i.set(r.subarray(o,o+f),s),a-=f,o+=f,l-=f,s+=f,t.length-=f;break}t.mode=Wc;break;case jF:for(;u<14;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(t.nlen=(c&31)+257,c>>>=5,u-=5,t.ndist=(c&31)+1,c>>>=5,u-=5,t.ncode=(c&15)+4,c>>>=4,u-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=Wr;break}t.have=0,t.mode=BF;case BF:for(;t.have<t.ncode;){for(;u<3;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}t.lens[$[t.have++]]=c&7,c>>>=3,u-=3}for(;t.have<19;)t.lens[$[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,pe={bits:t.lenbits},Y=a0(Ine,t.lens,0,19,t.lencode,0,t.work,pe),t.lenbits=pe.bits,Y){n.msg="invalid code lengths set",t.mode=Wr;break}t.have=0,t.mode=VF;case VF:for(;t.have<t.nlen+t.ndist;){for(;C=t.lencode[c&(1<<t.lenbits)-1],S=C>>>24,A=C>>>16&255,F=C&65535,!(S<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(F<16)c>>>=S,u-=S,t.lens[t.have++]=F;else{if(F===16){for(O=S+2;u<O;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(c>>>=S,u-=S,t.have===0){n.msg="invalid bit length repeat",t.mode=Wr;break}he=t.lens[t.have-1],f=3+(c&3),c>>>=2,u-=2}else if(F===17){for(O=S+3;u<O;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}c>>>=S,u-=S,he=0,f=3+(c&7),c>>>=3,u-=3}else{for(O=S+7;u<O;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}c>>>=S,u-=S,he=0,f=11+(c&127),c>>>=7,u-=7}if(t.have+f>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=Wr;break}for(;f--;)t.lens[t.have++]=he}}if(t.mode===Wr)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=Wr;break}if(t.lenbits=9,pe={bits:t.lenbits},Y=a0(_4,t.lens,0,t.nlen,t.lencode,0,t.work,pe),t.lenbits=pe.bits,Y){n.msg="invalid literal/lengths set",t.mode=Wr;break}if(t.distbits=6,t.distcode=t.distdyn,pe={bits:t.distbits},Y=a0(w4,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,pe),t.distbits=pe.bits,Y){n.msg="invalid distances set",t.mode=Wr;break}if(t.mode=Y1,e===G1)break e;case Y1:t.mode=K1;case K1:if(a>=6&&l>=258){n.next_out=s,n.avail_out=l,n.next_in=o,n.avail_in=a,t.hold=c,t.bits=u,wne(n,p),s=n.next_out,i=n.output,l=n.avail_out,o=n.next_in,r=n.input,a=n.avail_in,c=t.hold,u=t.bits,t.mode===Wc&&(t.back=-1);break}for(t.back=0;C=t.lencode[c&(1<<t.lenbits)-1],S=C>>>24,A=C>>>16&255,F=C&65535,!(S<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(A&&(A&240)===0){for(P=S,U=A,se=F;C=t.lencode[se+((c&(1<<P+U)-1)>>P)],S=C>>>24,A=C>>>16&255,F=C&65535,!(P+S<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}c>>>=P,u-=P,t.back+=P}if(c>>>=S,u-=S,t.back+=S,t.length=F,A===0){t.mode=$F;break}if(A&32){t.back=-1,t.mode=Wc;break}if(A&64){n.msg="invalid literal/length code",t.mode=Wr;break}t.extra=A&15,t.mode=UF;case UF:if(t.extra){for(O=t.extra;u<O;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}t.length+=c&(1<<t.extra)-1,c>>>=t.extra,u-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=zF;case zF:for(;C=t.distcode[c&(1<<t.distbits)-1],S=C>>>24,A=C>>>16&255,F=C&65535,!(S<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if((A&240)===0){for(P=S,U=A,se=F;C=t.distcode[se+((c&(1<<P+U)-1)>>P)],S=C>>>24,A=C>>>16&255,F=C&65535,!(P+S<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}c>>>=P,u-=P,t.back+=P}if(c>>>=S,u-=S,t.back+=S,A&64){n.msg="invalid distance code",t.mode=Wr;break}t.offset=F,t.extra=A&15,t.mode=HF;case HF:if(t.extra){for(O=t.extra;u<O;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}t.offset+=c&(1<<t.extra)-1,c>>>=t.extra,u-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=Wr;break}t.mode=qF;case qF:if(l===0)break e;if(f=p-l,t.offset>f){if(f=t.offset-f,f>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=Wr;break}f>t.wnext?(f-=t.wnext,b=t.wsize-f):b=t.wnext-f,f>t.length&&(f=t.length),_=t.window}else _=i,b=s-t.offset,f=t.length;f>l&&(f=l),l-=f,t.length-=f;do i[s++]=_[b++];while(--f);t.length===0&&(t.mode=K1);break;case $F:if(l===0)break e;i[s++]=t.length,l--,t.mode=K1;break;case RD:if(t.wrap){for(;u<32;){if(a===0)break e;a--,c|=r[o++]<<u,u+=8}if(p-=l,n.total_out+=p,t.total+=p,t.wrap&4&&p&&(n.adler=t.check=t.flags?qi(t.check,i,p,s-p):f0(t.check,i,p,s-p)),p=l,t.wrap&4&&(t.flags?c:YF(c))!==t.check){n.msg="incorrect data check",t.mode=Wr;break}c=0,u=0}t.mode=WF;case WF:if(t.wrap&&t.flags){for(;u<32;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(t.wrap&4&&c!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=Wr;break}c=0,u=0}t.mode=GF;case GF:Y=Tne;break e;case Wr:Y=x4;break e;case S4:return C4;case E4:default:return Da}return n.next_out=s,n.avail_out=l,n.next_in=o,n.avail_in=a,t.hold=c,t.bits=u,(t.wsize||p!==n.avail_out&&t.mode<Wr&&(t.mode<RD||e!==EF))&&M4(n,n.output,n.next_out,p-n.avail_out),d-=n.avail_in,p-=n.avail_out,n.total_in+=d,n.total_out+=p,t.total+=p,t.wrap&4&&p&&(n.adler=t.check=t.flags?qi(t.check,i,p,n.next_out-p):f0(t.check,i,p,n.next_out-p)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Wc?128:0)+(t.mode===Y1||t.mode===OD?256:0),(d===0&&p===0||e===EF)&&Y===Of&&(Y=kne),Y},Vne=n=>{if(Rf(n))return Da;let e=n.state;return e.window&&(e.window=null),n.state=null,Of},Une=(n,e)=>{if(Rf(n))return Da;let t=n.state;return(t.wrap&2)===0?Da:(t.head=e,e.done=!1,Of)},zne=(n,e)=>{let t=e.length,r,i,o;return Rf(n)||(r=n.state,r.wrap!==0&&r.mode!==J1)?Da:r.mode===J1&&(i=1,i=f0(i,e,t,0),i!==r.check)?x4:(o=M4(n,e,t,t),o?(r.mode=S4,C4):(r.havedict=1,Of))},Hne=I4,qne=A4,$ne=D4,Wne=Fne,Gne=T4,Yne=Bne,Kne=Vne,Qne=Une,Zne=zne,Xne="pako inflate (from Nodeca project)",Yc={inflateReset:Hne,inflateReset2:qne,inflateResetKeep:$ne,inflateInit:Wne,inflateInit2:Gne,inflate:Yne,inflateEnd:Kne,inflateGetHeader:Qne,inflateSetDictionary:Zne,inflateInfo:Xne};function Jne(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var ere=Jne,k4=Object.prototype.toString,{Z_NO_FLUSH:tre,Z_FINISH:nre,Z_OK:g0,Z_STREAM_END:jD,Z_NEED_DICT:BD,Z_STREAM_ERROR:rre,Z_DATA_ERROR:QF,Z_MEM_ERROR:ire}=Cp;function b0(n){this.options=t_.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});let e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y4,this.strm.avail_out=0;let t=Yc.inflateInit2(this.strm,e.windowBits);if(t!==g0)throw new Error(Nf[t]);if(this.header=new ere,Yc.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=p0.string2buf(e.dictionary):k4.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Yc.inflateSetDictionary(this.strm,e.dictionary),t!==g0)))throw new Error(Nf[t])}b0.prototype.push=function(n,e){let t=this.strm,r=this.options.chunkSize,i=this.options.dictionary,o,s,a;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?nre:tre,k4.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),o=Yc.inflate(t,s),o===BD&&i&&(o=Yc.inflateSetDictionary(t,i),o===g0?o=Yc.inflate(t,s):o===QF&&(o=BD));t.avail_in>0&&o===jD&&t.state.wrap>0&&n[t.next_in]!==0;)Yc.inflateReset(t),o=Yc.inflate(t,s);switch(o){case rre:case QF:case BD:case ire:return this.onEnd(o),this.ended=!0,!1}if(a=t.avail_out,t.next_out&&(t.avail_out===0||o===jD))if(this.options.to==="string"){let l=p0.utf8border(t.output,t.next_out),c=t.next_out-l,u=p0.buf2string(t.output,l);t.next_out=c,t.avail_out=r-c,c&&t.output.set(t.output.subarray(l,l+c),0),this.onData(u)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===g0&&a===0)){if(o===jD)return o=Yc.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};b0.prototype.onData=function(n){this.chunks.push(n)};b0.prototype.onEnd=function(n){n===g0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=t_.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function tI(n,e){let t=new b0(e);if(t.push(n),t.err)throw t.msg||Nf[t.err];return t.result}function ore(n,e){return e=e||{},e.raw=!0,tI(n,e)}var sre=b0,are=tI,lre=ore,cre=tI,ure=Cp,dre={Inflate:sre,inflate:are,inflateRaw:lre,ungzip:cre,constants:ure},{Deflate:cAe,deflate:uAe,deflateRaw:dAe,gzip:fAe}=bne,{Inflate:fre,inflate:hre,inflateRaw:hAe,ungzip:pAe}=dre;var nI=fre,N4=hre;var O4=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;O4[n]=e}var P4=4294967295;function pre(n,e,t){let r=n;for(let i=0;i<t;i++)r=O4[(r^e[i])&255]^r>>>8;return r}function gre(n,e){return(pre(P4,n,e)^P4)>>>0}function rI(n,e,t){let r=n.readUint32(),i=gre(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${i}`)}function r_(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function i_(n,e,t,r){let i=0;for(;i<r;i++)e[i]=n[i];for(;i<t;i++)e[i]=n[i]+e[i-r]&255}function o_(n,e,t,r){let i=0;if(t.length===0)for(;i<r;i++)e[i]=n[i];else for(;i<r;i++)e[i]=n[i]+t[i]&255}function s_(n,e,t,r,i){let o=0;if(t.length===0){for(;o<i;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+(e[o-i]>>1)&255}else{for(;o<i;o++)e[o]=n[o]+(t[o]>>1)&255;for(;o<r;o++)e[o]=n[o]+(e[o-i]+t[o]>>1)&255}}function a_(n,e,t,r,i){let o=0;if(t.length===0){for(;o<i;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+e[o-i]&255}else{for(;o<i;o++)e[o]=n[o]+t[o]&255;for(;o<r;o++)e[o]=n[o]+mre(e[o-i],t[o],t[o-i])&255}}function mre(n,e,t){let r=n+e-t,i=Math.abs(r-n),o=Math.abs(r-e),s=Math.abs(r-t);return i<=o&&i<=s?n:o<=s?e:t}function R4(n,e,t,r,i,o){switch(n){case 0:r_(e,t,i);break;case 1:i_(e,t,i,o);break;case 2:o_(e,t,r,i);break;case 3:s_(e,t,r,i,o);break;case 4:a_(e,t,r,i,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}var vre=new Uint16Array([255]),yre=new Uint8Array(vre.buffer),bre=yre[0]===255;function L4(n){let{data:e,width:t,height:r,channels:i,depth:o}=n,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(o/8)*i,l=new Uint8Array(r*t*a),c=0;for(let u=0;u<7;u++){let d=s[u],p=Math.ceil((t-d.x)/d.xStep),f=Math.ceil((r-d.y)/d.yStep);if(p<=0||f<=0)continue;let b=p*a,_=new Uint8Array(b);for(let C=0;C<f;C++){let S=e[c++],A=e.subarray(c,c+b);c+=b;let F=new Uint8Array(b);R4(S,A,F,_,b,a),_.set(F);for(let P=0;P<p;P++){let U=d.x+P*d.xStep,se=d.y+C*d.yStep;if(!(U>=t||se>=r))for(let he=0;he<a;he++)l[(se*t+U)*a+he]=F[P*a+he]}}}if(o===16){let u=new Uint16Array(l.buffer);if(bre)for(let d=0;d<u.length;d++)u[d]=_re(u[d]);return u}else return l}function _re(n){return(n&255)<<8|n>>8&255}var wre=new Uint16Array([255]),xre=new Uint8Array(wre.buffer),Cre=xre[0]===255,Sre=new Uint8Array(0);function iI(n){let{data:e,width:t,height:r,channels:i,depth:o}=n,s=Math.ceil(o/8)*i,a=Math.ceil(o/8*i*t),l=new Uint8Array(r*a),c=Sre,u=0,d,p;for(let f=0;f<r;f++){switch(d=e.subarray(u+1,u+1+a),p=l.subarray(f*a,(f+1)*a),e[u]){case 0:r_(d,p,a);break;case 1:i_(d,p,a,s);break;case 2:o_(d,p,c,a);break;case 3:s_(d,p,c,a,s);break;case 4:a_(d,p,c,a,s);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}c=p,u+=a+1}if(o===16){let f=new Uint16Array(l.buffer);if(Cre)for(let b=0;b<f.length;b++)f[b]=Ere(f[b]);return f}else return l}function Ere(n){return(n&255)<<8|n>>8&255}var l_=Uint8Array.of(137,80,78,71,13,10,26,10);function oI(n){if(!F4(n.readBytes(l_.length)))throw new Error("wrong PNG signature")}function F4(n){if(n.length<l_.length)return!1;for(let e=0;e<l_.length;e++)if(n[e]!==l_[e])return!1;return!0}var j4="tEXt",Ire=0,B4=new TextDecoder("latin1");function Are(n){if(Mre(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}var Tre=/^[\u0000-\u00FF]*$/;function Mre(n){if(!Tre.test(n))throw new Error("invalid latin1 text")}function V4(n,e,t){let r=sI(e);n[r]=kre(e,t-r.length-1)}function sI(n){for(n.mark();n.readByte()!==Ire;);let e=n.offset;n.reset();let t=B4.decode(n.readBytes(e-n.offset-1));return n.skip(1),Are(t),t}function kre(n,e){return B4.decode(n.readBytes(e))}var $o={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},_0={UNKNOWN:-1,DEFLATE:0},c_={UNKNOWN:-1,ADAPTIVE:0},w0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},x0={NONE:0,BACKGROUND:1,PREVIOUS:2},u_={SOURCE:0,OVER:1};var d_=class extends t0{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);let{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new nI,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=_0.UNKNOWN,this._filterMethod=c_.UNKNOWN,this._interlaceMethod=w0.UNKNOWN,this._colorType=$o.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(oI(this);!this._end;){let e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(oI(this);!this._end;){let e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){let r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case j4:V4(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?rI(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){let r=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?rI(this,e+4,t):this.skip(4)}decodeIHDR(){let e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=Nre(this.readUint8());let t=this.readUint8();this._colorType=t;let r;switch(t){case $o.GREYSCALE:r=1;break;case $o.TRUECOLOUR:r=3;break;case $o.INDEXED_COLOUR:r=1;break;case $o.GREYSCALE_ALPHA:r=2;break;case $o.TRUECOLOUR_ALPHA:r=4;break;case $o.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==_0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){let e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);let t=e/3;this._hasPalette=!0;let r=[];this._palette=r;for(let i=0;i<t;i++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case $o.GREYSCALE:case $o.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case $o.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){let r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case $o.UNKNOWN:case $o.GREYSCALE_ALPHA:case $o.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){let t=sI(this),r=this.readUint8();if(r!==_0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);let i=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:N4(i)}}decodepHYs(){let e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){let t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=iI({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{let i=this._apng.frames.at(e-1);this.disposeFrame(r,i,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case x0.NONE:break;case x0.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){let s=(i*e.width+o)*this._png.channels;for(let a=0;a<this._png.channels;a++)r.data[s+a]=0}break;case x0.PREVIOUS:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){let r=1<<this._png.depth,i=(o,s)=>{let a=((o+t.yOffset)*this._png.width+t.xOffset+s)*this._png.channels,l=(o*t.width+s)*this._png.channels;return{index:a,frameIndex:l}};switch(t.blendOp){case u_.SOURCE:for(let o=0;o<t.height;o++)for(let s=0;s<t.width;s++){let{index:a,frameIndex:l}=i(o,s);for(let c=0;c<this._png.channels;c++)e.data[a+c]=t.data[l+c]}break;case u_.OVER:for(let o=0;o<t.height;o++)for(let s=0;s<t.width;s++){let{index:a,frameIndex:l}=i(o,s);for(let c=0;c<this._png.channels;c++){let u=t.data[l+this._png.channels-1]/r,d=c%(this._png.channels-1)===0?1:t.data[l+c],p=Math.floor(u*d+(1-u)*e.data[a+c]);e.data[a+c]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);let e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==c_.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===w0.NO_INTERLACE)this._png.data=iI({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===w0.ADAM7)this._png.data=L4({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){let e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:x0.NONE,blendOp:u_.SOURCE,data:e}),this._inflator=new nI,this._writingDataChunks=!1}};function Nre(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}function U4(n,e){return new d_(n,e).decode()}var Qt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function aI(){Qt.console&&typeof Qt.console.log=="function"&&Qt.console.log.apply(Qt.console,arguments)}var Ar={log:aI,warn:function(n){Qt.console&&(typeof Qt.console.warn=="function"?Qt.console.warn.apply(Qt.console,arguments):aI.call(null,arguments))},error:function(n){Qt.console&&(typeof Qt.console.error=="function"?Qt.console.error.apply(Qt.console,arguments):aI(n))}};function lI(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Lf(r.response,e,t)},r.onerror=function(){Ar.error("could not download file")},r.send()}function z4(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch(t){}return e.status>=200&&e.status<=299}function f_(n){try{n.dispatchEvent(new MouseEvent("click"))}catch(t){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Lf=Qt.saveAs||((typeof window>"u"?"undefined":_r(window))!=="object"||window!==Qt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Qt.URL||Qt.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?z4(i.href)?lI(n,e,t):f_(i,i.target="_blank"):f_(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){f_(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(z4(n))lI(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){f_(r)})}else navigator.msSaveOrOpenBlob((function(i,o){return o===void 0?o={autoBom:!1}:_r(o)!=="object"&&(Ar.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return lI(n,e,t);var i=n.type==="application/octet-stream",o=/constructor/i.test(Qt.HTMLElement)||Qt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&o)&&(typeof FileReader>"u"?"undefined":_r(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var u=a.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},a.readAsDataURL(n)}else{var l=Qt.URL||Qt.webkitURL,c=l.createObjectURL(n);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function f6(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,o=t[r].process,s=i.exec(n);s&&(e=o(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}var m_=Qt.atob.bind(Qt),H4=Qt.btoa.bind(Qt);function cI(n,e){var t=n[0],r=n[1],i=n[2],o=n[3];t=Eo(t,r,i,o,e[0],7,-680876936),o=Eo(o,t,r,i,e[1],12,-389564586),i=Eo(i,o,t,r,e[2],17,606105819),r=Eo(r,i,o,t,e[3],22,-1044525330),t=Eo(t,r,i,o,e[4],7,-176418897),o=Eo(o,t,r,i,e[5],12,1200080426),i=Eo(i,o,t,r,e[6],17,-1473231341),r=Eo(r,i,o,t,e[7],22,-45705983),t=Eo(t,r,i,o,e[8],7,1770035416),o=Eo(o,t,r,i,e[9],12,-1958414417),i=Eo(i,o,t,r,e[10],17,-42063),r=Eo(r,i,o,t,e[11],22,-1990404162),t=Eo(t,r,i,o,e[12],7,1804603682),o=Eo(o,t,r,i,e[13],12,-40341101),i=Eo(i,o,t,r,e[14],17,-1502002290),t=Do(t,r=Eo(r,i,o,t,e[15],22,1236535329),i,o,e[1],5,-165796510),o=Do(o,t,r,i,e[6],9,-1069501632),i=Do(i,o,t,r,e[11],14,643717713),r=Do(r,i,o,t,e[0],20,-373897302),t=Do(t,r,i,o,e[5],5,-701558691),o=Do(o,t,r,i,e[10],9,38016083),i=Do(i,o,t,r,e[15],14,-660478335),r=Do(r,i,o,t,e[4],20,-405537848),t=Do(t,r,i,o,e[9],5,568446438),o=Do(o,t,r,i,e[14],9,-1019803690),i=Do(i,o,t,r,e[3],14,-187363961),r=Do(r,i,o,t,e[8],20,1163531501),t=Do(t,r,i,o,e[13],5,-1444681467),o=Do(o,t,r,i,e[2],9,-51403784),i=Do(i,o,t,r,e[7],14,1735328473),t=Io(t,r=Do(r,i,o,t,e[12],20,-1926607734),i,o,e[5],4,-378558),o=Io(o,t,r,i,e[8],11,-2022574463),i=Io(i,o,t,r,e[11],16,1839030562),r=Io(r,i,o,t,e[14],23,-35309556),t=Io(t,r,i,o,e[1],4,-1530992060),o=Io(o,t,r,i,e[4],11,1272893353),i=Io(i,o,t,r,e[7],16,-155497632),r=Io(r,i,o,t,e[10],23,-1094730640),t=Io(t,r,i,o,e[13],4,681279174),o=Io(o,t,r,i,e[0],11,-358537222),i=Io(i,o,t,r,e[3],16,-722521979),r=Io(r,i,o,t,e[6],23,76029189),t=Io(t,r,i,o,e[9],4,-640364487),o=Io(o,t,r,i,e[12],11,-421815835),i=Io(i,o,t,r,e[15],16,530742520),t=Ao(t,r=Io(r,i,o,t,e[2],23,-995338651),i,o,e[0],6,-198630844),o=Ao(o,t,r,i,e[7],10,1126891415),i=Ao(i,o,t,r,e[14],15,-1416354905),r=Ao(r,i,o,t,e[5],21,-57434055),t=Ao(t,r,i,o,e[12],6,1700485571),o=Ao(o,t,r,i,e[3],10,-1894986606),i=Ao(i,o,t,r,e[10],15,-1051523),r=Ao(r,i,o,t,e[1],21,-2054922799),t=Ao(t,r,i,o,e[8],6,1873313359),o=Ao(o,t,r,i,e[15],10,-30611744),i=Ao(i,o,t,r,e[6],15,-1560198380),r=Ao(r,i,o,t,e[13],21,1309151649),t=Ao(t,r,i,o,e[4],6,-145523070),o=Ao(o,t,r,i,e[11],10,-1120210379),i=Ao(i,o,t,r,e[2],15,718787259),r=Ao(r,i,o,t,e[9],21,-343485551),n[0]=ad(t,n[0]),n[1]=ad(r,n[1]),n[2]=ad(i,n[2]),n[3]=ad(o,n[3])}function C_(n,e,t,r,i,o){return e=ad(ad(e,n),ad(r,o)),ad(e<<i|e>>>32-i,t)}function Eo(n,e,t,r,i,o,s){return C_(e&t|~e&r,n,e,i,o,s)}function Do(n,e,t,r,i,o,s){return C_(e&r|t&~r,n,e,i,o,s)}function Io(n,e,t,r,i,o,s){return C_(e^t^r,n,e,i,o,s)}function Ao(n,e,t,r,i,o,s){return C_(t^(e|~r),n,e,i,o,s)}function h6(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)cI(r,Pre(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(cI(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,cI(r,i),r}function Pre(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var q4="0123456789abcdef".split("");function Ore(n){for(var e="",t=0;t<4;t++)e+=q4[n>>8*t+4&15]+q4[n>>8*t&15];return e}function Rre(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function gI(n){return h6(n).map(Rre).join("")}var Lre=(function(n){for(var e=0;e<n.length;e++)n[e]=Ore(n[e]);return n.join("")})(h6("hello"))!="5d41402abc4b2a76b9719d911017c592";function ad(n,e){if(Lre){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function mI(n,e){var t,r,i,o;if(n!==t){for(var s=(i=n,o=1+(256/n.length|0),new Array(o+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+s.charCodeAt(l))%256,a[l]=a[c],a[c]=u}t=n,r=a}else a=r;var d=e.length,p=0,f=0,b="";for(l=0;l<d;l++)f=(f+(u=a[p=(p+1)%256]))%256,a[p]=a[f],a[f]=u,s=a[(a[p]+a[f])%256],b+=String.fromCharCode(e.charCodeAt(l)^s);return b}var $4={print:4,modify:8,copy:16,"annot-forms":32};function Ap(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(a){if($4.perm!==void 0)throw new Error("Invalid permission: "+a);i+=$4[a]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var o=(e+this.padding).substr(0,32),s=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^i)),this.encryptionKey=gI(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=mI(this.encryptionKey,this.padding)}function Tp(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):n[r]}return e}function W4(n){if(_r(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[r,!!i],o},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var o in e[t]){var s=e[t][o];try{s[0].apply(n,r)}catch(a){Qt.console&&Ar.error("jsPDF PubSub Error",a.message,a)}s[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function w_(n){if(!(this instanceof w_))return new w_(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function p6(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Ff(n,e,t,r,i){if(!(this instanceof Ff))return new Ff(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,p6.call(this,r,i)}function Mp(n,e,t,r,i){if(!(this instanceof Mp))return new Mp(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,p6.call(this,r,i)}function Pt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],o=arguments[3],s=[],a=1,l=16,c="S",u=null;_r(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,o=n.compress||n.compressPdf||o,(u=n.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(l=n.floatPrecision),c=n.defaultPathOperation||"S"),s=n.filters||(o===!0?["FlateEncode"]:s),r=r||"mm",t=(""+(t||"P")).toLowerCase();var d=n.putOnlyUsedFonts||!1,p={},f={internal:{},__private__:{}};f.__private__.PubSub=W4;var b="1.3",_=f.__private__.getPdfVersion=function(){return b};f.__private__.setPdfVersion=function(y){b=y};var C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return C};var S=f.__private__.getPageFormat=function(y){return C[y]};i=i||"a4";var A="compat",F="advanced",P=A;function U(){this.saveGraphicsState(),J(new Bt(Wt,0,0,-Wt,0,ml()*Wt).toString()+" cm"),this.setFontSize(this.getFontSize()/Wt),c="n",P=F}function se(){this.restoreGraphicsState(),c="S",P=A}var he=f.__private__.combineFontStyleAndFontWeight=function(y,T){if(y=="bold"&&T=="normal"||y=="bold"&&T==400||y=="normal"&&T=="italic"||y=="bold"&&T=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return T&&(y=T==400||T==="normal"?y==="italic"?"italic":"normal":T!=700&&T!=="bold"||y!=="normal"?(T==700?"bold":T)+""+y:"bold"),y};f.advancedAPI=function(y){var T=P===A;return T&&U.call(this),typeof y!="function"||(y(this),T&&se.call(this)),this},f.compatAPI=function(y){var T=P===F;return T&&se.call(this),typeof y!="function"||(y(this),T&&U.call(this)),this},f.isAdvancedAPI=function(){return P===F};var Y,H=function(y){if(P!==F)throw new Error(y+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},pe=f.roundToPrecision=f.__private__.roundToPrecision=function(y,T){var te=e||T;if(isNaN(y)||isNaN(te))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return y.toFixed(te).replace(/0+$/,"")};Y=f.hpf=f.__private__.hpf=typeof l=="number"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return pe(y,l)}:l==="smart"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return pe(y,y>-1&&y<1?16:5)}:function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return pe(y,16)};var O=f.f2=f.__private__.f2=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f2");return pe(y,2)},$=f.__private__.f3=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f3");return pe(y,3)},le=f.scale=f.__private__.scale=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.scale");return P===A?y*Wt:P===F?y:void 0},V=function(y){return le((function(T){return P===A?ml()-T:P===F?T:void 0})(y))};f.__private__.setPrecision=f.setPrecision=function(y){typeof parseInt(y,10)=="number"&&(e=parseInt(y,10))};var Q,xe="00000000000000000000000000000000",oe=f.__private__.getFileId=function(){return xe},Z=f.__private__.setFileId=function(y){return xe=y!==void 0&&/^[a-fA-F0-9]{32}$/.test(y)?y.toUpperCase():xe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Tr=new Ap(u.userPermissions,u.userPassword,u.ownerPassword,xe)),xe};f.setFileId=function(y){return Z(y),this},f.getFileId=function(){return oe()};var ie=f.__private__.convertDateToPDFDate=function(y){var T=y.getTimezoneOffset(),te=T<0?"+":"-",me=Math.floor(Math.abs(T/60)),Te=Math.abs(T%60),Ve=[te,X(me),"'",X(Te),"'"].join("");return["D:",y.getFullYear(),X(y.getMonth()+1),X(y.getDate()),X(y.getHours()),X(y.getMinutes()),X(y.getSeconds()),Ve].join("")},Me=f.__private__.convertPDFDateToDate=function(y){var T=parseInt(y.substr(2,4),10),te=parseInt(y.substr(6,2),10)-1,me=parseInt(y.substr(8,2),10),Te=parseInt(y.substr(10,2),10),Ve=parseInt(y.substr(12,2),10),Ke=parseInt(y.substr(14,2),10);return new Date(T,te,me,Te,Ve,Ke,0)},Ee=f.__private__.setCreationDate=function(y){var T;if(y===void 0&&(y=new Date),y instanceof Date)T=ie(y);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(y))throw new Error("Invalid argument passed to jsPDF.setCreationDate");T=y}return Q=T},k=f.__private__.getCreationDate=function(y){var T=Q;return y==="jsDate"&&(T=Me(Q)),T};f.setCreationDate=function(y){return Ee(y),this},f.getCreationDate=function(y){return k(y)};var W,X=f.__private__.padd2=function(y){return("0"+parseInt(y)).slice(-2)},de=f.__private__.padd2Hex=function(y){return("00"+(y=y.toString())).substr(y.length)},ve=0,ue=[],je=[],Be=0,Re=[],Je=[],vt=!1,ht=je;f.__private__.setCustomOutputDestination=function(y){vt=!0,ht=y};var Lt=function(y){vt||(ht=y)};f.__private__.resetCustomOutputDestination=function(){vt=!1,ht=je};var J=f.__private__.out=function(y){return y=y.toString(),Be+=y.length+1,ht.push(y),ht},mt=f.__private__.write=function(y){return J(arguments.length===1?y.toString():Array.prototype.join.call(arguments," "))},dn=f.__private__.getArrayBuffer=function(y){for(var T=y.length,te=new ArrayBuffer(T),me=new Uint8Array(te);T--;)me[T]=y.charCodeAt(T);return te},Ft=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Ft};var Qe=n.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(y){return Qe=P===F?y/Wt:y,this};var Vt,_t=f.__private__.getFontSize=f.getFontSize=function(){return P===A?Qe:Qe*Wt},jt=n.R2L||!1;f.__private__.setR2L=f.setR2L=function(y){return jt=y,this},f.__private__.getR2L=f.getR2L=function(){return jt};var Nt,An=f.__private__.setZoomMode=function(y){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(y))Vt=y;else if(isNaN(y)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(y)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+y+'" is not recognized.');Vt=y}else Vt=parseInt(y,10)};f.__private__.getZoomMode=function(){return Vt};var on,Kt=f.__private__.setPageMode=function(y){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(y)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+y+'" is not recognized.');Nt=y};f.__private__.getPageMode=function(){return Nt};var hn=f.__private__.setLayoutMode=function(y){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(y)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+y+'" is not recognized.');on=y};f.__private__.getLayoutMode=function(){return on},f.__private__.setDisplayMode=f.setDisplayMode=function(y,T,te){return An(y),hn(T),Kt(te),this};var Sn={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(y){if(Object.keys(Sn).indexOf(y)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Sn[y]},f.__private__.getDocumentProperties=function(){return Sn},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(y){for(var T in Sn)Sn.hasOwnProperty(T)&&y[T]&&(Sn[T]=y[T]);return this},f.__private__.setDocumentProperty=function(y,T){if(Object.keys(Sn).indexOf(y)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Sn[y]=T};var Et,Wt,It,Fr,fn,et={},Jt={},Zn=[],Ot={},Xe={},zt={},Zt={},gr=null,pn=0,Ut=[],Xn=new W4(f),nc=n.hotfixes||[],Gr={},co={},Wo=[],Bt=function y(T,te,me,Te,Ve,Ke){if(!(this instanceof y))return new y(T,te,me,Te,Ve,Ke);isNaN(T)&&(T=1),isNaN(te)&&(te=0),isNaN(me)&&(me=0),isNaN(Te)&&(Te=1),isNaN(Ve)&&(Ve=0),isNaN(Ke)&&(Ke=0),this._matrix=[T,te,me,Te,Ve,Ke]};Object.defineProperty(Bt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(Bt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(Bt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(Bt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(Bt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(Bt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(Bt.prototype,"a",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(Bt.prototype,"b",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(Bt.prototype,"c",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(Bt.prototype,"d",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(Bt.prototype,"e",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(Bt.prototype,"f",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(Bt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Bt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Bt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Bt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Bt.prototype.join=function(y){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Y).join(y)},Bt.prototype.multiply=function(y){var T=y.sx*this.sx+y.shy*this.shx,te=y.sx*this.shy+y.shy*this.sy,me=y.shx*this.sx+y.sy*this.shx,Te=y.shx*this.shy+y.sy*this.sy,Ve=y.tx*this.sx+y.ty*this.shx+this.tx,Ke=y.tx*this.shy+y.ty*this.sy+this.ty;return new Bt(T,te,me,Te,Ve,Ke)},Bt.prototype.decompose=function(){var y=this.sx,T=this.shy,te=this.shx,me=this.sy,Te=this.tx,Ve=this.ty,Ke=Math.sqrt(y*y+T*T),wt=(y/=Ke)*te+(T/=Ke)*me;te-=y*wt,me-=T*wt;var At=Math.sqrt(te*te+me*me);return wt/=At,y*(me/=At)<T*(te/=At)&&(y=-y,T=-T,wt=-wt,Ke=-Ke),{scale:new Bt(Ke,0,0,At,0,0),translate:new Bt(1,0,0,1,Te,Ve),rotate:new Bt(y,T,-T,y,0,0),skew:new Bt(1,0,wt,1,0,0)}},Bt.prototype.toString=function(y){return this.join(" ")},Bt.prototype.inversed=function(){var y=this.sx,T=this.shy,te=this.shx,me=this.sy,Te=this.tx,Ve=this.ty,Ke=1/(y*me-T*te),wt=me*Ke,At=-T*Ke,qt=-te*Ke,en=y*Ke;return new Bt(wt,At,qt,en,-wt*Te-qt*Ve,-At*Te-en*Ve)},Bt.prototype.applyToPoint=function(y){var T=y.x*this.sx+y.y*this.shx+this.tx,te=y.x*this.shy+y.y*this.sy+this.ty;return new Qo(T,te)},Bt.prototype.applyToRectangle=function(y){var T=this.applyToPoint(y),te=this.applyToPoint(new Qo(y.x+y.w,y.y+y.h));return new cc(T.x,T.y,te.x-T.x,te.y-T.y)},Bt.prototype.clone=function(){var y=this.sx,T=this.shy,te=this.shx,me=this.sy,Te=this.tx,Ve=this.ty;return new Bt(y,T,te,me,Te,Ve)},f.Matrix=Bt;var zn=f.matrixMult=function(y,T){return T.multiply(y)},mr=new Bt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=mr;var Go=function(y,T){if(!Xe[y]){var te=(T instanceof Ff?"Sh":"P")+(Object.keys(Ot).length+1).toString(10);T.id=te,Xe[y]=te,Ot[te]=T,Xn.publish("addPattern",T)}};f.ShadingPattern=Ff,f.TilingPattern=Mp,f.addShadingPattern=function(y,T){return H("addShadingPattern()"),Go(y,T),this},f.beginTilingPattern=function(y){H("beginTilingPattern()"),wd(y.boundingBox[0],y.boundingBox[1],y.boundingBox[2]-y.boundingBox[0],y.boundingBox[3]-y.boundingBox[1],y.matrix)},f.endTilingPattern=function(y,T){H("endTilingPattern()"),T.stream=Je[W].join(`
`),Go(y,T),Xn.publish("endTilingPattern",T),Wo.pop().restore()};var Wi,Cr=f.__private__.newObject=function(){var y=Yr();return Di(y,!0),y},Yr=f.__private__.newObjectDeferred=function(){return ve++,ue[ve]=function(){return Be},ve},Di=function(y,T){return T=typeof T=="boolean"&&T,ue[y]=Be,T&&J(y+" 0 obj"),y},uo=f.__private__.newAdditionalObject=function(){var y={objId:Yr(),content:""};return Re.push(y),y},Mo=Yr(),mi=Yr(),ko=f.__private__.decodeColorString=function(y){var T=y.split(" ");if(T.length!==2||T[1]!=="g"&&T[1]!=="G")T.length!==5||T[4]!=="k"&&T[4]!=="K"||(T=[(1-T[0])*(1-T[3]),(1-T[1])*(1-T[3]),(1-T[2])*(1-T[3]),"r"]);else{var te=parseFloat(T[0]);T=[te,te,te,"r"]}for(var me="#",Te=0;Te<3;Te++)me+=("0"+Math.floor(255*parseFloat(T[Te])).toString(16)).slice(-2);return me},bs=f.__private__.encodeColorString=function(y){var T;typeof y=="string"&&(y={ch1:y});var te=y.ch1,me=y.ch2,Te=y.ch3,Ve=y.ch4,Ke=y.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof te=="string"&&te.charAt(0)!=="#"){var wt=new f6(te);if(wt.ok)te=wt.toHex();else if(!/^\d*\.?\d*$/.test(te))throw new Error('Invalid color "'+te+'" passed to jsPDF.encodeColorString.')}if(typeof te=="string"&&/^#[0-9A-Fa-f]{3}$/.test(te)&&(te="#"+te[1]+te[1]+te[2]+te[2]+te[3]+te[3]),typeof te=="string"&&/^#[0-9A-Fa-f]{6}$/.test(te)){var At=parseInt(te.substr(1),16);te=At>>16&255,me=At>>8&255,Te=255&At}if(me===void 0||Ve===void 0&&te===me&&me===Te)T=typeof te=="string"?te+" "+Ke[0]:y.precision===2?O(te/255)+" "+Ke[0]:$(te/255)+" "+Ke[0];else if(Ve===void 0||_r(Ve)==="object"){if(Ve&&!isNaN(Ve.a)&&Ve.a===0)return["1.","1.","1.",Ke[1]].join(" ");T=typeof te=="string"?[te,me,Te,Ke[1]].join(" "):y.precision===2?[O(te/255),O(me/255),O(Te/255),Ke[1]].join(" "):[$(te/255),$(me/255),$(Te/255),Ke[1]].join(" ")}else T=typeof te=="string"?[te,me,Te,Ve,Ke[2]].join(" "):y.precision===2?[O(te),O(me),O(Te),O(Ve),Ke[2]].join(" "):[$(te),$(me),$(Te),$(Ve),Ke[2]].join(" ");return T},vi=f.__private__.getFilters=function(){return s},No=f.__private__.putStream=function(y){var T=(y=y||{}).data||"",te=y.filters||vi(),me=y.alreadyAppliedFilters||[],Te=y.addLength1||!1,Ve=T.length,Ke=y.objectId,wt=function(Qr){return Qr};if(u!==null&&Ke===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(wt=Tr.encryptor(Ke,0));var At={};te===!0&&(te=["FlateEncode"]);var qt=y.additionalKeyValues||[],en=(At=Pt.API.processDataByFilters!==void 0?Pt.API.processDataByFilters(T,te):{data:T,reverseChain:[]}).reverseChain+(Array.isArray(me)?me.join(" "):me.toString());if(At.data.length!==0&&(qt.push({key:"Length",value:At.data.length}),Te===!0&&qt.push({key:"Length1",value:Ve})),en.length!=0)if(en.split("/").length-1==1)qt.push({key:"Filter",value:en});else{qt.push({key:"Filter",value:"["+en+"]"});for(var On=0;On<qt.length;On+=1)if(qt[On].key==="DecodeParms"){for(var yr=[],Hr=0;Hr<At.reverseChain.split("/").length-1;Hr+=1)yr.push("null");yr.push(qt[On].value),qt[On].value="["+yr.join(" ")+"]"}}J("<<");for(var Hn=0;Hn<qt.length;Hn++)J("/"+qt[Hn].key+" "+qt[Hn].value);J(">>"),At.data.length!==0&&(J("stream"),J(wt(At.data)),J("endstream"))},Po=f.__private__.putPage=function(y){var T=y.number,te=y.data,me=y.objId,Te=y.contentsObjId;Di(me,!0),J("<</Type /Page"),J("/Parent "+y.rootDictionaryObjId+" 0 R"),J("/Resources "+y.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(Y(y.mediaBox.bottomLeftX))+" "+parseFloat(Y(y.mediaBox.bottomLeftY))+" "+Y(y.mediaBox.topRightX)+" "+Y(y.mediaBox.topRightY)+"]"),y.cropBox!==null&&J("/CropBox ["+Y(y.cropBox.bottomLeftX)+" "+Y(y.cropBox.bottomLeftY)+" "+Y(y.cropBox.topRightX)+" "+Y(y.cropBox.topRightY)+"]"),y.bleedBox!==null&&J("/BleedBox ["+Y(y.bleedBox.bottomLeftX)+" "+Y(y.bleedBox.bottomLeftY)+" "+Y(y.bleedBox.topRightX)+" "+Y(y.bleedBox.topRightY)+"]"),y.trimBox!==null&&J("/TrimBox ["+Y(y.trimBox.bottomLeftX)+" "+Y(y.trimBox.bottomLeftY)+" "+Y(y.trimBox.topRightX)+" "+Y(y.trimBox.topRightY)+"]"),y.artBox!==null&&J("/ArtBox ["+Y(y.artBox.bottomLeftX)+" "+Y(y.artBox.bottomLeftY)+" "+Y(y.artBox.topRightX)+" "+Y(y.artBox.topRightY)+"]"),typeof y.userUnit=="number"&&y.userUnit!==1&&J("/UserUnit "+y.userUnit),Xn.publish("putPage",{objId:me,pageContext:Ut[T],pageNumber:T,page:te}),J("/Contents "+Te+" 0 R"),J(">>"),J("endobj");var Ve=te.join(`
`);return P===F&&(Ve+=`
Q`),Di(Te,!0),No({data:Ve,filters:vi(),objectId:Te}),J("endobj"),me},_s=f.__private__.putPages=function(){var y,T,te=[];for(y=1;y<=pn;y++)Ut[y].objId=Yr(),Ut[y].contentsObjId=Yr();for(y=1;y<=pn;y++)te.push(Po({number:y,data:Je[y],objId:Ut[y].objId,contentsObjId:Ut[y].contentsObjId,mediaBox:Ut[y].mediaBox,cropBox:Ut[y].cropBox,bleedBox:Ut[y].bleedBox,trimBox:Ut[y].trimBox,artBox:Ut[y].artBox,userUnit:Ut[y].userUnit,rootDictionaryObjId:Mo,resourceDictionaryObjId:mi}));Di(Mo,!0),J("<</Type /Pages");var me="/Kids [";for(T=0;T<pn;T++)me+=te[T]+" 0 R ";J(me+"]"),J("/Count "+pn),J(">>"),J("endobj"),Xn.publish("postPutPages")},Aa=function(y){Xn.publish("putFont",{font:y,out:J,newObject:Cr,putStream:No}),y.isAlreadyPutted!==!0&&(y.objectNumber=Cr(),J("<<"),J("/Type /Font"),J("/BaseFont /"+Tp(y.postScriptName)),J("/Subtype /Type1"),typeof y.encoding=="string"&&J("/Encoding /"+y.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},vr=function(y){y.objectNumber=Cr();var T=[];T.push({key:"Type",value:"/XObject"}),T.push({key:"Subtype",value:"/Form"}),T.push({key:"BBox",value:"["+[Y(y.x),Y(y.y),Y(y.x+y.width),Y(y.y+y.height)].join(" ")+"]"}),T.push({key:"Matrix",value:"["+y.matrix.toString()+"]"});var te=y.pages[1].join(`
`);No({data:te,additionalKeyValues:T,objectId:y.objectNumber}),J("endobj")},Yo=function(y,T){T||(T=21);var te=Cr(),me=(function(Ke,wt){var At,qt=[],en=1/(wt-1);for(At=0;At<1;At+=en)qt.push(At);if(qt.push(1),Ke[0].offset!=0){var On={offset:0,color:Ke[0].color};Ke.unshift(On)}if(Ke[Ke.length-1].offset!=1){var yr={offset:1,color:Ke[Ke.length-1].color};Ke.push(yr)}for(var Hr="",Hn=0,Qr=0;Qr<qt.length;Qr++){for(At=qt[Qr];At>Ke[Hn+1].offset;)Hn++;var qr=Ke[Hn].offset,ti=(At-qr)/(Ke[Hn+1].offset-qr),Es=Ke[Hn].color,Jo=Ke[Hn+1].color;Hr+=de(Math.round((1-ti)*Es[0]+ti*Jo[0]).toString(16))+de(Math.round((1-ti)*Es[1]+ti*Jo[1]).toString(16))+de(Math.round((1-ti)*Es[2]+ti*Jo[2]).toString(16))}return Hr.trim()})(y.colors,T),Te=[];Te.push({key:"FunctionType",value:"0"}),Te.push({key:"Domain",value:"[0.0 1.0]"}),Te.push({key:"Size",value:"["+T+"]"}),Te.push({key:"BitsPerSample",value:"8"}),Te.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Te.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),No({data:me,additionalKeyValues:Te,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:te}),J("endobj"),y.objectNumber=Cr(),J("<< /ShadingType "+y.type),J("/ColorSpace /DeviceRGB");var Ve="/Coords ["+Y(parseFloat(y.coords[0]))+" "+Y(parseFloat(y.coords[1]))+" ";y.type===2?Ve+=Y(parseFloat(y.coords[2]))+" "+Y(parseFloat(y.coords[3])):Ve+=Y(parseFloat(y.coords[2]))+" "+Y(parseFloat(y.coords[3]))+" "+Y(parseFloat(y.coords[4]))+" "+Y(parseFloat(y.coords[5])),J(Ve+="]"),y.matrix&&J("/Matrix ["+y.matrix.toString()+"]"),J("/Function "+te+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},fo=function(y,T){var te=Yr(),me=Cr();T.push({resourcesOid:te,objectOid:me}),y.objectNumber=me;var Te=[];Te.push({key:"Type",value:"/Pattern"}),Te.push({key:"PatternType",value:"1"}),Te.push({key:"PaintType",value:"1"}),Te.push({key:"TilingType",value:"1"}),Te.push({key:"BBox",value:"["+y.boundingBox.map(Y).join(" ")+"]"}),Te.push({key:"XStep",value:Y(y.xStep)}),Te.push({key:"YStep",value:Y(y.yStep)}),Te.push({key:"Resources",value:te+" 0 R"}),y.matrix&&Te.push({key:"Matrix",value:"["+y.matrix.toString()+"]"}),No({data:y.stream,additionalKeyValues:Te,objectId:y.objectNumber}),J("endobj")},qf=function(y){for(var T in y.objectNumber=Cr(),J("<<"),y)switch(T){case"opacity":J("/ca "+O(y[T]));break;case"stroke-opacity":J("/CA "+O(y[T]))}J(">>"),J("endobj")},ea=function(y){Di(y.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var T in J("/Font <<"),et)et.hasOwnProperty(T)&&(d===!1||d===!0&&p.hasOwnProperty(T))&&J("/"+T+" "+et[T].objectNumber+" 0 R");J(">>")})(),(function(){if(Object.keys(Ot).length>0){for(var T in J("/Shading <<"),Ot)Ot.hasOwnProperty(T)&&Ot[T]instanceof Ff&&Ot[T].objectNumber>=0&&J("/"+T+" "+Ot[T].objectNumber+" 0 R");Xn.publish("putShadingPatternDict"),J(">>")}})(),(function(T){if(Object.keys(Ot).length>0){for(var te in J("/Pattern <<"),Ot)Ot.hasOwnProperty(te)&&Ot[te]instanceof f.TilingPattern&&Ot[te].objectNumber>=0&&Ot[te].objectNumber<T&&J("/"+te+" "+Ot[te].objectNumber+" 0 R");Xn.publish("putTilingPatternDict"),J(">>")}})(y.objectOid),(function(){if(Object.keys(zt).length>0){var T;for(T in J("/ExtGState <<"),zt)zt.hasOwnProperty(T)&&zt[T].objectNumber>=0&&J("/"+T+" "+zt[T].objectNumber+" 0 R");Xn.publish("putGStateDict"),J(">>")}})(),(function(){for(var T in J("/XObject <<"),Gr)Gr.hasOwnProperty(T)&&Gr[T].objectNumber>=0&&J("/"+T+" "+Gr[T].objectNumber+" 0 R");Xn.publish("putXobjectDict"),J(">>")})(),J(">>"),J("endobj")},rc=function(y){Jt[y.fontName]=Jt[y.fontName]||{},Jt[y.fontName][y.fontStyle]=y.id},Zc=function(y,T,te,me,Te){var Ve={id:"F"+(Object.keys(et).length+1).toString(10),postScriptName:y,fontName:T,fontStyle:te,encoding:me,isStandardFont:Te||!1,metadata:{}};return Xn.publish("addFont",{font:Ve,instance:this}),et[Ve.id]=Ve,rc(Ve),Ve.id},ho=f.__private__.pdfEscape=f.pdfEscape=function(y,T){return(function(te,me){var Te,Ve,Ke,wt,At,qt,en,On,yr;if(Ke=(me=me||{}).sourceEncoding||"Unicode",At=me.outputEncoding,(me.autoencode||At)&&et[Et].metadata&&et[Et].metadata[Ke]&&et[Et].metadata[Ke].encoding&&(wt=et[Et].metadata[Ke].encoding,!At&&et[Et].encoding&&(At=et[Et].encoding),!At&&wt.codePages&&(At=wt.codePages[0]),typeof At=="string"&&(At=wt[At]),At)){for(en=!1,qt=[],Te=0,Ve=te.length;Te<Ve;Te++)(On=At[te.charCodeAt(Te)])?qt.push(String.fromCharCode(On)):qt.push(te[Te]),qt[Te].charCodeAt(0)>>8&&(en=!0);te=qt.join("")}for(Te=te.length;en===void 0&&Te!==0;)te.charCodeAt(Te-1)>>8&&(en=!0),Te--;if(!en)return te;for(qt=me.noBOM?[]:[254,255],Te=0,Ve=te.length;Te<Ve;Te++){if((yr=(On=te.charCodeAt(Te))>>8)>>8)throw new Error("Character at position "+Te+" of string '"+te+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");qt.push(yr),qt.push(On-(yr<<8))}return String.fromCharCode.apply(void 0,qt)})(y,T).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ws=f.__private__.beginPage=function(y){Je[++pn]=[],Ut[pn]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(y[0]),topRightY:Number(y[1])}},hd(pn),Lt(Je[W])},fd=function(y,T){var te,me,Te;switch(t=T||t,typeof y=="string"&&(te=S(y.toLowerCase()),Array.isArray(te)&&(me=te[0],Te=te[1])),Array.isArray(y)&&(me=y[0]*Wt,Te=y[1]*Wt),isNaN(me)&&(me=i[0],Te=i[1]),(me>14400||Te>14400)&&(Ar.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),me=Math.min(14400,me),Te=Math.min(14400,Te)),i=[me,Te],t.substr(0,1)){case"l":Te>me&&(i=[Te,me]);break;case"p":me>Te&&(i=[Te,me])}ws(i),Ht(zr),J(gl),bd!==0&&J(bd+" J"),_d!==0&&J(_d+" j"),Xn.publish("addPage",{pageNumber:pn})},dl=function(y){y>0&&y<=pn&&(Je.splice(y,1),Ut.splice(y,1),pn--,W>pn&&(W=pn),this.setPage(W))},hd=function(y){y>0&&y<=pn&&(W=y)},En=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Je.length-1},pd=function(y,T,te){var me,Te=void 0;return te=te||{},y=y!==void 0?y:et[Et].fontName,T=T!==void 0?T:et[Et].fontStyle,me=y.toLowerCase(),Jt[me]!==void 0&&Jt[me][T]!==void 0?Te=Jt[me][T]:Jt[y]!==void 0&&Jt[y][T]!==void 0?Te=Jt[y][T]:te.disableWarning===!1&&Ar.warn("Unable to look up font label for font '"+y+"', '"+T+"'. Refer to getFontList() for available fonts."),Te||te.noFallback||(Te=Jt.times[T])==null&&(Te=Jt.times.normal),Te},xs=f.__private__.putInfo=function(){var y=Cr(),T=function(me){return me};for(var te in u!==null&&(T=Tr.encryptor(y,0)),J("<<"),J("/Producer ("+ho(T("jsPDF "+Pt.version))+")"),Sn)Sn.hasOwnProperty(te)&&Sn[te]&&J("/"+te.substr(0,1).toUpperCase()+te.substr(1)+" ("+ho(T(Sn[te]))+")");J("/CreationDate ("+ho(T(Q))+")"),J(">>"),J("endobj")},Ta=f.__private__.putCatalog=function(y){var T=(y=y||{}).rootDictionaryObjId||Mo;switch(Cr(),J("<<"),J("/Type /Catalog"),J("/Pages "+T+" 0 R"),Vt||(Vt="fullwidth"),Vt){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var te=""+Vt;te.substr(te.length-1)==="%"&&(Vt=parseInt(Vt)/100),typeof Vt=="number"&&J("/OpenAction [3 0 R /XYZ null null "+O(Vt)+"]")}switch(on||(on="continuous"),on){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}Nt&&J("/PageMode /"+Nt),Xn.publish("putCatalog"),J(">>"),J("endobj")},ic=f.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(ve+1)),J("/Root "+ve+" 0 R"),J("/Info "+(ve-1)+" 0 R"),u!==null&&J("/Encrypt "+Tr.oid+" 0 R"),J("/ID [ <"+xe+"> <"+xe+"> ]"),J(">>")},Kr=f.__private__.putHeader=function(){J("%PDF-"+b),J("%\xBA\xDF\xAC\xE0")},gd=f.__private__.putXRef=function(){var y="0000000000";J("xref"),J("0 "+(ve+1)),J("0000000000 65535 f ");for(var T=1;T<=ve;T++)typeof ue[T]=="function"?J((y+ue[T]()).slice(-10)+" 00000 n "):ue[T]!==void 0?J((y+ue[T]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},Cs=f.__private__.buildDocument=function(){var y;ve=0,Be=0,je=[],ue=[],Re=[],Mo=Yr(),mi=Yr(),Lt(je),Xn.publish("buildDocument"),Kr(),_s(),(function(){Xn.publish("putAdditionalObjects");for(var te=0;te<Re.length;te++){var me=Re[te];Di(me.objId,!0),J(me.content),J("endobj")}Xn.publish("postPutAdditionalObjects")})(),y=[],(function(){for(var te in et)et.hasOwnProperty(te)&&(d===!1||d===!0&&p.hasOwnProperty(te))&&Aa(et[te])})(),(function(){var te;for(te in zt)zt.hasOwnProperty(te)&&qf(zt[te])})(),(function(){for(var te in Gr)Gr.hasOwnProperty(te)&&vr(Gr[te])})(),(function(te){var me;for(me in Ot)Ot.hasOwnProperty(me)&&(Ot[me]instanceof Ff?Yo(Ot[me]):Ot[me]instanceof Mp&&fo(Ot[me],te))})(y),Xn.publish("putResources"),y.forEach(ea),ea({resourcesOid:mi,objectOid:Number.MAX_SAFE_INTEGER}),Xn.publish("postPutResources"),u!==null&&(Tr.oid=Cr(),J("<<"),J("/Filter /Standard"),J("/V "+Tr.v),J("/R "+Tr.r),J("/U <"+Tr.toHexString(Tr.U)+">"),J("/O <"+Tr.toHexString(Tr.O)+">"),J("/P "+Tr.P),J(">>"),J("endobj")),xs(),Ta();var T=Be;return gd(),ic(),J("startxref"),J(""+T),J("%%EOF"),Lt(Je[W]),je.join(`
`)},$n=f.__private__.getBlob=function(y){return new Blob([dn(y)],{type:"application/pdf"})},fl=f.output=f.__private__.output=(Wi=function(y,T){switch(typeof(T=T||{})=="string"?T={filename:T}:T.filename=T.filename||"generated.pdf",y){case void 0:return Cs();case"save":f.save(T.filename);break;case"arraybuffer":return dn(Cs());case"blob":return $n(Cs());case"bloburi":case"bloburl":if(Qt.URL!==void 0&&typeof Qt.URL.createObjectURL=="function")return Qt.URL&&Qt.URL.createObjectURL($n(Cs()))||void 0;Ar.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var te="",me=Cs();try{te=H4(me)}catch(Hr){te=H4(unescape(encodeURIComponent(me)))}return"data:application/pdf;filename="+T.filename+";base64,"+te;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Qt)==="[object Window]"){var Te="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ve=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';T.pdfObjectUrl&&(Te=T.pdfObjectUrl,Ve="");var Ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Te+'"'+Ve+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(T)+");<\/script></body></html>",wt=Qt.open();return wt!==null&&wt.document.write(Ke),wt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Qt)==="[object Window]"){var At='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(T.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+T.filename+'" width="500px" height="400px" /></body></html>',qt=Qt.open();if(qt!==null){qt.document.write(At);var en=this;qt.document.documentElement.querySelector("#pdfViewer").onload=function(){qt.document.title=T.filename,qt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(en.output("bloburl"))}}return qt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Qt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var On='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",T)+'"></iframe></body></html>',yr=Qt.open();if(yr!==null&&(yr.document.write(On),yr.document.title=T.filename),yr||typeof safari>"u")return yr;break;case"datauri":case"dataurl":return Qt.document.location.href=this.output("datauristring",T);default:return null}},Wi.foo=function(){try{return Wi.apply(this,arguments)}catch(te){var y=te.stack||"";~y.indexOf(" at ")&&(y=y.split(" at ")[1]);var T="Error in function "+y.split(`
`)[0].split("<")[0]+": "+te.message;if(!Qt.console)throw new Error(T);Qt.console.error(T,te),Qt.alert&&alert(T)}},Wi.foo.bar=Wi,Wi.foo),Li=function(y){return Array.isArray(nc)===!0&&nc.indexOf(y)>-1};switch(r){case"pt":Wt=1;break;case"mm":Wt=72/25.4;break;case"cm":Wt=72/2.54;break;case"in":Wt=72;break;case"px":Wt=Li("px_scaling")==1?.75:96/72;break;case"pc":case"em":Wt=12;break;case"ex":Wt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Wt=r}var Tr=null;Ee(),Z();var Ss=f.__private__.getPageInfo=f.getPageInfo=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ut[y].objId,pageNumber:y,pageContext:Ut[y]}},Xc=f.__private__.getPageInfoByObjId=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var T in Ut)if(Ut[T].objId===y)break;return Ss(T)},Jc=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Ut[W].objId,pageNumber:W,pageContext:Ut[W]}};f.addPage=function(){return fd.apply(this,arguments),this},f.setPage=function(){return hd.apply(this,arguments),Lt.call(this,Je[W]),this},f.insertPage=function(y){return this.addPage(),this.movePage(W,y),this},f.movePage=function(y,T){var te,me;if(y>T){te=Je[y],me=Ut[y];for(var Te=y;Te>T;Te--)Je[Te]=Je[Te-1],Ut[Te]=Ut[Te-1];Je[T]=te,Ut[T]=me,this.setPage(T)}else if(y<T){te=Je[y],me=Ut[y];for(var Ve=y;Ve<T;Ve++)Je[Ve]=Je[Ve+1],Ut[Ve]=Ut[Ve+1];Je[T]=te,Ut[T]=me,this.setPage(T)}return this},f.deletePage=function(){return dl.apply(this,arguments),this},f.__private__.text=f.text=function(y,T,te,me,Te){var Ve,Ke,wt,At,qt,en,On,yr,Hr,Hn=(me=me||{}).scope||this;if(typeof y=="number"&&typeof T=="number"&&(typeof te=="string"||Array.isArray(te))){var Qr=te;te=T,T=y,y=Qr}if(arguments[3]instanceof Bt==0?(wt=arguments[4],At=arguments[5],_r(On=arguments[3])==="object"&&On!==null||(typeof wt=="string"&&(At=wt,wt=null),typeof On=="string"&&(At=On,On=null),typeof On=="number"&&(wt=On,On=null),me={flags:On,angle:wt,align:At})):(H("The transform parameter of text() with a Matrix value"),Hr=Te),isNaN(T)||isNaN(te)||y==null)throw new Error("Invalid arguments passed to jsPDF.text");if(y.length===0)return Hn;var qr,ti="",Es=typeof me.lineHeightFactor=="number"?me.lineHeightFactor:pl,Jo=Hn.internal.scaleFactor;function Oa(fe){return fe=fe.split("	").join(Array(me.TabLen||9).join(" ")),ho(fe,On)}function hc(fe){for(var ye,_e=fe.concat(),Se=[],ke=_e.length;ke--;)typeof(ye=_e.shift())=="string"?Se.push(ye):Array.isArray(fe)&&(ye.length===1||ye[1]===void 0&&ye[2]===void 0)?Se.push(ye[0]):Se.push([ye[0],ye[1],ye[2]]);return Se}function Ra(fe,ye){var _e;if(typeof fe=="string")_e=ye(fe)[0];else if(Array.isArray(fe)){for(var Se,ke,Le=fe.concat(),ze=[],Ge=Le.length;Ge--;)typeof(Se=Le.shift())=="string"?ze.push(ye(Se)[0]):Array.isArray(Se)&&typeof Se[0]=="string"&&(ke=ye(Se[0],Se[1],Se[2]),ze.push([ke[0],ke[1],ke[2]]));_e=ze}return _e}var vl=!1,La=!0;if(typeof y=="string")vl=!0;else if(Array.isArray(y)){var Fa=y.concat();Ke=[];for(var yl,_i=Fa.length;_i--;)(typeof(yl=Fa.shift())!="string"||Array.isArray(yl)&&typeof yl[0]!="string")&&(La=!1);vl=La}if(vl===!1)throw new Error('Type of text must be string or Array. "'+y+'" is not recognized.');typeof y=="string"&&(y=y.match(/[\r?\n]/)?y.split(/\r\n|\r|\n/g):[y]);var pc=Qe/Hn.internal.scaleFactor,bl=pc*(Es-1);switch(me.baseline){case"bottom":te-=bl;break;case"top":te+=pc-bl;break;case"hanging":te+=pc-2*bl;break;case"middle":te+=pc/2-bl}if((en=me.maxWidth||0)>0&&(typeof y=="string"?y=Hn.splitTextToSize(y,en):Object.prototype.toString.call(y)==="[object Array]"&&(y=y.reduce(function(fe,ye){return fe.concat(Hn.splitTextToSize(ye,en))},[]))),Ve={text:y,x:T,y:te,options:me,mutex:{pdfEscape:ho,activeFontKey:Et,fonts:et,activeFontSize:Qe}},Xn.publish("preProcessText",Ve),y=Ve.text,wt=(me=Ve.options).angle,Hr instanceof Bt==0&&wt&&typeof wt=="number"){wt*=Math.PI/180,me.rotationDirection===0&&(wt=-wt),P===F&&(wt=-wt);var nu=Math.cos(wt),Cd=Math.sin(wt);Hr=new Bt(nu,Cd,-Cd,nu,0,0)}else wt&&wt instanceof Bt&&(Hr=wt);P!==F||Hr||(Hr=mr),(qt=me.charSpace||Pa)!==void 0&&(ti+=Y(le(qt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(yr=me.horizontalScale)!==void 0&&(ti+=Y(100*yr)+` Tz
`),me.lang;var Fi=-1,Ds=me.renderingMode!==void 0?me.renderingMode:me.stroke,gc=Hn.internal.getCurrentPageInfo().pageContext;switch(Ds){case 0:case!1:case"fill":Fi=0;break;case 1:case!0:case"stroke":Fi=1;break;case 2:case"fillThenStroke":Fi=2;break;case 3:case"invisible":Fi=3;break;case 4:case"fillAndAddForClipping":Fi=4;break;case 5:case"strokeAndAddPathForClipping":Fi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Fi=6;break;case 7:case"addToPathForClipping":Fi=7}var Sd=gc.usedRenderingMode!==void 0?gc.usedRenderingMode:-1;Fi!==-1?ti+=Fi+` Tr
`:Sd!==-1&&(ti+=`0 Tr
`),Fi!==-1&&(gc.usedRenderingMode=Fi),At=me.align||"left";var es,mc=Qe*Es,Ed=Hn.internal.pageSize.getWidth(),_l=et[Et];qt=me.charSpace||Pa,en=me.maxWidth||0,On=Object.assign({autoencode:!0,noBOM:!0},me.flags);var ji=[],ur=function(fe){return Hn.getStringUnitWidth(fe,{font:_l,charSpace:qt,fontSize:Qe,doKerning:!1})*Qe/Jo};if(Object.prototype.toString.call(y)==="[object Array]"){var Bi;Ke=hc(y),At!=="left"&&(es=Ke.map(ur));var Mr,wl=0;if(At==="right"){T-=es[0],y=[],_i=Ke.length;for(var Is=0;Is<_i;Is++)Is===0?(Mr=Ma(T),Bi=bi(te)):(Mr=le(wl-es[Is]),Bi=-mc),y.push([Ke[Is],Mr,Bi]),wl=es[Is]}else if(At==="center"){T-=es[0]/2,y=[],_i=Ke.length;for(var ja=0;ja<_i;ja++)ja===0?(Mr=Ma(T),Bi=bi(te)):(Mr=le((wl-es[ja])/2),Bi=-mc),y.push([Ke[ja],Mr,Bi]),wl=es[ja]}else if(At==="left"){y=[],_i=Ke.length;for(var As=0;As<_i;As++)y.push(Ke[As])}else if(At==="justify"&&_l.encoding==="Identity-H"){y=[],_i=Ke.length,en=en!==0?en:Ed;for(var xl=0,br=0;br<_i;br++)if(Bi=br===0?bi(te):-mc,Mr=br===0?Ma(T):xl,br<_i-1){var Ts=le((en-es[br])/(Ke[br].split(" ").length-1)),Ms=Ke[br].split(" ");y.push([Ms[0]+" ",Mr,Bi]),xl=0;for(var g=1;g<Ms.length;g++){var v=(ur(Ms[g-1]+" "+Ms[g])-ur(Ms[g]))*Jo+Ts;g==Ms.length-1?y.push([Ms[g],v,0]):y.push([Ms[g]+" ",v,0]),xl-=v}}else y.push([Ke[br],Mr,Bi]);y.push(["",xl,0])}else{if(At!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(y=[],_i=Ke.length,en=en!==0?en:Ed,br=0;br<_i;br++){Bi=br===0?bi(te):-mc,Mr=br===0?Ma(T):0;var w=Ke[br].split(" ").length-1,D=w>0?(en-es[br])/w:0;br<_i-1?ji.push(Y(le(D))):ji.push(0),y.push([Ke[br],Mr,Bi])}}}(typeof me.R2L=="boolean"?me.R2L:jt)===!0&&(y=Ra(y,function(fe,ye,_e){return[fe.split("").reverse().join(""),ye,_e]})),Ve={text:y,x:T,y:te,options:me,mutex:{pdfEscape:ho,activeFontKey:Et,fonts:et,activeFontSize:Qe}},Xn.publish("postProcessText",Ve),y=Ve.text,qr=Ve.mutex.isHex||!1;var I=et[Et].encoding;I!=="WinAnsiEncoding"&&I!=="StandardEncoding"||(y=Ra(y,function(fe,ye,_e){return[Oa(fe),ye,_e]})),Ke=hc(y),y=[];for(var N,K,ae,be=Array.isArray(Ke[0])?1:0,we="",Ie=function(fe,ye,_e){var Se="";return _e instanceof Bt?(_e=typeof me.angle=="number"?zn(_e,new Bt(1,0,0,1,fe,ye)):zn(new Bt(1,0,0,1,fe,ye),_e),P===F&&(_e=zn(new Bt(1,0,0,-1,0,0),_e)),Se=_e.join(" ")+` Tm
`):Se=Y(fe)+" "+Y(ye)+` Td
`,Se},ce=0;ce<Ke.length;ce++){switch(we="",be){case 1:ae=(qr?"<":"(")+Ke[ce][0]+(qr?">":")"),N=parseFloat(Ke[ce][1]),K=parseFloat(Ke[ce][2]);break;case 0:ae=(qr?"<":"(")+Ke[ce]+(qr?">":")"),N=Ma(T),K=bi(te)}ji!==void 0&&ji[ce]!==void 0&&(we=ji[ce]+` Tw
`),ce===0?y.push(we+Ie(N,K,Hr)+ae):be===0?y.push(we+ae):be===1&&y.push(we+Ie(N,K,Hr)+ae)}y=be===0?y.join(` Tj
T* `):y.join(` Tj
`),y+=` Tj
`;var Ae=`BT
/`;return Ae+=Et+" "+Qe+` Tf
`,Ae+=Y(Qe*Es)+` TL
`,Ae+=Na+`
`,Ae+=ti,Ae+=y,J(Ae+="ET"),p[Et]=!0,Hn};var $f=f.__private__.clip=f.clip=function(y){return J(y==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return $f("evenodd")},f.__private__.discardPath=f.discardPath=function(){return J("n"),this};var Oo=f.__private__.isValidStyle=function(y){var T=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(y)!==-1&&(T=!0),T};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(y){return Oo(y)&&(c=y),this};var md=f.__private__.getStyle=f.getStyle=function(y){var T=c;switch(y){case"D":case"S":T="S";break;case"F":T="f";break;case"FD":case"DF":T="B";break;case"f":case"f*":case"B":case"B*":T=y}return T},Wf=f.close=function(){return J("h"),this};f.stroke=function(){return J("S"),this},f.fill=function(y){return In("f",y),this},f.fillEvenOdd=function(y){return In("f*",y),this},f.fillStroke=function(y){return In("B",y),this},f.fillStrokeEvenOdd=function(y){return In("B*",y),this};var In=function(y,T){_r(T)==="object"?Qp(T,y):J(y)},hl=function(y){y===null||P===F&&y===void 0||(y=md(y),J(y))};function Kp(y,T,te,me,Te){var Ve=new Mp(T||this.boundingBox,te||this.xStep,me||this.yStep,this.gState,Te||this.matrix);Ve.stream=this.stream;var Ke=y+"$$"+this.cloneIndex+++"$$";return Go(Ke,Ve),Ve}var Qp=function(y,T){var te=Xe[y.key],me=Ot[te];if(me instanceof Ff)J("q"),J(Gi(T)),me.gState&&f.setGState(me.gState),J(y.matrix.toString()+" cm"),J("/"+te+" sh"),J("Q");else if(me instanceof Mp){var Te=new Bt(1,0,0,-1,0,ml());y.matrix&&(Te=Te.multiply(y.matrix||mr),te=Kp.call(me,y.key,y.boundingBox,y.xStep,y.yStep,Te).id),J("q"),J("/Pattern cs"),J("/"+te+" scn"),me.gState&&f.setGState(me.gState),J(T),J("Q")}},Gi=function(y){switch(y){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ta=f.moveTo=function(y,T){return J(Y(le(y))+" "+Y(V(T))+" m"),this},oc=f.lineTo=function(y,T){return J(Y(le(y))+" "+Y(V(T))+" l"),this},yi=f.curveTo=function(y,T,te,me,Te,Ve){return J([Y(le(y)),Y(V(T)),Y(le(te)),Y(V(me)),Y(le(Te)),Y(V(Ve)),"c"].join(" ")),this};f.__private__.line=f.line=function(y,T,te,me,Te){if(isNaN(y)||isNaN(T)||isNaN(te)||isNaN(me)||!Oo(Te))throw new Error("Invalid arguments passed to jsPDF.line");return P===A?this.lines([[te-y,me-T]],y,T,[1,1],Te||"S"):this.lines([[te-y,me-T]],y,T,[1,1]).stroke()},f.__private__.lines=f.lines=function(y,T,te,me,Te,Ve){var Ke,wt,At,qt,en,On,yr,Hr,Hn,Qr,qr,ti;if(typeof y=="number"&&(ti=te,te=T,T=y,y=ti),me=me||[1,1],Ve=Ve||!1,isNaN(T)||isNaN(te)||!Array.isArray(y)||!Array.isArray(me)||!Oo(Te)||typeof Ve!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ta(T,te),Ke=me[0],wt=me[1],qt=y.length,Qr=T,qr=te,At=0;At<qt;At++)(en=y[At]).length===2?(Qr=en[0]*Ke+Qr,qr=en[1]*wt+qr,oc(Qr,qr)):(On=en[0]*Ke+Qr,yr=en[1]*wt+qr,Hr=en[2]*Ke+Qr,Hn=en[3]*wt+qr,Qr=en[4]*Ke+Qr,qr=en[5]*wt+qr,yi(On,yr,Hr,Hn,Qr,qr));return Ve&&Wf(),hl(Te),this},f.path=function(y){for(var T=0;T<y.length;T++){var te=y[T],me=te.c;switch(te.op){case"m":ta(me[0],me[1]);break;case"l":oc(me[0],me[1]);break;case"c":yi.apply(this,me);break;case"h":Wf()}}return this},f.__private__.rect=f.rect=function(y,T,te,me,Te){if(isNaN(y)||isNaN(T)||isNaN(te)||isNaN(me)||!Oo(Te))throw new Error("Invalid arguments passed to jsPDF.rect");return P===A&&(me=-me),J([Y(le(y)),Y(V(T)),Y(le(te)),Y(le(me)),"re"].join(" ")),hl(Te),this},f.__private__.triangle=f.triangle=function(y,T,te,me,Te,Ve,Ke){if(isNaN(y)||isNaN(T)||isNaN(te)||isNaN(me)||isNaN(Te)||isNaN(Ve)||!Oo(Ke))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[te-y,me-T],[Te-te,Ve-me],[y-Te,T-Ve]],y,T,[1,1],Ke,!0),this},f.__private__.roundedRect=f.roundedRect=function(y,T,te,me,Te,Ve,Ke){if(isNaN(y)||isNaN(T)||isNaN(te)||isNaN(me)||isNaN(Te)||isNaN(Ve)||!Oo(Ke))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var wt=4/3*(Math.SQRT2-1);return Te=Math.min(Te,.5*te),Ve=Math.min(Ve,.5*me),this.lines([[te-2*Te,0],[Te*wt,0,Te,Ve-Ve*wt,Te,Ve],[0,me-2*Ve],[0,Ve*wt,-Te*wt,Ve,-Te,Ve],[2*Te-te,0],[-Te*wt,0,-Te,-Ve*wt,-Te,-Ve],[0,2*Ve-me],[0,-Ve*wt,Te*wt,-Ve,Te,-Ve]],y+Te,T,[1,1],Ke,!0),this},f.__private__.ellipse=f.ellipse=function(y,T,te,me,Te){if(isNaN(y)||isNaN(T)||isNaN(te)||isNaN(me)||!Oo(Te))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ve=4/3*(Math.SQRT2-1)*te,Ke=4/3*(Math.SQRT2-1)*me;return ta(y+te,T),yi(y+te,T-Ke,y+Ve,T-me,y,T-me),yi(y-Ve,T-me,y-te,T-Ke,y-te,T),yi(y-te,T+Ke,y-Ve,T+me,y,T+me),yi(y+Ve,T+me,y+te,T+Ke,y+te,T),hl(Te),this},f.__private__.circle=f.circle=function(y,T,te,me){if(isNaN(y)||isNaN(T)||isNaN(te)||!Oo(me))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(y,T,te,te,me)},f.setFont=function(y,T,te){return te&&(T=he(T,te)),Et=pd(y,T,{disableWarning:!1}),this};var Gf=f.__private__.getFont=f.getFont=function(){return et[pd.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var y,T,te={};for(y in Jt)if(Jt.hasOwnProperty(y))for(T in te[y]=[],Jt[y])Jt[y].hasOwnProperty(T)&&te[y].push(T);return te},f.addFont=function(y,T,te,me,Te){var Ve=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ve.indexOf(arguments[3])!==-1?Te=arguments[3]:arguments[3]&&Ve.indexOf(arguments[3])==-1&&(te=he(te,me)),Zc.call(this,y,T,te,Te=Te||"Identity-H")};var pl,zr=n.lineWidth||.200025,Ko=f.__private__.getLineWidth=f.getLineWidth=function(){return zr},Ht=f.__private__.setLineWidth=f.setLineWidth=function(y){return zr=y,J(Y(le(y))+" w"),this};f.__private__.setLineDash=Pt.API.setLineDash=Pt.API.setLineDashPattern=function(y,T){if(y=y||[],T=T||0,isNaN(T)||!Array.isArray(y))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return y=y.map(function(te){return Y(le(te))}).join(" "),T=Y(le(T)),J("["+y+"] "+T+" d"),this};var sc=f.__private__.getLineHeight=f.getLineHeight=function(){return Qe*pl};f.__private__.getLineHeight=f.getLineHeight=function(){return Qe*pl};var vd=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(y){return typeof(y=y||1.15)=="number"&&(pl=y),this},na=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return pl};vd(n.lineHeight);var Ma=f.__private__.getHorizontalCoordinate=function(y){return le(y)},bi=f.__private__.getVerticalCoordinate=function(y){return P===F?y:Ut[W].mediaBox.topRightY-Ut[W].mediaBox.bottomLeftY-le(y)},yd=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(y){return Y(Ma(y))},Yf=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(y){return Y(bi(y))},gl=n.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return ko(gl)},f.__private__.setStrokeColor=f.setDrawColor=function(y,T,te,me){return gl=bs({ch1:y,ch2:T,ch3:te,ch4:me,pdfColorType:"draw",precision:2}),J(gl),this};var ka=n.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return ko(ka)},f.__private__.setFillColor=f.setFillColor=function(y,T,te,me){return ka=bs({ch1:y,ch2:T,ch3:te,ch4:me,pdfColorType:"fill",precision:2}),J(ka),this};var Na=n.textColor||"0 g",Kf=f.__private__.getTextColor=f.getTextColor=function(){return ko(Na)};f.__private__.setTextColor=f.setTextColor=function(y,T,te,me){return Na=bs({ch1:y,ch2:T,ch3:te,ch4:me,pdfColorType:"text",precision:3}),this};var Pa=n.charSpace,ac=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Pa||0)};f.__private__.setCharSpace=f.setCharSpace=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Pa=y,this};var bd=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(y){var T=f.CapJoinStyles[y];if(T===void 0)throw new Error("Line cap style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return bd=T,J(T+" J"),this};var _d=0;f.__private__.setLineJoin=f.setLineJoin=function(y){var T=f.CapJoinStyles[y];if(T===void 0)throw new Error("Line join style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return _d=T,J(T+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(y){if(y=y||0,isNaN(y))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(Y(le(y))+" M"),this},f.GState=w_,f.setGState=function(y){(y=typeof y=="string"?zt[Zt[y]]:lc(null,y)).equals(gr)||(J("/"+y.id+" gs"),gr=y)};var lc=function(y,T){if(!y||!Zt[y]){var te=!1;for(var me in zt)if(zt.hasOwnProperty(me)&&zt[me].equals(T)){te=!0;break}if(te)T=zt[me];else{var Te="GS"+(Object.keys(zt).length+1).toString(10);zt[Te]=T,T.id=Te}return y&&(Zt[y]=T.id),Xn.publish("addGState",T),T}};f.addGState=function(y,T){return lc(y,T),this},f.saveGraphicsState=function(){return J("q"),Zn.push({key:Et,size:Qe,color:Na}),this},f.restoreGraphicsState=function(){J("Q");var y=Zn.pop();return Et=y.key,Qe=y.size,Na=y.color,gr=null,this},f.setCurrentTransformationMatrix=function(y){return J(y.toString()+" cm"),this},f.comment=function(y){return J("#"+y),this};var Qo=function(y,T){var te=y||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return te},set:function(Ve){isNaN(Ve)||(te=parseFloat(Ve))}});var me=T||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return me},set:function(Ve){isNaN(Ve)||(me=parseFloat(Ve))}});var Te="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Te},set:function(Ve){Te=Ve.toString()}}),this},cc=function(y,T,te,me){Qo.call(this,y,T),this.type="rect";var Te=te||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Te},set:function(Ke){isNaN(Ke)||(Te=parseFloat(Ke))}});var Ve=me||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ve},set:function(Ke){isNaN(Ke)||(Ve=parseFloat(Ke))}}),this},eu=function(){this.page=pn,this.currentPage=W,this.pages=Je.slice(0),this.pagesContext=Ut.slice(0),this.x=It,this.y=Fr,this.matrix=fn,this.width=dc(W),this.height=xd(W),this.outputDestination=ht,this.id="",this.objectNumber=-1};eu.prototype.restore=function(){pn=this.page,W=this.currentPage,Ut=this.pagesContext,Je=this.pages,It=this.x,Fr=this.y,fn=this.matrix,tu(W,this.width),Zo(W,this.height),ht=this.outputDestination};var wd=function(y,T,te,me,Te){Wo.push(new eu),pn=W=0,Je=[],It=y,Fr=T,fn=Te,ws([te,me])};for(var uc in f.beginFormObject=function(y,T,te,me,Te){return wd(y,T,te,me,Te),this},f.endFormObject=function(y){return(function(T){if(co[T])Wo.pop().restore();else{var te=new eu,me="Xo"+(Object.keys(Gr).length+1).toString(10);te.id=me,co[T]=me,Gr[me]=te,Xn.publish("addFormObject",te),Wo.pop().restore()}})(y),this},f.doFormObject=function(y,T){var te=Gr[co[y]];return J("q"),J(T.toString()+" cm"),J("/"+te.id+" Do"),J("Q"),this},f.getFormObject=function(y){var T=Gr[co[y]];return{x:T.x,y:T.y,width:T.width,height:T.height,matrix:T.matrix}},f.save=function(y,T){return y=y||"generated.pdf",(T=T||{}).returnPromise=T.returnPromise||!1,T.returnPromise===!1?(Lf($n(Cs()),y),typeof Lf.unload=="function"&&Qt.setTimeout&&setTimeout(Lf.unload,911),this):new Promise(function(te,me){try{var Te=Lf($n(Cs()),y);typeof Lf.unload=="function"&&Qt.setTimeout&&setTimeout(Lf.unload,911),te(Te)}catch(Ve){me(Ve.message)}})},Pt.API)Pt.API.hasOwnProperty(uc)&&(uc==="events"&&Pt.API.events.length?(function(y,T){var te,me,Te;for(Te=T.length-1;Te!==-1;Te--)te=T[Te][0],me=T[Te][1],y.subscribe.apply(y,[te].concat(typeof me=="function"?[me]:me))})(Xn,Pt.API.events):f[uc]=Pt.API[uc]);function dc(y){return Ut[y].mediaBox.topRightX-Ut[y].mediaBox.bottomLeftX}function tu(y,T){Ut[y].mediaBox.topRightX=T+Ut[y].mediaBox.bottomLeftX}function xd(y){return Ut[y].mediaBox.topRightY-Ut[y].mediaBox.bottomLeftY}function Zo(y,T){Ut[y].mediaBox.topRightY=T+Ut[y].mediaBox.bottomLeftY}var Xo=f.getPageWidth=function(y){return dc(y=y||W)/Wt},fc=f.setPageWidth=function(y,T){tu(y,T*Wt)},ml=f.getPageHeight=function(y){return xd(y=y||W)/Wt},Qf=f.setPageHeight=function(y,T){Zo(y,T*Wt)};return f.internal={pdfEscape:ho,getStyle:md,getFont:Gf,getFontSize:_t,getCharSpace:ac,getTextColor:Kf,getLineHeight:sc,getLineHeightFactor:na,getLineWidth:Ko,write:mt,getHorizontalCoordinate:Ma,getVerticalCoordinate:bi,getCoordinateString:yd,getVerticalCoordinateString:Yf,collections:{},newObject:Cr,newAdditionalObject:uo,newObjectDeferred:Yr,newObjectDeferredBegin:Di,getFilters:vi,putStream:No,events:Xn,scaleFactor:Wt,pageSize:{getWidth:function(){return Xo(W)},setWidth:function(y){fc(W,y)},getHeight:function(){return ml(W)},setHeight:function(y){Qf(W,y)}},encryptionOptions:u,encryption:Tr,getEncryptor:function(y){return u!==null?Tr.encryptor(y,0):function(T){return T}},output:fl,getNumberOfPages:En,get pages(){return Je},out:J,f2:O,f3:$,getPageInfo:Ss,getPageInfoByObjId:Xc,getCurrentPageInfo:Jc,getPDFVersion:_,Point:Qo,Rectangle:cc,Matrix:Bt,hasHotfix:Li},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Xo(W)},set:function(y){fc(W,y)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return ml(W)},set:function(y){Qf(W,y)},enumerable:!0,configurable:!0}),function(y){for(var T=0,te=Ft.length;T<te;T++){var me=Zc.call(this,y[T][0],y[T][1],y[T][2],Ft[T][3],!0);d===!1&&(p[me]=!0);var Te=y[T][0].split("-");rc({id:me,fontName:Te[0],fontStyle:Te[1]||""})}Xn.publish("addFonts",{fonts:et,dictionary:Jt})}.call(f,Ft),Et="F1",fd(i,t),Xn.publish("initialized"),f}Ap.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},Ap.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ap.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Ap.prototype.processOwnerPassword=function(n,e){return mI(gI(e).substr(0,5),n)},Ap.prototype.encryptor=function(n,e){var t=gI(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return mI(t,r)}},w_.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||_r(n)!==_r(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},Pt.API={events:[]},Pt.version="4.0.0";var ai=Pt.API,bI=1,Bf=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Dp=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},an=function(n){return n.toFixed(2)},sd=function(n){return n.toFixed(5)};ai.__acroform__={};var ys=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},G4=function(n){return n*bI},Zl=function(n){var e=new m6,t=Dt.internal.getHeight(n)||0,r=Dt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(an(r)),Number(an(t))],e},Fre=ai.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},jre=ai.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},Bre=ai.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},hi=ai.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Bre(n,e-1)},pi=ai.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Fre(n,e-1)},gi=ai.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return jre(n,e-1)},Vre=ai.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],o=n[1],s=n[2],a=n[3],l={};return l.lowerLeft_X=t(i)||0,l.lowerLeft_Y=r(o+a)||0,l.upperRight_X=t(i+s)||0,l.upperRight_Y=r(o)||0,[Number(an(l.lowerLeft_X)),Number(an(l.lowerLeft_Y)),Number(an(l.upperRight_X)),Number(an(l.upperRight_Y))]},Ure=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=vI(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+an(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Zl(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},vI=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(O){return O.split(`
`)}):i.map(function(O){return[O]});var o=t,s=Dt.internal.getHeight(n)||0;s=s<0?-s:s;var a=Dt.internal.getWidth(n)||0;a=a<0?-a:a;var l=function(O,$,le){if(O+1<i.length){var V=$+" "+i[O+1][0];return h_(V,n,le).width<=a-4}return!1};o++;e:for(;o>0;){e="",o--;var c,u,d=h_("3",n,o).height,p=n.multiline?s-o:(s-d)/2,f=p+=2,b=0,_=0,C=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+h_(e,n,o=12).width+", FieldWidth:"+a+`
`;break}for(var S="",A=0,F=0;F<i.length;F++)if(i.hasOwnProperty(F)){var P=!1;if(i[F].length!==1&&C!==i[F].length-1){if((d+2)*(A+2)+2>s)continue e;S+=i[F][C],P=!0,_=F,F--}else{S=(S+=i[F][C]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var U=parseInt(F),se=l(U,S,o),he=F>=i.length-1;if(se&&!he){S+=" ",C=0;continue}if(se||he){if(he)_=U;else if(n.multiline&&(d+2)*(A+2)+2>s)continue e}else{if(!n.multiline||(d+2)*(A+2)+2>s)continue e;_=U}}for(var Y="",H=b;H<=_;H++){var pe=i[H];if(n.multiline){if(H===_){Y+=pe[C]+" ",C=(C+1)%pe.length;continue}if(H===b){Y+=pe[pe.length-1]+" ";continue}}Y+=pe[0]+" "}switch(Y=Y.substr(Y.length-1)==" "?Y.substr(0,Y.length-1):Y,u=h_(Y,n,o).width,n.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;default:c=2}e+=an(c)+" "+an(f)+` Td
`,e+="("+Bf(Y)+`) Tj
`,e+=-an(c)+` 0 Td
`,f=-(o+2),u=0,b=P?_:_+1,A++,S=""}break}return r.text=e,r.fontSize=o,r},h_=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},zre={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Hre=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},qre=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(al.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(zre)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");bI=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new v6,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];o.objId=void 0,o.hasAnnotation&&Hre(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var o=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var a=r[s],l=[],c=a.Rect;if(a.Rect&&(a.Rect=Vre(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Dt.createDefaultAppearanceStream(a),_r(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=Ure(a);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var d="";for(var p in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(p)){var f=a.appearanceStreamContent[p];if(d+="/"+p+" ",d+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var s in f)if(f.hasOwnProperty(s)){var b=f[s];typeof b=="function"&&(b=b.call(i,a)),d+="/"+s+" "+b+" ",i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b)}}else typeof(b=f)=="function"&&(b=b.call(i,a)),d+="/"+s+" "+b,i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}o&&(function(_,C){for(var S in _)if(_.hasOwnProperty(S)){var A=S,F=_[S];C.internal.newObjectDeferredBegin(F.objId,!0),_r(F)==="object"&&typeof F.putStream=="function"&&F.putStream(),delete _[A]}})(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},g6=ai.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(s){return s};if(Array.isArray(n)){for(var i="[",o=0;o<n.length;o++)switch(o!==0&&(i+=" "),_r(n[o])){case"boolean":case"number":case"object":i+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+Bf(r(n[o].toString()))+")"):i+=n[o].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},uI=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+Bf(r(n))+")"},Xl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Xl.prototype.toString=function(){return this.objId+" 0 R"},Xl.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Xl.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:g6(i,this.objId,this.scope)}):i instanceof Xl?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var m6=function(){Xl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};ys(m6,Xl);var v6=function(){Xl.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Bf(t(n))+")"}},set:function(t){n=t}})};ys(v6,Xl);var al=function n(){Xl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');e=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!hi(e,3)},set:function(S){S?this.F=pi(e,3):this.F=gi(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');t=S}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(S){r=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(S){r[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(S){r[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(S){r[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(S){r[3]=S}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof x_)return;o="FieldObject"+n.FieldNum++}var S=function(A){return A};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+Bf(S(o))+")"},set:function(S){o=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(S){o=S}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(S){s=S}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(S){a=S}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(S){l=S}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/bI:c},set:function(S){c=S}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(S){u=S}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof x_||this instanceof jf))return uI(d,this.objId,this.scope)},set:function(S){S=S.toString(),d=S}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof $i==0?uI(p,this.objId,this.scope):p},set:function(S){S=S.toString(),p=this instanceof $i==0?S.substr(0,1)==="("?Dp(S.substr(1,S.length-2)):Dp(S):S}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof $i==1?Dp(p.substr(1,p.length-1)):p},set:function(S){S=S.toString(),p=this instanceof $i==1?"/"+S:S}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof $i==0?uI(f,this.objId,this.scope):f},set:function(S){S=S.toString(),f=this instanceof $i==0?S.substr(0,1)==="("?Dp(S.substr(1,S.length-2)):Dp(S):S}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof $i==1?Dp(f.substr(1,f.length-1)):f},set:function(S){S=S.toString(),f=this instanceof $i==1?"/"+S:S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(S){S=!!S,_=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(S){b=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,1)},set:function(S){S?this.Ff=pi(this.Ff,1):this.Ff=gi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,2)},set:function(S){S?this.Ff=pi(this.Ff,2):this.Ff=gi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,3)},set:function(S){S?this.Ff=pi(this.Ff,3):this.Ff=gi(this.Ff,3)}});var C=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(C!==null)return C},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');C=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(C){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:C=2;break;case"center":case 1:C=1;break;default:C=0}}})};ys(al,Xl);var kp=function(){al.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return g6(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=(function(o,s,a){a||(a=1);for(var l,c=[];l=s.exec(o);)c.push(l[a]);return c})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,18)},set:function(t){t?this.Ff=pi(this.Ff,18):this.Ff=gi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=pi(this.Ff,19):this.Ff=gi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,20)},set:function(t){t?(this.Ff=pi(this.Ff,20),e.sort()):this.Ff=gi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,22)},set:function(t){t?this.Ff=pi(this.Ff,22):this.Ff=gi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,23)},set:function(t){t?this.Ff=pi(this.Ff,23):this.Ff=gi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,27)},set:function(t){t?this.Ff=pi(this.Ff,27):this.Ff=gi(this.Ff,27)}}),this.hasAppearanceStream=!1};ys(kp,al);var Np=function(){kp.call(this),this.fontName="helvetica",this.combo=!1};ys(Np,kp);var Pp=function(){Np.call(this),this.combo=!0};ys(Pp,Np);var v_=function(){Pp.call(this),this.edit=!0};ys(v_,Pp);var $i=function(){al.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,15)},set:function(t){t?this.Ff=pi(this.Ff,15):this.Ff=gi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,16)},set:function(t){t?this.Ff=pi(this.Ff,16):this.Ff=gi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,17)},set:function(t){t?this.Ff=pi(this.Ff,17):this.Ff=gi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,26)},set:function(t){t?this.Ff=pi(this.Ff,26):this.Ff=gi(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Bf(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){_r(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};ys($i,al);var y_=function(){$i.call(this),this.pushButton=!0};ys(y_,$i);var Op=function(){$i.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};ys(Op,$i);var x_=function(){var n,e;al.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,s=[];for(o in s.push("<<"),r)s.push("/"+o+" ("+Bf(i(r[o]))+")");return s.push(">>"),s.join(`
`)},set:function(i){_r(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Dt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ys(x_,al),Op.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Op.prototype.createOption=function(n){var e=new x_;return e.Parent=this,e.optionName=n,this.Kids.push(e),$re.call(this.scope,e),e};var b_=function(){$i.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Dt.CheckBox.createAppearanceStream()};ys(b_,$i);var jf=function(){al.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,13)},set:function(e){e?this.Ff=pi(this.Ff,13):this.Ff=gi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,21)},set:function(e){e?this.Ff=pi(this.Ff,21):this.Ff=gi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,23)},set:function(e){e?this.Ff=pi(this.Ff,23):this.Ff=gi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,24)},set:function(e){e?this.Ff=pi(this.Ff,24):this.Ff=gi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,25)},set:function(e){e?this.Ff=pi(this.Ff,25):this.Ff=gi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,26)},set:function(e){e?this.Ff=pi(this.Ff,26):this.Ff=gi(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ys(jf,al);var __=function(){jf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!hi(this.Ff,14)},set:function(n){n?this.Ff=pi(this.Ff,14):this.Ff=gi(this.Ff,14)}}),this.password=!0};ys(__,jf);var Dt={CheckBox:{createAppearanceStream:function(){return{N:{On:Dt.CheckBox.YesNormal},D:{On:Dt.CheckBox.YesPushDown,Off:Dt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Zl(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),o=vI(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+an(Dt.internal.getWidth(n))+" "+an(Dt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+an(o.fontSize)+" Tf "+i),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Zl(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],o=Dt.internal.getHeight(n),s=Dt.internal.getWidth(n),a=vI(n,n.caption);return i.push("1 g"),i.push("0 0 "+an(s)+" "+an(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+an(s-1)+" "+an(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+an(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=Zl(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+an(Dt.internal.getWidth(n))+" "+an(Dt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Dt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Dt.RadioButton.Circle.YesNormal,e.D[n]=Dt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Zl(n);e.scope=n.scope;var t=[],r=Dt.internal.getWidth(n)<=Dt.internal.getHeight(n)?Dt.internal.getWidth(n)/4:Dt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Dt.internal.Bezier_C,o=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+sd(Dt.internal.getWidth(n)/2)+" "+sd(Dt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Zl(n);e.scope=n.scope;var t=[],r=Dt.internal.getWidth(n)<=Dt.internal.getHeight(n)?Dt.internal.getWidth(n)/4:Dt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*Dt.internal.Bezier_C).toFixed(5)),s=Number((r*Dt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+sd(Dt.internal.getWidth(n)/2)+" "+sd(Dt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+sd(Dt.internal.getWidth(n)/2)+" "+sd(Dt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Zl(n);e.scope=n.scope;var t=[],r=Dt.internal.getWidth(n)<=Dt.internal.getHeight(n)?Dt.internal.getWidth(n)/4:Dt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*Dt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+sd(Dt.internal.getWidth(n)/2)+" "+sd(Dt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Dt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Dt.RadioButton.Cross.YesNormal,e.D[n]=Dt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Zl(n);e.scope=n.scope;var t=[],r=Dt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+an(Dt.internal.getWidth(n)-2)+" "+an(Dt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(an(r.x1.x)+" "+an(r.x1.y)+" m"),t.push(an(r.x2.x)+" "+an(r.x2.y)+" l"),t.push(an(r.x4.x)+" "+an(r.x4.y)+" m"),t.push(an(r.x3.x)+" "+an(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Zl(n);e.scope=n.scope;var t=Dt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+an(Dt.internal.getWidth(n))+" "+an(Dt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+an(Dt.internal.getWidth(n)-2)+" "+an(Dt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(an(t.x1.x)+" "+an(t.x1.y)+" m"),r.push(an(t.x2.x)+" "+an(t.x2.y)+" l"),r.push(an(t.x4.x)+" "+an(t.x4.y)+" m"),r.push(an(t.x3.x)+" "+an(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Zl(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+an(Dt.internal.getWidth(n))+" "+an(Dt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};Dt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Dt.internal.getWidth(n),t=Dt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},Dt.internal.getWidth=function(n){var e=0;return _r(n)==="object"&&(e=G4(n.Rect[2])),e},Dt.internal.getHeight=function(n){var e=0;return _r(n)==="object"&&(e=G4(n.Rect[3])),e};var $re=ai.addField=function(n){if(qre(this,n),!(n instanceof al))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};ai.AcroFormChoiceField=kp,ai.AcroFormListBox=Np,ai.AcroFormComboBox=Pp,ai.AcroFormEditBox=v_,ai.AcroFormButton=$i,ai.AcroFormPushButton=y_,ai.AcroFormRadioButton=Op,ai.AcroFormCheckBox=b_,ai.AcroFormTextField=jf,ai.AcroFormPasswordField=__,ai.AcroFormAppearance=Dt,ai.AcroForm={ChoiceField:kp,ListBox:Np,ComboBox:Pp,EditBox:v_,Button:$i,PushButton:y_,RadioButton:Op,CheckBox:b_,TextField:jf,PasswordField:__,Appearance:Dt},Pt.AcroForm={ChoiceField:kp,ListBox:Np,ComboBox:Pp,EditBox:v_,Button:$i,PushButton:y_,RadioButton:Op,CheckBox:b_,TextField:jf,PasswordField:__,Appearance:Dt};var l5e=Pt.AcroForm;function y6(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(O,$){var le,V,Q,xe,oe,Z=t;if(($=$||t)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(se(O))for(oe in r)for(Q=r[oe],le=0;le<Q.length;le+=1){for(xe=!0,V=0;V<Q[le].length;V+=1)if(Q[le][V]!==void 0&&Q[le][V]!==O[V]){xe=!1;break}if(xe===!0){Z=oe;break}}else for(oe in r)for(Q=r[oe],le=0;le<Q.length;le+=1){for(xe=!0,V=0;V<Q[le].length;V+=1)if(Q[le][V]!==void 0&&Q[le][V]!==O.charCodeAt(V)){xe=!1;break}if(xe===!0){Z=oe;break}}return Z===t&&$!==t&&(Z=$),Z},o=function O($){for(var le=this.internal.write,V=this.internal.putStream,Q=(0,this.internal.getFilters)();Q.indexOf("FlateEncode")!==-1;)Q.splice(Q.indexOf("FlateEncode"),1);$.objectId=this.internal.newObject();var xe=[];if(xe.push({key:"Type",value:"/XObject"}),xe.push({key:"Subtype",value:"/Image"}),xe.push({key:"Width",value:$.width}),xe.push({key:"Height",value:$.height}),$.colorSpace===S.INDEXED?xe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+($.palette.length/3-1)+" "+("sMask"in $&&$.sMask!==void 0?$.objectId+2:$.objectId+1)+" 0 R]"}):(xe.push({key:"ColorSpace",value:"/"+$.colorSpace}),$.colorSpace===S.DEVICE_CMYK&&xe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),xe.push({key:"BitsPerComponent",value:$.bitsPerComponent}),"decodeParameters"in $&&$.decodeParameters!==void 0&&xe.push({key:"DecodeParms",value:"<<"+$.decodeParameters+">>"}),"transparency"in $&&Array.isArray($.transparency)&&$.transparency.length>0){for(var oe="",Z=0,ie=$.transparency.length;Z<ie;Z++)oe+=$.transparency[Z]+" "+$.transparency[Z]+" ";xe.push({key:"Mask",value:"["+oe+"]"})}$.sMask!==void 0&&xe.push({key:"SMask",value:$.objectId+1+" 0 R"});var Me=$.filter!==void 0?["/"+$.filter]:void 0;if(V({data:$.data,additionalKeyValues:xe,alreadyAppliedFilters:Me,objectId:$.objectId}),le("endobj"),"sMask"in $&&$.sMask!==void 0){var Ee,k=(Ee=$.sMaskBitsPerComponent)!==null&&Ee!==void 0?Ee:$.bitsPerComponent,W={width:$.width,height:$.height,colorSpace:"DeviceGray",bitsPerComponent:k,data:$.sMask};"filter"in $&&(W.decodeParameters="/Predictor ".concat($.predictor," /Colors 1 /BitsPerComponent ").concat(k," /Columns ").concat($.width),W.filter=$.filter),O.call(this,W)}if($.colorSpace===S.INDEXED){var X=this.internal.newObject();V({data:Y(new Uint8Array($.palette)),objectId:X}),le("endobj")}},s=function(){var O=this.internal.collections[e+"images"];for(var $ in O)o.call(this,O[$])},a=function(){var O,$=this.internal.collections[e+"images"],le=this.internal.write;for(var V in $)le("/I"+(O=$[V]).index,O.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var O=this.internal.collections[e+"images"];return l.call(this),O},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},d=function(O){return typeof n["process"+O.toUpperCase()]=="function"},p=function(O){return _r(O)==="object"&&O.nodeType===1},f=function(O,$){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var le=""+O.getAttribute("src");if(le.indexOf("data:image/")===0)return m_(unescape(le).split("base64,").pop());var V=n.loadFile(le,!0);if(V!==void 0)return V}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var Q;switch($){case"PNG":Q="image/png";break;case"WEBP":Q="image/webp";break;default:Q="image/jpeg"}return m_(O.toDataURL(Q,1).split("base64,").pop())}},b=function(O){var $=this.internal.collections[e+"images"];if($){for(var le in $)if(O===$[le].alias)return $[le]}},_=function(O,$,le){return O||$||(O=-96,$=-96),O<0&&(O=-1*le.width*72/O/this.internal.scaleFactor),$<0&&($=-1*le.height*72/$/this.internal.scaleFactor),O===0&&(O=$*le.width/le.height),$===0&&($=O*le.height/le.width),[O,$]},C=function(O,$,le,V,Q,xe){var oe=_.call(this,le,V,Q),Z=this.internal.getCoordinateString,ie=this.internal.getVerticalCoordinateString,Me=c.call(this);if(le=oe[0],V=oe[1],Me[Q.index]=Q,xe){xe*=Math.PI/180;var Ee=Math.cos(xe),k=Math.sin(xe),W=function(de){return de.toFixed(4)},X=[W(Ee),W(k),W(-1*k),W(Ee),0,0,"cm"]}this.internal.write("q"),xe?(this.internal.write([1,"0","0",1,Z(O),ie($+V),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([Z(le),"0","0",Z(V),"0","0","cm"].join(" "))):this.internal.write([Z(le),"0","0",Z(V),Z(O),ie($+V),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Q.index+" Do"),this.internal.write("Q")},S=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var A=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},F=n.__addimage__.sHashCode=function(O){var $,le,V=0;if(typeof O=="string")for(le=O.length,$=0;$<le;$++)V=(V<<5)-V+O.charCodeAt($),V|=0;else if(se(O))for(le=O.byteLength/2,$=0;$<le;$++)V=(V<<5)-V+O[$],V|=0;return V},P=n.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var $=!0;return O.length===0&&($=!1),O.length%4!=0&&($=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&($=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&($=!1),$},U=n.__addimage__.extractImageFromDataUrl=function(O){if(O==null||!(O=O.trim()).startsWith("data:"))return null;var $=O.indexOf(",");return $<0?null:O.substring(0,$).trim().endsWith("base64")?O.substring($+1):null};n.__addimage__.isArrayBuffer=function(O){return O instanceof ArrayBuffer};var se=n.__addimage__.isArrayBufferView=function(O){return O instanceof Int8Array||O instanceof Uint8Array||O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array},he=n.__addimage__.binaryStringToUint8Array=function(O){for(var $=O.length,le=new Uint8Array($),V=0;V<$;V++)le[V]=O.charCodeAt(V);return le},Y=n.__addimage__.arrayBufferToBinaryString=function(O){for(var $="",le=se(O)?O:new Uint8Array(O),V=0;V<le.length;V+=8192)$+=String.fromCharCode.apply(null,le.subarray(V,V+8192));return $};n.addImage=function(){var O,$,le,V,Q,xe,oe,Z,ie;if(typeof arguments[1]=="number"?($=t,le=arguments[1],V=arguments[2],Q=arguments[3],xe=arguments[4],oe=arguments[5],Z=arguments[6],ie=arguments[7]):($=arguments[1],le=arguments[2],V=arguments[3],Q=arguments[4],xe=arguments[5],oe=arguments[6],Z=arguments[7],ie=arguments[8]),_r(O=arguments[0])==="object"&&!p(O)&&"imageData"in O){var Me=O;O=Me.imageData,$=Me.format||$||t,le=Me.x||le||0,V=Me.y||V||0,Q=Me.w||Me.width||Q,xe=Me.h||Me.height||xe,oe=Me.alias||oe,Z=Me.compression||Z,ie=Me.rotation||Me.angle||ie}var Ee=this.internal.getFilters();if(Z===void 0&&Ee.indexOf("FlateEncode")!==-1&&(Z="SLOW"),isNaN(le)||isNaN(V))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var k=H.call(this,O,$,oe,Z);return C.call(this,le,V,Q,xe,k,ie),this};var H=function(O,$,le,V){var Q,xe,oe;if(typeof O=="string"&&i(O)===t){O=unescape(O);var Z=pe(O,!1);(Z!==""||(Z=n.loadFile(O,!0))!==void 0)&&(O=Z)}if(p(O)&&(O=f(O,$)),$=i(O,$),!d($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(((oe=le)==null||oe.length===0)&&(le=(function(ie){return typeof ie=="string"||se(ie)?F(ie):se(ie.data)?F(ie.data):null})(O)),(Q=b.call(this,le))||(O instanceof Uint8Array||$==="RGBA"||(xe=O,O=he(O)),Q=this["process"+$.toUpperCase()](O,u.call(this),le,(function(ie){return ie&&typeof ie=="string"&&(ie=ie.toUpperCase()),ie in n.image_compression?ie:A.NONE})(V),xe)),!Q)throw new Error("An unknown error occurred whilst processing the image.");return Q},pe=n.__addimage__.convertBase64ToBinaryString=function(O,$){$=typeof $!="boolean"||$;var le,V="";if(typeof O=="string"){var Q;le=(Q=U(O))!==null&&Q!==void 0?Q:O;try{V=m_(le)}catch(xe){if($)throw P(le)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+xe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return V};n.getImageProperties=function(O){var $,le,V="";if(p(O)&&(O=f(O)),typeof O=="string"&&i(O)===t&&((V=pe(O,!1))===""&&(V=n.loadFile(O)||""),O=V),le=i(O),!d(le))throw new Error("addImage does not support files of type '"+le+"', please ensure that a plugin for '"+le+"' support is added.");if(O instanceof Uint8Array||(O=he(O)),!($=this["process"+le.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return $.fileType=le,$}})(Pt.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Pt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,o,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(t.objId),c=t.pageContext.annotations,u=!1,d=0;d<c.length&&!u;d++)switch((r=c[d]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){r=c[p];var f=this.internal.pdfEscape,b=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),C=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(_.objId),A=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+f(S(r.contents))+")",o+=" /Popup "+C.objId+" 0 R",o+=" /P "+l.objId+" 0 R",o+=" /T ("+f(S(A))+") >>",_.content=o;var F=_.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+F,r.open&&(o+=" /Open true"),o+=" >>",C.content=o,this.internal.write(_.objId,"0 R",C.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var P=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(b(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+P+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var U=this.annotations._nameMap[r.options.name];r.options.pageNumber=U.page,r.options.top=U.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(b(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var se=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+se+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,o,s){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(t),y:c(r),w:l(t+i),h:c(r+o)},options:s,type:"link"})},n.textWithLink=function(t,r,i,o){var s,a,l=this.getTextWidth(t),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){a=o.maxWidth;var u=this.splitTextToSize(t,a).length;s=Math.ceil(c*u)}else a=l,s=c;return this.text(t,r,i,o),i+=.2*c,o.align==="center"&&(r-=l/2),o.align==="right"&&(r-=l),this.link(r,i-c,a,s,o),l},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(Pt.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(_){return e[_.charCodeAt(0)]!==void 0},s=n.__arabicParser__.isArabicLetter=function(_){return typeof _=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},a=n.__arabicParser__.isArabicEndLetter=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length<=2},l=n.__arabicParser__.isArabicAlfLetter=function(_){return s(_)&&i.indexOf(_.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length>=1};var c=n.__arabicParser__.arabicLetterHasFinalForm=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length>=3};var u=n.__arabicParser__.arabicLetterHasMedialForm=function(_){return s(_)&&o(_)&&e[_.charCodeAt(0)].length==4},d=n.__arabicParser__.resolveLigatures=function(_){var C=0,S=t,A="",F=0;for(C=0;C<_.length;C+=1)S[_.charCodeAt(C)]!==void 0?(F++,typeof(S=S[_.charCodeAt(C)])=="number"&&(A+=String.fromCharCode(S),S=t,F=0),C===_.length-1&&(S=t,A+=_.charAt(C-(F-1)),C-=F-1,F=0)):(S=t,A+=_.charAt(C-F),C-=F,F=0);return A};n.__arabicParser__.isArabicDiacritic=function(_){return _!==void 0&&r[_.charCodeAt(0)]!==void 0};var p=n.__arabicParser__.getCorrectForm=function(_,C,S){return s(_)?o(_)===!1?-1:!c(_)||!s(C)&&!s(S)||!s(S)&&a(C)||a(_)&&!s(C)||a(_)&&l(C)||a(_)&&a(C)?0:u(_)&&s(C)&&!a(C)&&s(S)&&c(S)?3:a(_)||!s(S)?1:2:-1},f=function(_){var C=0,S=0,A=0,F="",P="",U="",se=(_=_||"").split("\\s+"),he=[];for(C=0;C<se.length;C+=1){for(he.push(""),S=0;S<se[C].length;S+=1)F=se[C][S],P=se[C][S-1],U=se[C][S+1],s(F)?(A=p(F,P,U),he[C]+=A!==-1?String.fromCharCode(e[F.charCodeAt(0)][A]):F):he[C]+=F;he[C]=d(he[C])}return he.join(" ")},b=n.__arabicParser__.processArabic=n.processArabic=function(){var _,C=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(C)){var A=0;for(S=[],A=0;A<C.length;A+=1)Array.isArray(C[A])?S.push([f(C[A][0]),C[A][1],C[A][2]]):S.push([f(C[A])]);_=S}else _=f(C);return typeof arguments[0]=="string"?_:(arguments[0].text=_,arguments[0])};n.events.push(["preProcessText",b])})(Pt.API),Pt.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(a){t=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(a){o=a}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Pt.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(_){l=_}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(_){c=_}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(_){u=_}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(_){d=_}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(_){p=_}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(_){f=_}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(_){b=_}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},n.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,f=0,b=0,_=0,C=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var S=c.maxWidth;S>0?typeof l=="string"?l=this.splitTextToSize(l,S):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(F,P){return F.concat(C.splitTextToSize(P,S))},[])):l=Array.isArray(l)?l:[l];for(var A=0;A<l.length;A++)f<(_=this.getStringUnitWidth(l[A],{font:d})*u)&&(f=_);return f!==0&&(b=l.length),{w:f/=p,h:Math.max((b*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/p,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=n.cell=function(){var l;l=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,f&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,t===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};n.table=function(l,c,u,d,p){if(r.call(this),!u)throw new Error("No data for PDF table.");var f,b,_,C,S=[],A=[],F=[],P={},U={},se=[],he=[],Y=(p=p||{}).autoSize||!1,H=p.printHeaders!==!1,pe=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,O=p.margins||Object.assign({width:this.getPageWidth()},e),$=typeof p.padding=="number"?p.padding:3,le=p.headerBackgroundColor||"#c8c8c8",V=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=H,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=pe,this.internal.__cell__.padding=$,this.internal.__cell__.headerBackgroundColor=le,this.internal.__cell__.headerTextColor=V,this.setFontSize(pe),d==null)A=S=Object.keys(u[0]),F=S.map(function(){return"left"});else if(Array.isArray(d)&&_r(d[0])==="object")for(S=d.map(function(Me){return Me.name}),A=d.map(function(Me){return Me.prompt||Me.name||""}),F=d.map(function(Me){return Me.align||"left"}),f=0;f<d.length;f+=1)U[d[f].name]=.7499990551181103*d[f].width;else Array.isArray(d)&&typeof d[0]=="string"&&(A=S=d,F=S.map(function(){return"left"}));if(Y||Array.isArray(d)&&typeof d[0]=="string")for(f=0;f<S.length;f+=1){for(P[C=S[f]]=u.map(function(Me){return Me[C]}),this.setFont(void 0,"bold"),se.push(this.getTextDimensions(A[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=P[C],this.setFont(void 0,"normal"),_=0;_<b.length;_+=1)se.push(this.getTextDimensions(b[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);U[C]=Math.max.apply(null,se)+$+$,se=[]}if(H){var Q={};for(f=0;f<S.length;f+=1)Q[S[f]]={},Q[S[f]].text=A[f],Q[S[f]].align=F[f];var xe=a.call(this,Q,U);he=S.map(function(Me){return new o(l,c,U[Me],xe,Q[Me].text,void 0,Q[Me].align)}),this.setTableHeaderRow(he),this.printHeaderRow(1,!1)}var oe=d.reduce(function(Me,Ee){return Me[Ee.name]=Ee.align,Me},{});for(f=0;f<u.length;f+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:f,data:u[f]},this);var Z=a.call(this,u[f],U);for(_=0;_<S.length;_+=1){var ie=u[f][S[_]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:f,col:_,data:ie},this),s.call(this,new o(l,c,U[S[_]],Z,ie,f+2,oe[S[_]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(f){var b=l[f];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,c[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*d/p+u+u},this).reduce(function(f,b){return Math.max(f,b)},0)};n.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},n.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,p.push(u)),u.lineNumber=l;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(b)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),t=!1}})(Pt.API);var b6={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},_6=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],yI=y6(_6),w6=[100,200,300,400,500,600,700,800,900],Wre=y6(w6);function dI(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return b6[o=o||"normal"]?o:"normal"})(n.style),r=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),i=(function(o){return typeof yI[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function Y4(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var Gre={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},K4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Q4(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function Z4(n){return n.trimLeft()}function Yre(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function Kre(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var p_,X4,J4,Ip,g_,e6,t6,n6,fI=["times"];function r6(n,e,t,r,i){var o=4,s=o6;switch(i){case Pt.API.image_compression.FAST:o=1,s=i6;break;case Pt.API.image_compression.MEDIUM:o=6,s=s6;break;case Pt.API.image_compression.SLOW:o=9,s=a6}n=(function(l,c,u,d){for(var p,f=l.length/c,b=new Uint8Array(l.length+f),_=[Qre,i6,o6,s6,a6],C=0;C<f;C+=1){var S=C*c,A=l.subarray(S,S+c);if(d)b.set(d(A,u,p),S+C);else{for(var F=_.length,P=[],U=0;U<F;U+=1)P[U]=_[U](A,u,p);var se=Xre(P.concat());b.set(P[se],S+C)}p=A}return b})(n,e,Math.ceil(t*r/8),s);var a=q1(n,{level:o});return Pt.API.__addimage__.arrayBufferToBinaryString(a)}function Qre(n){var e=Array.apply([],n);return e.unshift(0),e}function i6(n,e){var t=n.length,r=[];r[0]=1;for(var i=0;i<t;i+=1){var o=n[i-e]||0;r[i+1]=n[i]-o+256&255}return r}function o6(n,e,t){var r=n.length,i=[];i[0]=2;for(var o=0;o<r;o+=1){var s=t&&t[o]||0;i[o+1]=n[o]-s+256&255}return i}function s6(n,e,t){var r=n.length,i=[];i[0]=3;for(var o=0;o<r;o+=1){var s=n[o-e]||0,a=t&&t[o]||0;i[o+1]=n[o]+256-(s+a>>>1)&255}return i}function a6(n,e,t){var r=n.length,i=[];i[0]=4;for(var o=0;o<r;o+=1){var s=Zre(n[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);i[o+1]=n[o]-s+256&255}return i}function Zre(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),i=Math.abs(n-t),o=Math.abs(n+e-t-t);return r<=i&&r<=o?n:i<=o?e:t}function Xre(n){var e=n.map(function(t){return t.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function hI(n,e,t){var r=e*t,i=Math.floor(r/8),o=16-(r-8*i+t),s=(1<<t)-1;return x6(n,i)>>o&s}function l6(n,e,t,r){var i=t*r,o=Math.floor(i/8),s=16-(i-8*o+r),a=(1<<r)-1,l=(e&a)<<s;(function(c,u,d){if(u+1<c.byteLength)c.setUint16(u,d,!1);else{var p=d>>8&255;c.setUint8(u,p)}})(n,o,x6(n,o)&~(a<<s)&65535|l)}function x6(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function Jre(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],o=i>>7,s=1<<1+(7&i);n[e++],n[e++];var a=null,l=null;o&&(a=e,l=s,e+=3*s);var c=!0,u=[],d=0,p=null,f=0,b=null;for(this.width=t,this.height=r;c&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,b=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((O=n[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var _=n[e++];d=n[e++]|n[e++]<<8,p=n[e++],1&_||(p=null),f=_>>2&7,e++;break;case 254:for(;;){if(!((O=n[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var C=n[e++]|n[e++]<<8,S=n[e++]|n[e++]<<8,A=n[e++]|n[e++]<<8,F=n[e++]|n[e++]<<8,P=n[e++],U=P>>6&1,se=1<<1+(7&P),he=a,Y=l,H=!1;P>>7&&(H=!0,he=e,Y=se,e+=3*se);var pe=e;for(e++;;){var O;if(!((O=n[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}u.push({x:C,y:S,width:A,height:F,has_local_palette:H,palette_offset:he,palette_size:Y,data_offset:pe,data_length:e-pe,transparent_index:p,interlaced:!!U,delay:d,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return b},this.frameInfo=function($){if($<0||$>=u.length)throw new Error("Frame index out of range.");return u[$]},this.decodeAndBlitFrameBGRA=function($,le){var V=this.frameInfo($),Q=V.width*V.height,xe=new Uint8Array(Q);c6(n,V.data_offset,xe,Q);var oe=V.palette_offset,Z=V.transparent_index;Z===null&&(Z=256);var ie=V.width,Me=t-ie,Ee=ie,k=4*(V.y*t+V.x),W=4*((V.y+V.height)*t+V.x),X=k,de=4*Me;V.interlaced===!0&&(de+=4*t*7);for(var ve=8,ue=0,je=xe.length;ue<je;++ue){var Be=xe[ue];if(Ee===0&&(Ee=ie,(X+=de)>=W&&(de=4*Me+4*t*(ve-1),X=k+(ie+Me)*(ve<<1),ve>>=1)),Be===Z)X+=4;else{var Re=n[oe+3*Be],Je=n[oe+3*Be+1],vt=n[oe+3*Be+2];le[X++]=vt,le[X++]=Je,le[X++]=Re,le[X++]=255}--Ee}},this.decodeAndBlitFrameRGBA=function($,le){var V=this.frameInfo($),Q=V.width*V.height,xe=new Uint8Array(Q);c6(n,V.data_offset,xe,Q);var oe=V.palette_offset,Z=V.transparent_index;Z===null&&(Z=256);var ie=V.width,Me=t-ie,Ee=ie,k=4*(V.y*t+V.x),W=4*((V.y+V.height)*t+V.x),X=k,de=4*Me;V.interlaced===!0&&(de+=4*t*7);for(var ve=8,ue=0,je=xe.length;ue<je;++ue){var Be=xe[ue];if(Ee===0&&(Ee=ie,(X+=de)>=W&&(de=4*Me+4*t*(ve-1),X=k+(ie+Me)*(ve<<1),ve>>=1)),Be===Z)X+=4;else{var Re=n[oe+3*Be],Je=n[oe+3*Be+1],vt=n[oe+3*Be+2];le[X++]=Re,le[X++]=Je,le[X++]=vt,le[X++]=255}--Ee}}}function c6(n,e,t,r){for(var i=n[e++],o=1<<i,s=o+1,a=s+1,l=i+1,c=(1<<l)-1,u=0,d=0,p=0,f=n[e++],b=new Int32Array(4096),_=null;;){for(;u<16&&f!==0;)d|=n[e++]<<u,u+=8,f===1?f=n[e++]:--f;if(u<l)break;var C=d&c;if(d>>=l,u-=l,C!==o){if(C===s)break;for(var S=C<a?C:_,A=0,F=S;F>o;)F=b[F]>>8,++A;var P=F;if(p+A+(S!==C?1:0)>r)return void Ar.log("Warning, gif stream longer than expected.");t[p++]=P;var U=p+=A;for(S!==C&&(t[p++]=P),F=S;A--;)F=b[F],t[--U]=255&F,F>>=8;_!==null&&a<4096&&(b[a++]=_<<8|P,a>=c+1&&l<12&&(++l,c=c<<1|1)),_=C}else a=s+1,c=(1<<(l=i+1))-1,_=null}return p!==r&&Ar.log("Warning, gif stream shorter than expected."),t}function pI(n){var e,t,r,i,o,s=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),p=new Array(65535),f=new Array(64),b=new Array(64),_=[],C=0,S=7,A=new Array(64),F=new Array(64),P=new Array(64),U=new Array(256),se=new Array(2048),he=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Y=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],pe=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],$=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],le=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Q=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function xe(k,W){for(var X=0,de=0,ve=new Array,ue=1;ue<=16;ue++){for(var je=1;je<=k[ue];je++)ve[W[de]]=[],ve[W[de]][0]=X,ve[W[de]][1]=ue,de++,X++;X*=2}return ve}function oe(k){for(var W=k[0],X=k[1]-1;X>=0;)W&1<<X&&(C|=1<<S),X--,--S<0&&(C==255?(Z(255),Z(0)):Z(C),S=7,C=0)}function Z(k){_.push(k)}function ie(k){Z(k>>8&255),Z(255&k)}function Me(k,W,X,de,ve){for(var ue,je=ve[0],Be=ve[240],Re=(function(Qe,Vt){var _t,jt,Nt,An,on,Kt,hn,Sn,Et,Wt,It=0;for(Et=0;Et<8;++Et){_t=Qe[It],jt=Qe[It+1],Nt=Qe[It+2],An=Qe[It+3],on=Qe[It+4],Kt=Qe[It+5],hn=Qe[It+6];var Fr=_t+(Sn=Qe[It+7]),fn=_t-Sn,et=jt+hn,Jt=jt-hn,Zn=Nt+Kt,Ot=Nt-Kt,Xe=An+on,zt=An-on,Zt=Fr+Xe,gr=Fr-Xe,pn=et+Zn,Ut=et-Zn;Qe[It]=Zt+pn,Qe[It+4]=Zt-pn;var Xn=.707106781*(Ut+gr);Qe[It+2]=gr+Xn,Qe[It+6]=gr-Xn;var nc=.382683433*((Zt=zt+Ot)-(Ut=Jt+fn)),Gr=.5411961*Zt+nc,co=1.306562965*Ut+nc,Wo=.707106781*(pn=Ot+Jt),Bt=fn+Wo,zn=fn-Wo;Qe[It+5]=zn+Gr,Qe[It+3]=zn-Gr,Qe[It+1]=Bt+co,Qe[It+7]=Bt-co,It+=8}for(It=0,Et=0;Et<8;++Et){_t=Qe[It],jt=Qe[It+8],Nt=Qe[It+16],An=Qe[It+24],on=Qe[It+32],Kt=Qe[It+40],hn=Qe[It+48];var mr=_t+(Sn=Qe[It+56]),Go=_t-Sn,Wi=jt+hn,Cr=jt-hn,Yr=Nt+Kt,Di=Nt-Kt,uo=An+on,Mo=An-on,mi=mr+uo,ko=mr-uo,bs=Wi+Yr,vi=Wi-Yr;Qe[It]=mi+bs,Qe[It+32]=mi-bs;var No=.707106781*(vi+ko);Qe[It+16]=ko+No,Qe[It+48]=ko-No;var Po=.382683433*((mi=Mo+Di)-(vi=Cr+Go)),_s=.5411961*mi+Po,Aa=1.306562965*vi+Po,vr=.707106781*(bs=Di+Cr),Yo=Go+vr,fo=Go-vr;Qe[It+40]=fo+_s,Qe[It+24]=fo-_s,Qe[It+8]=Yo+Aa,Qe[It+56]=Yo-Aa,It++}for(Et=0;Et<64;++Et)Wt=Qe[Et]*Vt[Et],f[Et]=Wt>0?Wt+.5|0:Wt-.5|0;return f})(k,W),Je=0;Je<64;++Je)b[he[Je]]=Re[Je];var vt=b[0]-X;X=b[0],vt==0?oe(de[0]):(oe(de[p[ue=32767+vt]]),oe(d[ue]));for(var ht=63;ht>0&&b[ht]==0;)ht--;if(ht==0)return oe(je),X;for(var Lt,J=1;J<=ht;){for(var mt=J;b[J]==0&&J<=ht;)++J;var dn=J-mt;if(dn>=16){Lt=dn>>4;for(var Ft=1;Ft<=Lt;++Ft)oe(Be);dn&=15}ue=32767+b[J],oe(ve[(dn<<4)+p[ue]]),oe(d[ue]),J++}return ht!=63&&oe(je),X}function Ee(k){k=Math.min(Math.max(k,1),100),o!=k&&((function(W){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],de=0;de<64;de++){var ve=s((X[de]*W+50)/100);ve=Math.min(Math.max(ve,1),255),a[he[de]]=ve}for(var ue=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],je=0;je<64;je++){var Be=s((ue[je]*W+50)/100);Be=Math.min(Math.max(Be,1),255),l[he[je]]=Be}for(var Re=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Je=0,vt=0;vt<8;vt++)for(var ht=0;ht<8;ht++)c[Je]=1/(a[he[Je]]*Re[vt]*Re[ht]*8),u[Je]=1/(l[he[Je]]*Re[vt]*Re[ht]*8),Je++})(k<50?Math.floor(5e3/k):Math.floor(200-2*k)),o=k)}this.encode=function(k,W){W&&Ee(W),_=new Array,C=0,S=7,ie(65496),ie(65504),ie(16),Z(74),Z(70),Z(73),Z(70),Z(0),Z(1),Z(1),Z(0),ie(1),ie(1),Z(0),Z(0),(function(){ie(65499),ie(132),Z(0);for(var jt=0;jt<64;jt++)Z(a[jt]);Z(1);for(var Nt=0;Nt<64;Nt++)Z(l[Nt])})(),(function(jt,Nt){ie(65472),ie(17),Z(8),ie(Nt),ie(jt),Z(3),Z(1),Z(17),Z(0),Z(2),Z(17),Z(1),Z(3),Z(17),Z(1)})(k.width,k.height),(function(){ie(65476),ie(418),Z(0);for(var jt=0;jt<16;jt++)Z(Y[jt+1]);for(var Nt=0;Nt<=11;Nt++)Z(H[Nt]);Z(16);for(var An=0;An<16;An++)Z(pe[An+1]);for(var on=0;on<=161;on++)Z(O[on]);Z(1);for(var Kt=0;Kt<16;Kt++)Z($[Kt+1]);for(var hn=0;hn<=11;hn++)Z(le[hn]);Z(17);for(var Sn=0;Sn<16;Sn++)Z(V[Sn+1]);for(var Et=0;Et<=161;Et++)Z(Q[Et])})(),ie(65498),ie(12),Z(3),Z(1),Z(0),Z(2),Z(17),Z(3),Z(17),Z(0),Z(63),Z(0);var X=0,de=0,ve=0;C=0,S=7,this.encode.displayName="_encode_";for(var ue,je,Be,Re,Je,vt,ht,Lt,J,mt=k.data,dn=k.width,Ft=k.height,Qe=4*dn,Vt=0;Vt<Ft;){for(ue=0;ue<Qe;){for(Je=Qe*Vt+ue,ht=-1,Lt=0,J=0;J<64;J++)vt=Je+(Lt=J>>3)*Qe+(ht=4*(7&J)),Vt+Lt>=Ft&&(vt-=Qe*(Vt+1+Lt-Ft)),ue+ht>=Qe&&(vt-=ue+ht-Qe+4),je=mt[vt++],Be=mt[vt++],Re=mt[vt++],A[J]=(se[je]+se[Be+256|0]+se[Re+512|0]>>16)-128,F[J]=(se[je+768|0]+se[Be+1024|0]+se[Re+1280|0]>>16)-128,P[J]=(se[je+1280|0]+se[Be+1536|0]+se[Re+1792|0]>>16)-128;X=Me(A,c,X,e,r),de=Me(F,u,de,t,i),ve=Me(P,u,ve,t,i),ue+=32}Vt+=8}if(S>=0){var _t=[];_t[1]=S+1,_t[0]=(1<<S+1)-1,oe(_t)}return ie(65497),new Uint8Array(_)},n=n||50,(function(){for(var k=String.fromCharCode,W=0;W<256;W++)U[W]=k(W)})(),e=xe(Y,H),t=xe($,le),r=xe(pe,O),i=xe(V,Q),(function(){for(var k=1,W=2,X=1;X<=15;X++){for(var de=k;de<W;de++)p[32767+de]=X,d[32767+de]=[],d[32767+de][1]=X,d[32767+de][0]=de;for(var ve=-(W-1);ve<=-k;ve++)p[32767+ve]=X,d[32767+ve]=[],d[32767+ve][1]=X,d[32767+ve][0]=W-1+ve;k<<=1,W<<=1}})(),(function(){for(var k=0;k<256;k++)se[k]=19595*k,se[k+256|0]=38470*k,se[k+512|0]=7471*k+32768,se[k+768|0]=-11059*k,se[k+1024|0]=-21709*k,se[k+1280|0]=32768*k+8421375,se[k+1536|0]=-27439*k,se[k+1792|0]=-5329*k})(),Ee(n)}function sl(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function u6(n){function e(H){if(!H)throw Error("assert :P")}function t(H,pe,O){for(var $=0;4>$;$++)if(H[pe+$]!=O.charCodeAt($))return!0;return!1}function r(H,pe,O,$,le){for(var V=0;V<le;V++)H[pe+V]=O[$+V]}function i(H,pe,O,$){for(var le=0;le<$;le++)H[pe+le]=O}function o(H){return new Int32Array(H)}function s(H,pe){for(var O=[],$=0;$<H;$++)O.push(new pe);return O}function a(H,pe){var O=[];return(function $(le,V,Q){for(var xe=Q[V],oe=0;oe<xe&&(le.push(Q.length>V+1?[]:new pe),!(Q.length<V+1));oe++)$(le[oe],V+1,Q)})(O,0,H),O}var l=function(){var H=this;function pe(h,m){for(var x=1<<m-1>>>0;h&x;)x>>>=1;return x?(h&x-1)+x:h}function O(h,m,x,E,M){e(!(E%x));do h[m+(E-=x)]=M;while(0<E)}function $(h,m,x,E,M){if(e(2328>=M),512>=M)var R=o(512);else if((R=o(M))==null)return 0;return(function(j,q,G,ne,Ce,Oe){var re,De,Ne=q,He=1<<G,Pe=o(16),qe=o(16);for(e(Ce!=0),e(ne!=null),e(j!=null),e(0<G),De=0;De<Ce;++De){if(15<ne[De])return 0;++Pe[ne[De]]}if(Pe[0]==Ce)return 0;for(qe[1]=0,re=1;15>re;++re){if(Pe[re]>1<<re)return 0;qe[re+1]=qe[re]+Pe[re]}for(De=0;De<Ce;++De)re=ne[De],0<ne[De]&&(Oe[qe[re]++]=De);if(qe[15]==1)return(ne=new le).g=0,ne.value=Oe[0],O(j,Ne,1,He,ne),He;var We,nt=-1,Ze=He-1,Rt=0,St=1,mn=1,Tt=1<<G;for(De=0,re=1,Ce=2;re<=G;++re,Ce<<=1){if(St+=mn<<=1,0>(mn-=Pe[re]))return 0;for(;0<Pe[re];--Pe[re])(ne=new le).g=re,ne.value=Oe[De++],O(j,Ne+Rt,Ce,Tt,ne),Rt=pe(Rt,re)}for(re=G+1,Ce=2;15>=re;++re,Ce<<=1){if(St+=mn<<=1,0>(mn-=Pe[re]))return 0;for(;0<Pe[re];--Pe[re]){if(ne=new le,(Rt&Ze)!=nt){for(Ne+=Tt,We=1<<(nt=re)-G;15>nt&&!(0>=(We-=Pe[nt]));)++nt,We<<=1;He+=Tt=1<<(We=nt-G),j[q+(nt=Rt&Ze)].g=We+G,j[q+nt].value=Ne-q-nt}ne.g=re-G,ne.value=Oe[De++],O(j,Ne+(Rt>>G),Ce,Tt,ne),Rt=pe(Rt,re)}}return St!=2*qe[15]-1?0:He})(h,m,x,E,M,R)}function le(){this.value=this.g=0}function V(){this.value=this.g=0}function Q(){this.G=s(5,le),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(ur,V)}function xe(h,m,x,E){e(h!=null),e(m!=null),e(2147483648>E),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=m,h.pa=x,h.Jd=m,h.Yc=x+E,h.Zc=4<=E?x+E-4+1:x,je(h)}function oe(h,m){for(var x=0;0<m--;)x|=Re(h,128)<<m;return x}function Z(h,m){var x=oe(h,m);return Be(h)?-x:x}function ie(h,m,x,E){var M,R=0;for(e(h!=null),e(m!=null),e(4294967288>E),h.Sb=E,h.Ra=0,h.u=0,h.h=0,4<E&&(E=4),M=0;M<E;++M)R+=m[x+M]<<8*M;h.Ra=R,h.bb=E,h.oa=m,h.pa=x}function Me(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<wl-8>>>0,++h.bb,h.u-=8;de(h)&&(h.h=1,h.u=0)}function Ee(h,m){if(e(0<=m),!h.h&&m<=Mr){var x=X(h)&Bi[m];return h.u+=m,Me(h),x}return h.h=1,h.u=0}function k(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function W(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(h){return h.Ra>>>(h.u&wl-1)>>>0}function de(h){return e(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>wl}function ve(h,m){h.u=m,h.h=de(h)}function ue(h){h.u>=Is&&(e(h.u>=Is),Me(h))}function je(h){e(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(e(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function Be(h){return oe(h,1)}function Re(h,m){var x=h.Ca;0>h.b&&je(h);var E=h.b,M=x*m>>>8,R=(h.I>>>E>M)+0;for(R?(x-=M,h.I-=M+1<<E>>>0):x=M+1,E=x,M=0;256<=E;)M+=8,E>>=8;return E=7^M+ja[E],h.b-=E,h.Ca=(x<<E)-1,R}function Je(h,m,x){h[m+0]=x>>24&255,h[m+1]=x>>16&255,h[m+2]=x>>8&255,h[m+3]=255&x}function vt(h,m){return h[m+0]|h[m+1]<<8}function ht(h,m){return vt(h,m)|h[m+2]<<16}function Lt(h,m){return vt(h,m)|vt(h,m+2)<<16}function J(h,m){var x=1<<m;return e(h!=null),e(0<m),h.X=o(x),h.X==null?0:(h.Mb=32-m,h.Xa=m,1)}function mt(h,m){e(h!=null),e(m!=null),e(h.Xa==m.Xa),r(m.X,0,h.X,0,1<<m.Xa)}function dn(){this.X=[],this.Xa=this.Mb=0}function Ft(h,m,x,E){e(x!=null),e(E!=null);var M=x[0],R=E[0];return M==0&&(M=(h*R+m/2)/m),R==0&&(R=(m*M+h/2)/h),0>=M||0>=R?0:(x[0]=M,E[0]=R,1)}function Qe(h,m){return h+(1<<m)-1>>>m}function Vt(h,m){return((4278255360&h)+(4278255360&m)>>>0&4278255360)+((16711935&h)+(16711935&m)>>>0&16711935)>>>0}function _t(h,m){H[m]=function(x,E,M,R,j,q,G){var ne;for(ne=0;ne<j;++ne){var Ce=H[h](q[G+ne-1],M,R+ne);q[G+ne]=Vt(x[E+ne],Ce)}}}function jt(){this.ud=this.hd=this.jd=0}function Nt(h,m){return((4278124286&(h^m))>>>1)+(h&m)>>>0}function An(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function on(h,m){return An(h+(h-m+.5>>1))}function Kt(h,m,x){return Math.abs(m-x)-Math.abs(h-x)}function hn(h,m,x,E,M,R,j){for(E=R[j-1],x=0;x<M;++x)R[j+x]=E=Vt(h[m+x],E)}function Sn(h,m,x,E,M){var R;for(R=0;R<x;++R){var j=h[m+R],q=j>>8&255,G=16711935&(G=(G=16711935&j)+((q<<16)+q));E[M+R]=(4278255360&j)+G>>>0}}function Et(h,m){m.jd=255&h,m.hd=h>>8&255,m.ud=h>>16&255}function Wt(h,m,x,E,M,R){var j;for(j=0;j<E;++j){var q=m[x+j],G=q>>>8,ne=q,Ce=255&(Ce=(Ce=q>>>16)+((h.jd<<24>>24)*(G<<24>>24)>>>5));ne=255&(ne=(ne+=(h.hd<<24>>24)*(G<<24>>24)>>>5)+((h.ud<<24>>24)*(Ce<<24>>24)>>>5)),M[R+j]=(4278255360&q)+(Ce<<16)+ne}}function It(h,m,x,E,M){H[m]=function(R,j,q,G,ne,Ce,Oe,re,De){for(G=Oe;G<re;++G)for(Oe=0;Oe<De;++Oe)ne[Ce++]=M(q[E(R[j++])])},H[h]=function(R,j,q,G,ne,Ce,Oe){var re=8>>R.b,De=R.Ea,Ne=R.K[0],He=R.w;if(8>re)for(R=(1<<R.b)-1,He=(1<<re)-1;j<q;++j){var Pe,qe=0;for(Pe=0;Pe<De;++Pe)Pe&R||(qe=E(G[ne++])),Ce[Oe++]=M(Ne[qe&He]),qe>>=re}else H["VP8LMapColor"+x](G,ne,Ne,He,Ce,Oe,j,q,De)}}function Fr(h,m,x,E,M){for(x=m+x;m<x;){var R=h[m++];E[M++]=R>>16&255,E[M++]=R>>8&255,E[M++]=255&R}}function fn(h,m,x,E,M){for(x=m+x;m<x;){var R=h[m++];E[M++]=R>>16&255,E[M++]=R>>8&255,E[M++]=255&R,E[M++]=R>>24&255}}function et(h,m,x,E,M){for(x=m+x;m<x;){var R=(j=h[m++])>>16&240|j>>12&15,j=240&j|j>>28&15;E[M++]=R,E[M++]=j}}function Jt(h,m,x,E,M){for(x=m+x;m<x;){var R=(j=h[m++])>>16&248|j>>13&7,j=j>>5&224|j>>3&31;E[M++]=R,E[M++]=j}}function Zn(h,m,x,E,M){for(x=m+x;m<x;){var R=h[m++];E[M++]=255&R,E[M++]=R>>8&255,E[M++]=R>>16&255}}function Ot(h,m,x,E,M,R){if(R==0)for(x=m+x;m<x;)Je(E,((R=h[m++])[0]>>24|R[1]>>8&65280|R[2]<<8&16711680|R[3]<<24)>>>0),M+=32;else r(E,M,h,m,x)}function Xe(h,m){H[m][0]=H[h+"0"],H[m][1]=H[h+"1"],H[m][2]=H[h+"2"],H[m][3]=H[h+"3"],H[m][4]=H[h+"4"],H[m][5]=H[h+"5"],H[m][6]=H[h+"6"],H[m][7]=H[h+"7"],H[m][8]=H[h+"8"],H[m][9]=H[h+"9"],H[m][10]=H[h+"10"],H[m][11]=H[h+"11"],H[m][12]=H[h+"12"],H[m][13]=H[h+"13"],H[m][14]=H[h+"0"],H[m][15]=H[h+"0"]}function zt(h){return h==vw||h==yw||h==q0||h==bw}function Zt(){this.eb=[],this.size=this.A=this.fb=0}function gr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function pn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Zt,this.f.kb=new gr,this.sd=null}function Ut(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Xn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function nc(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function Gr(h,m){var x=h.T,E=m.ba.f.RGBA,M=E.eb,R=E.fb+h.ka*E.A,j=oa[m.ba.S],q=h.y,G=h.O,ne=h.f,Ce=h.N,Oe=h.ea,re=h.W,De=m.cc,Ne=m.dc,He=m.Mc,Pe=m.Nc,qe=h.ka,We=h.ka+h.T,nt=h.U,Ze=nt+1>>1;for(qe==0?j(q,G,null,null,ne,Ce,Oe,re,ne,Ce,Oe,re,M,R,null,null,nt):(j(m.ec,m.fc,q,G,De,Ne,He,Pe,ne,Ce,Oe,re,M,R-E.A,M,R,nt),++x);qe+2<We;qe+=2)De=ne,Ne=Ce,He=Oe,Pe=re,Ce+=h.Rc,re+=h.Rc,R+=2*E.A,j(q,(G+=2*h.fa)-h.fa,q,G,De,Ne,He,Pe,ne,Ce,Oe,re,M,R-E.A,M,R,nt);return G+=h.fa,h.j+We<h.o?(r(m.ec,m.fc,q,G,nt),r(m.cc,m.dc,ne,Ce,Ze),r(m.Mc,m.Nc,Oe,re,Ze),x--):1&We||j(q,G,null,null,ne,Ce,Oe,re,ne,Ce,Oe,re,M,R+E.A,null,null,nt),x}function co(h,m,x){var E=h.F,M=[h.J];if(E!=null){var R=h.U,j=m.ba.S,q=j==H0||j==q0;m=m.ba.f.RGBA;var G=[0],ne=h.ka;G[0]=h.T,h.Kb&&(ne==0?--G[0]:(--ne,M[0]-=h.width),h.j+h.ka+h.T==h.o&&(G[0]=h.o-h.j-ne));var Ce=m.eb;ne=m.fb+ne*m.A,h=ln(E,M[0],h.width,R,G,Ce,ne+(q?0:3),m.A),e(x==G),h&&zt(j)&&yt(Ce,ne,q,R,G,m.A)}return 0}function Wo(h){var m=h.ma,x=m.ba.S,E=11>x,M=x==U0||x==z0||x==H0||x==mw||x==12||zt(x);if(m.memory=null,m.Ib=null,m.Jb=null,m.Nd=null,!Ed(m.Oa,h,M?11:12))return 0;if(M&&zt(x)&&hc(),h.da)alert("todo:use_scaling");else{if(E){if(m.Ib=nc,h.Kb){if(x=h.U+1>>1,m.memory=o(h.U+2*x),m.memory==null)return 0;m.ec=m.memory,m.fc=0,m.cc=m.ec,m.dc=m.fc+h.U,m.Mc=m.cc,m.Nc=m.dc+x,m.Ib=Gr,hc()}}else alert("todo:EmitYUV");M&&(m.Jb=co,E&&Jo())}if(E&&!VA){for(h=0;256>h;++h)wB[h]=89858*(h-128)+W0>>$0,SB[h]=-22014*(h-128)+W0,CB[h]=-45773*(h-128),xB[h]=113618*(h-128)+W0>>$0;for(h=Xp;h<xw;++h)m=76283*(h-16)+W0>>$0,EB[h-Xp]=xs(m,255),DB[h-Xp]=xs(m+8>>4,15);VA=1}return 1}function Bt(h){var m=h.ma,x=h.U,E=h.T;return e(!(1&h.ka)),0>=x||0>=E?0:(x=m.Ib(h,m),m.Jb!=null&&m.Jb(h,m,x),m.Dc+=x,1)}function zn(h){h.ma.memory=null}function mr(h,m,x,E){return Ee(h,8)!=47?0:(m[0]=Ee(h,14)+1,x[0]=Ee(h,14)+1,E[0]=Ee(h,1),Ee(h,3)!=0?0:!h.h)}function Go(h,m){if(4>h)return h+1;var x=h-2>>1;return(2+(1&h)<<x)+Ee(m,x)+1}function Wi(h,m){return 120<m?m-120:1<=(x=((x=aB[m-1])>>4)*h+(8-(15&x)))?x:1;var x}function Cr(h,m,x){var E=X(x),M=h[m+=255&E].g-8;return 0<M&&(ve(x,x.u+8),E=X(x),m+=h[m].value,m+=E&(1<<M)-1),ve(x,x.u+h[m].g),h[m].value}function Yr(h,m,x){return x.g+=h.g,x.value+=h.value<<m>>>0,e(8>=x.g),h.g}function Di(h,m,x){var E=h.xc;return e((m=E==0?0:h.vc[h.md*(x>>E)+(m>>E)])<h.Wb),h.Ya[m]}function uo(h,m,x,E){var M=h.ab,R=h.c*m,j=h.C;m=j+m;var q=x,G=E;for(E=h.Ta,x=h.Ua;0<M--;){var ne=h.gc[M],Ce=j,Oe=m,re=q,De=G,Ne=(G=E,q=x,ne.Ea);switch(e(Ce<Oe),e(Oe<=ne.nc),ne.hc){case 2:br(re,De,(Oe-Ce)*Ne,G,q);break;case 0:var He=Ce,Pe=Oe,qe=G,We=q,nt=(Tt=ne).Ea;He==0&&(As(re,De,null,null,1,qe,We),hn(re,De+1,0,0,nt-1,qe,We+1),De+=nt,We+=nt,++He);for(var Ze=1<<Tt.b,Rt=Ze-1,St=Qe(nt,Tt.b),mn=Tt.K,Tt=Tt.w+(He>>Tt.b)*St;He<Pe;){var Fn=mn,Mi=Tt,vn=1;for(xl(re,De,qe,We-nt,1,qe,We);vn<nt;){var Mt=(vn&~Rt)+Ze;Mt>nt&&(Mt=nt),(0,w[Fn[Mi++]>>8&15])(re,De+ +vn,qe,We+vn-nt,Mt-vn,qe,We+vn),vn=Mt}De+=nt,We+=nt,++He&Rt||(Tt+=St)}Oe!=ne.nc&&r(G,q-Ne,G,q+(Oe-Ce-1)*Ne,Ne);break;case 1:for(Ne=re,Pe=De,nt=(re=ne.Ea)-(We=re&~(qe=(De=1<<ne.b)-1)),He=Qe(re,ne.b),Ze=ne.K,ne=ne.w+(Ce>>ne.b)*He;Ce<Oe;){for(Rt=Ze,St=ne,mn=new jt,Tt=Pe+We,Fn=Pe+re;Pe<Tt;)Et(Rt[St++],mn),D(mn,Ne,Pe,De,G,q),Pe+=De,q+=De;Pe<Fn&&(Et(Rt[St++],mn),D(mn,Ne,Pe,nt,G,q),Pe+=nt,q+=nt),++Ce&qe||(ne+=He)}break;case 3:if(re==G&&De==q&&0<ne.b){for(Pe=G,re=Ne=q+(Oe-Ce)*Ne-(We=(Oe-Ce)*Qe(ne.Ea,ne.b)),De=G,qe=q,He=[],We=(nt=We)-1;0<=We;--We)He[We]=De[qe+We];for(We=nt-1;0<=We;--We)Pe[re+We]=He[We];Ts(ne,Ce,Oe,G,Ne,G,q)}else Ts(ne,Ce,Oe,re,De,G,q)}q=E,G=x}G!=x&&r(E,x,q,G,R)}function Mo(h,m){var x=h.V,E=h.Ba+h.c*h.C,M=m-h.C;if(e(m<=h.l.o),e(16>=M),0<M){var R=h.l,j=h.Ta,q=h.Ua,G=R.width;if(uo(h,M,x,E),M=q=[q],e((x=h.C)<(E=m)),e(R.v<R.va),E>R.o&&(E=R.o),x<R.j){var ne=R.j-x;x=R.j,M[0]+=ne*G}if(x>=E?x=0:(M[0]+=4*R.v,R.ka=x-R.j,R.U=R.va-R.v,R.T=E-x,x=1),x){if(q=q[0],11>(x=h.ca).S){var Ce=x.f.RGBA,Oe=(E=x.S,M=R.U,R=R.T,ne=Ce.eb,Ce.A),re=R;for(Ce=Ce.fb+h.Ma*Ce.A;0<re--;){var De=j,Ne=q,He=M,Pe=ne,qe=Ce;switch(E){case V0:I(De,Ne,He,Pe,qe);break;case U0:N(De,Ne,He,Pe,qe);break;case vw:N(De,Ne,He,Pe,qe),yt(Pe,qe,0,He,1,0);break;case MA:be(De,Ne,He,Pe,qe);break;case z0:Ot(De,Ne,He,Pe,qe,1);break;case yw:Ot(De,Ne,He,Pe,qe,1),yt(Pe,qe,0,He,1,0);break;case H0:Ot(De,Ne,He,Pe,qe,0);break;case q0:Ot(De,Ne,He,Pe,qe,0),yt(Pe,qe,1,He,1,0);break;case mw:K(De,Ne,He,Pe,qe);break;case bw:K(De,Ne,He,Pe,qe),tn(Pe,qe,He,1,0);break;case kA:ae(De,Ne,He,Pe,qe);break;default:e(0)}q+=G,Ce+=Oe}h.Ma+=R}else alert("todo:EmitRescaledRowsYUVA");e(h.Ma<=x.height)}}h.C=m,e(h.C<=h.i)}function mi(h){var m;if(0<h.ua)return 0;for(m=0;m<h.Wb;++m){var x=h.Ya[m].G,E=h.Ya[m].H;if(0<x[1][E[1]+0].g||0<x[2][E[2]+0].g||0<x[3][E[3]+0].g)return 0}return 1}function ko(h,m,x,E,M,R){if(h.Z!=0){var j=h.qd,q=h.rd;for(e(iu[h.Z]!=null);m<x;++m)iu[h.Z](j,q,E,M,E,M,R),j=E,q=M,M+=R;h.qd=j,h.rd=q}}function bs(h,m){var x=h.l.ma,E=x.Z==0||x.Z==1?h.l.j:h.C;if(E=h.C<E?E:h.C,e(m<=h.l.o),m>E){var M=h.l.width,R=x.ca,j=x.tb+M*E,q=h.V,G=h.Ba+h.c*E,ne=h.gc;e(h.ab==1),e(ne[0].hc==3),g(ne[0],E,m,q,G,R,j),ko(x,E,m,R,j,M)}h.C=h.Ma=m}function vi(h,m,x,E,M,R,j){var q=h.$/E,G=h.$%E,ne=h.m,Ce=h.s,Oe=x+h.$,re=Oe;M=x+E*M;var De=x+E*R,Ne=280+Ce.ua,He=h.Pb?q:16777216,Pe=0<Ce.ua?Ce.Wa:null,qe=Ce.wc,We=Oe<De?Di(Ce,G,q):null;e(h.C<R),e(De<=M);var nt=!1;e:for(;;){for(;nt||Oe<De;){var Ze=0;if(q>=He){var Rt=Oe-x;e((He=h).Pb),He.wd=He.m,He.xd=Rt,0<He.s.ua&&mt(He.s.Wa,He.s.vb),He=q+cB}if(G&qe||(We=Di(Ce,G,q)),e(We!=null),We.Qb&&(m[Oe]=We.qb,nt=!0),!nt)if(ue(ne),We.jc){Ze=ne,Rt=m;var St=Oe,mn=We.pd[X(Ze)&ur-1];e(We.jc),256>mn.g?(ve(Ze,Ze.u+mn.g),Rt[St]=mn.value,Ze=0):(ve(Ze,Ze.u+mn.g-256),e(256<=mn.value),Ze=mn.value),Ze==0&&(nt=!0)}else Ze=Cr(We.G[0],We.H[0],ne);if(ne.h)break;if(nt||256>Ze){if(!nt)if(We.nd)m[Oe]=(We.qb|Ze<<8)>>>0;else{if(ue(ne),nt=Cr(We.G[1],We.H[1],ne),ue(ne),Rt=Cr(We.G[2],We.H[2],ne),St=Cr(We.G[3],We.H[3],ne),ne.h)break;m[Oe]=(St<<24|nt<<16|Ze<<8|Rt)>>>0}if(nt=!1,++Oe,++G>=E&&(G=0,++q,j!=null&&q<=R&&!(q%16)&&j(h,q),Pe!=null))for(;re<Oe;)Ze=m[re++],Pe.X[(506832829*Ze&4294967295)>>>Pe.Mb]=Ze}else if(280>Ze){if(Ze=Go(Ze-256,ne),Rt=Cr(We.G[4],We.H[4],ne),ue(ne),Rt=Wi(E,Rt=Go(Rt,ne)),ne.h)break;if(Oe-x<Rt||M-Oe<Ze)break e;for(St=0;St<Ze;++St)m[Oe+St]=m[Oe+St-Rt];for(Oe+=Ze,G+=Ze;G>=E;)G-=E,++q,j!=null&&q<=R&&!(q%16)&&j(h,q);if(e(Oe<=M),G&qe&&(We=Di(Ce,G,q)),Pe!=null)for(;re<Oe;)Ze=m[re++],Pe.X[(506832829*Ze&4294967295)>>>Pe.Mb]=Ze}else{if(!(Ze<Ne))break e;for(nt=Ze-280,e(Pe!=null);re<Oe;)Ze=m[re++],Pe.X[(506832829*Ze&4294967295)>>>Pe.Mb]=Ze;Ze=Oe,e(!(nt>>>(Rt=Pe).Xa)),m[Ze]=Rt.X[nt],nt=!0}nt||e(ne.h==de(ne))}if(h.Pb&&ne.h&&Oe<M)e(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&mt(h.s.vb,h.s.Wa);else{if(ne.h)break e;j?.(h,q>R?R:q),h.a=0,h.$=Oe-x}return 1}return h.a=3,0}function No(h){e(h!=null),h.vc=null,h.yc=null,h.Ya=null;var m=h.Wa;m!=null&&(m.X=null),h.vb=null,e(h!=null)}function Po(){var h=new qt;return h==null?null:(h.a=0,h.xb=OA,Xe("Predictor","VP8LPredictors"),Xe("Predictor","VP8LPredictors_C"),Xe("PredictorAdd","VP8LPredictorsAdd"),Xe("PredictorAdd","VP8LPredictorsAdd_C"),br=Sn,D=Wt,I=Fr,N=fn,K=et,ae=Jt,be=Zn,H.VP8LMapColor32b=Ms,H.VP8LMapColor8b=v,h)}function _s(h,m,x,E,M){var R=1,j=[h],q=[m],G=E.m,ne=E.s,Ce=null,Oe=0;e:for(;;){if(x)for(;R&&Ee(G,1);){var re=j,De=q,Ne=E,He=1,Pe=Ne.m,qe=Ne.gc[Ne.ab],We=Ee(Pe,2);if(Ne.Oc&1<<We)R=0;else{switch(Ne.Oc|=1<<We,qe.hc=We,qe.Ea=re[0],qe.nc=De[0],qe.K=[null],++Ne.ab,e(4>=Ne.ab),We){case 0:case 1:qe.b=Ee(Pe,3)+2,He=_s(Qe(qe.Ea,qe.b),Qe(qe.nc,qe.b),0,Ne,qe.K),qe.K=qe.K[0];break;case 3:var nt,Ze=Ee(Pe,8)+1,Rt=16<Ze?0:4<Ze?1:2<Ze?2:3;if(re[0]=Qe(qe.Ea,Rt),qe.b=Rt,nt=He=_s(Ze,1,0,Ne,qe.K)){var St,mn=Ze,Tt=qe,Fn=1<<(8>>Tt.b),Mi=o(Fn);if(Mi==null)nt=0;else{var vn=Tt.K[0],Mt=Tt.w;for(Mi[0]=Tt.K[0][0],St=1;St<1*mn;++St)Mi[St]=Vt(vn[Mt+St],Mi[St-1]);for(;St<4*Fn;++St)Mi[St]=0;Tt.K[0]=null,Tt.K[0]=Mi,nt=1}}He=nt;break;case 2:break;default:e(0)}R=He}}if(j=j[0],q=q[0],R&&Ee(G,1)&&!(R=1<=(Oe=Ee(G,4))&&11>=Oe)){E.a=3;break e}var pt;if(pt=R)t:{var li,cn,qn,jr=E,Ki=j,Ro=q,ni=Oe,go=x,Lo=jr.m,ki=jr.s,Wn=[null],dr=1,ri=0,fr=lB[ni];n:for(;;){if(go&&Ee(Lo,1)){var Qi=Ee(Lo,3)+2,Va=Qe(Ki,Qi),ci=Qe(Ro,Qi),ts=Va*ci;if(!_s(Va,ci,0,jr,Wn))break n;for(Wn=Wn[0],ki.xc=Qi,li=0;li<ts;++li){var Sr=Wn[li]>>8&65535;Wn[li]=Sr,Sr>=dr&&(dr=Sr+1)}}if(Lo.h)break n;for(cn=0;5>cn;++cn){var Ni=NA[cn];!cn&&0<ni&&(Ni+=1<<ni),ri<Ni&&(ri=Ni)}var ks=s(dr*fr,le),Fo=dr,Ns=s(Fo,Q);if(Ns==null)var Ps=null;else e(65536>=Fo),Ps=Ns;var ns=o(ri);if(Ps==null||ns==null||ks==null){jr.a=1;break n}var Os=ks;for(li=qn=0;li<dr;++li){var kr=Ps[li],Rs=kr.G,Ua=kr.H,Id=0,yc=1,Zi=0;for(cn=0;5>cn;++cn){Ni=NA[cn],Rs[cn]=Os,Ua[cn]=qn,!cn&&0<ni&&(Ni+=1<<ni);i:{var Y0,Cw=Ni,K0=jr,Jp=ns,TB=Os,MB=qn,Sw=0,ou=K0.m,kB=Ee(ou,1);if(i(Jp,0,0,Cw),kB){var NB=Ee(ou,1)+1,PB=Ee(ou,1),HA=Ee(ou,PB==0?1:8);Jp[HA]=1,NB==2&&(Jp[HA=Ee(ou,8)]=1);var Q0=1}else{var qA=o(19),$A=Ee(ou,4)+4;if(19<$A){K0.a=3;var Z0=0;break i}for(Y0=0;Y0<$A;++Y0)qA[sB[Y0]]=Ee(ou,3);var Ew=void 0,eg=void 0,WA=K0,OB=qA,X0=Cw,GA=Jp,Dw=0,su=WA.m,YA=8,KA=s(128,le);r:for(;$(KA,0,7,OB,19);){if(Ee(su,1)){var RB=2+2*Ee(su,3);if((Ew=2+Ee(su,RB))>X0)break r}else Ew=X0;for(eg=0;eg<X0&&Ew--;){ue(su);var QA=KA[0+(127&X(su))];ve(su,su.u+QA.g);var Zf=QA.value;if(16>Zf)GA[eg++]=Zf,Zf!=0&&(YA=Zf);else{var LB=Zf==16,ZA=Zf-16,FB=iB[ZA],XA=Ee(su,rB[ZA])+FB;if(eg+XA>X0)break r;for(var jB=LB?YA:0;0<XA--;)GA[eg++]=jB}}Dw=1;break r}Dw||(WA.a=3),Q0=Dw}(Q0=Q0&&!ou.h)&&(Sw=$(TB,MB,8,Jp,Cw)),Q0&&Sw!=0?Z0=Sw:(K0.a=3,Z0=0)}if(Z0==0)break n;if(yc&&oB[cn]==1&&(yc=Os[qn].g==0),Id+=Os[qn].g,qn+=Z0,3>=cn){var tg,Iw=ns[0];for(tg=1;tg<Ni;++tg)ns[tg]>Iw&&(Iw=ns[tg]);Zi+=Iw}}if(kr.nd=yc,kr.Qb=0,yc&&(kr.qb=(Rs[3][Ua[3]+0].value<<24|Rs[1][Ua[1]+0].value<<16|Rs[2][Ua[2]+0].value)>>>0,Id==0&&256>Rs[0][Ua[0]+0].value&&(kr.Qb=1,kr.qb+=Rs[0][Ua[0]+0].value<<8)),kr.jc=!kr.Qb&&6>Zi,kr.jc){var J0,bc=kr;for(J0=0;J0<ur;++J0){var au=J0,lu=bc.pd[au],ev=bc.G[0][bc.H[0]+au];256<=ev.value?(lu.g=ev.g+256,lu.value=ev.value):(lu.g=0,lu.value=0,au>>=Yr(ev,8,lu),au>>=Yr(bc.G[1][bc.H[1]+au],16,lu),au>>=Yr(bc.G[2][bc.H[2]+au],0,lu),Yr(bc.G[3][bc.H[3]+au],24,lu))}}}ki.vc=Wn,ki.Wb=dr,ki.Ya=Ps,ki.yc=ks,pt=1;break t}pt=0}if(!(R=pt)){E.a=3;break e}if(0<Oe){if(ne.ua=1<<Oe,!J(ne.Wa,Oe)){E.a=1,R=0;break e}}else ne.ua=0;var Aw=E,JA=j,BB=q,Tw=Aw.s,Mw=Tw.xc;if(Aw.c=JA,Aw.i=BB,Tw.md=Qe(JA,Mw),Tw.wc=Mw==0?-1:(1<<Mw)-1,x){E.xb=mB;break e}if((Ce=o(j*q))==null){E.a=1,R=0;break e}R=(R=vi(E,Ce,0,j,q,q,null))&&!G.h;break e}return R?(M!=null?M[0]=Ce:(e(Ce==null),e(x)),E.$=0,x||No(ne)):No(ne),R}function Aa(h,m){var x=h.c*h.i,E=x+m+16*m;return e(h.c<=m),h.V=o(E),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+x+m,1)}function vr(h,m){var x=h.C,E=m-x,M=h.V,R=h.Ba+h.c*x;for(e(m<=h.l.o);0<E;){var j=16<E?16:E,q=h.l.ma,G=h.l.width,ne=G*j,Ce=q.ca,Oe=q.tb+G*x,re=h.Ta,De=h.Ua;uo(h,j,M,R),gn(re,De,Ce,Oe,ne),ko(q,x,x+j,Ce,Oe,G),E-=j,M+=j*h.c,x+=j}e(x==m),h.C=h.Ma=m}function Yo(){this.ub=this.yd=this.td=this.Rb=0}function fo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function qf(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function ea(){this.Yb=(function(){var h=[];return(function m(x,E,M){for(var R=M[E],j=0;j<R&&(x.push(M.length>E+1?[]:0),!(M.length<E+1));j++)m(x[j],E+1,M)})(h,0,[3,11]),h})()}function rc(){this.jb=o(3),this.Wc=a([4,8],ea),this.Xc=a([4,17],ea)}function Zc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function ho(){this.ld=this.La=this.dd=this.tc=0}function ws(){this.Na=this.la=0}function fd(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function dl(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function hd(){this.uc=this.M=this.Nb=0,this.wa=Array(new ho),this.Y=0,this.ya=Array(new dl),this.aa=0,this.l=new Ta}function En(){this.y=o(16),this.f=o(8),this.ea=o(8)}function pd(){this.cb=this.a=0,this.sc="",this.m=new k,this.Od=new Yo,this.Kc=new fo,this.ed=new Zc,this.Qa=new qf,this.Ic=this.$c=this.Aa=0,this.D=new hd,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,k),this.ia=0,this.pb=s(4,fd),this.Pa=new rc,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new En),this.Hd=0,this.rb=Array(new ws),this.sb=0,this.wa=Array(new ho),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new dl),this.L=this.aa=0,this.gd=a([4,2],ho),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function xs(h,m){return 0>h?0:h>m?m:h}function Ta(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ic(){var h=new pd;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,Zp||(Zp=$n)),h}function Kr(h,m,x){return h.a==0&&(h.a=m,h.sc=x,h.cb=0),0}function gd(h,m,x){return 3<=x&&h[m+0]==157&&h[m+1]==1&&h[m+2]==42}function Cs(h,m){if(h==null)return 0;if(h.a=0,h.sc="OK",m==null)return Kr(h,2,"null VP8Io passed to VP8GetHeaders()");var x=m.data,E=m.w,M=m.ha;if(4>M)return Kr(h,7,"Truncated header.");var R=x[E+0]|x[E+1]<<8|x[E+2]<<16,j=h.Od;if(j.Rb=!(1&R),j.td=R>>1&7,j.yd=R>>4&1,j.ub=R>>5,3<j.td)return Kr(h,3,"Incorrect keyframe parameters.");if(!j.yd)return Kr(h,4,"Frame not displayable.");E+=3,M-=3;var q=h.Kc;if(j.Rb){if(7>M)return Kr(h,7,"cannot parse picture header");if(!gd(x,E,M))return Kr(h,3,"Bad code word");q.c=16383&(x[E+4]<<8|x[E+3]),q.Td=x[E+4]>>6,q.i=16383&(x[E+6]<<8|x[E+5]),q.Ud=x[E+6]>>6,E+=7,M-=7,h.za=q.c+15>>4,h.Ub=q.i+15>>4,m.width=q.c,m.height=q.i,m.Da=0,m.j=0,m.v=0,m.va=m.width,m.o=m.height,m.da=0,m.ib=m.width,m.hb=m.height,m.U=m.width,m.T=m.height,i((R=h.Pa).jb,0,255,R.jb.length),e((R=h.Qa)!=null),R.Cb=0,R.Bb=0,R.Fb=1,i(R.Zb,0,0,R.Zb.length),i(R.Lb,0,0,R.Lb)}if(j.ub>M)return Kr(h,7,"bad partition length");xe(R=h.m,x,E,j.ub),E+=j.ub,M-=j.ub,j.Rb&&(q.Ld=Be(R),q.Kd=Be(R)),q=h.Qa;var G,ne=h.Pa;if(e(R!=null),e(q!=null),q.Cb=Be(R),q.Cb){if(q.Bb=Be(R),Be(R)){for(q.Fb=Be(R),G=0;4>G;++G)q.Zb[G]=Be(R)?Z(R,7):0;for(G=0;4>G;++G)q.Lb[G]=Be(R)?Z(R,6):0}if(q.Bb)for(G=0;3>G;++G)ne.jb[G]=Be(R)?oe(R,8):255}else q.Bb=0;if(R.Ka)return Kr(h,3,"cannot parse segment header");if((q=h.ed).zd=Be(R),q.Tb=oe(R,6),q.wb=oe(R,3),q.Pc=Be(R),q.Pc&&Be(R)){for(ne=0;4>ne;++ne)Be(R)&&(q.vd[ne]=Z(R,6));for(ne=0;4>ne;++ne)Be(R)&&(q.od[ne]=Z(R,6))}if(h.L=q.Tb==0?0:q.zd?1:2,R.Ka)return Kr(h,3,"cannot parse filter header");var Ce=M;if(M=G=E,E=G+Ce,q=Ce,h.Xb=(1<<oe(h.m,2))-1,Ce<3*(ne=h.Xb))x=7;else{for(G+=3*ne,q-=3*ne,Ce=0;Ce<ne;++Ce){var Oe=x[M+0]|x[M+1]<<8|x[M+2]<<16;Oe>q&&(Oe=q),xe(h.Jc[+Ce],x,G,Oe),G+=Oe,q-=Oe,M+=3}xe(h.Jc[+ne],x,G,q),x=G<E?0:5}if(x!=0)return Kr(h,x,"cannot parse partitions");for(x=oe(G=h.m,7),M=Be(G)?Z(G,4):0,E=Be(G)?Z(G,4):0,q=Be(G)?Z(G,4):0,ne=Be(G)?Z(G,4):0,G=Be(G)?Z(G,4):0,Ce=h.Qa,Oe=0;4>Oe;++Oe){if(Ce.Cb){var re=Ce.Zb[Oe];Ce.Fb||(re+=x)}else{if(0<Oe){h.pb[Oe]=h.pb[0];continue}re=x}var De=h.pb[Oe];De.Sc[0]=_w[xs(re+M,127)],De.Sc[1]=ww[xs(re+0,127)],De.Eb[0]=2*_w[xs(re+E,127)],De.Eb[1]=101581*ww[xs(re+q,127)]>>16,8>De.Eb[1]&&(De.Eb[1]=8),De.Qc[0]=_w[xs(re+ne,117)],De.Qc[1]=ww[xs(re+G,127)],De.lc=re+G}if(!j.Rb)return Kr(h,4,"Not a key frame.");for(Be(R),j=h.Pa,x=0;4>x;++x){for(M=0;8>M;++M)for(E=0;3>E;++E)for(q=0;11>q;++q)ne=Re(R,pB[x][M][E][q])?oe(R,8):fB[x][M][E][q],j.Wc[x][M].Yb[E][q]=ne;for(M=0;17>M;++M)j.Xc[x][M]=j.Wc[x][gB[M]]}return h.kc=Be(R),h.kc&&(h.Bd=oe(R,8)),h.cb=1}function $n(h,m,x,E,M,R,j){var q=m[M].Yb[x];for(x=0;16>M;++M){if(!Re(h,q[x+0]))return M;for(;!Re(h,q[x+1]);)if(q=m[++M].Yb[0],x=0,M==16)return 16;var G=m[M+1].Yb;if(Re(h,q[x+2])){var ne=h,Ce=0;if(Re(ne,(re=q)[(Oe=x)+3]))if(Re(ne,re[Oe+6])){for(q=0,Oe=2*(Ce=Re(ne,re[Oe+8]))+(re=Re(ne,re[Oe+9+Ce])),Ce=0,re=uB[Oe];re[q];++q)Ce+=Ce+Re(ne,re[q]);Ce+=3+(8<<Oe)}else Re(ne,re[Oe+7])?(Ce=7+2*Re(ne,165),Ce+=Re(ne,145)):Ce=5+Re(ne,159);else Ce=Re(ne,re[Oe+4])?3+Re(ne,re[Oe+5]):2;q=G[2]}else Ce=1,q=G[1];G=j+dB[M],0>(ne=h).b&&je(ne);var Oe,re=ne.b,De=(Oe=ne.Ca>>1)-(ne.I>>re)>>31;--ne.b,ne.Ca+=De,ne.Ca|=1,ne.I-=(Oe+1&De)<<re,R[G]=((Ce^De)-De)*E[(0<M)+0]}return 16}function fl(h){var m=h.rb[h.sb-1];m.la=0,m.Na=0,i(h.zc,0,0,h.zc.length),h.ja=0}function Li(h,m,x,E,M){M=h[m+x+32*E]+(M>>3),h[m+x+32*E]=-256&M?0>M?0:255:M}function Tr(h,m,x,E,M,R){Li(h,m,0,x,E+M),Li(h,m,1,x,E+R),Li(h,m,2,x,E-R),Li(h,m,3,x,E-M)}function Ss(h){return(20091*h>>16)+h}function Xc(h,m,x,E){var M,R=0,j=o(16);for(M=0;4>M;++M){var q=h[m+0]+h[m+8],G=h[m+0]-h[m+8],ne=(35468*h[m+4]>>16)-Ss(h[m+12]),Ce=Ss(h[m+4])+(35468*h[m+12]>>16);j[R+0]=q+Ce,j[R+1]=G+ne,j[R+2]=G-ne,j[R+3]=q-Ce,R+=4,m++}for(M=R=0;4>M;++M)q=(h=j[R+0]+4)+j[R+8],G=h-j[R+8],ne=(35468*j[R+4]>>16)-Ss(j[R+12]),Li(x,E,0,0,q+(Ce=Ss(j[R+4])+(35468*j[R+12]>>16))),Li(x,E,1,0,G+ne),Li(x,E,2,0,G-ne),Li(x,E,3,0,q-Ce),R++,E+=32}function Jc(h,m,x,E){var M=h[m+0]+4,R=35468*h[m+4]>>16,j=Ss(h[m+4]),q=35468*h[m+1]>>16;Tr(x,E,0,M+j,h=Ss(h[m+1]),q),Tr(x,E,1,M+R,h,q),Tr(x,E,2,M-R,h,q),Tr(x,E,3,M-j,h,q)}function $f(h,m,x,E,M){Xc(h,m,x,E),M&&Xc(h,m+16,x,E+4)}function Oo(h,m,x,E){Ie(h,m+0,x,E,1),Ie(h,m+32,x,E+128,1)}function md(h,m,x,E){var M;for(h=h[m+0]+4,M=0;4>M;++M)for(m=0;4>m;++m)Li(x,E,m,M,h)}function Wf(h,m,x,E){h[m+0]&&fe(h,m+0,x,E),h[m+16]&&fe(h,m+16,x,E+4),h[m+32]&&fe(h,m+32,x,E+128),h[m+48]&&fe(h,m+48,x,E+128+4)}function In(h,m,x,E){var M,R=o(16);for(M=0;4>M;++M){var j=h[m+0+M]+h[m+12+M],q=h[m+4+M]+h[m+8+M],G=h[m+4+M]-h[m+8+M],ne=h[m+0+M]-h[m+12+M];R[0+M]=j+q,R[8+M]=j-q,R[4+M]=ne+G,R[12+M]=ne-G}for(M=0;4>M;++M)j=(h=R[0+4*M]+3)+R[3+4*M],q=R[1+4*M]+R[2+4*M],G=R[1+4*M]-R[2+4*M],ne=h-R[3+4*M],x[E+0]=j+q>>3,x[E+16]=ne+G>>3,x[E+32]=j-q>>3,x[E+48]=ne-G>>3,E+=64}function hl(h,m,x){var E,M=m-32,R=Yi,j=255-h[M-1];for(E=0;E<x;++E){var q,G=R,ne=j+h[m-1];for(q=0;q<x;++q)h[m+q]=G[ne+h[M+q]];m+=32}}function Kp(h,m){hl(h,m,4)}function Qp(h,m){hl(h,m,8)}function Gi(h,m){hl(h,m,16)}function ta(h,m){var x;for(x=0;16>x;++x)r(h,m+32*x,h,m-32,16)}function oc(h,m){var x;for(x=16;0<x;--x)i(h,m,h[m-1],16),m+=32}function yi(h,m,x){var E;for(E=0;16>E;++E)i(m,x+32*E,h,16)}function Gf(h,m){var x,E=16;for(x=0;16>x;++x)E+=h[m-1+32*x]+h[m+x-32];yi(E>>5,h,m)}function pl(h,m){var x,E=8;for(x=0;16>x;++x)E+=h[m-1+32*x];yi(E>>4,h,m)}function zr(h,m){var x,E=8;for(x=0;16>x;++x)E+=h[m+x-32];yi(E>>4,h,m)}function Ko(h,m){yi(128,h,m)}function Ht(h,m,x){return h+2*m+x+2>>2}function sc(h,m){var x,E=m-32;for(E=new Uint8Array([Ht(h[E-1],h[E+0],h[E+1]),Ht(h[E+0],h[E+1],h[E+2]),Ht(h[E+1],h[E+2],h[E+3]),Ht(h[E+2],h[E+3],h[E+4])]),x=0;4>x;++x)r(h,m+32*x,E,0,E.length)}function vd(h,m){var x=h[m-1],E=h[m-1+32],M=h[m-1+64],R=h[m-1+96];Je(h,m+0,16843009*Ht(h[m-1-32],x,E)),Je(h,m+32,16843009*Ht(x,E,M)),Je(h,m+64,16843009*Ht(E,M,R)),Je(h,m+96,16843009*Ht(M,R,R))}function na(h,m){var x,E=4;for(x=0;4>x;++x)E+=h[m+x-32]+h[m-1+32*x];for(E>>=3,x=0;4>x;++x)i(h,m+32*x,E,4)}function Ma(h,m){var x=h[m-1+0],E=h[m-1+32],M=h[m-1+64],R=h[m-1-32],j=h[m+0-32],q=h[m+1-32],G=h[m+2-32],ne=h[m+3-32];h[m+0+96]=Ht(E,M,h[m-1+96]),h[m+1+96]=h[m+0+64]=Ht(x,E,M),h[m+2+96]=h[m+1+64]=h[m+0+32]=Ht(R,x,E),h[m+3+96]=h[m+2+64]=h[m+1+32]=h[m+0+0]=Ht(j,R,x),h[m+3+64]=h[m+2+32]=h[m+1+0]=Ht(q,j,R),h[m+3+32]=h[m+2+0]=Ht(G,q,j),h[m+3+0]=Ht(ne,G,q)}function bi(h,m){var x=h[m+1-32],E=h[m+2-32],M=h[m+3-32],R=h[m+4-32],j=h[m+5-32],q=h[m+6-32],G=h[m+7-32];h[m+0+0]=Ht(h[m+0-32],x,E),h[m+1+0]=h[m+0+32]=Ht(x,E,M),h[m+2+0]=h[m+1+32]=h[m+0+64]=Ht(E,M,R),h[m+3+0]=h[m+2+32]=h[m+1+64]=h[m+0+96]=Ht(M,R,j),h[m+3+32]=h[m+2+64]=h[m+1+96]=Ht(R,j,q),h[m+3+64]=h[m+2+96]=Ht(j,q,G),h[m+3+96]=Ht(q,G,G)}function yd(h,m){var x=h[m-1+0],E=h[m-1+32],M=h[m-1+64],R=h[m-1-32],j=h[m+0-32],q=h[m+1-32],G=h[m+2-32],ne=h[m+3-32];h[m+0+0]=h[m+1+64]=R+j+1>>1,h[m+1+0]=h[m+2+64]=j+q+1>>1,h[m+2+0]=h[m+3+64]=q+G+1>>1,h[m+3+0]=G+ne+1>>1,h[m+0+96]=Ht(M,E,x),h[m+0+64]=Ht(E,x,R),h[m+0+32]=h[m+1+96]=Ht(x,R,j),h[m+1+32]=h[m+2+96]=Ht(R,j,q),h[m+2+32]=h[m+3+96]=Ht(j,q,G),h[m+3+32]=Ht(q,G,ne)}function Yf(h,m){var x=h[m+0-32],E=h[m+1-32],M=h[m+2-32],R=h[m+3-32],j=h[m+4-32],q=h[m+5-32],G=h[m+6-32],ne=h[m+7-32];h[m+0+0]=x+E+1>>1,h[m+1+0]=h[m+0+64]=E+M+1>>1,h[m+2+0]=h[m+1+64]=M+R+1>>1,h[m+3+0]=h[m+2+64]=R+j+1>>1,h[m+0+32]=Ht(x,E,M),h[m+1+32]=h[m+0+96]=Ht(E,M,R),h[m+2+32]=h[m+1+96]=Ht(M,R,j),h[m+3+32]=h[m+2+96]=Ht(R,j,q),h[m+3+64]=Ht(j,q,G),h[m+3+96]=Ht(q,G,ne)}function gl(h,m){var x=h[m-1+0],E=h[m-1+32],M=h[m-1+64],R=h[m-1+96];h[m+0+0]=x+E+1>>1,h[m+2+0]=h[m+0+32]=E+M+1>>1,h[m+2+32]=h[m+0+64]=M+R+1>>1,h[m+1+0]=Ht(x,E,M),h[m+3+0]=h[m+1+32]=Ht(E,M,R),h[m+3+32]=h[m+1+64]=Ht(M,R,R),h[m+3+64]=h[m+2+64]=h[m+0+96]=h[m+1+96]=h[m+2+96]=h[m+3+96]=R}function ka(h,m){var x=h[m-1+0],E=h[m-1+32],M=h[m-1+64],R=h[m-1+96],j=h[m-1-32],q=h[m+0-32],G=h[m+1-32],ne=h[m+2-32];h[m+0+0]=h[m+2+32]=x+j+1>>1,h[m+0+32]=h[m+2+64]=E+x+1>>1,h[m+0+64]=h[m+2+96]=M+E+1>>1,h[m+0+96]=R+M+1>>1,h[m+3+0]=Ht(q,G,ne),h[m+2+0]=Ht(j,q,G),h[m+1+0]=h[m+3+32]=Ht(x,j,q),h[m+1+32]=h[m+3+64]=Ht(E,x,j),h[m+1+64]=h[m+3+96]=Ht(M,E,x),h[m+1+96]=Ht(R,M,E)}function Na(h,m){var x;for(x=0;8>x;++x)r(h,m+32*x,h,m-32,8)}function Kf(h,m){var x;for(x=0;8>x;++x)i(h,m,h[m-1],8),m+=32}function Pa(h,m,x){var E;for(E=0;8>E;++E)i(m,x+32*E,h,8)}function ac(h,m){var x,E=8;for(x=0;8>x;++x)E+=h[m+x-32]+h[m-1+32*x];Pa(E>>4,h,m)}function bd(h,m){var x,E=4;for(x=0;8>x;++x)E+=h[m+x-32];Pa(E>>3,h,m)}function _d(h,m){var x,E=4;for(x=0;8>x;++x)E+=h[m-1+32*x];Pa(E>>3,h,m)}function lc(h,m){Pa(128,h,m)}function Qo(h,m,x){var E=h[m-x],M=h[m+0],R=3*(M-E)+Ti[1020+h[m-2*x]-h[m+x]],j=ra[112+(R+4>>3)];h[m-x]=Yi[255+E+ra[112+(R+3>>3)]],h[m+0]=Yi[255+M-j]}function cc(h,m,x,E){var M=h[m+0],R=h[m+x];return ia[255+h[m-2*x]-h[m-x]]>E||ia[255+R-M]>E}function eu(h,m,x,E){return 4*ia[255+h[m-x]-h[m+0]]+ia[255+h[m-2*x]-h[m+x]]<=E}function wd(h,m,x,E,M){var R=h[m-3*x],j=h[m-2*x],q=h[m-x],G=h[m+0],ne=h[m+x],Ce=h[m+2*x],Oe=h[m+3*x];return 4*ia[255+q-G]+ia[255+j-ne]>E?0:ia[255+h[m-4*x]-R]<=M&&ia[255+R-j]<=M&&ia[255+j-q]<=M&&ia[255+Oe-Ce]<=M&&ia[255+Ce-ne]<=M&&ia[255+ne-G]<=M}function uc(h,m,x,E){var M=2*E+1;for(E=0;16>E;++E)eu(h,m+E,x,M)&&Qo(h,m+E,x)}function dc(h,m,x,E){var M=2*E+1;for(E=0;16>E;++E)eu(h,m+E*x,1,M)&&Qo(h,m+E*x,1)}function tu(h,m,x,E){var M;for(M=3;0<M;--M)uc(h,m+=4*x,x,E)}function xd(h,m,x,E){var M;for(M=3;0<M;--M)dc(h,m+=4,x,E)}function Zo(h,m,x,E,M,R,j,q){for(R=2*R+1;0<M--;){if(wd(h,m,x,R,j))if(cc(h,m,x,q))Qo(h,m,x);else{var G=h,ne=m,Ce=x,Oe=G[ne-2*Ce],re=G[ne-Ce],De=G[ne+0],Ne=G[ne+Ce],He=G[ne+2*Ce],Pe=27*(We=Ti[1020+3*(De-re)+Ti[1020+Oe-Ne]])+63>>7,qe=18*We+63>>7,We=9*We+63>>7;G[ne-3*Ce]=Yi[255+G[ne-3*Ce]+We],G[ne-2*Ce]=Yi[255+Oe+qe],G[ne-Ce]=Yi[255+re+Pe],G[ne+0]=Yi[255+De-Pe],G[ne+Ce]=Yi[255+Ne-qe],G[ne+2*Ce]=Yi[255+He-We]}m+=E}}function Xo(h,m,x,E,M,R,j,q){for(R=2*R+1;0<M--;){if(wd(h,m,x,R,j))if(cc(h,m,x,q))Qo(h,m,x);else{var G=h,ne=m,Ce=x,Oe=G[ne-Ce],re=G[ne+0],De=G[ne+Ce],Ne=ra[112+(4+(He=3*(re-Oe))>>3)],He=ra[112+(He+3>>3)],Pe=Ne+1>>1;G[ne-2*Ce]=Yi[255+G[ne-2*Ce]+Pe],G[ne-Ce]=Yi[255+Oe+He],G[ne+0]=Yi[255+re-Ne],G[ne+Ce]=Yi[255+De-Pe]}m+=E}}function fc(h,m,x,E,M,R){Zo(h,m,x,1,16,E,M,R)}function ml(h,m,x,E,M,R){Zo(h,m,1,x,16,E,M,R)}function Qf(h,m,x,E,M,R){var j;for(j=3;0<j;--j)Xo(h,m+=4*x,x,1,16,E,M,R)}function y(h,m,x,E,M,R){var j;for(j=3;0<j;--j)Xo(h,m+=4,1,x,16,E,M,R)}function T(h,m,x,E,M,R,j,q){Zo(h,m,M,1,8,R,j,q),Zo(x,E,M,1,8,R,j,q)}function te(h,m,x,E,M,R,j,q){Zo(h,m,1,M,8,R,j,q),Zo(x,E,1,M,8,R,j,q)}function me(h,m,x,E,M,R,j,q){Xo(h,m+4*M,M,1,8,R,j,q),Xo(x,E+4*M,M,1,8,R,j,q)}function Te(h,m,x,E,M,R,j,q){Xo(h,m+4,1,M,8,R,j,q),Xo(x,E+4,1,M,8,R,j,q)}function Ve(){this.ba=new pn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Xn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ke(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function wt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function At(){this.ua=0,this.Wa=new dn,this.vb=new dn,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Q,this.yc=new le}function qt(){this.xb=this.a=0,this.l=new Ta,this.ca=new pn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new W,this.Pb=0,this.wd=new W,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new At,this.ab=0,this.gc=s(4,wt),this.Oc=0}function en(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ta,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function On(h,m,x,E,M,R,j){for(h=h==null?0:h[m+0],m=0;m<j;++m)M[R+m]=h+x[E+m]&255,h=M[R+m]}function yr(h,m,x,E,M,R,j){var q;if(h==null)On(null,null,x,E,M,R,j);else for(q=0;q<j;++q)M[R+q]=h[m+q]+x[E+q]&255}function Hr(h,m,x,E,M,R,j){if(h==null)On(null,null,x,E,M,R,j);else{var q,G=h[m+0],ne=G,Ce=G;for(q=0;q<j;++q)ne=Ce+(G=h[m+q])-ne,Ce=x[E+q]+(-256&ne?0>ne?0:255:ne)&255,ne=G,M[R+q]=Ce}}function Hn(h,m,x,E){var M=m.width,R=m.o;if(e(h!=null&&m!=null),0>x||0>=E||x+E>R)return null;if(!h.Cc){if(h.ga==null){var j;if(h.ga=new en,(j=h.ga==null)||(j=m.width*m.o,e(h.Gb.length==0),h.Gb=o(j),h.Uc=0,h.Gb==null?j=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,j=1),j=!j),!j){j=h.ga;var q=h.Fa,G=h.P,ne=h.qc,Ce=h.mb,Oe=h.nb,re=G+1,De=ne-1,Ne=j.l;if(e(q!=null&&Ce!=null&&m!=null),iu[0]=null,iu[1]=On,iu[2]=yr,iu[3]=Hr,j.ca=Ce,j.tb=Oe,j.c=m.width,j.i=m.height,e(0<j.c&&0<j.i),1>=ne)m=0;else if(j.$a=3&q[G+0],j.Z=q[G+0]>>2&3,j.Lc=q[G+0]>>4&3,G=q[G+0]>>6&3,0>j.$a||1<j.$a||4<=j.Z||1<j.Lc||G)m=0;else if(Ne.put=Bt,Ne.ac=Wo,Ne.bc=zn,Ne.ma=j,Ne.width=m.width,Ne.height=m.height,Ne.Da=m.Da,Ne.v=m.v,Ne.va=m.va,Ne.j=m.j,Ne.o=m.o,j.$a)e:{e(j.$a==1),m=Po();t:for(;;){if(m==null){m=0;break e}if(e(j!=null),j.mc=m,m.c=j.c,m.i=j.i,m.l=j.l,m.l.ma=j,m.l.width=j.c,m.l.height=j.i,m.a=0,ie(m.m,q,re,De),!_s(j.c,j.i,1,m,null)||(m.ab==1&&m.gc[0].hc==3&&mi(m.s)?(j.ic=1,q=m.c*m.i,m.Ta=null,m.Ua=0,m.V=o(q),m.Ba=0,m.V==null?(m.a=1,m=0):m=1):(j.ic=0,m=Aa(m,j.c)),!m))break t;m=1;break e}j.mc=null,m=0}else m=De>=j.c*j.i;j=!m}if(j)return null;h.ga.Lc!=1?h.Ga=0:E=R-x}e(h.ga!=null),e(x+E<=R);e:{if(m=(q=h.ga).c,R=q.l.o,q.$a==0){if(re=h.rc,De=h.Vc,Ne=h.Fa,G=h.P+1+x*m,ne=h.mb,Ce=h.nb+x*m,e(G<=h.P+h.qc),q.Z!=0)for(e(iu[q.Z]!=null),j=0;j<E;++j)iu[q.Z](re,De,Ne,G,ne,Ce,m),re=ne,De=Ce,Ce+=m,G+=m;else for(j=0;j<E;++j)r(ne,Ce,Ne,G,m),re=ne,De=Ce,Ce+=m,G+=m;h.rc=re,h.Vc=De}else{if(e(q.mc!=null),m=x+E,e((j=q.mc)!=null),e(m<=j.i),j.C>=m)m=1;else if(q.ic||Jo(),q.ic){q=j.V,re=j.Ba,De=j.c;var He=j.i,Pe=(Ne=1,G=j.$/De,ne=j.$%De,Ce=j.m,Oe=j.s,j.$),qe=De*He,We=De*m,nt=Oe.wc,Ze=Pe<We?Di(Oe,ne,G):null;e(Pe<=qe),e(m<=He),e(mi(Oe));t:for(;;){for(;!Ce.h&&Pe<We;){if(ne&nt||(Ze=Di(Oe,ne,G)),e(Ze!=null),ue(Ce),256>(He=Cr(Ze.G[0],Ze.H[0],Ce)))q[re+Pe]=He,++Pe,++ne>=De&&(ne=0,++G<=m&&!(G%16)&&bs(j,G));else{if(!(280>He)){Ne=0;break t}He=Go(He-256,Ce);var Rt,St=Cr(Ze.G[4],Ze.H[4],Ce);if(ue(Ce),!(Pe>=(St=Wi(De,St=Go(St,Ce)))&&qe-Pe>=He)){Ne=0;break t}for(Rt=0;Rt<He;++Rt)q[re+Pe+Rt]=q[re+Pe+Rt-St];for(Pe+=He,ne+=He;ne>=De;)ne-=De,++G<=m&&!(G%16)&&bs(j,G);Pe<We&&ne&nt&&(Ze=Di(Oe,ne,G))}e(Ce.h==de(Ce))}bs(j,G>m?m:G);break t}!Ne||Ce.h&&Pe<qe?(Ne=0,j.a=Ce.h?5:3):j.$=Pe,m=Ne}else m=vi(j,j.V,j.Ba,j.c,j.i,m,vr);if(!m){E=0;break e}}x+E>=R&&(h.Cc=1),E=1}if(!E)return null;if(h.Cc&&((E=h.ga)!=null&&(E.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+x*M}function Qr(h,m,x,E,M,R){for(;0<M--;){var j,q=h,G=m+(x?1:0),ne=h,Ce=m+(x?0:3);for(j=0;j<E;++j){var Oe=ne[Ce+4*j];Oe!=255&&(Oe*=32897,q[G+4*j+0]=q[G+4*j+0]*Oe>>23,q[G+4*j+1]=q[G+4*j+1]*Oe>>23,q[G+4*j+2]=q[G+4*j+2]*Oe>>23)}m+=R}}function qr(h,m,x,E,M){for(;0<E--;){var R;for(R=0;R<x;++R){var j=h[m+2*R+0],q=15&(ne=h[m+2*R+1]),G=4369*q,ne=(240&ne|ne>>4)*G>>16;h[m+2*R+0]=(240&j|j>>4)*G>>16&240|(15&j|j<<4)*G>>16>>4&15,h[m+2*R+1]=240&ne|q}m+=M}}function ti(h,m,x,E,M,R,j,q){var G,ne,Ce=255;for(ne=0;ne<M;++ne){for(G=0;G<E;++G){var Oe=h[m+G];R[j+4*G]=Oe,Ce&=Oe}m+=x,j+=q}return Ce!=255}function Es(h,m,x,E,M){var R;for(R=0;R<M;++R)x[E+R]=h[m+R]>>8}function Jo(){yt=Qr,tn=qr,ln=ti,gn=Es}function Oa(h,m,x){H[h]=function(E,M,R,j,q,G,ne,Ce,Oe,re,De,Ne,He,Pe,qe,We,nt){var Ze,Rt=nt-1>>1,St=q[G+0]|ne[Ce+0]<<16,mn=Oe[re+0]|De[Ne+0]<<16;e(E!=null);var Tt=3*St+mn+131074>>2;for(m(E[M+0],255&Tt,Tt>>16,He,Pe),R!=null&&(Tt=3*mn+St+131074>>2,m(R[j+0],255&Tt,Tt>>16,qe,We)),Ze=1;Ze<=Rt;++Ze){var Fn=q[G+Ze]|ne[Ce+Ze]<<16,Mi=Oe[re+Ze]|De[Ne+Ze]<<16,vn=St+Fn+mn+Mi+524296,Mt=vn+2*(Fn+mn)>>3;Tt=Mt+St>>1,St=(vn=vn+2*(St+Mi)>>3)+Fn>>1,m(E[M+2*Ze-1],255&Tt,Tt>>16,He,Pe+(2*Ze-1)*x),m(E[M+2*Ze-0],255&St,St>>16,He,Pe+(2*Ze-0)*x),R!=null&&(Tt=vn+mn>>1,St=Mt+Mi>>1,m(R[j+2*Ze-1],255&Tt,Tt>>16,qe,We+(2*Ze-1)*x),m(R[j+2*Ze+0],255&St,St>>16,qe,We+(2*Ze+0)*x)),St=Fn,mn=Mi}1&nt||(Tt=3*St+mn+131074>>2,m(E[M+nt-1],255&Tt,Tt>>16,He,Pe+(nt-1)*x),R!=null&&(Tt=3*mn+St+131074>>2,m(R[j+nt-1],255&Tt,Tt>>16,qe,We+(nt-1)*x)))}}function hc(){oa[V0]=vB,oa[U0]=RA,oa[MA]=yB,oa[z0]=LA,oa[H0]=FA,oa[mw]=jA,oa[kA]=bB,oa[vw]=RA,oa[yw]=LA,oa[q0]=FA,oa[bw]=jA}function Ra(h){return h&~_B?0>h?0:255:h>>BA}function vl(h,m){return Ra((19077*h>>8)+(26149*m>>8)-14234)}function La(h,m,x){return Ra((19077*h>>8)-(6419*m>>8)-(13320*x>>8)+8708)}function Fa(h,m){return Ra((19077*h>>8)+(33050*m>>8)-17685)}function yl(h,m,x,E,M){E[M+0]=vl(h,x),E[M+1]=La(h,m,x),E[M+2]=Fa(h,m)}function _i(h,m,x,E,M){E[M+0]=Fa(h,m),E[M+1]=La(h,m,x),E[M+2]=vl(h,x)}function pc(h,m,x,E,M){var R=La(h,m,x);m=R<<3&224|Fa(h,m)>>3,E[M+0]=248&vl(h,x)|R>>5,E[M+1]=m}function bl(h,m,x,E,M){var R=240&Fa(h,m)|15;E[M+0]=240&vl(h,x)|La(h,m,x)>>4,E[M+1]=R}function nu(h,m,x,E,M){E[M+0]=255,yl(h,m,x,E,M+1)}function Cd(h,m,x,E,M){_i(h,m,x,E,M),E[M+3]=255}function Fi(h,m,x,E,M){yl(h,m,x,E,M),E[M+3]=255}function Ds(h,m,x){H[h]=function(E,M,R,j,q,G,ne,Ce,Oe){for(var re=Ce+(-2&Oe)*x;Ce!=re;)m(E[M+0],R[j+0],q[G+0],ne,Ce),m(E[M+1],R[j+0],q[G+0],ne,Ce+x),M+=2,++j,++G,Ce+=2*x;1&Oe&&m(E[M+0],R[j+0],q[G+0],ne,Ce)}}function gc(h,m,x){return x==0?h==0?m==0?6:5:m==0?4:0:x}function Sd(h,m,x,E,M){switch(h>>>30){case 3:Ie(m,x,E,M,0);break;case 2:ce(m,x,E,M);break;case 1:fe(m,x,E,M)}}function es(h,m){var x,E,M=m.M,R=m.Nb,j=h.oc,q=h.pc+40,G=h.oc,ne=h.pc+584,Ce=h.oc,Oe=h.pc+600;for(x=0;16>x;++x)j[q+32*x-1]=129;for(x=0;8>x;++x)G[ne+32*x-1]=129,Ce[Oe+32*x-1]=129;for(0<M?j[q-1-32]=G[ne-1-32]=Ce[Oe-1-32]=129:(i(j,q-32-1,127,21),i(G,ne-32-1,127,9),i(Ce,Oe-32-1,127,9)),E=0;E<h.za;++E){var re=m.ya[m.aa+E];if(0<E){for(x=-1;16>x;++x)r(j,q+32*x-4,j,q+32*x+12,4);for(x=-1;8>x;++x)r(G,ne+32*x-4,G,ne+32*x+4,4),r(Ce,Oe+32*x-4,Ce,Oe+32*x+4,4)}var De=h.Gd,Ne=h.Hd+E,He=re.ad,Pe=re.Hc;if(0<M&&(r(j,q-32,De[Ne].y,0,16),r(G,ne-32,De[Ne].f,0,8),r(Ce,Oe-32,De[Ne].ea,0,8)),re.Za){var qe=j,We=q-32+16;for(0<M&&(E>=h.za-1?i(qe,We,De[Ne].y[15],4):r(qe,We,De[Ne+1].y,0,4)),x=0;4>x;x++)qe[We+128+x]=qe[We+256+x]=qe[We+384+x]=qe[We+0+x];for(x=0;16>x;++x,Pe<<=2)qe=j,We=q+UA[x],Ba[re.Ob[x]](qe,We),Sd(Pe,He,16*+x,qe,We)}else if(qe=gc(E,M,re.Ob[0]),ru[qe](j,q),Pe!=0)for(x=0;16>x;++x,Pe<<=2)Sd(Pe,He,16*+x,j,q+UA[x]);for(x=re.Gc,qe=gc(E,M,re.Dd),vc[qe](G,ne),vc[qe](Ce,Oe),Pe=He,qe=G,We=ne,255&(re=0|x)&&(170&re?Ae(Pe,256,qe,We):ye(Pe,256,qe,We)),re=Ce,Pe=Oe,255&(x>>=8)&&(170&x?Ae(He,320,re,Pe):ye(He,320,re,Pe)),M<h.Ub-1&&(r(De[Ne].y,0,j,q+480,16),r(De[Ne].f,0,G,ne+224,8),r(De[Ne].ea,0,Ce,Oe+224,8)),x=8*R*h.B,De=h.sa,Ne=h.ta+16*E+16*R*h.R,He=h.qa,re=h.ra+8*E+x,Pe=h.Ha,qe=h.Ia+8*E+x,x=0;16>x;++x)r(De,Ne+x*h.R,j,q+32*x,16);for(x=0;8>x;++x)r(He,re+x*h.B,G,ne+32*x,8),r(Pe,qe+x*h.B,Ce,Oe+32*x,8)}}function mc(h,m,x,E,M,R,j,q,G){var ne=[0],Ce=[0],Oe=0,re=G!=null?G.kd:0,De=G??new Ke;if(h==null||12>x)return 7;De.data=h,De.w=m,De.ha=x,m=[m],x=[x],De.gb=[De.gb];e:{var Ne=m,He=x,Pe=De.gb;if(e(h!=null),e(He!=null),e(Pe!=null),Pe[0]=0,12<=He[0]&&!t(h,Ne[0],"RIFF")){if(t(h,Ne[0]+8,"WEBP")){Pe=3;break e}var qe=Lt(h,Ne[0]+4);if(12>qe||4294967286<qe){Pe=3;break e}if(re&&qe>He[0]-8){Pe=7;break e}Pe[0]=qe,Ne[0]+=12,He[0]-=12}Pe=0}if(Pe!=0)return Pe;for(qe=0<De.gb[0],x=x[0];;){e:{var We=h;He=m,Pe=x;var nt=ne,Ze=Ce,Rt=Ne=[0];if((Tt=Oe=[Oe])[0]=0,8>Pe[0])Pe=7;else{if(!t(We,He[0],"VP8X")){if(Lt(We,He[0]+4)!=10){Pe=3;break e}if(18>Pe[0]){Pe=7;break e}var St=Lt(We,He[0]+8),mn=1+ht(We,He[0]+12);if(2147483648<=mn*(We=1+ht(We,He[0]+15))){Pe=3;break e}Rt!=null&&(Rt[0]=St),nt!=null&&(nt[0]=mn),Ze!=null&&(Ze[0]=We),He[0]+=18,Pe[0]-=18,Tt[0]=1}Pe=0}}if(Oe=Oe[0],Ne=Ne[0],Pe!=0)return Pe;if(He=!!(2&Ne),!qe&&Oe)return 3;if(R!=null&&(R[0]=!!(16&Ne)),j!=null&&(j[0]=He),q!=null&&(q[0]=0),j=ne[0],Ne=Ce[0],Oe&&He&&G==null){Pe=0;break}if(4>x){Pe=7;break}if(qe&&Oe||!qe&&!Oe&&!t(h,m[0],"ALPH")){x=[x],De.na=[De.na],De.P=[De.P],De.Sa=[De.Sa];e:{St=h,Pe=m,qe=x;var Tt=De.gb;nt=De.na,Ze=De.P,Rt=De.Sa,mn=22,e(St!=null),e(qe!=null),We=Pe[0];var Fn=qe[0];for(e(nt!=null),e(Rt!=null),nt[0]=null,Ze[0]=null,Rt[0]=0;;){if(Pe[0]=We,qe[0]=Fn,8>Fn){Pe=7;break e}var Mi=Lt(St,We+4);if(4294967286<Mi){Pe=3;break e}var vn=8+Mi+1&-2;if(mn+=vn,0<Tt&&mn>Tt){Pe=3;break e}if(!t(St,We,"VP8 ")||!t(St,We,"VP8L")){Pe=0;break e}if(Fn[0]<vn){Pe=7;break e}t(St,We,"ALPH")||(nt[0]=St,Ze[0]=We+8,Rt[0]=Mi),We+=vn,Fn-=vn}}if(x=x[0],De.na=De.na[0],De.P=De.P[0],De.Sa=De.Sa[0],Pe!=0)break}x=[x],De.Ja=[De.Ja],De.xa=[De.xa];e:if(Tt=h,Pe=m,qe=x,nt=De.gb[0],Ze=De.Ja,Rt=De.xa,St=Pe[0],We=!t(Tt,St,"VP8 "),mn=!t(Tt,St,"VP8L"),e(Tt!=null),e(qe!=null),e(Ze!=null),e(Rt!=null),8>qe[0])Pe=7;else{if(We||mn){if(Tt=Lt(Tt,St+4),12<=nt&&Tt>nt-12){Pe=3;break e}if(re&&Tt>qe[0]-8){Pe=7;break e}Ze[0]=Tt,Pe[0]+=8,qe[0]-=8,Rt[0]=mn}else Rt[0]=5<=qe[0]&&Tt[St+0]==47&&!(Tt[St+4]>>5),Ze[0]=qe[0];Pe=0}if(x=x[0],De.Ja=De.Ja[0],De.xa=De.xa[0],m=m[0],Pe!=0)break;if(4294967286<De.Ja)return 3;if(q==null||He||(q[0]=De.xa?2:1),j=[j],Ne=[Ne],De.xa){if(5>x){Pe=7;break}q=j,re=Ne,He=R,h==null||5>x?h=0:5<=x&&h[m+0]==47&&!(h[m+4]>>5)?(qe=[0],Tt=[0],nt=[0],ie(Ze=new W,h,m,x),mr(Ze,qe,Tt,nt)?(q!=null&&(q[0]=qe[0]),re!=null&&(re[0]=Tt[0]),He!=null&&(He[0]=nt[0]),h=1):h=0):h=0}else{if(10>x){Pe=7;break}q=Ne,h==null||10>x||!gd(h,m+3,x-3)?h=0:(re=h[m+0]|h[m+1]<<8|h[m+2]<<16,He=16383&(h[m+7]<<8|h[m+6]),h=16383&(h[m+9]<<8|h[m+8]),1&re||3<(re>>1&7)||!(re>>4&1)||re>>5>=De.Ja||!He||!h?h=0:(j&&(j[0]=He),q&&(q[0]=h),h=1))}if(!h||(j=j[0],Ne=Ne[0],Oe&&(ne[0]!=j||Ce[0]!=Ne)))return 3;G!=null&&(G[0]=De,G.offset=m-G.w,e(4294967286>m-G.w),e(G.offset==G.ha-x));break}return Pe==0||Pe==7&&Oe&&G==null?(R!=null&&(R[0]|=De.na!=null&&0<De.na.length),E!=null&&(E[0]=j),M!=null&&(M[0]=Ne),0):Pe}function Ed(h,m,x){var E=m.width,M=m.height,R=0,j=0,q=E,G=M;if(m.Da=h!=null&&0<h.Da,m.Da&&(q=h.cd,G=h.bd,R=h.v,j=h.j,11>x||(R&=-2,j&=-2),0>R||0>j||0>=q||0>=G||R+q>E||j+G>M))return 0;if(m.v=R,m.j=j,m.va=R+q,m.o=j+G,m.U=q,m.T=G,m.da=h!=null&&0<h.da,m.da){if(!Ft(q,G,x=[h.ib],R=[h.hb]))return 0;m.ib=x[0],m.hb=R[0]}return m.ob=h!=null&&h.ob,m.Kb=h==null||!h.Sd,m.da&&(m.ob=m.ib<3*E/4&&m.hb<3*M/4,m.Kb=0),1}function _l(h){if(h==null)return 2;if(11>h.S){var m=h.f.RGBA;m.fb+=(h.height-1)*m.A,m.A=-m.A}else m=h.f.kb,h=h.height,m.O+=(h-1)*m.fa,m.fa=-m.fa,m.N+=(h-1>>1)*m.Ab,m.Ab=-m.Ab,m.W+=(h-1>>1)*m.Db,m.Db=-m.Db,m.F!=null&&(m.J+=(h-1)*m.lb,m.lb=-m.lb);return 0}function ji(h,m,x,E){if(E==null||0>=h||0>=m)return 2;if(x!=null){if(x.Da){var M=x.cd,R=x.bd,j=-2&x.v,q=-2&x.j;if(0>j||0>q||0>=M||0>=R||j+M>h||q+R>m)return 2;h=M,m=R}if(x.da){if(!Ft(h,m,M=[x.ib],R=[x.hb]))return 2;h=M[0],m=R[0]}}E.width=h,E.height=m;e:{var G=E.width,ne=E.height;if(h=E.S,0>=G||0>=ne||!(h>=V0&&13>h))h=2;else{if(0>=E.Rd&&E.sd==null){j=R=M=m=0;var Ce=(q=G*zA[h])*ne;if(11>h||(R=(ne+1)/2*(m=(G+1)/2),h==12&&(j=(M=G)*ne)),(ne=o(Ce+2*R+j))==null){h=1;break e}E.sd=ne,11>h?((G=E.f.RGBA).eb=ne,G.fb=0,G.A=q,G.size=Ce):((G=E.f.kb).y=ne,G.O=0,G.fa=q,G.Fd=Ce,G.f=ne,G.N=0+Ce,G.Ab=m,G.Cd=R,G.ea=ne,G.W=0+Ce+R,G.Db=m,G.Ed=R,h==12&&(G.F=ne,G.J=0+Ce+2*R),G.Tc=j,G.lb=M)}if(m=1,M=E.S,R=E.width,j=E.height,M>=V0&&13>M)if(11>M)h=E.f.RGBA,m&=(q=Math.abs(h.A))*(j-1)+R<=h.size,m&=q>=R*zA[M],m&=h.eb!=null;else{h=E.f.kb,q=(R+1)/2,Ce=(j+1)/2,G=Math.abs(h.fa),ne=Math.abs(h.Ab);var Oe=Math.abs(h.Db),re=Math.abs(h.lb),De=re*(j-1)+R;m&=G*(j-1)+R<=h.Fd,m&=ne*(Ce-1)+q<=h.Cd,m=(m&=Oe*(Ce-1)+q<=h.Ed)&G>=R&ne>=q&Oe>=q,m&=h.y!=null,m&=h.f!=null,m&=h.ea!=null,M==12&&(m&=re>=R,m&=De<=h.Tc,m&=h.F!=null)}else m=0;h=m?0:2}}return h!=0||x!=null&&x.fd&&(h=_l(E)),h}var ur=64,Bi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Mr=24,wl=32,Is=8,ja=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];_t("Predictor0","PredictorAdd0"),H.Predictor0=function(){return 4278190080},H.Predictor1=function(h){return h},H.Predictor2=function(h,m,x){return m[x+0]},H.Predictor3=function(h,m,x){return m[x+1]},H.Predictor4=function(h,m,x){return m[x-1]},H.Predictor5=function(h,m,x){return Nt(Nt(h,m[x+1]),m[x+0])},H.Predictor6=function(h,m,x){return Nt(h,m[x-1])},H.Predictor7=function(h,m,x){return Nt(h,m[x+0])},H.Predictor8=function(h,m,x){return Nt(m[x-1],m[x+0])},H.Predictor9=function(h,m,x){return Nt(m[x+0],m[x+1])},H.Predictor10=function(h,m,x){return Nt(Nt(h,m[x-1]),Nt(m[x+0],m[x+1]))},H.Predictor11=function(h,m,x){var E=m[x+0];return 0>=Kt(E>>24&255,h>>24&255,(m=m[x-1])>>24&255)+Kt(E>>16&255,h>>16&255,m>>16&255)+Kt(E>>8&255,h>>8&255,m>>8&255)+Kt(255&E,255&h,255&m)?E:h},H.Predictor12=function(h,m,x){var E=m[x+0];return(An((h>>24&255)+(E>>24&255)-((m=m[x-1])>>24&255))<<24|An((h>>16&255)+(E>>16&255)-(m>>16&255))<<16|An((h>>8&255)+(E>>8&255)-(m>>8&255))<<8|An((255&h)+(255&E)-(255&m)))>>>0},H.Predictor13=function(h,m,x){var E=m[x-1];return(on((h=Nt(h,m[x+0]))>>24&255,E>>24&255)<<24|on(h>>16&255,E>>16&255)<<16|on(h>>8&255,E>>8&255)<<8|on(255&h,255&E))>>>0};var As=H.PredictorAdd0;H.PredictorAdd1=hn,_t("Predictor2","PredictorAdd2"),_t("Predictor3","PredictorAdd3"),_t("Predictor4","PredictorAdd4"),_t("Predictor5","PredictorAdd5"),_t("Predictor6","PredictorAdd6"),_t("Predictor7","PredictorAdd7"),_t("Predictor8","PredictorAdd8"),_t("Predictor9","PredictorAdd9"),_t("Predictor10","PredictorAdd10"),_t("Predictor11","PredictorAdd11"),_t("Predictor12","PredictorAdd12"),_t("Predictor13","PredictorAdd13");var xl=H.PredictorAdd2;It("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),It("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var br,Ts=H.ColorIndexInverseTransform,Ms=H.MapARGB,g=H.VP8LColorIndexInverseTransformAlpha,v=H.MapAlpha,w=H.VP8LPredictorsAdd=[];w.length=16,(H.VP8LPredictors=[]).length=16,(H.VP8LPredictorsAdd_C=[]).length=16,(H.VP8LPredictors_C=[]).length=16;var D,I,N,K,ae,be,we,Ie,ce,Ae,fe,ye,_e,Se,ke,Le,ze,Ge,st,dt,ot,at,ft,ct,yt,tn,ln,gn,po=o(511),Xt=o(2041),Ii=o(225),Ai=o(767),Dd=0,Ti=Xt,ra=Ii,Yi=Ai,ia=po,V0=0,U0=1,MA=2,z0=3,H0=4,mw=5,kA=6,vw=7,yw=8,q0=9,bw=10,rB=[2,3,7],iB=[3,3,11],NA=[280,256,256,256,40],oB=[0,1,1,1,0],sB=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],aB=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],lB=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],cB=8,_w=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ww=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Zp=null,uB=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],dB=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],PA=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],fB=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],hB=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],pB=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],gB=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ru=[],Ba=[],vc=[],mB=1,OA=2,iu=[],oa=[];Oa("UpsampleRgbLinePair",yl,3),Oa("UpsampleBgrLinePair",_i,3),Oa("UpsampleRgbaLinePair",Fi,4),Oa("UpsampleBgraLinePair",Cd,4),Oa("UpsampleArgbLinePair",nu,4),Oa("UpsampleRgba4444LinePair",bl,2),Oa("UpsampleRgb565LinePair",pc,2);var vB=H.UpsampleRgbLinePair,yB=H.UpsampleBgrLinePair,RA=H.UpsampleRgbaLinePair,LA=H.UpsampleBgraLinePair,FA=H.UpsampleArgbLinePair,jA=H.UpsampleRgba4444LinePair,bB=H.UpsampleRgb565LinePair,$0=16,W0=1<<$0-1,Xp=-227,xw=482,BA=6,_B=(256<<BA)-1,VA=0,wB=o(256),xB=o(256),CB=o(256),SB=o(256),EB=o(xw-Xp),DB=o(xw-Xp);Ds("YuvToRgbRow",yl,3),Ds("YuvToBgrRow",_i,3),Ds("YuvToRgbaRow",Fi,4),Ds("YuvToBgraRow",Cd,4),Ds("YuvToArgbRow",nu,4),Ds("YuvToRgba4444Row",bl,2),Ds("YuvToRgb565Row",pc,2);var UA=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],G0=[0,2,8],IB=[8,7,6,4,4,2,2,2,1,1,1,1],AB=1;this.WebPDecodeRGBA=function(h,m,x,E,M){var R=U0,j=new Ve,q=new pn;j.ba=q,q.S=R,q.width=[q.width],q.height=[q.height];var G=q.width,ne=q.height,Ce=new Ut;if(Ce==null||h==null)var Oe=2;else e(Ce!=null),Oe=mc(h,m,x,Ce.width,Ce.height,Ce.Pd,Ce.Qd,Ce.format,null);if(Oe!=0?G=0:(G!=null&&(G[0]=Ce.width[0]),ne!=null&&(ne[0]=Ce.height[0]),G=1),G){q.width=q.width[0],q.height=q.height[0],E!=null&&(E[0]=q.width),M!=null&&(M[0]=q.height);e:{if(E=new Ta,(M=new Ke).data=h,M.w=m,M.ha=x,M.kd=1,m=[0],e(M!=null),((h=mc(M.data,M.w,M.ha,null,null,null,m,null,M))==0||h==7)&&m[0]&&(h=4),(m=h)==0){if(e(j!=null),E.data=M.data,E.w=M.w+M.offset,E.ha=M.ha-M.offset,E.put=Bt,E.ac=Wo,E.bc=zn,E.ma=j,M.xa){if((h=Po())==null){j=1;break e}if((function(re,De){var Ne=[0],He=[0],Pe=[0];t:for(;;){if(re==null)return 0;if(De==null)return re.a=2,0;if(re.l=De,re.a=0,ie(re.m,De.data,De.w,De.ha),!mr(re.m,Ne,He,Pe)){re.a=3;break t}if(re.xb=OA,De.width=Ne[0],De.height=He[0],!_s(Ne[0],He[0],1,re,null))break t;return 1}return e(re.a!=0),0})(h,E)){if(E=(m=ji(E.width,E.height,j.Oa,j.ba))==0){t:{E=h;n:for(;;){if(E==null){E=0;break t}if(e(E.s.yc!=null),e(E.s.Ya!=null),e(0<E.s.Wb),e((x=E.l)!=null),e((M=x.ma)!=null),E.xb!=0){if(E.ca=M.ba,E.tb=M.tb,e(E.ca!=null),!Ed(M.Oa,x,z0)){E.a=2;break n}if(!Aa(E,x.width)||x.da)break n;if((x.da||zt(E.ca.S))&&Jo(),11>E.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),E.ca.f.kb.F!=null&&Jo()),E.Pb&&0<E.s.ua&&E.s.vb.X==null&&!J(E.s.vb,E.s.Wa.Xa)){E.a=1;break n}E.xb=0}if(!vi(E,E.V,E.Ba,E.c,E.i,x.o,Mo))break n;M.Dc=E.Ma,E=1;break t}e(E.a!=0),E=0}E=!E}E&&(m=h.a)}else m=h.a}else{if((h=new ic)==null){j=1;break e}if(h.Fa=M.na,h.P=M.P,h.qc=M.Sa,Cs(h,E)){if((m=ji(E.width,E.height,j.Oa,j.ba))==0){if(h.Aa=0,x=j.Oa,e((M=h)!=null),x!=null){if(0<(G=0>(G=x.Md)?0:100<G?255:255*G/100)){for(ne=Ce=0;4>ne;++ne)12>(Oe=M.pb[ne]).lc&&(Oe.ia=G*IB[0>Oe.lc?0:Oe.lc]>>3),Ce|=Oe.ia;Ce&&(alert("todo:VP8InitRandom"),M.ia=1)}M.Ga=x.Id,100<M.Ga?M.Ga=100:0>M.Ga&&(M.Ga=0)}(function(re,De){if(re==null)return 0;if(De==null)return Kr(re,2,"NULL VP8Io parameter in VP8Decode().");if(!re.cb&&!Cs(re,De))return 0;if(e(re.cb),De.ac==null||De.ac(De)){De.ob&&(re.L=0);var Ne=G0[re.L];if(re.L==2?(re.yb=0,re.zb=0):(re.yb=De.v-Ne>>4,re.zb=De.j-Ne>>4,0>re.yb&&(re.yb=0),0>re.zb&&(re.zb=0)),re.Va=De.o+15+Ne>>4,re.Hb=De.va+15+Ne>>4,re.Hb>re.za&&(re.Hb=re.za),re.Va>re.Ub&&(re.Va=re.Ub),0<re.L){var He=re.ed;for(Ne=0;4>Ne;++Ne){var Pe;if(re.Qa.Cb){var qe=re.Qa.Lb[Ne];re.Qa.Fb||(qe+=He.Tb)}else qe=He.Tb;for(Pe=0;1>=Pe;++Pe){var We=re.gd[Ne][Pe],nt=qe;if(He.Pc&&(nt+=He.vd[0],Pe&&(nt+=He.od[0])),0<(nt=0>nt?0:63<nt?63:nt)){var Ze=nt;0<He.wb&&(Ze=4<He.wb?Ze>>2:Ze>>1)>9-He.wb&&(Ze=9-He.wb),1>Ze&&(Ze=1),We.dd=Ze,We.tc=2*nt+Ze,We.ld=40<=nt?2:15<=nt?1:0}else We.tc=0;We.La=Pe}}}Ne=0}else Kr(re,6,"Frame setup failed"),Ne=re.a;if(Ne=Ne==0){if(Ne){re.$c=0,0<re.Aa||(re.Ic=AB);t:{Ne=re.Ic,He=4*(Ze=re.za);var Rt=32*Ze,St=Ze+1,mn=0<re.L?Ze*(0<re.Aa?2:1):0,Tt=(re.Aa==2?2:1)*Ze;if((We=He+832+(Pe=3*(16*Ne+G0[re.L])/2*Rt)+(qe=re.Fa!=null&&0<re.Fa.length?re.Kc.c*re.Kc.i:0))!=We)Ne=0;else{if(We>re.Vb){if(re.Vb=0,re.Ec=o(We),re.Fc=0,re.Ec==null){Ne=Kr(re,1,"no memory during frame initialization.");break t}re.Vb=We}We=re.Ec,nt=re.Fc,re.Ac=We,re.Bc=nt,nt+=He,re.Gd=s(Rt,En),re.Hd=0,re.rb=s(St+1,ws),re.sb=1,re.wa=mn?s(mn,ho):null,re.Y=0,re.D.Nb=0,re.D.wa=re.wa,re.D.Y=re.Y,0<re.Aa&&(re.D.Y+=Ze),e(!0),re.oc=We,re.pc=nt,nt+=832,re.ya=s(Tt,dl),re.aa=0,re.D.ya=re.ya,re.D.aa=re.aa,re.Aa==2&&(re.D.aa+=Ze),re.R=16*Ze,re.B=8*Ze,Ze=(Rt=G0[re.L])*re.R,Rt=Rt/2*re.B,re.sa=We,re.ta=nt+Ze,re.qa=re.sa,re.ra=re.ta+16*Ne*re.R+Rt,re.Ha=re.qa,re.Ia=re.ra+8*Ne*re.B+Rt,re.$c=0,nt+=Pe,re.mb=qe?We:null,re.nb=qe?nt:null,e(nt+qe<=re.Fc+re.Vb),fl(re),i(re.Ac,re.Bc,0,He),Ne=1}}if(Ne){if(De.ka=0,De.y=re.sa,De.O=re.ta,De.f=re.qa,De.N=re.ra,De.ea=re.Ha,De.Vd=re.Ia,De.fa=re.R,De.Rc=re.B,De.F=null,De.J=0,!Dd){for(Ne=-255;255>=Ne;++Ne)po[255+Ne]=0>Ne?-Ne:Ne;for(Ne=-1020;1020>=Ne;++Ne)Xt[1020+Ne]=-128>Ne?-128:127<Ne?127:Ne;for(Ne=-112;112>=Ne;++Ne)Ii[112+Ne]=-16>Ne?-16:15<Ne?15:Ne;for(Ne=-255;510>=Ne;++Ne)Ai[255+Ne]=0>Ne?0:255<Ne?255:Ne;Dd=1}we=In,Ie=$f,Ae=Oo,fe=md,ye=Wf,ce=Jc,_e=fc,Se=ml,ke=T,Le=te,ze=Qf,Ge=y,st=me,dt=Te,ot=uc,at=dc,ft=tu,ct=xd,Ba[0]=na,Ba[1]=Kp,Ba[2]=sc,Ba[3]=vd,Ba[4]=Ma,Ba[5]=yd,Ba[6]=bi,Ba[7]=Yf,Ba[8]=ka,Ba[9]=gl,ru[0]=Gf,ru[1]=Gi,ru[2]=ta,ru[3]=oc,ru[4]=pl,ru[5]=zr,ru[6]=Ko,vc[0]=ac,vc[1]=Qp,vc[2]=Na,vc[3]=Kf,vc[4]=_d,vc[5]=bd,vc[6]=lc,Ne=1}else Ne=0}Ne&&(Ne=(function(Fn,Mi){for(Fn.M=0;Fn.M<Fn.Va;++Fn.M){var vn,Mt=Fn.Jc[Fn.M&Fn.Xb],pt=Fn.m,li=Fn;for(vn=0;vn<li.za;++vn){var cn=pt,qn=li,jr=qn.Ac,Ki=qn.Bc+4*vn,Ro=qn.zc,ni=qn.ya[qn.aa+vn];if(qn.Qa.Bb?ni.$b=Re(cn,qn.Pa.jb[0])?2+Re(cn,qn.Pa.jb[2]):Re(cn,qn.Pa.jb[1]):ni.$b=0,qn.kc&&(ni.Ad=Re(cn,qn.Bd)),ni.Za=!Re(cn,145)+0,ni.Za){var go=ni.Ob,Lo=0;for(qn=0;4>qn;++qn){var ki,Wn=Ro[0+qn];for(ki=0;4>ki;++ki){Wn=hB[jr[Ki+ki]][Wn];for(var dr=PA[Re(cn,Wn[0])];0<dr;)dr=PA[2*dr+Re(cn,Wn[dr])];Wn=-dr,jr[Ki+ki]=Wn}r(go,Lo,jr,Ki,4),Lo+=4,Ro[0+qn]=Wn}}else Wn=Re(cn,156)?Re(cn,128)?1:3:Re(cn,163)?2:0,ni.Ob[0]=Wn,i(jr,Ki,Wn,4),i(Ro,0,Wn,4);ni.Dd=Re(cn,142)?Re(cn,114)?Re(cn,183)?1:3:2:0}if(li.m.Ka)return Kr(Fn,7,"Premature end-of-partition0 encountered.");for(;Fn.ja<Fn.za;++Fn.ja){if(li=Mt,cn=(pt=Fn).rb[pt.sb-1],jr=pt.rb[pt.sb+pt.ja],vn=pt.ya[pt.aa+pt.ja],Ki=pt.kc?vn.Ad:0)cn.la=jr.la=0,vn.Za||(cn.Na=jr.Na=0),vn.Hc=0,vn.Gc=0,vn.ia=0;else{var ri,fr;if(cn=jr,jr=li,Ki=pt.Pa.Xc,Ro=pt.ya[pt.aa+pt.ja],ni=pt.pb[Ro.$b],qn=Ro.ad,go=0,Lo=pt.rb[pt.sb-1],Wn=ki=0,i(qn,go,0,384),Ro.Za)var Qi=0,Va=Ki[3];else{dr=o(16);var ci=cn.Na+Lo.Na;if(ci=Zp(jr,Ki[1],ci,ni.Eb,0,dr,0),cn.Na=Lo.Na=(0<ci)+0,1<ci)we(dr,0,qn,go);else{var ts=dr[0]+3>>3;for(dr=0;256>dr;dr+=16)qn[go+dr]=ts}Qi=1,Va=Ki[0]}var Sr=15&cn.la,Ni=15&Lo.la;for(dr=0;4>dr;++dr){var ks=1&Ni;for(ts=fr=0;4>ts;++ts)Sr=Sr>>1|(ks=(ci=Zp(jr,Va,ci=ks+(1&Sr),ni.Sc,Qi,qn,go))>Qi)<<7,fr=fr<<2|(3<ci?3:1<ci?2:qn[go+0]!=0),go+=16;Sr>>=4,Ni=Ni>>1|ks<<7,ki=(ki<<8|fr)>>>0}for(Va=Sr,Qi=Ni>>4,ri=0;4>ri;ri+=2){for(fr=0,Sr=cn.la>>4+ri,Ni=Lo.la>>4+ri,dr=0;2>dr;++dr){for(ks=1&Ni,ts=0;2>ts;++ts)ci=ks+(1&Sr),Sr=Sr>>1|(ks=0<(ci=Zp(jr,Ki[2],ci,ni.Qc,0,qn,go)))<<3,fr=fr<<2|(3<ci?3:1<ci?2:qn[go+0]!=0),go+=16;Sr>>=2,Ni=Ni>>1|ks<<5}Wn|=fr<<4*ri,Va|=Sr<<4<<ri,Qi|=(240&Ni)<<ri}cn.la=Va,Lo.la=Qi,Ro.Hc=ki,Ro.Gc=Wn,Ro.ia=43690&Wn?0:ni.ia,Ki=!(ki|Wn)}if(0<pt.L&&(pt.wa[pt.Y+pt.ja]=pt.gd[vn.$b][vn.Za],pt.wa[pt.Y+pt.ja].La|=!Ki),li.Ka)return Kr(Fn,7,"Premature end-of-file encountered.")}if(fl(Fn),pt=Mi,li=1,vn=(Mt=Fn).D,cn=0<Mt.L&&Mt.M>=Mt.zb&&Mt.M<=Mt.Va,Mt.Aa==0)t:{if(vn.M=Mt.M,vn.uc=cn,es(Mt,vn),li=1,vn=(fr=Mt.D).Nb,cn=(Wn=G0[Mt.L])*Mt.R,jr=Wn/2*Mt.B,dr=16*vn*Mt.R,ts=8*vn*Mt.B,Ki=Mt.sa,Ro=Mt.ta-cn+dr,ni=Mt.qa,qn=Mt.ra-jr+ts,go=Mt.Ha,Lo=Mt.Ia-jr+ts,Ni=(Sr=fr.M)==0,ki=Sr>=Mt.Va-1,Mt.Aa==2&&es(Mt,fr),fr.uc)for(ks=(ci=Mt).D.M,e(ci.D.uc),fr=ci.yb;fr<ci.Hb;++fr){Qi=fr,Va=ks;var Fo=(Ns=(Zi=ci).D).Nb;ri=Zi.R;var Ns=Ns.wa[Ns.Y+Qi],Ps=Zi.sa,ns=Zi.ta+16*Fo*ri+16*Qi,Os=Ns.dd,kr=Ns.tc;if(kr!=0)if(e(3<=kr),Zi.L==1)0<Qi&&at(Ps,ns,ri,kr+4),Ns.La&&ct(Ps,ns,ri,kr),0<Va&&ot(Ps,ns,ri,kr+4),Ns.La&&ft(Ps,ns,ri,kr);else{var Rs=Zi.B,Ua=Zi.qa,Id=Zi.ra+8*Fo*Rs+8*Qi,yc=Zi.Ha,Zi=Zi.Ia+8*Fo*Rs+8*Qi;Fo=Ns.ld,0<Qi&&(Se(Ps,ns,ri,kr+4,Os,Fo),Le(Ua,Id,yc,Zi,Rs,kr+4,Os,Fo)),Ns.La&&(Ge(Ps,ns,ri,kr,Os,Fo),dt(Ua,Id,yc,Zi,Rs,kr,Os,Fo)),0<Va&&(_e(Ps,ns,ri,kr+4,Os,Fo),ke(Ua,Id,yc,Zi,Rs,kr+4,Os,Fo)),Ns.La&&(ze(Ps,ns,ri,kr,Os,Fo),st(Ua,Id,yc,Zi,Rs,kr,Os,Fo))}}if(Mt.ia&&alert("todo:DitherRow"),pt.put!=null){if(fr=16*Sr,Sr=16*(Sr+1),Ni?(pt.y=Mt.sa,pt.O=Mt.ta+dr,pt.f=Mt.qa,pt.N=Mt.ra+ts,pt.ea=Mt.Ha,pt.W=Mt.Ia+ts):(fr-=Wn,pt.y=Ki,pt.O=Ro,pt.f=ni,pt.N=qn,pt.ea=go,pt.W=Lo),ki||(Sr-=Wn),Sr>pt.o&&(Sr=pt.o),pt.F=null,pt.J=null,Mt.Fa!=null&&0<Mt.Fa.length&&fr<Sr&&(pt.J=Hn(Mt,pt,fr,Sr-fr),pt.F=Mt.mb,pt.F==null&&pt.F.length==0)){li=Kr(Mt,3,"Could not decode alpha data.");break t}fr<pt.j&&(Wn=pt.j-fr,fr=pt.j,e(!(1&Wn)),pt.O+=Mt.R*Wn,pt.N+=Mt.B*(Wn>>1),pt.W+=Mt.B*(Wn>>1),pt.F!=null&&(pt.J+=pt.width*Wn)),fr<Sr&&(pt.O+=pt.v,pt.N+=pt.v>>1,pt.W+=pt.v>>1,pt.F!=null&&(pt.J+=pt.v),pt.ka=fr-pt.j,pt.U=pt.va-pt.v,pt.T=Sr-fr,li=pt.put(pt))}vn+1!=Mt.Ic||ki||(r(Mt.sa,Mt.ta-cn,Ki,Ro+16*Mt.R,cn),r(Mt.qa,Mt.ra-jr,ni,qn+8*Mt.B,jr),r(Mt.Ha,Mt.Ia-jr,go,Lo+8*Mt.B,jr))}if(!li)return Kr(Fn,6,"Output aborted.")}return 1})(re,De)),De.bc!=null&&De.bc(De),Ne&=1}return Ne?(re.cb=0,Ne):0})(h,E)||(m=h.a)}}else m=h.a}m==0&&j.Oa!=null&&j.Oa.fd&&(m=_l(j.ba))}j=m}R=j!=0?null:11>R?q.f.RGBA.eb:q.f.kb.y}else R=null;return R};var zA=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(H,pe){for(var O="",$=0;$<4;$++)O+=String.fromCharCode(H[pe++]);return O}function u(H,pe){return H[pe+0]|H[pe+1]<<8}function d(H,pe){return(H[pe+0]|H[pe+1]<<8|H[pe+2]<<16)>>>0}function p(H,pe){return(H[pe+0]|H[pe+1]<<8|H[pe+2]<<16|H[pe+3]<<24)>>>0}new l;var f=[0],b=[0],_=[],C=new l,S=n,A=(function(H,pe){var O={},$=0,le=!1,V=0,Q=0;if(O.frames=[],!(function(k,W){for(var X=0;X<4;X++)if(k[W+X]!="RIFF".charCodeAt(X))return!0;return!1})(H,pe)){for(p(H,pe+=4),pe+=8;pe<H.length;){var xe=c(H,pe),oe=p(H,pe+=4);pe+=4;var Z=oe+(1&oe);switch(xe){case"VP8 ":case"VP8L":O.frames[$]===void 0&&(O.frames[$]={}),(Ee=O.frames[$]).src_off=le?Q:pe-8,Ee.src_size=V+oe+8,$++,le&&(le=!1,V=0,Q=0);break;case"VP8X":(Ee=O.header={}).feature_flags=H[pe];var ie=pe+4;Ee.canvas_width=1+d(H,ie),ie+=3,Ee.canvas_height=1+d(H,ie),ie+=3;break;case"ALPH":le=!0,V=Z+8,Q=pe-8;break;case"ANIM":(Ee=O.header).bgcolor=p(H,pe),ie=pe+4,Ee.loop_count=u(H,ie),ie+=2;break;case"ANMF":var Me,Ee;(Ee=O.frames[$]={}).offset_x=2*d(H,pe),pe+=3,Ee.offset_y=2*d(H,pe),pe+=3,Ee.width=1+d(H,pe),pe+=3,Ee.height=1+d(H,pe),pe+=3,Ee.duration=d(H,pe),pe+=3,Me=H[pe++],Ee.dispose=1&Me,Ee.blend=Me>>1&1}xe!="ANMF"&&(pe+=Z)}return O}})(S,0);A.response=S,A.rgbaoutput=!0,A.dataurl=!1;var F=A.header?A.header:null,P=A.frames?A.frames:null;if(F){F.loop_counter=F.loop_count,f=[F.canvas_height],b=[F.canvas_width];for(var U=0;U<P.length&&P[U].blend!=0;U++);}var se=P[0],he=C.WebPDecodeRGBA(S,se.src_off,se.src_size,b,f);se.rgba=he,se.imgwidth=b[0],se.imgheight=f[0];for(var Y=0;Y<b[0]*f[0]*4;Y++)_[Y]=he[Y];return this.width=b,this.height=f,this.data=_,this}(function(n){var e,t,r,i,o,s,a,l,c,u=function(k){return k=k||{},this.isStrokeTransparent=k.isStrokeTransparent||!1,this.strokeOpacity=k.strokeOpacity||1,this.strokeStyle=k.strokeStyle||"#000000",this.fillStyle=k.fillStyle||"#000000",this.isFillTransparent=k.isFillTransparent||!1,this.fillOpacity=k.fillOpacity||1,this.font=k.font||"10px sans-serif",this.textBaseline=k.textBaseline||"alphabetic",this.textAlign=k.textAlign||"left",this.lineWidth=k.lineWidth||1,this.lineJoin=k.lineJoin||"miter",this.lineCap=k.lineCap||"butt",this.path=k.path||[],this.transform=k.transform!==void 0?k.transform.clone():new l,this.globalCompositeOperation=k.globalCompositeOperation||"normal",this.globalAlpha=k.globalAlpha||1,this.clip_path=k.clip_path||[],this.currentPoint=k.currentPoint||new s,this.miterLimit=k.miterLimit||10,this.lastPoint=k.lastPoint||new s,this.lineDashOffset=k.lineDashOffset||0,this.lineDash=k.lineDash||[],this.margin=k.margin||[0,0,0,0],this.prevPageLastElemOffset=k.prevPageLastElemOffset||0,this.ignoreClearRect=typeof k.ignoreClearRect!="boolean"||k.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,s=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var d=function(k){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=k;Object.defineProperty(this,"pdf",{get:function(){return W}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(J){X=!!J}});var de=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return de},set:function(J){de=!!J}});var ve=0;Object.defineProperty(this,"posX",{get:function(){return ve},set:function(J){isNaN(J)||(ve=J)}});var ue=0;Object.defineProperty(this,"posY",{get:function(){return ue},set:function(J){isNaN(J)||(ue=J)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(J){var mt;typeof J=="number"?mt=[J,J,J,J]:((mt=new Array(4))[0]=J[0],mt[1]=J.length>=2?J[1]:mt[0],mt[2]=J.length>=3?J[2]:mt[0],mt[3]=J.length>=4?J[3]:mt[1]),c.margin=mt}});var je=!1;Object.defineProperty(this,"autoPaging",{get:function(){return je},set:function(J){je=J}});var Be=0;Object.defineProperty(this,"lastBreak",{get:function(){return Be},set:function(J){Be=J}});var Re=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Re},set:function(J){Re=J}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(J){J instanceof u&&(c=J)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(J){c.path=J}});var Je=[];Object.defineProperty(this,"ctxStack",{get:function(){return Je},set:function(J){Je=J}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(J){var mt;mt=p(J),this.ctx.fillStyle=mt.style,this.ctx.isFillTransparent=mt.a===0,this.ctx.fillOpacity=mt.a,this.pdf.setFillColor(mt.r,mt.g,mt.b,{a:mt.a}),this.pdf.setTextColor(mt.r,mt.g,mt.b,{a:mt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(J){var mt=p(J);this.ctx.strokeStyle=mt.style,this.ctx.isStrokeTransparent=mt.a===0,this.ctx.strokeOpacity=mt.a,mt.a===0?this.pdf.setDrawColor(255,255,255):(mt.a,this.pdf.setDrawColor(mt.r,mt.g,mt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(J){["butt","round","square"].indexOf(J)!==-1&&(this.ctx.lineCap=J,this.pdf.setLineCap(J))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(J){isNaN(J)||(this.ctx.lineWidth=J,this.pdf.setLineWidth(J))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(J){["bevel","round","miter"].indexOf(J)!==-1&&(this.ctx.lineJoin=J,this.pdf.setLineJoin(J))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(J){isNaN(J)||(this.ctx.miterLimit=J,this.pdf.setMiterLimit(J))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(J){this.ctx.textBaseline=J}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(J){["right","end","center","left","start"].indexOf(J)!==-1&&(this.ctx.textAlign=J)}});var vt=null,ht=null,Lt=null;Object.defineProperty(this,"fontFaces",{get:function(){return Lt},set:function(J){vt=null,ht=null,Lt=J}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(J){var mt;if(this.ctx.font=J,(mt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(J))!==null){var dn=mt[1];mt[2];var Ft=mt[3],Qe=mt[4];mt[5];var Vt=mt[6],_t=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Qe)[2];Qe=Math.floor(_t==="px"?parseFloat(Qe)*this.pdf.internal.scaleFactor:_t==="em"?parseFloat(Qe)*this.pdf.getFontSize():parseFloat(Qe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Qe);var jt=(function(It){var Fr,fn,et=[],Jt=It.trim();if(Jt==="")return fI;if(Jt in K4)return[K4[Jt]];for(;Jt!=="";){switch(fn=null,Fr=(Jt=Z4(Jt)).charAt(0)){case'"':case"'":fn=Yre(Jt.substring(1),Fr);break;default:fn=Kre(Jt)}if(fn===null||(et.push(fn[0]),(Jt=Z4(fn[1]))!==""&&Jt.charAt(0)!==","))return fI;Jt=Jt.replace(/^,/,"")}return et})(Vt);if(this.fontFaces){var Nt=(function(It,Fr){var fn=It.getFontList(),et=JSON.stringify(fn);if(vt===null||ht!==et){var Jt=(function(Zn){var Ot=[];return Object.keys(Zn).forEach(function(Xe){Zn[Xe].forEach(function(zt){var Zt=null;switch(zt){case"bold":Zt={family:Xe,weight:"bold"};break;case"italic":Zt={family:Xe,style:"italic"};break;case"bolditalic":Zt={family:Xe,weight:"bold",style:"italic"};break;case"":case"normal":Zt={family:Xe}}Zt!==null&&(Zt.ref={name:Xe,style:zt},Ot.push(Zt))})}),Ot})(fn);vt=(function(Zn){for(var Ot={},Xe=0;Xe<Zn.length;++Xe){var zt=dI(Zn[Xe]),Zt=zt.family,gr=zt.stretch,pn=zt.style,Ut=zt.weight;Ot[Zt]=Ot[Zt]||{},Ot[Zt][gr]=Ot[Zt][gr]||{},Ot[Zt][gr][pn]=Ot[Zt][gr][pn]||{},Ot[Zt][gr][pn][Ut]=zt}return Ot})(Jt.concat(Fr)),ht=et}return vt})(this.pdf,this.fontFaces),An=jt.map(function(It){return{family:It,stretch:"normal",weight:Ft,style:dn}}),on=(function(It,Fr,fn){for(var et=(fn=fn||{}).defaultFontFamily||"times",Jt=Object.assign({},Gre,fn.genericFontFamilies||{}),Zn=null,Ot=null,Xe=0;Xe<Fr.length;++Xe)if(Jt[(Zn=dI(Fr[Xe])).family]&&(Zn.family=Jt[Zn.family]),It.hasOwnProperty(Zn.family)){Ot=It[Zn.family];break}if(!(Ot=Ot||It[et]))throw new Error("Could not find a font-family for the rule '"+Q4(Zn)+"' and default family '"+et+"'.");if(Ot=(function(zt,Zt){if(Zt[zt])return Zt[zt];var gr=yI[zt],pn=gr<=yI.normal?-1:1,Ut=Y4(Zt,_6,gr,pn);if(!Ut)throw new Error("Could not find a matching font-stretch value for "+zt);return Ut})(Zn.stretch,Ot),Ot=(function(zt,Zt){if(Zt[zt])return Zt[zt];for(var gr=b6[zt],pn=0;pn<gr.length;++pn)if(Zt[gr[pn]])return Zt[gr[pn]];throw new Error("Could not find a matching font-style for "+zt)})(Zn.style,Ot),!(Ot=(function(zt,Zt){if(Zt[zt])return Zt[zt];if(zt===400&&Zt[500])return Zt[500];if(zt===500&&Zt[400])return Zt[400];var gr=Wre[zt],pn=Y4(Zt,w6,gr,zt<400?-1:1);if(!pn)throw new Error("Could not find a matching font-weight for value "+zt);return pn})(Zn.weight,Ot)))throw new Error("Failed to resolve a font for the rule '"+Q4(Zn)+"'.");return Ot})(Nt,An);this.pdf.setFont(on.ref.name,on.ref.style)}else{var Kt="";(Ft==="bold"||parseInt(Ft,10)>=700||dn==="bold")&&(Kt="bold"),dn==="italic"&&(Kt+="italic"),Kt.length===0&&(Kt="normal");for(var hn="",Sn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Et=0;Et<jt.length;Et++){if(this.pdf.internal.getFont(jt[Et],Kt,{noFallback:!0,disableWarning:!0})!==void 0){hn=jt[Et];break}if(Kt==="bolditalic"&&this.pdf.internal.getFont(jt[Et],"bold",{noFallback:!0,disableWarning:!0})!==void 0)hn=jt[Et],Kt="bold";else if(this.pdf.internal.getFont(jt[Et],"normal",{noFallback:!0,disableWarning:!0})!==void 0){hn=jt[Et],Kt="normal";break}}if(hn===""){for(var Wt=0;Wt<jt.length;Wt++)if(Sn[jt[Wt]]){hn=Sn[jt[Wt]];break}}hn=hn===""?"Times":hn,this.pdf.setFont(hn,Kt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(J){this.ctx.globalCompositeOperation=J}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(J){this.ctx.globalAlpha=J}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(J){this.ctx.lineDashOffset=J,Ee.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(J){this.ctx.lineDash=J,Ee.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(J){this.ctx.ignoreClearRect=!!J}})};d.prototype.setLineDash=function(k){this.lineDash=k},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){P.call(this,"fill",!1)},d.prototype.stroke=function(){P.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(k,W){if(isNaN(k)||isNaN(W))throw Ar.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new s(k,W));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new s(k,W)},d.prototype.closePath=function(){var k=new s(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&_r(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){k=new s(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(k.x,k.y)},d.prototype.lineTo=function(k,W){if(isNaN(k)||isNaN(W))throw Ar.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new s(k,W));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new s(X.x,X.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),P.call(this,null,!0)},d.prototype.quadraticCurveTo=function(k,W,X,de){if(isNaN(X)||isNaN(de)||isNaN(k)||isNaN(W))throw Ar.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ve=this.ctx.transform.applyToPoint(new s(X,de)),ue=this.ctx.transform.applyToPoint(new s(k,W));this.path.push({type:"qct",x1:ue.x,y1:ue.y,x:ve.x,y:ve.y}),this.ctx.lastPoint=new s(ve.x,ve.y)},d.prototype.bezierCurveTo=function(k,W,X,de,ve,ue){if(isNaN(ve)||isNaN(ue)||isNaN(k)||isNaN(W)||isNaN(X)||isNaN(de))throw Ar.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var je=this.ctx.transform.applyToPoint(new s(ve,ue)),Be=this.ctx.transform.applyToPoint(new s(k,W)),Re=this.ctx.transform.applyToPoint(new s(X,de));this.path.push({type:"bct",x1:Be.x,y1:Be.y,x2:Re.x,y2:Re.y,x:je.x,y:je.y}),this.ctx.lastPoint=new s(je.x,je.y)},d.prototype.arc=function(k,W,X,de,ve,ue){if(isNaN(k)||isNaN(W)||isNaN(X)||isNaN(de)||isNaN(ve))throw Ar.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ue=!!ue,!this.ctx.transform.isIdentity){var je=this.ctx.transform.applyToPoint(new s(k,W));k=je.x,W=je.y;var Be=this.ctx.transform.applyToPoint(new s(0,X)),Re=this.ctx.transform.applyToPoint(new s(0,0));X=Math.sqrt(Math.pow(Be.x-Re.x,2)+Math.pow(Be.y-Re.y,2))}Math.abs(ve-de)>=2*Math.PI&&(de=0,ve=2*Math.PI),this.path.push({type:"arc",x:k,y:W,radius:X,startAngle:de,endAngle:ve,counterclockwise:ue})},d.prototype.arcTo=function(k,W,X,de,ve){throw new Error("arcTo not implemented.")},d.prototype.rect=function(k,W,X,de){if(isNaN(k)||isNaN(W)||isNaN(X)||isNaN(de))throw Ar.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(k,W),this.lineTo(k+X,W),this.lineTo(k+X,W+de),this.lineTo(k,W+de),this.lineTo(k,W),this.lineTo(k+X,W),this.lineTo(k,W)},d.prototype.fillRect=function(k,W,X,de){if(isNaN(k)||isNaN(W)||isNaN(X)||isNaN(de))throw Ar.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var ve={};this.lineCap!=="butt"&&(ve.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ve.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(k,W,X,de),this.fill(),ve.hasOwnProperty("lineCap")&&(this.lineCap=ve.lineCap),ve.hasOwnProperty("lineJoin")&&(this.lineJoin=ve.lineJoin)}},d.prototype.strokeRect=function(k,W,X,de){if(isNaN(k)||isNaN(W)||isNaN(X)||isNaN(de))throw Ar.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(k,W,X,de),this.stroke())},d.prototype.clearRect=function(k,W,X,de){if(isNaN(k)||isNaN(W)||isNaN(X)||isNaN(de))throw Ar.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(k,W,X,de))},d.prototype.save=function(k){k=typeof k!="boolean"||k;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),k){this.ctx.fontSize=this.pdf.internal.getFontSize();var de=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=de}},d.prototype.restore=function(k){k=typeof k!="boolean"||k;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(W),k&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(k){var W,X,de,ve;if(k.isCanvasGradient===!0&&(k=k.getColor()),!k)return{r:0,g:0,b:0,a:0,style:k};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(k))W=0,X=0,de=0,ve=0;else{var ue=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(k);if(ue!==null)W=parseInt(ue[1]),X=parseInt(ue[2]),de=parseInt(ue[3]),ve=1;else if((ue=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(k))!==null)W=parseInt(ue[1]),X=parseInt(ue[2]),de=parseInt(ue[3]),ve=parseFloat(ue[4]);else{if(ve=1,typeof k=="string"&&k.charAt(0)!=="#"){var je=new f6(k);k=je.ok?je.toHex():"#000000"}k.length===4?(W=k.substring(1,2),W+=W,X=k.substring(2,3),X+=X,de=k.substring(3,4),de+=de):(W=k.substring(1,3),X=k.substring(3,5),de=k.substring(5,7)),W=parseInt(W,16),X=parseInt(X,16),de=parseInt(de,16)}}return{r:W,g:X,b:de,a:ve,style:k}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(k,W,X,de){if(isNaN(W)||isNaN(X)||typeof k!="string")throw Ar.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(de=isNaN(de)?void 0:de,!f.call(this)){var ve=Z(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;$.call(this,{text:k,x:W,y:X,scale:ue,angle:ve,align:this.textAlign,maxWidth:de})}},d.prototype.strokeText=function(k,W,X,de){if(isNaN(W)||isNaN(X)||typeof k!="string")throw Ar.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){de=isNaN(de)?void 0:de;var ve=Z(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;$.call(this,{text:k,x:W,y:X,scale:ue,renderingMode:"stroke",angle:ve,align:this.textAlign,maxWidth:de})}},d.prototype.measureText=function(k){if(typeof k!="string")throw Ar.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,X=this.pdf.internal.scaleFactor,de=W.internal.getFontSize(),ve=W.getStringUnitWidth(k)*de/W.internal.scaleFactor;return new function(ue){var je=(ue=ue||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return je}}),this}({width:ve*=Math.round(96*X/72*1e4)/1e4})},d.prototype.scale=function(k,W){if(isNaN(k)||isNaN(W))throw Ar.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new l(k,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},d.prototype.rotate=function(k){if(isNaN(k))throw Ar.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new l(Math.cos(k),Math.sin(k),-Math.sin(k),Math.cos(k),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},d.prototype.translate=function(k,W){if(isNaN(k)||isNaN(W))throw Ar.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new l(1,0,0,1,k,W);this.ctx.transform=this.ctx.transform.multiply(X)},d.prototype.transform=function(k,W,X,de,ve,ue){if(isNaN(k)||isNaN(W)||isNaN(X)||isNaN(de)||isNaN(ve)||isNaN(ue))throw Ar.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var je=new l(k,W,X,de,ve,ue);this.ctx.transform=this.ctx.transform.multiply(je)},d.prototype.setTransform=function(k,W,X,de,ve,ue){k=isNaN(k)?1:k,W=isNaN(W)?0:W,X=isNaN(X)?0:X,de=isNaN(de)?1:de,ve=isNaN(ve)?0:ve,ue=isNaN(ue)?0:ue,this.ctx.transform=new l(k,W,X,de,ve,ue)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(k,W,X,de,ve,ue,je,Be,Re){var Je=this.pdf.getImageProperties(k),vt=1,ht=1,Lt=1,J=1;de!==void 0&&Be!==void 0&&(Lt=Be/de,J=Re/ve,vt=Je.width/de*Be/de,ht=Je.height/ve*Re/ve),ue===void 0&&(ue=W,je=X,W=0,X=0),de!==void 0&&Be===void 0&&(Be=de,Re=ve),de===void 0&&Be===void 0&&(Be=Je.width,Re=Je.height);var mt=this.ctx.transform.decompose(),dn=Z(mt.rotate.shx),Ft=new l,Qe=(Ft=(Ft=(Ft=Ft.multiply(mt.translate)).multiply(mt.skew)).multiply(mt.scale)).applyToRectangle(new a(ue-W*Lt,je-X*J,de*vt,ve*ht));if(this.autoPaging){for(var Vt,_t=C.call(this,Qe),jt=[],Nt=0;Nt<_t.length;Nt+=1)jt.indexOf(_t[Nt])===-1&&jt.push(_t[Nt]);F(jt);for(var An=jt[0],on=jt[jt.length-1],Kt=An;Kt<on+1;Kt++){this.pdf.setPage(Kt);var hn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Sn=Kt===1?this.posY+this.margin[0]:this.margin[0],Et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],It=Kt===1?0:Et+(Kt-2)*Wt;if(this.ctx.clip_path.length!==0){var Fr=this.path;Vt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(Vt,this.posX+this.margin[3],-It+Sn+this.ctx.prevPageLastElemOffset),U.call(this,"fill",!0),this.path=Fr}var fn=JSON.parse(JSON.stringify(Qe));fn=A([fn],this.posX+this.margin[3],-It+Sn+this.ctx.prevPageLastElemOffset)[0];var et=(Kt>An||Kt<on)&&_.call(this);et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],hn,Wt,null).clip().discardPath()),this.pdf.addImage(k,"JPEG",fn.x,fn.y,fn.w,fn.h,null,null,dn),et&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(k,"JPEG",Qe.x,Qe.y,Qe.w,Qe.h,null,null,dn)};var C=function(k,W,X){var de=[];W=W||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ve=this.posY+this.ctx.prevPageLastElemOffset;switch(k.type){default:case"mt":case"lt":de.push(Math.floor((k.y+ve)/X)+1);break;case"arc":de.push(Math.floor((k.y+ve-k.radius)/X)+1),de.push(Math.floor((k.y+ve+k.radius)/X)+1);break;case"qct":var ue=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x,k.y);de.push(Math.floor((ue.y+ve)/X)+1),de.push(Math.floor((ue.y+ue.h+ve)/X)+1);break;case"bct":var je=Me(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x2,k.y2,k.x,k.y);de.push(Math.floor((je.y+ve)/X)+1),de.push(Math.floor((je.y+je.h+ve)/X)+1);break;case"rect":de.push(Math.floor((k.y+ve)/X)+1),de.push(Math.floor((k.y+k.h+ve)/X)+1)}for(var Be=0;Be<de.length;Be+=1)for(;this.pdf.internal.getNumberOfPages()<de[Be];)S.call(this);return de},S=function(){var k=this.fillStyle,W=this.strokeStyle,X=this.font,de=this.lineCap,ve=this.lineWidth,ue=this.lineJoin;this.pdf.addPage(),this.fillStyle=k,this.strokeStyle=W,this.font=X,this.lineCap=de,this.lineWidth=ve,this.lineJoin=ue},A=function(k,W,X){for(var de=0;de<k.length;de++)switch(k[de].type){case"bct":k[de].x2+=W,k[de].y2+=X;case"qct":k[de].x1+=W,k[de].y1+=X;default:k[de].x+=W,k[de].y+=X}return k},F=function(k){return k.sort(function(W,X){return W-X})},P=function(k,W){var X=this.fillStyle,de=this.strokeStyle,ve=this.lineCap,ue=this.lineWidth,je=Math.abs(ue*this.ctx.transform.scaleX),Be=this.lineJoin;if(this.autoPaging){for(var Re,Je,vt=JSON.parse(JSON.stringify(this.path)),ht=JSON.parse(JSON.stringify(this.path)),Lt=[],J=0;J<ht.length;J++)if(ht[J].x!==void 0)for(var mt=C.call(this,ht[J]),dn=0;dn<mt.length;dn+=1)Lt.indexOf(mt[dn])===-1&&Lt.push(mt[dn]);for(var Ft=0;Ft<Lt.length;Ft++)for(;this.pdf.internal.getNumberOfPages()<Lt[Ft];)S.call(this);F(Lt);for(var Qe=Lt[0],Vt=Lt[Lt.length-1],_t=Qe;_t<Vt+1;_t++){this.pdf.setPage(_t),this.fillStyle=X,this.strokeStyle=de,this.lineCap=ve,this.lineWidth=je,this.lineJoin=Be;var jt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Nt=_t===1?this.posY+this.margin[0]:this.margin[0],An=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],on=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Kt=_t===1?0:An+(_t-2)*on;if(this.ctx.clip_path.length!==0){var hn=this.path;Re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(Re,this.posX+this.margin[3],-Kt+Nt+this.ctx.prevPageLastElemOffset),U.call(this,k,!0),this.path=hn}if(Je=JSON.parse(JSON.stringify(vt)),this.path=A(Je,this.posX+this.margin[3],-Kt+Nt+this.ctx.prevPageLastElemOffset),W===!1||_t===0){var Sn=(_t>Qe||_t<Vt)&&_.call(this);Sn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],jt,on,null).clip().discardPath()),U.call(this,k,W),Sn&&this.pdf.restoreGraphicsState()}this.lineWidth=ue}this.path=vt}else this.lineWidth=je,U.call(this,k,W),this.lineWidth=ue},U=function(k,W){if((k!=="stroke"||W||!b.call(this))&&(k==="stroke"||W||!f.call(this))){for(var X,de,ve=[],ue=this.path,je=0;je<ue.length;je++){var Be=ue[je];switch(Be.type){case"begin":ve.push({begin:!0});break;case"close":ve.push({close:!0});break;case"mt":ve.push({start:Be,deltas:[],abs:[]});break;case"lt":var Re=ve.length;if(ue[je-1]&&!isNaN(ue[je-1].x)&&(X=[Be.x-ue[je-1].x,Be.y-ue[je-1].y],Re>0)){for(;Re>=0;Re--)if(ve[Re-1].close!==!0&&ve[Re-1].begin!==!0){ve[Re-1].deltas.push(X),ve[Re-1].abs.push(Be);break}}break;case"bct":X=[Be.x1-ue[je-1].x,Be.y1-ue[je-1].y,Be.x2-ue[je-1].x,Be.y2-ue[je-1].y,Be.x-ue[je-1].x,Be.y-ue[je-1].y],ve[ve.length-1].deltas.push(X);break;case"qct":var Je=ue[je-1].x+2/3*(Be.x1-ue[je-1].x),vt=ue[je-1].y+2/3*(Be.y1-ue[je-1].y),ht=Be.x+2/3*(Be.x1-Be.x),Lt=Be.y+2/3*(Be.y1-Be.y),J=Be.x,mt=Be.y;X=[Je-ue[je-1].x,vt-ue[je-1].y,ht-ue[je-1].x,Lt-ue[je-1].y,J-ue[je-1].x,mt-ue[je-1].y],ve[ve.length-1].deltas.push(X);break;case"arc":ve.push({deltas:[],abs:[],arc:!0}),Array.isArray(ve[ve.length-1].abs)&&ve[ve.length-1].abs.push(Be)}}de=W?null:k==="stroke"?"stroke":"fill";for(var dn=!1,Ft=0;Ft<ve.length;Ft++)if(ve[Ft].arc)for(var Qe=ve[Ft].abs,Vt=0;Vt<Qe.length;Vt++){var _t=Qe[Vt];_t.type==="arc"?Y.call(this,_t.x,_t.y,_t.radius,_t.startAngle,_t.endAngle,_t.counterclockwise,void 0,W,!dn):le.call(this,_t.x,_t.y),dn=!0}else if(ve[Ft].close===!0)this.pdf.internal.out("h"),dn=!1;else if(ve[Ft].begin!==!0){var jt=ve[Ft].start.x,Nt=ve[Ft].start.y;V.call(this,ve[Ft].deltas,jt,Nt),dn=!0}de&&H.call(this,de),W&&pe.call(this)}},se=function(k){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return k-X;case"top":return k+W-X;case"hanging":return k+W-2*X;case"middle":return k+W/2-X;default:return k}},he=function(k){return k+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var k=function(){};return k.colorStops=[],k.addColorStop=function(W,X){this.colorStops.push([W,X])},k.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},k.isCanvasGradient=!0,k},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Y=function(k,W,X,de,ve,ue,je,Be,Re){for(var Je=xe.call(this,X,de,ve,ue),vt=0;vt<Je.length;vt++){var ht=Je[vt];vt===0&&(Re?O.call(this,ht.x1+k,ht.y1+W):le.call(this,ht.x1+k,ht.y1+W)),Q.call(this,k,W,ht.x2,ht.y2,ht.x3,ht.y3,ht.x4,ht.y4)}Be?pe.call(this):H.call(this,je)},H=function(k){switch(k){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},pe=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(k,W){this.pdf.internal.out(t(k)+" "+r(W)+" m")},$=function(k){var W;switch(k.align){case"right":case"end":W="right";break;case"center":W="center";break;default:W="left"}var X,de,ve,ue=this.pdf.getTextDimensions(k.text),je=se.call(this,k.y),Be=he.call(this,je)-ue.h,Re=this.ctx.transform.applyToPoint(new s(k.x,je));if(this.autoPaging){var Je=this.ctx.transform.decompose(),vt=new l;vt=(vt=(vt=vt.multiply(Je.translate)).multiply(Je.skew)).multiply(Je.scale);for(var ht=this.ctx.transform.applyToRectangle(new a(k.x,je,ue.w,ue.h)),Lt=vt.applyToRectangle(new a(k.x,Be,ue.w,ue.h)),J=C.call(this,Lt),mt=[],dn=0;dn<J.length;dn+=1)mt.indexOf(J[dn])===-1&&mt.push(J[dn]);F(mt);for(var Ft=mt[0],Qe=mt[mt.length-1],Vt=Ft;Vt<Qe+1;Vt++){this.pdf.setPage(Vt);var _t=Vt===1?this.posY+this.margin[0]:this.margin[0],jt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Nt=this.pdf.internal.pageSize.height-this.margin[2],An=Nt-this.margin[0],on=this.pdf.internal.pageSize.width-this.margin[1],Kt=on-this.margin[3],hn=Vt===1?0:jt+(Vt-2)*An;if(this.ctx.clip_path.length!==0){var Sn=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(X,this.posX+this.margin[3],-1*hn+_t),U.call(this,"fill",!0),this.path=Sn}var Et=A([JSON.parse(JSON.stringify(Lt))],this.posX+this.margin[3],-hn+_t+this.ctx.prevPageLastElemOffset)[0];k.scale>=.01&&(de=this.pdf.internal.getFontSize(),this.pdf.setFontSize(de*k.scale),ve=this.lineWidth,this.lineWidth=ve*k.scale);var Wt=this.autoPaging!=="text";if(Wt||Et.y+Et.h<=Nt){if(Wt||Et.y>=_t&&Et.x<=on){var It=Wt?k.text:this.pdf.splitTextToSize(k.text,k.maxWidth||on-Et.x)[0],Fr=A([JSON.parse(JSON.stringify(ht))],this.posX+this.margin[3],-hn+_t+this.ctx.prevPageLastElemOffset)[0],fn=Wt&&(Vt>Ft||Vt<Qe)&&_.call(this);fn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Kt,An,null).clip().discardPath()),this.pdf.text(It,Fr.x,Fr.y,{angle:k.angle,align:W,renderingMode:k.renderingMode}),fn&&this.pdf.restoreGraphicsState()}}else Et.y<Nt&&(this.ctx.prevPageLastElemOffset+=Nt-Et.y);k.scale>=.01&&(this.pdf.setFontSize(de),this.lineWidth=ve)}}else k.scale>=.01&&(de=this.pdf.internal.getFontSize(),this.pdf.setFontSize(de*k.scale),ve=this.lineWidth,this.lineWidth=ve*k.scale),this.pdf.text(k.text,Re.x+this.posX,Re.y+this.posY,{angle:k.angle,align:W,renderingMode:k.renderingMode,maxWidth:k.maxWidth}),k.scale>=.01&&(this.pdf.setFontSize(de),this.lineWidth=ve)},le=function(k,W,X,de){X=X||0,de=de||0,this.pdf.internal.out(t(k+X)+" "+r(W+de)+" l")},V=function(k,W,X){return this.pdf.lines(k,W,X,null,null)},Q=function(k,W,X,de,ve,ue,je,Be){this.pdf.internal.out([e(i(X+k)),e(o(de+W)),e(i(ve+k)),e(o(ue+W)),e(i(je+k)),e(o(Be+W)),"c"].join(" "))},xe=function(k,W,X,de){for(var ve=2*Math.PI,ue=Math.PI/2;W>X;)W-=ve;var je=Math.abs(X-W);je<ve&&de&&(je=ve-je);for(var Be=[],Re=de?-1:1,Je=W;je>1e-5;){var vt=Je+Re*Math.min(je,ue);Be.push(oe.call(this,k,Je,vt)),je-=Math.abs(vt-Je),Je=vt}return Be},oe=function(k,W,X){var de=(X-W)/2,ve=k*Math.cos(de),ue=k*Math.sin(de),je=ve,Be=-ue,Re=je*je+Be*Be,Je=Re+je*ve+Be*ue,vt=4/3*(Math.sqrt(2*Re*Je)-Je)/(je*ue-Be*ve),ht=je-vt*Be,Lt=Be+vt*je,J=ht,mt=-Lt,dn=de+W,Ft=Math.cos(dn),Qe=Math.sin(dn);return{x1:k*Math.cos(W),y1:k*Math.sin(W),x2:ht*Ft-Lt*Qe,y2:ht*Qe+Lt*Ft,x3:J*Ft-mt*Qe,y3:J*Qe+mt*Ft,x4:k*Math.cos(X),y4:k*Math.sin(X)}},Z=function(k){return 180*k/Math.PI},ie=function(k,W,X,de,ve,ue){var je=k+.5*(X-k),Be=W+.5*(de-W),Re=ve+.5*(X-ve),Je=ue+.5*(de-ue),vt=Math.min(k,ve,je,Re),ht=Math.max(k,ve,je,Re),Lt=Math.min(W,ue,Be,Je),J=Math.max(W,ue,Be,Je);return new a(vt,Lt,ht-vt,J-Lt)},Me=function(k,W,X,de,ve,ue,je,Be){var Re,Je,vt,ht,Lt,J,mt,dn,Ft,Qe,Vt,_t,jt,Nt,An=X-k,on=de-W,Kt=ve-X,hn=ue-de,Sn=je-ve,Et=Be-ue;for(Je=0;Je<41;Je++)Ft=(mt=(vt=k+(Re=Je/40)*An)+Re*((Lt=X+Re*Kt)-vt))+Re*(Lt+Re*(ve+Re*Sn-Lt)-mt),Qe=(dn=(ht=W+Re*on)+Re*((J=de+Re*hn)-ht))+Re*(J+Re*(ue+Re*Et-J)-dn),Je==0?(Vt=Ft,_t=Qe,jt=Ft,Nt=Qe):(Vt=Math.min(Vt,Ft),_t=Math.min(_t,Qe),jt=Math.max(jt,Ft),Nt=Math.max(Nt,Qe));return new a(Math.round(Vt),Math.round(_t),Math.round(jt-Vt),Math.round(Nt-_t))},Ee=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var k,W,X=(k=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:k,lineDashOffset:W}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(Pt.API),(function(n){var e=function(s){var a,l,c,u,d,p,f,b,_,C;for(/[^\x00-\xFF]/.test(s),l=[],c=0,u=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;u>c;c+=4)(d=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(p=(d=((d=((d=((d=(d-(C=d%85))/85)-(_=d%85))/85)-(b=d%85))/85)-(f=d%85))/85)%85,l.push(p+33,f+33,b+33,_+33,C+33)):l.push(122);return(function(S,A){for(var F=A;F>0;F--)S.pop()})(l,a.length),String.fromCharCode.apply(String,l)+"~>"},t=function(s){var a,l,c,u,d,p=String,f="length",b=255,_="charCodeAt",C="slice",S="replace";for(s[C](-2),s=s[C](0,-2)[S](/\s/g,"")[S]("z","!!!!!"),c=[],u=0,d=(s+=a="uuuuu"[C](s[f]%5||5))[f];d>u;u+=5)l=52200625*(s[_](u)-33)+614125*(s[_](u+1)-33)+7225*(s[_](u+2)-33)+85*(s[_](u+3)-33)+(s[_](u+4)-33),c.push(b&l>>24,b&l>>16,b&l>>8,b&l);return(function(A,F){for(var P=F;P>0;P--)A.pop()})(c,a[f]),p.fromCharCode.apply(p,c)},r=function(s){return s.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},o=function(s){for(var a=new Uint8Array(s.length),l=s.length;l--;)a[l]=s.charCodeAt(l);return(a=q1(a)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};n.processDataByFilters=function(s,a){var l=0,c=s||"",u=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":c=t(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=r(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=o(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}})(Pt.API),(function(n){n.loadFile=function(e,t,r){return(function(i,o,s){o=o!==!1,s=typeof s=="function"?s:function(){};var a=void 0;try{a=(function(l,c,u){var d=new XMLHttpRequest,p=0,f=function(b){var _=b.length,C=[],S=String.fromCharCode;for(p=0;p<_;p+=1)C.push(S(255&b.charCodeAt(p)));return C.join("")};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?u(f(this.responseText)):u(void 0)}),d.send(null),c&&d.status===200)return f(d.responseText)})(i,o,s)}catch(l){}return a})(e,t,r)},n.allowFsRead=void 0,n.loadImageFile=n.loadFile})(Pt.API),(function(n){function e(){return(Qt.html2canvas?Promise.resolve(Qt.html2canvas):import("./chunk-OTZNLHSE.js")).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function t(){return(Qt.DOMPurify?Promise.resolve(Qt.DOMPurify):import("./chunk-U6T25WG3.js")).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var l=_r(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var c=document.createElement(a);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},o=function a(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),d=l.firstChild;d;d=d.nextSibling)c!==!0&&d.nodeType===1&&d.nodeName==="SCRIPT"||u.appendChild(a(d,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},s=function a(l){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),u=a.convert(Promise.resolve(),c);return(u=u.setProgress(1,a,1,[a])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,l){return a.__proto__=l||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,l){return this.then(function(){switch(l=l||(function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(a),l){case"string":return this.then(t).then(function(c){return this.set({src:i("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var f=0;f<u.length;++f){var b=u[f],_=b.src.find(function(C){return C.format==="truetype"});_&&c.addFont(_.url,b.ref.name,b.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,c.context2d.save(!0),l(this.prop.container,p)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},s.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(r(a)!=="object")return this;var l=Object.keys(a||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(a,l){return this.then(function(){var c=a in s.template.prop?this.prop[a]:this.opt[a];return l?l(c):c})},s.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(a=a||Pt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,l,c,u){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,l,c,u){return this.setProgress(a?this.progress.val+a:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(a,l){var c=this;return this.thenCore(a,l,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(p){return c.updateProgress(null,u),p}).then(u,d).then(function(p){return c.updateProgress(1),p})})},s.prototype.thenCore=function(a,l,c){c=c||Promise.prototype.then;var u=this;a&&(a=a.bind(u)),l&&(l=l.bind(u));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:s.convert(Object.assign({},u),Promise.prototype),p=c.call(d,a,l);return s.convert(p,u.__proto__)},s.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},s.prototype.thenList=function(a){var l=this;return a.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return s.convert(l,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Pt.getPageSize=function(a,l,c){if(_r(a)==="object"){var u=a;a=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var d,p=(""+c).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var b,_=0,C=0;if(f.hasOwnProperty(p))_=f[p][1]/d,C=f[p][0]/d;else try{_=c[1],C=c[0]}catch(S){throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",C>_&&(b=C,C=_,_=b);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",_>C&&(b=C,C=_,_=b)}return{width:C,height:_,unit:l,k:d,orientation:a}},n.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(dI):null;var c=new s(l);return l.worker?c:c.from(a).doCallback()}})(Pt.API),Pt.API.addJS=function(n){return J4=n,this.internal.events.subscribe("postPutResources",function(){p_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(p_+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),X4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+J4+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){p_!==void 0&&X4!==void 0&&this.internal.out("/Names <</JavaScript "+p_+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),o=0;o<i.length;o++){var s=i[o],a=r.exec(s);if(a!=null){var l=a[1];t.internal.newObjectDeferredBegin(l,!1)}t.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(o=0;o<c;o++){var d=t.internal.newObject();u.push(d);var p=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var f=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<u.length;o++)t.internal.write("(page_"+(o+1)+")"+u[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+f+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,o){var s={title:i,options:o,children:[]};return r==null&&(r=this.root),r.children.push(s),s},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var s=r.children[o];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var a=this.count=this.count_r({count:0},s);if(a>0&&this.line("/Count "+a),s.options&&s.options.pageNumber){var l=t.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var o=0;o<i.children.length;o++)r.count++,this.count_r(r,i.children[o]);return r.count}}])})(Pt.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,o,s,a){var l,c=this.decode.DCT_DECODE,u=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=s||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,l=(function(d){for(var p,f=256*d.charCodeAt(4)+d.charCodeAt(5),b=d.length,_={width:0,height:0,numcomponents:1},C=4;C<b;C+=2){if(C+=f,e.indexOf(d.charCodeAt(C+1))!==-1){p=256*d.charCodeAt(C+5)+d.charCodeAt(C+6),_={width:256*d.charCodeAt(C+7)+d.charCodeAt(C+8),height:p,numcomponents:d.charCodeAt(C+9)};break}f=256*d.charCodeAt(C+2)+d.charCodeAt(C+3)}return _})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:t,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}})(Pt.API),Pt.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var i,o=U4(n,{checkCrc:!0}),s=o.width,a=o.height,l=o.channels,c=o.palette,u=o.depth;i=c&&l===1?(function(Y){for(var H=Y.width,pe=Y.height,O=Y.data,$=Y.palette,le=Y.depth,V=!1,Q=[],xe=[],oe=void 0,Z=!1,ie=0,Me=0;Me<$.length;Me++){var Ee=CD($[Me],4),k=Ee[0],W=Ee[1],X=Ee[2],de=Ee[3];Q.push(k,W,X),de!=null&&(de===0?(ie++,xe.length<1&&xe.push(Me)):de<255&&(Z=!0))}if(Z||ie>1){V=!0,xe=void 0;var ve=H*pe;oe=new Uint8Array(ve);for(var ue=new DataView(O.buffer),je=0;je<ve;je++){var Be=hI(ue,je,le),Re=CD($[Be],4)[3];oe[je]=Re}}else ie===0&&(xe=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:V?8:void 0,colorBytes:O,alphaBytes:oe,needSMask:V,palette:Q,mask:xe}})(o):l===2||l===4?(function(Y){for(var H=Y.data,pe=Y.width,O=Y.height,$=Y.channels,le=Y.depth,V=$===2?"DeviceGray":"DeviceRGB",Q=$-1,xe=pe*O,oe=Q,Z=xe*oe,ie=1*xe,Me=Math.ceil(Z*le/8),Ee=Math.ceil(ie*le/8),k=new Uint8Array(Me),W=new Uint8Array(Ee),X=new DataView(H.buffer),de=new DataView(k.buffer),ve=new DataView(W.buffer),ue=!1,je=0;je<xe;je++){for(var Be=je*$,Re=0;Re<oe;Re++)l6(de,hI(X,Be+Re,le),je*oe+Re,le);var Je=hI(X,Be+oe,le);Je<(1<<le)-1&&(ue=!0),l6(ve,Je,1*je,le)}return{colorSpace:V,colorsPerPixel:Q,sMaskBitsPerComponent:ue?le:void 0,colorBytes:k,alphaBytes:W,needSMask:ue}})(o):(function(Y){var H=Y.data,pe=Y.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:pe,colorsPerPixel:pe==="DeviceGray"?1:3,colorBytes:H instanceof Uint16Array?(function(O){for(var $=O.length,le=new Uint8Array(2*$),V=new DataView(le.buffer,le.byteOffset,le.byteLength),Q=0;Q<$;Q++)V.setUint16(2*Q,O[Q],!1);return le})(H):H,needSMask:!1}})(o);var d,p,f,b=i,_=b.colorSpace,C=b.colorsPerPixel,S=b.sMaskBitsPerComponent,A=b.colorBytes,F=b.alphaBytes,P=b.needSMask,U=b.palette,se=b.mask,he=null;return r!==Pt.API.image_compression.NONE&&typeof q1=="function"?(he=(function(Y){var H;switch(Y){case Pt.API.image_compression.FAST:H=11;break;case Pt.API.image_compression.MEDIUM:H=13;break;case Pt.API.image_compression.SLOW:H=14;break;default:H=12}return H})(r),d=this.decode.FLATE_DECODE,p="/Predictor ".concat(he," /Colors ").concat(C," /BitsPerComponent ").concat(u," /Columns ").concat(s),n=r6(A,Math.ceil(s*C*u/8),C,u,r),P&&(f=r6(F,Math.ceil(s*S/8),1,S,r))):(d=void 0,p=void 0,n=A,P&&(f=F)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:t,data:n,index:e,filter:d,decodeParameters:p,transparency:se,palette:U,sMask:f,predictor:he,width:s,height:a,bitsPerComponent:u,sMaskBitsPerComponent:S,colorSpace:_}}},(function(n){n.processGIF89A=function(e,t,r,i){var o=new Jre(e),s=o.width,a=o.height,l=[];o.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:a},u=new pI(100).encode(c,100);return n.processJPEG.call(this,u,t,r,i)},n.processGIF87A=n.processGIF89A})(Pt.API),sl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},sl.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){Ar.log("bit decode error:"+t)}},sl.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[o>>7-a&1];this.data[s+4*a]=l.blue,this.data[s+4*a+1]=l.green,this.data[s+4*a+2]=l.red,this.data[s+4*a+3]=255}t!==0&&(this.pos+=4-t)}},sl.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,a=o>>4,l=15&o,c=this.palette[a];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},sl.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},sl.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,a=(o>>5&e)/e*255|0,l=(o>>10&e)/e*255|0,c=o>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=a,this.data[u+2]=s,this.data[u+3]=c}this.pos+=n}},sl.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,l=(s>>5&t)/t*255|0,c=(s>>11)/e*255|0,u=i*this.width*4+4*o;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=n}},sl.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*t;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},sl.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=s}},sl.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,i){var o=new sl(e,!1),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},c=new pI(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}})(Pt.API),u6.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,i){var o=new u6(e),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},c=new pI(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}})(Pt.API),Pt.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,o=new Uint8Array(i/4*3),s=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var u=r[c],d=r[c+1],p=r[c+2],f=r[c+3];o[a++]=u,o[a++]=d,o[a++]=p,s[l++]=f}var b=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:b,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Pt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ip=Pt.API,g_=Ip.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,d=e.doKerning!==!1,p=0,f=n.length,b=0,_=a[0]||l,C=[];for(t=0;t<f;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?C.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/o)||0)/1e3):(p=d&&_r(c[r])==="object"&&!isNaN(parseInt(c[r][b],10))?c[r][b]/u:0,C.push((a[r]||_)/l+p)),b=r;return C},e6=Ip.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Ip.processArabic&&(n=Ip.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:g_.apply(this,arguments).reduce(function(o,s){return o+s},0)},t6=function(n,e,t,r){for(var i=[],o=0,s=n.length,a=0;o!==s&&a+e[o]<t;)a+=e[o],o++;i.push(n.slice(0,o));var l=o;for(a=0;o!==s;)a+e[o]>r&&(i.push(n.slice(l,o)),a=0,l=o),a+=e[o],o++;return l!==o&&i.push(n.slice(l,o)),i},n6=function(n,e,t){t||(t={});var r,i,o,s,a,l,c,u=[],d=[u],p=t.textIndent||0,f=0,b=0,_=n.split(" "),C=g_.apply(this,[" ",t])[0];if(l=t.lineIndent===-1?_[0].length+2:t.lineIndent||0){var S=Array(l).join(" "),A=[];_.map(function(P){(P=P.split(/\s*\n/)).length>1?A=A.concat(P.map(function(U,se){return(se&&U.length?`
`:"")+U})):A.push(P[0])}),_=A,l=e6.apply(this,[S,t])}for(o=0,s=_.length;o<s;o++){var F=0;if(r=_[o],l&&r[0]==`
`&&(r=r.substr(1),F=1),p+f+(b=(i=g_.apply(this,[r,t])).reduce(function(P,U){return P+U},0))>e||F){if(b>e){for(a=t6.apply(this,[r,i,e-(p+f),e]),u.push(a.shift()),u=[a.pop()];a.length;)d.push([a.shift()]);b=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(P,U){return P+U},0)}else u=[r];d.push(u),p=b+l,f=C}else u.push(r),p+=f+b,f=C}return c=l?function(P,U){return(U?S:"")+P.join(" ")}:function(P){return P.join(" ")},d.map(c)},Ip.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),o=function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle),p="Unicode";return d.metadata[p]?{widths:d.metadata[p].widths||{0:1},kerning:d.metadata[p].kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=t.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(n6.apply(this,[r[a],s,o]));return c},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},i={},o=0;o<16;o++)r[t[o]]=e[o],i[e[o]]=t[o];var s=function(p){return"0x"+parseInt(p,10).toString(16)},a=n.__fontmetrics__.compress=function(p){var f,b,_,C,S=["{"];for(var A in p){if(f=p[A],isNaN(parseInt(A,10))?b="'"+A+"'":(A=parseInt(A,10),b=(b=s(A).slice(2)).slice(0,-1)+i[b.slice(-1)]),typeof f=="number")f<0?(_=s(f).slice(3),C="-"):(_=s(f).slice(2),C=""),_=C+_.slice(0,-1)+i[_.slice(-1)];else{if(_r(f)!=="object")throw new Error("Don't know what to do with value type "+_r(f)+".");_=a(f)}S.push(b+_)}return S.push("}"),S.join("")},l=n.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,b,_,C,S={},A=1,F=S,P=[],U="",se="",he=p.length-1,Y=1;Y<he;Y+=1)(C=p[Y])=="'"?f?(_=f.join(""),f=void 0):f=[]:f?f.push(C):C=="{"?(P.push([F,_]),F={},_=void 0):C=="}"?((b=P.pop())[0][b[1]]=F,_=void 0,F=b[0]):C=="-"?A=-1:_===void 0?r.hasOwnProperty(C)?(U+=r[C],_=parseInt(U,16)*A,A=1,U=""):U+=C:r.hasOwnProperty(C)?(se+=r[C],F[_]=parseInt(se,16)*A,A=1,_=void 0,se=""):se+=C;return S},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(p){var f=p.font,b=d.Unicode[f.postScriptName];b&&(f.metadata.Unicode={},f.metadata.Unicode.widths=b.widths,f.metadata.Unicode.kerning=b.kerning);var _=u.Unicode[f.postScriptName];_&&(f.metadata.Unicode.encoding=_,f.encoding=_.codePages[0])}])})(Pt.API),(function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),o=0;o<r;o++)i[o]=t.charCodeAt(o);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,o=t.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(m_(a)),s.metadata=n.API.TTFFont.open(a),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])})(Pt),Pt.API.addSvgAsImage=function(n,e,t,r,i,o,s,a){if(isNaN(e)||isNaN(t))throw Ar.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw Ar.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return(Qt.canvg?Promise.resolve(Qt.canvg):import("./chunk-UQ3VVHWI.js")).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(c,n,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(u)}).then(function(){d.addImage(l.toDataURL("image/jpeg",1),e,t,r,i,s,a)})},Pt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},Pt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(s),l=[],c=0,u=0,d=0;function p(b,_){var C,S=!1;for(C=0;C<b.length;C+=1)b[C]===_&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var f=a.length;for(d=0;d<f;d+=1)t[a[d]].value=t[a[d]].defaultValue,t[a[d]].explicitSet=!1}if(_r(n)==="object"){for(i in n)if(o=n[i],p(a,i)&&o!==void 0){if(t[i].type==="boolean"&&typeof o=="boolean")t[i].value=o;else if(t[i].type==="name"&&p(t[i].valueSet,o))t[i].value=o;else if(t[i].type==="integer"&&Number.isInteger(o))t[i].value=o;else if(t[i].type==="array"){for(c=0;c<o.length;c+=1)if(r=!0,o[c].length===1&&typeof o[c][0]=="number")l.push(String(o[c]-1));else if(o[c].length>1){for(u=0;u<o[c].length;u+=1)typeof o[c][u]!="number"&&(r=!1);r===!0&&l.push([o[c][0]-1,o[c][1]-1].join(" "))}t[i].value="["+l.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,_=[];for(b in t)t[b].explicitSet===!0&&(t[b].type==="name"?_.push("/"+b+" /"+t[b].value):_.push("/"+b+" "+t[b].value));_.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+_.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=o.length+s.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+o+s+a+l),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Pt.API),(function(n){var e=n.API,t=e.pdfEscape16=function(o,s){for(var a,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],d=0,p=o.length;d<p;++d){if(a=s.metadata.characterToGlyph(o.charCodeAt(d)),s.metadata.glyIdsUsed.push(a),s.metadata.toUnicode[a]=o.charCodeAt(d),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(s.metadata.widthOfGlyph(a),10)])),a=="0")return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},r=function(o){var s,a,l,c,u,d,p;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,p=(a=Object.keys(o).sort(function(f,b){return f-b})).length;d<p;d++)s=a[d],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),o[s]!==void 0&&o[s]!==null&&typeof o[s].toString=="function"&&(c=("0000"+o[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,c=s.newObject,u=s.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="Identity-H"){for(var d=a.metadata.Unicode.widths,p=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),f="",b=0;b<p.length;b++)f+=String.fromCharCode(p[b]);var _=c();u({data:f,addLength1:!0,objectId:_}),l("endobj");var C=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:C}),l("endobj");var S=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Tp(a.fontName)),l("/FontFile2 "+_+" 0 R"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var A=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Tp(a.fontName)),l("/FontDescriptor "+S+" 0 R"),l("/W "+n.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+C+" 0 R"),l("/BaseFont /"+Tp(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+A+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,c=s.newObject,u=s.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var d=a.metadata.rawData,p="",f=0;f<d.length;f++)p+=String.fromCharCode(d[f]);var b=c();u({data:p,addLength1:!0,objectId:b}),l("endobj");var _=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:_}),l("endobj");var C=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+b+" 0 R"),l("/Flags 96"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Tp(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var S=0;S<a.metadata.hmtx.widths.length;S++)a.metadata.hmtx.widths[S]=parseInt(a.metadata.hmtx.widths[S]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+Tp(a.fontName)+"/FontDescriptor "+C+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]);var i=function(o){var s,a=o.text||"",l=o.x,c=o.y,u=o.options||{},d=o.mutex||{},p=d.pdfEscape,f=d.activeFontKey,b=d.fonts,_=f,C="",S=0,A="",F=b[_].encoding;if(b[_].encoding!=="Identity-H")return{text:a,x:l,y:c,options:u,mutex:d};for(A=a,_=f,Array.isArray(a)&&(A=a[0]),S=0;S<A.length;S+=1)b[_].metadata.hasOwnProperty("cmap")&&(s=b[_].metadata.cmap.unicode.codeMap[A[S].charCodeAt(0)]),s||A[S].charCodeAt(0)<256&&b[_].metadata.hasOwnProperty("Unicode")?C+=A[S]:C+="";var P="";return parseInt(_.slice(1))<14||F==="WinAnsiEncoding"?P=p(C,_).split("").map(function(U){return U.charCodeAt(0).toString(16)}).join(""):F==="Identity-H"&&(P=t(C,b[_])),d.isHex=!0,{text:P,x:l,y:c,options:u,mutex:d}};e.events.push(["postProcessText",function(o){var s=o.text||"",a=[],l={text:s,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?a.push([i(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):a.push(i(Object.assign({},l,{text:s[c]})).text);o.text=a}else o.text=i(Object.assign({},l,{text:s})).text}])})(Pt),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Pt.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,o,s,a,l,c,u,d=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},C=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),A=!1,F=0;this.__bidiEngine__={};var P=function(O){var $=O.charCodeAt(),le=$>>8,V=_[le];return V!==void 0?d[256*V+(255&$)]:le===252||le===253?"AL":S.test(le)?"L":le===8?"R":"N"},U=function(O){for(var $,le=0;le<O.length;le++){if(($=P(O.charAt(le)))==="L")return!1;if($==="R")return!0}return!1},se=function(O,$,le,V){var Q,xe,oe,Z,ie=$[V];switch(ie){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":A=!1;break;case"N":case"AN":break;case"EN":A&&(ie="AN");break;case"AL":A=!0,ie="R";break;case"WS":case"BN":ie="N";break;case"CS":V<1||V+1>=$.length||(Q=le[V-1])!=="EN"&&Q!=="AN"||(xe=$[V+1])!=="EN"&&xe!=="AN"?ie="N":A&&(xe="AN"),ie=xe===Q?xe:"N";break;case"ES":ie=(Q=V>0?le[V-1]:"B")==="EN"&&V+1<$.length&&$[V+1]==="EN"?"EN":"N";break;case"ET":if(V>0&&le[V-1]==="EN"){ie="EN";break}if(A){ie="N";break}for(oe=V+1,Z=$.length;oe<Z&&$[oe]==="ET";)oe++;ie=oe<Z&&$[oe]==="EN"?"EN":"N";break;case"NSM":if(s&&!a){for(Z=$.length,oe=V+1;oe<Z&&$[oe]==="NSM";)oe++;if(oe<Z){var Me=O[V],Ee=Me>=1425&&Me<=2303||Me===64286;if(Q=$[oe],Ee&&(Q==="R"||Q==="AL")){ie="R";break}}}ie=V<1||(Q=$[V-1])==="B"?"N":le[V-1];break;case"B":A=!1,i=!0,ie=F;break;case"S":o=!0,ie="N"}return ie},he=function(O,$,le){var V=O.split("");return le&&Y(V,le,{hiLevel:F}),V.reverse(),$&&$.reverse(),V.join("")},Y=function(O,$,le){var V,Q,xe,oe,Z,ie=-1,Me=O.length,Ee=0,k=[],W=F?f:p,X=[];for(A=!1,i=!1,o=!1,Q=0;Q<Me;Q++)X[Q]=P(O[Q]);for(xe=0;xe<Me;xe++){if(Z=Ee,k[xe]=se(O,X,k,xe),V=240&(Ee=W[Z][b[k[xe]]]),Ee&=15,$[xe]=oe=W[Ee][5],V>0)if(V===16){for(Q=ie;Q<xe;Q++)$[Q]=1;ie=-1}else ie=-1;if(W[Ee][6])ie===-1&&(ie=xe);else if(ie>-1){for(Q=ie;Q<xe;Q++)$[Q]=oe;ie=-1}X[xe]==="B"&&($[xe]=0),le.hiLevel|=oe}o&&(function(de,ve,ue){for(var je=0;je<ue;je++)if(de[je]==="S"){ve[je]=F;for(var Be=je-1;Be>=0&&de[Be]==="WS";Be--)ve[Be]=F}})(X,$,Me)},H=function(O,$,le,V,Q){if(!(Q.hiLevel<O)){if(O===1&&F===1&&!i)return $.reverse(),void(le&&le.reverse());for(var xe,oe,Z,ie,Me=$.length,Ee=0;Ee<Me;){if(V[Ee]>=O){for(Z=Ee+1;Z<Me&&V[Z]>=O;)Z++;for(ie=Ee,oe=Z-1;ie<oe;ie++,oe--)xe=$[ie],$[ie]=$[oe],$[oe]=xe,le&&(xe=le[ie],le[ie]=le[oe],le[oe]=xe);Ee=Z}Ee++}}},pe=function(O,$,le){var V=O.split(""),Q={hiLevel:F};return le||(le=[]),Y(V,le,Q),(function(xe,oe,Z){if(Z.hiLevel!==0&&u)for(var ie,Me=0;Me<xe.length;Me++)oe[Me]===1&&(ie=C.indexOf(xe[Me]))>=0&&(xe[Me]=C[ie+1])})(V,le,Q),H(2,V,$,le,Q),H(1,V,$,le,Q),V.join("")};return this.__bidiEngine__.doBidiReorder=function(O,$,le){if((function(Q,xe){if(xe)for(var oe=0;oe<Q.length;oe++)xe[oe]=oe;a===void 0&&(a=U(Q)),c===void 0&&(c=U(Q))})(O,$),s||!l||c)if(s&&l&&a^c)F=a?1:0,O=he(O,$,le);else if(!s&&l&&c)F=a?1:0,O=pe(O,$,le),O=he(O,$);else if(!s||a||l||c){if(s&&!l&&a^c)O=he(O,$),a?(F=0,O=pe(O,$,le)):(F=1,O=pe(O,$,le),O=he(O,$));else if(s&&a&&!l&&c)F=1,O=pe(O,$,le),O=he(O,$);else if(!s&&!l&&a^c){var V=u;a?(F=1,O=pe(O,$,le),F=0,u=!1,O=pe(O,$,le),u=V):(F=0,O=pe(O,$,le),O=he(O,$),F=1,u=!1,O=pe(O,$,le),u=V,O=he(O,$))}}else F=0,O=pe(O,$,le);else F=a?1:0,O=pe(O,$,le);return O},this.__bidiEngine__.setOptions=function(O){O&&(s=O.isInputVisual,l=O.isOutputVisual,a=O.isInputRtl,c=O.isOutputRtl,u=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var s=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(s=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?s.push([t.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):s.push([t.doBidiReorder(i[a])]);r.text=s}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])})(Pt),Pt.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new ld(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new pie(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new eie(this.contents),this.head=new nie(this),this.name=new aie(this),this.cmap=new C6(this),this.toUnicode={},this.hhea=new rie(this),this.maxp=new lie(this),this.hmtx=new cie(this),this.post=new oie(this),this.os2=new iie(this),this.loca=new hie(this),this.glyf=new uie(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var s,a,l,c;for(c=[],s=0,a=(l=this.bbox).length;s<a;s++)e=l[s],c.push(Math.round(e*this.scaleFactor));return c}.call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,o,s,a;for(s=0,o=0,a=(e=""+e).length;0<=a?o<a:o>a;o=0<=a?++o:--o)i=e.charCodeAt(o),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return s*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var ll,ld=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,o,s,a,l;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^o)+65536*(255^s)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*o+65536*s+256*a+l},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,o;for(o=[],r=0,i=e.length;r<i;r++)t=e[r],o.push(this.writeByte(t));return o},n})(),eie=(function(){var n;function e(t){var r,i,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,o,s,a,l,c,u,d,p,f,b,_;for(_ in f=Object.keys(t).length,l=Math.log(2),d=16*Math.floor(Math.log(f)/l),s=Math.floor(d/l),u=16*f-d,(i=new ld).writeInt(this.scalarType),i.writeShort(f),i.writeShort(d),i.writeShort(s),i.writeShort(u),o=16*f,c=i.pos+o,a=null,b=[],t)for(p=t[_],i.writeString(_),i.writeInt(n(p)),i.writeInt(c),i.writeInt(p.length),b=b.concat(p),_==="head"&&(a=c),c+=p.length;c%4;)b.push(0),c++;return i.write(b),r=2981146554-n(i.data),i.pos=a+8,i.writeUInt32(r),i.data},n=function(t){var r,i,o,s;for(t=S6.call(t);t.length%4;)t.push(0);for(o=new ld(t),i=0,r=0,s=t.length;r<s;r=r+=4)i+=o.readUInt32();return 4294967295&i},e})(),tie={}.hasOwnProperty,Jl=function(n,e){for(var t in e)tie.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};ll=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var nie=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Jl(n,ll),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new ld).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),d6=(function(){function n(e,t){var r,i,o,s,a,l,c,u,d,p,f,b,_,C,S,A,F;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),p=f/2,e.pos+=6,o=(function(){var P,U;for(U=[],l=P=0;0<=p?P<p:P>p;l=0<=p?++P:--P)U.push(e.readUInt16());return U})(),e.pos+=2,_=(function(){var P,U;for(U=[],l=P=0;0<=p?P<p:P>p;l=0<=p?++P:--P)U.push(e.readUInt16());return U})(),c=(function(){var P,U;for(U=[],l=P=0;0<=p?P<p:P>p;l=0<=p?++P:--P)U.push(e.readUInt16());return U})(),u=(function(){var P,U;for(U=[],l=P=0;0<=p?P<p:P>p;l=0<=p?++P:--P)U.push(e.readUInt16());return U})(),i=(this.length-e.pos+this.offset)/2,a=(function(){var P,U;for(U=[],l=P=0;0<=i?P<i:P>i;l=0<=i?++P:--P)U.push(e.readUInt16());return U})(),l=S=0,F=o.length;S<F;l=++S)for(C=o[l],r=A=b=_[l];b<=C?A<=C:A>=C;r=b<=C?++A:--A)u[l]===0?s=r+c[l]:(s=a[u[l]/2+(r-b)-(p-l)]||0)!==0&&(s+=c[l]),this.codeMap[r]=65535&s}e.pos=d}return n.encode=function(e,t){var r,i,o,s,a,l,c,u,d,p,f,b,_,C,S,A,F,P,U,se,he,Y,H,pe,O,$,le,V,Q,xe,oe,Z,ie,Me,Ee,k,W,X,de,ve,ue,je,Be,Re,Je,vt;switch(V=new ld,s=Object.keys(e).sort(function(ht,Lt){return ht-Lt}),t){case"macroman":for(_=0,C=(function(){var ht=[];for(b=0;b<256;++b)ht.push(0);return ht})(),A={0:0},o={},Q=0,ie=s.length;Q<ie;Q++)A[Be=e[i=s[Q]]]==null&&(A[Be]=++_),o[i]={old:e[i],new:A[e[i]]},C[i]=A[e[i]];return V.writeUInt16(1),V.writeUInt16(0),V.writeUInt32(12),V.writeUInt16(0),V.writeUInt16(262),V.writeUInt16(0),V.write(C),{charMap:o,subtable:V.data,maxGlyphID:_+1};case"unicode":for($=[],d=[],F=0,A={},r={},S=c=null,xe=0,Me=s.length;xe<Me;xe++)A[U=e[i=s[xe]]]==null&&(A[U]=++F),r[i]={old:U,new:A[U]},a=A[U]-i,S!=null&&a===c||(S&&d.push(S),$.push(i),c=a),S=i;for(S&&d.push(S),d.push(65535),$.push(65535),pe=2*(H=$.length),Y=2*Math.pow(Math.log(H)/Math.LN2,2),p=Math.log(Y/2)/Math.LN2,he=2*H-Y,l=[],se=[],f=[],b=oe=0,Ee=$.length;oe<Ee;b=++oe){if(O=$[b],u=d[b],O===65535){l.push(0),se.push(0);break}if(O-(le=r[O].new)>=32768)for(l.push(0),se.push(2*(f.length+H-b)),i=Z=O;O<=u?Z<=u:Z>=u;i=O<=u?++Z:--Z)f.push(r[i].new);else l.push(le-O),se.push(0)}for(V.writeUInt16(3),V.writeUInt16(1),V.writeUInt32(12),V.writeUInt16(4),V.writeUInt16(16+8*H+2*f.length),V.writeUInt16(0),V.writeUInt16(pe),V.writeUInt16(Y),V.writeUInt16(p),V.writeUInt16(he),ue=0,k=d.length;ue<k;ue++)i=d[ue],V.writeUInt16(i);for(V.writeUInt16(0),je=0,W=$.length;je<W;je++)i=$[je],V.writeUInt16(i);for(Re=0,X=l.length;Re<X;Re++)a=l[Re],V.writeUInt16(a);for(Je=0,de=se.length;Je<de;Je++)P=se[Je],V.writeUInt16(P);for(vt=0,ve=f.length;vt<ve;vt++)_=f[vt],V.writeUInt16(_);return{charMap:r,subtable:V.data,maxGlyphID:F+1}}},n})(),C6=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Jl(n,ll),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)t=new d6(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,i;return t==null&&(t="macroman"),r=d6.encode(e,t),(i=new ld).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},n})(),rie=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Jl(n,ll),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),iie=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Jl(n,ll),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),oie=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Jl(n,ll),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=function(){var s,a,l;for(l=[],o=s=0,a=this.file.maxp.numGlyphs;0<=a?s<a:s>a;o=0<=a?++s:--s)l.push(e.readUInt32());return l}.call(this)}},n})(),sie=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},aie=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Jl(n,ll),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,i,o,s,a,l,c,u,d,p;for(e.pos=this.offset,e.readShort(),t=e.readShort(),a=e.readShort(),r=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(l={},o=u=0,d=r.length;u<d;o=++u)i=r[o],e.pos=i.offset,c=e.readString(i.length),s=new sie(c,i),l[p=i.nameID]==null&&(l[p]=[]),l[i.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(f){this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},n})(),lie=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Jl(n,ll),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),cie=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Jl(n,ll),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,i,o,s,a,l;for(e.pos=this.offset,this.metrics=[],t=0,a=this.file.hhea.numberOfMetrics;0<=a?t<a:t>a;t=0<=a?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var c,u;for(u=[],t=c=0;0<=i?c<i:c>i;t=0<=i?++c:--c)u.push(e.readInt16());return u})(),this.widths=function(){var c,u,d,p;for(p=[],c=0,u=(d=this.metrics).length;c<u;c++)o=d[c],p.push(o.advance);return p}.call(this),r=this.widths[this.widths.length-1],l=[],t=s=0;0<=i?s<i:s>i;t=0<=i?++s:--s)l.push(this.widths.push(r));return l},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),S6=[].slice,uie=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Jl(n,ll),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,i,o,s,a,l,c,u,d;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,r=o.indexOf(e),(i=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,s=(a=new ld(t.read(i))).readShort(),c=a.readShort(),d=a.readShort(),l=a.readShort(),u=a.readShort(),this.cache[e]=s===-1?new fie(a,c,d,l,u):new die(a,s,c,d,l,u),this.cache[e]))},n.prototype.encode=function(e,t,r){var i,o,s,a,l;for(s=[],o=[],a=0,l=t.length;a<l;a++)i=e[t[a]],o.push(s.length),i&&(s=s.concat(i.encode(r)));return o.push(s.length),{table:s,offsets:o}},n})(),die=(function(){function n(e,t,r,i,o,s){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=o,this.yMax=s,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),fie=(function(){function n(e,t,r,i,o){var s,a;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;a=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&a;)s.pos+=1&a?4:2,128&a?s.pos+=8:64&a?s.pos+=4:8&a&&(s.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new ld(S6.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),hie=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Jl(n,ll),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?function(){var i,o;for(o=[],r=0,i=this.length;r<i;r+=2)o.push(2*e.readUInt16());return o}.call(this):function(){var i,o;for(o=[],r=0,i=this.length;r<i;r+=4)o.push(e.readUInt32());return o}.call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),i=0,o=0,s=0;s<r.length;++s)if(r[s]=i,o<t.length&&t[o]==s){++o,r[s]=i;var a=this.offsets[s],l=this.offsets[s+1]-a;l>0&&(i+=l)}for(var c=new Array(4*r.length),u=0;u<r.length;++u)c[4*u+3]=255&r[u],c[4*u+2]=(65280&r[u])>>8,c[4*u+1]=(16711680&r[u])>>16,c[4*u]=(4278190080&r[u])>>24;return c},n})(),pie=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,o;for(t in i=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,o,s,a,l;for(i={},s=0,a=e.length;s<a;s++)i[o=e[s]]=this.font.glyf.glyphFor(o);for(o in t=[],i)(r=i[o])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(o in l=this.glyphsFor(t))r=l[o],i[o]=r;return i},n.prototype.encode=function(e,t){var r,i,o,s,a,l,c,u,d,p,f,b,_,C,S;for(i in r=C6.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),f={0:0},S=r.charMap)f[(l=S[i]).old]=l.new;for(b in p=r.maxGlyphID,s)b in f||(f[b]=p++);return u=(function(A){var F,P;for(F in P={},A)P[A[F]]=F;return P})(f),d=Object.keys(u).sort(function(A,F){return A-F}),_=(function(){var A,F,P;for(P=[],A=0,F=d.length;A<F;A++)a=d[A],P.push(u[a]);return P})(),o=this.font.glyf.encode(s,_,f),c=this.font.loca.encode(o.offsets,_),C={cmap:this.font.cmap.raw(),glyf:o.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(C["OS/2"]=this.font.os2.raw()),this.font.directory.encode(C)},n})();Pt.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,o,s;if(Array.isArray(t))return"["+(function(){var a,l,c;for(c=[],a=0,l=t.length;a<l;a++)r=t[a],c.push(e.convert(r));return c})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in o=["<<"],t)s=t[i],o.push("/"+i+" "+e.convert(s));return o.push(">>"),o.join(`
`)}return""+t},e})();function M6(n,e,t,r,i){r=r||{};var o=1.15,s=i.internal.scaleFactor,a=i.internal.getFontSize()/s,l=i.getLineHeightFactor?i.getLineHeightFactor():o,c=a*l,u=/\r\n|\r|\n/g,d="",p=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(d=typeof n=="string"?n.split(u):n,p=d.length||1),t+=a*(2-o),r.valign==="middle"?t-=p/2*c:r.valign==="bottom"&&(t-=p*c),r.halign==="center"||r.halign==="right"){var f=a;if(r.halign==="center"&&(f*=.5),d&&p>=1){for(var b=0;b<d.length;b++)i.text(d[b],e-i.getStringUnitWidth(d[b])*f,t),t+=c;return i}e-=i.getStringUnitWidth(n)*f}return r.halign==="justify"?i.text(n,e,t,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(n,e,t),i}var E6={},Rp=(function(){function n(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:E6=e},n.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},n.prototype.applyStyles=function(e,t){var r,i,o;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var s=this.jsPDFDocument.internal.getFont(),a=s.fontStyle,l=s.fontName;if(e.font&&(l=e.font),e.fontStyle){a=e.fontStyle;var c=this.getFontList()[l];c&&c.indexOf(a)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),a=c[0])}if(this.jsPDFDocument.setFont(l,a),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var u=n.unifyColor(e.fillColor);u&&(r=this.jsPDFDocument).setFillColor.apply(r,u),u=n.unifyColor(e.textColor),u&&(i=this.jsPDFDocument).setTextColor.apply(i,u),u=n.unifyColor(e.lineColor),u&&(o=this.jsPDFDocument).setDrawColor.apply(o,u),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},n.prototype.splitTextToSize=function(e,t,r){return this.jsPDFDocument.splitTextToSize(e,t,r)},n.prototype.rect=function(e,t,r,i,o){return this.jsPDFDocument.rect(e,t,r,i,o)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return E6||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n})(),DI=function(n,e){return DI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},DI(n,e)};function k6(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");DI(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var N6=(function(n){k6(e,n);function e(t){var r=n.call(this)||this;return r._element=t,r}return e})(Array);function gie(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function mie(n){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[n]}function S_(n,e,t){t.applyStyles(e,!0);var r=Array.isArray(n)?n:[n],i=r.map(function(o){return t.getTextWidth(o)}).reduce(function(o,s){return Math.max(o,s)},0);return i}function P6(n,e,t,r){var i=e.settings.tableLineWidth,o=e.settings.tableLineColor;n.applyStyles({lineWidth:i,lineColor:o});var s=O6(i,!1);s&&n.rect(t.x,t.y,e.getWidth(n.pageSize().width),r.y-t.y,s)}function O6(n,e){var t=n>0,r=e||e===0;return t&&r?"DF":t?"S":r?"F":null}function D_(n,e){var t,r,i,o;if(n=n||e,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=e}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(t=n.left)!==null&&t!==void 0?t:e,top:(r=n.top)!==null&&r!==void 0?r:e,right:(i=n.right)!==null&&i!==void 0?i:e,bottom:(o=n.bottom)!==null&&o!==void 0?o:e}):(typeof n!="number"&&(n=e),{top:n,right:n,bottom:n,left:n})}function R6(n,e){var t=D_(e.settings.margin,0);return n.pageSize().width-(t.left+t.right)}function vie(n,e,t,r,i){var o={},s=1.3333333333333333,a=_I(e,function(F){return i.getComputedStyle(F).backgroundColor});a!=null&&(o.fillColor=a);var l=_I(e,function(F){return i.getComputedStyle(F).color});l!=null&&(o.textColor=l);var c=bie(r,t);c&&(o.cellPadding=c);var u="borderTopColor",d=s*t,p=r.borderTopWidth;if(r.borderBottomWidth===p&&r.borderRightWidth===p&&r.borderLeftWidth===p){var f=(parseFloat(p)||0)/d;f&&(o.lineWidth=f)}else o.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/d,right:(parseFloat(r.borderRightWidth)||0)/d,bottom:(parseFloat(r.borderBottomWidth)||0)/d,left:(parseFloat(r.borderLeftWidth)||0)/d},o.lineWidth.top||(o.lineWidth.right?u="borderRightColor":o.lineWidth.bottom?u="borderBottomColor":o.lineWidth.left&&(u="borderLeftColor"));var b=_I(e,function(F){return i.getComputedStyle(F)[u]});b!=null&&(o.lineColor=b);var _=["left","right","center","justify"];_.indexOf(r.textAlign)!==-1&&(o.halign=r.textAlign),_=["middle","bottom","top"],_.indexOf(r.verticalAlign)!==-1&&(o.valign=r.verticalAlign);var C=parseInt(r.fontSize||"");isNaN(C)||(o.fontSize=C/s);var S=yie(r);S&&(o.fontStyle=S);var A=(r.fontFamily||"").toLowerCase();return n.indexOf(A)!==-1&&(o.font=A),o}function yie(n){var e="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(e="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(e+="italic"),e}function _I(n,e){var t=L6(n,e);if(!t)return null;var r=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],o=parseInt(r[4]);return o===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function L6(n,e){var t=e(n);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?n.parentElement==null?null:L6(n.parentElement,e):t}function bie(n,e){var t=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],r=96/(72/e),i=(parseInt(n.lineHeight)-parseInt(n.fontSize))/e/2,o=t.map(function(a){return parseInt(a||"0")/r}),s=D_(o,0);return i>s.top&&(s.top=i),i>s.bottom&&(s.bottom=i),s}function F6(n,e,t,r,i){var o,s;r===void 0&&(r=!1),i===void 0&&(i=!1);var a;typeof e=="string"?a=t.document.querySelector(e):a=e;var l=Object.keys(n.getFontList()),c=n.scaleFactor(),u=[],d=[],p=[];if(!a)return console.error("Html table could not be found with input: ",e),{head:u,body:d,foot:p};for(var f=0;f<a.rows.length;f++){var b=a.rows[f],_=(s=(o=b?.parentElement)===null||o===void 0?void 0:o.tagName)===null||s===void 0?void 0:s.toLowerCase(),C=_ie(l,c,t,b,r,i);C&&(_==="thead"?u.push(C):_==="tfoot"?p.push(C):d.push(C))}return{head:u,body:d,foot:p}}function _ie(n,e,t,r,i,o){for(var s=new N6(r),a=0;a<r.cells.length;a++){var l=r.cells[a],c=t.getComputedStyle(l);if(i||c.display!=="none"){var u=void 0;o&&(u=vie(n,l,e,c,t)),s.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:u,_element:l,content:wie(l)})}}var d=t.getComputedStyle(r);if(s.length>0&&(i||d.display!=="none"))return s}function wie(n){var e=n.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function xie(n,e,t){for(var r=0,i=[n,e,t];r<i.length;r++){var o=i[r];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function Kc(n,e,t,r,i){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(n),s=1;s<arguments.length;s++){var a=arguments[s];if(a!=null)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(o[l]=a[l])}return o}function j6(n,e){var t=new Rp(n),r=t.getDocumentOptions(),i=t.getGlobalOptions();xie(i,r,e);var o=Kc({},i,r,e),s;typeof window<"u"&&(s=window);var a=Cie(i,r,e),l=Sie(i,r,e),c=Eie(t,o),u=Iie(t,o,s);return{id:e.tableId,content:u,hooks:l,styles:a,settings:c}}function Cie(n,e,t){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var c=n[l],u=e[l],d=t[l];r.columnStyles=Kc({},c,u,d)}else{var p=[n,e,t],f=p.map(function(b){return b[l]||{}});r[l]=Kc({},f[0],f[1],f[2])}},o=0,s=Object.keys(r);o<s.length;o++){var a=s[o];i(a)}return r}function Sie(n,e,t){for(var r=[n,e,t],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,s=r;o<s.length;o++){var a=s[o];a.didParseCell&&i.didParseCell.push(a.didParseCell),a.willDrawCell&&i.willDrawCell.push(a.willDrawCell),a.didDrawCell&&i.didDrawCell.push(a.didDrawCell),a.willDrawPage&&i.willDrawPage.push(a.willDrawPage),a.didDrawPage&&i.didDrawPage.push(a.didDrawPage)}return i}function Eie(n,e){var t,r,i,o,s,a,l,c,u,d,p,f,b=D_(e.margin,40/n.scaleFactor()),_=(t=Die(n,e.startY))!==null&&t!==void 0?t:b.top,C;e.showFoot===!0?C="everyPage":e.showFoot===!1?C="never":C=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var S;e.showHead===!0?S="everyPage":e.showHead===!1?S="never":S=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var A=(o=e.useCss)!==null&&o!==void 0?o:!1,F=e.theme||(A?"plain":"striped"),P=!!e.horizontalPageBreak,U=(s=e.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(a=e.includeHiddenHtml)!==null&&a!==void 0?a:!1,useCss:A,theme:F,startY:_,margin:b,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(c=e.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(u=e.tableWidth)!==null&&u!==void 0?u:"auto",showHead:S,showFoot:C,tableLineWidth:(d=e.tableLineWidth)!==null&&d!==void 0?d:0,tableLineColor:(p=e.tableLineColor)!==null&&p!==void 0?p:200,horizontalPageBreak:P,horizontalPageBreakRepeat:U,horizontalPageBreakBehaviour:(f=e.horizontalPageBreakBehaviour)!==null&&f!==void 0?f:"afterAllRows"}}function Die(n,e){var t=n.getLastAutoTable(),r=n.scaleFactor(),i=n.pageNumber(),o=!1;if(t&&t.startPageNumber){var s=t.startPageNumber+t.pageNumber-1;o=s===i}return typeof e=="number"?e:(e==null||e===!1)&&o&&t?.finalY!=null?t.finalY+20/r:null}function Iie(n,e,t){var r=e.head||[],i=e.body||[],o=e.foot||[];if(e.html){var s=e.includeHiddenHtml;if(t){var a=F6(n,e.html,t,s,e.useCss)||{};r=a.head||r,i=a.body||r,o=a.foot||r}else console.error("Cannot parse html in non browser environment")}var l=e.columns||Aie(r,i,o);return{columns:l,head:r,body:i,foot:o}}function Aie(n,e,t){var r=n[0]||e[0]||t[0]||[],i=[];return Object.keys(r).filter(function(o){return o!=="_element"}).forEach(function(o){var s=1,a;Array.isArray(r)?a=r[parseInt(o)]:a=r[o],typeof a=="object"&&!Array.isArray(a)&&(s=a?.colSpan||1);for(var l=0;l<s;l++){var c=void 0;Array.isArray(r)?c=i.length:c=o+(l>0?"_".concat(l):"");var u={dataKey:c};i.push(u)}}),i}var II=(function(){function n(e,t,r){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=r,this.doc=e.getDocument()}return n})(),Tie=(function(n){k6(e,n);function e(t,r,i,o,s,a){var l=n.call(this,t,r,a)||this;return l.cell=i,l.row=o,l.column=s,l.section=o.section,l}return e})(II),Mie=(function(){function n(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return n.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(e,t,r,i,o,s){for(var a=0,l=t;a<l.length;a++){var c=l[a],u=new Tie(e,this,r,i,o,s),d=c(u)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],d)return!1}return!0},n.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var o=i[r];o(new II(e,this,t))}},n.prototype.callWillDrawPageHooks=function(e,t){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var o=i[r];o(new II(e,this,t))}},n.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(i,o){return i+o.wrappedWidth},0);return t}else{var r=this.settings.margin;return e-r.left-r.right}},n})(),B6=(function(){function n(e,t,r,i,o){o===void 0&&(o=!1),this.height=0,this.raw=e,e instanceof N6&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=r,this.cells=i,this.spansMultiplePages=o}return n.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(r,i){var o;return Math.max(r,((o=t.cells[i.index])===null||o===void 0?void 0:o.height)||0)},0)},n.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(r){var i=t.cells[r.index];return i?i.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},n.prototype.getMinimumRowHeight=function(e,t){var r=this;return e.reduce(function(i,o){var s=r.cells[o.index];if(!s)return 0;var a=t.getLineHeight(s.styles.fontSize),l=s.padding("vertical"),c=l+a;return c>i?c:i},0)},n})(),V6=(function(){function n(e,t,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=r,this.raw=e;var o=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,o=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var s=o!=null?""+o:"",a=/\r\n|\r|\n/g;this.text=s.split(a)}return n.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},n.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*t,o=r*i+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},n.prototype.padding=function(e){var t=D_(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},n})(),kie=(function(){function n(e,t,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=r}return n.prototype.getMaxCustomCellWidth=function(e){for(var t=0,r=0,i=e.allRows();r<i.length;r++){var o=i[r],s=o.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(t=Math.max(t,s.styles.cellWidth))}return t},n})();function Nie(n,e){Pie(n,e);var t=[],r=0;e.columns.forEach(function(o){var s=o.getMaxCustomCellWidth(e);s?o.width=s:(o.width=o.wrappedWidth,t.push(o)),r+=o.width});var i=e.getWidth(n.pageSize().width)-r;i&&(i=AI(t,i,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),i&&(i=AI(t,i,function(o){return o.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/n.scaleFactor()&&(i=i<1?i:Math.round(i),console.log("Of the table content, ".concat(i," units width could not fit page"))),Rie(e),Lie(e,n),Oie(e)}function Pie(n,e){var t=n.scaleFactor(),r=e.settings.horizontalPageBreak,i=R6(n,e);e.allRows().forEach(function(o){for(var s=0,a=e.columns;s<a.length;s++){var l=a[s],c=o.cells[l.index];if(c){var u=e.hooks.didParseCell;e.callCellHooks(n,u,c,o,l,null);var d=c.padding("horizontal");c.contentWidth=S_(c.text,c.styles,n)+d;var p=S_(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,n);if(c.minReadableWidth=p+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||r===!0)c.contentWidth>i?(c.minWidth=i,c.wrappedWidth=i):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var f=10/t;c.minWidth=c.styles.minCellWidth||f,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),e.allRows().forEach(function(o){for(var s=0,a=e.columns;s<a.length;s++){var l=a[s],c=o.cells[l.index];if(c&&c.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,c.wrappedWidth),l.minWidth=Math.max(l.minWidth,c.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,c.minReadableWidth);else{var u=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},d=u.cellWidth||u.minCellWidth;d&&typeof d=="number"&&(l.minWidth=d,l.wrappedWidth=d)}c&&(c.colSpan>1&&!l.minWidth&&(l.minWidth=c.minWidth),c.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=c.minWidth))}})}function AI(n,e,t){for(var r=e,i=n.reduce(function(f,b){return f+b.wrappedWidth},0),o=0;o<n.length;o++){var s=n[o],a=s.wrappedWidth/i,l=r*a,c=s.width+l,u=t(s),d=c<u?u:c;e-=d-s.width,s.width=d}if(e=Math.round(e*1e10)/1e10,e){var p=n.filter(function(f){return e<0?f.width>t(f):!0});p.length&&(e=AI(p,e,t))}return e}function Oie(n){for(var e={},t=1,r=n.allRows(),i=0;i<r.length;i++)for(var o=r[i],s=0,a=n.columns;s<a.length;s++){var l=a[s],c=e[l.index];if(t>1)t--,delete o.cells[l.index];else if(c)c.cell.height+=o.height,t=c.cell.colSpan,delete o.cells[l.index],c.left--,c.left<=1&&delete e[l.index];else{var u=o.cells[l.index];if(!u)continue;if(u.height=o.height,u.rowSpan>1){var d=r.length-i,p=u.rowSpan>d?d:u.rowSpan;e[l.index]={cell:u,left:p,row:o}}}}}function Rie(n){for(var e=n.allRows(),t=0;t<e.length;t++)for(var r=e[t],i=null,o=0,s=0,a=0;a<n.columns.length;a++){var l=n.columns[a];if(s-=1,s>1&&n.columns[a+1])o+=l.width,delete r.cells[l.index];else if(i){var c=i;delete r.cells[l.index],i=null,c.width=l.width+o}else{var c=r.cells[l.index];if(!c)continue;if(s=c.colSpan,o=0,c.colSpan>1){i=c,o+=l.width;continue}c.width=l.width+o}}}function Lie(n,e){for(var t={count:0,height:0},r=0,i=n.allRows();r<i.length;r++){for(var o=i[r],s=0,a=n.columns;s<a.length;s++){var l=a[s],c=o.cells[l.index];if(c){e.applyStyles(c.styles,!0);var u=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=e.splitTextToSize(c.text,u+1/e.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=D6(c.text,u,c.styles,e,"...");else if(c.styles.overflow==="hidden")c.text=D6(c.text,u,c.styles,e,"");else if(typeof c.styles.overflow=="function"){var d=c.styles.overflow(c.text,u);typeof d=="string"?c.text=[d]:c.text=d}c.contentHeight=c.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var p=c.contentHeight/c.rowSpan;c.rowSpan>1&&t.count*t.height<p*c.rowSpan?t={height:p,count:c.rowSpan}:t&&t.count>0&&t.height>p&&(p=t.height),p>o.height&&(o.height=p)}}t.count--}}function D6(n,e,t,r,i){return n.map(function(o){return Fie(o,e,t,r,i)})}function Fie(n,e,t,r,i){var o=1e4*r.scaleFactor();if(e=Math.ceil(e*o)/o,e>=S_(n,t,r))return n;for(;e<S_(n+i,t,r)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+i}function U6(n,e){var t=new Rp(n),r=jie(e,t.scaleFactor()),i=new Mie(e,r);return Nie(t,i),t.applyStyles(t.userStyles),i}function jie(n,e){var t=n.content,r=Vie(t.columns);if(t.head.length===0){var i=I6(r,"head");i&&t.head.push(i)}if(t.foot.length===0){var i=I6(r,"foot");i&&t.foot.push(i)}var o=n.settings.theme,s=n.styles;return{columns:r,head:wI("head",t.head,r,s,o,e),body:wI("body",t.body,r,s,o,e),foot:wI("foot",t.foot,r,s,o,e)}}function wI(n,e,t,r,i,o){var s={},a=e.map(function(l,c){for(var u=0,d={},p=0,f=0,b=0,_=t;b<_.length;b++){var C=_[b];if(s[C.index]==null||s[C.index].left===0)if(f===0){var S=void 0;Array.isArray(l)?S=l[C.index-p-u]:S=l[C.dataKey];var A={};typeof S=="object"&&!Array.isArray(S)&&(A=S?.styles||{});var F=Uie(n,C,c,i,r,o,A),P=new V6(S,F,n);d[C.dataKey]=P,d[C.index]=P,f=P.colSpan-1,s[C.index]={left:P.rowSpan-1,times:f}}else f--,p++;else s[C.index].left--,f=s[C.index].times,u++}return new B6(l,c,n,d)});return a}function I6(n,e){var t={};return n.forEach(function(r){if(r.raw!=null){var i=Bie(e,r.raw);i!=null&&(t[r.dataKey]=i)}}),Object.keys(t).length>0?t:null}function Bie(n,e){if(n==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(n==="foot"&&typeof e=="object")return e.footer;return null}function Vie(n){return n.map(function(e,t){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:t:i=t,new kie(i,e,t)})}function Uie(n,e,t,r,i,o,s){var a=mie(r),l;n==="head"?l=i.headStyles:n==="body"?l=i.bodyStyles:n==="foot"&&(l=i.footStyles);var c=Kc({},a.table,a[n],i.styles,l),u=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},d=n==="body"?u:{},p=n==="body"&&t%2===0?Kc({},a.alternateRow,i.alternateRowStyles):{},f=gie(o),b=Kc({},f,c,p,d);return Kc(b,s)}function zie(n,e,t){var r;t===void 0&&(t={});var i=R6(n,e),o=new Map,s=[],a=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(p){var f=e.columns.find(function(b){return b.dataKey===p||b.index===p});f&&!o.has(f.index)&&(o.set(f.index,!0),s.push(f.index),a.push(e.columns[f.index]),i-=f.wrappedWidth)});for(var c=!0,u=(r=t?.start)!==null&&r!==void 0?r:0;u<e.columns.length;){if(o.has(u)){u++;continue}var d=e.columns[u].wrappedWidth;if(c||i>=d)c=!1,s.push(u),a.push(e.columns[u]),i-=d;else break;u++}return{colIndexes:s,columns:a,lastIndex:u-1}}function Hie(n,e){for(var t=[],r=0;r<e.columns.length;r++){var i=zie(n,e,{start:r});i.columns.length&&(t.push(i),r=i.lastIndex)}return t}function z6(n,e){var t=e.settings,r=t.startY,i=t.margin,o={x:i.left,y:r},s=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),a=r+i.bottom+s;if(t.pageBreak==="avoid"){var l=e.body,c=l.reduce(function(p,f){return p+f.height},0);a+=c}var u=new Rp(n);(t.pageBreak==="always"||t.startY!=null&&a>u.pageSize().height)&&(q6(u),o.y=i.top),e.callWillDrawPageHooks(u,o);var d=Kc({},o);e.startPageNumber=u.pageNumber(),t.horizontalPageBreak?qie(u,e,d,o):(u.applyStyles(u.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(p){return Qc(u,e,p,o,e.columns)}),u.applyStyles(u.userStyles),e.body.forEach(function(p,f){var b=f===e.body.length-1;E_(u,e,p,b,d,o,e.columns)}),u.applyStyles(u.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(p){return Qc(u,e,p,o,e.columns)})),P6(u,e,d,o),e.callEndPageHooks(u,o),e.finalY=o.y,n.lastAutoTable=e,u.applyStyles(u.userStyles)}function qie(n,e,t,r){var i=Hie(n,e),o=e.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(c,u){n.applyStyles(n.userStyles),u>0?C0(n,e,t,r,c.columns,!0):A6(n,e,r,c.columns),$ie(n,e,t,r,c.columns),xI(n,e,r,c.columns)});else for(var s=-1,a=i[0],l=function(){var c=s;if(a){n.applyStyles(n.userStyles);var u=a.columns;s>=0?C0(n,e,t,r,u,!0):A6(n,e,r,u),c=T6(n,e,s+1,r,u),xI(n,e,r,u)}var d=c-s;i.slice(1).forEach(function(p){n.applyStyles(n.userStyles),C0(n,e,t,r,p.columns,!0),T6(n,e,s+1,r,p.columns,d),xI(n,e,r,p.columns)}),s=c};s<e.body.length-1;)l()}function A6(n,e,t,r){var i=e.settings;n.applyStyles(n.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(o){return Qc(n,e,o,t,r)})}function $ie(n,e,t,r,i){n.applyStyles(n.userStyles),e.body.forEach(function(o,s){var a=s===e.body.length-1;E_(n,e,o,a,t,r,i)})}function T6(n,e,t,r,i,o){n.applyStyles(n.userStyles),o=o??e.body.length;var s=Math.min(t+o,e.body.length),a=-1;return e.body.slice(t,s).forEach(function(l,c){var u=t+c===e.body.length-1,d=H6(n,e,u,r);l.canEntireRowFit(d,i)&&(Qc(n,e,l,r,i),a=t+c)}),a}function xI(n,e,t,r){var i=e.settings;n.applyStyles(n.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(o){return Qc(n,e,o,t,r)})}function Wie(n,e,t){var r=t.getLineHeight(n.styles.fontSize),i=n.padding("vertical"),o=Math.floor((e-i)/r);return Math.max(0,o)}function Gie(n,e,t,r){var i={};n.spansMultiplePages=!0,n.height=0;for(var o=0,s=0,a=t.columns;s<a.length;s++){var l=a[s],c=n.cells[l.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var u=new V6(c.raw,c.styles,c.section);u=Kc(u,c),u.text=[];var d=Wie(c,e,r);c.text.length>d&&(u.text=c.text.splice(d,c.text.length));var p=r.scaleFactor(),f=r.getLineHeightFactor();c.contentHeight=c.getContentHeight(p,f),c.contentHeight>=e&&(c.contentHeight=e,u.styles.minCellHeight-=e),c.contentHeight>n.height&&(n.height=c.contentHeight),u.contentHeight=u.getContentHeight(p,f),u.contentHeight>o&&(o=u.contentHeight),i[l.index]=u}}var b=new B6(n.raw,-1,n.section,i,!0);b.height=o;for(var _=0,C=t.columns;_<C.length;_++){var l=C[_],u=b.cells[l.index];u&&(u.height=b.height);var c=n.cells[l.index];c&&(c.height=n.height)}return b}function Yie(n,e,t,r){var i=n.pageSize().height,o=r.settings.margin,s=o.top+o.bottom,a=i-s;e.section==="body"&&(a-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var l=e.getMinimumRowHeight(r.columns,n),c=l<t;if(l>a)return console.log("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var u=e.hasRowSpan(r.columns),d=e.getMaxCellHeight(r.columns)>a;return d?(u&&console.log("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||r.settings.rowPageBreak==="avoid")}function E_(n,e,t,r,i,o,s){var a=H6(n,e,r,o);if(t.canEntireRowFit(a,s))Qc(n,e,t,o,s);else if(Yie(n,t,a,e)){var l=Gie(t,a,e,n);Qc(n,e,t,o,s),C0(n,e,i,o,s),E_(n,e,l,r,i,o,s)}else C0(n,e,i,o,s),E_(n,e,t,r,i,o,s)}function Qc(n,e,t,r,i){r.x=e.settings.margin.left;for(var o=0,s=i;o<s.length;o++){var a=s[o],l=t.cells[a.index];if(!l){r.x+=a.width;continue}n.applyStyles(l.styles),l.x=r.x,l.y=r.y;var c=e.callCellHooks(n,e.hooks.willDrawCell,l,t,a,r);if(c===!1){r.x+=a.width;continue}Kie(n,l,r);var u=l.getTextPos();M6(l.text,u.x,u.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},n.getDocument()),e.callCellHooks(n,e.hooks.didDrawCell,l,t,a,r),r.x+=a.width}r.y+=t.height}function Kie(n,e,t){var r=e.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=O6(r.lineWidth,r.fillColor);i&&n.rect(e.x,t.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&n.rect(e.x,t.y,e.width,e.height,"F"),Qie(n,e,t,r.lineWidth))}function Qie(n,e,t,r){var i,o,s,a;r.top&&(i=t.x,o=t.y,s=t.x+e.width,a=t.y,r.right&&(s+=.5*r.right),r.left&&(i-=.5*r.left),l(r.top,i,o,s,a)),r.bottom&&(i=t.x,o=t.y+e.height,s=t.x+e.width,a=t.y+e.height,r.right&&(s+=.5*r.right),r.left&&(i-=.5*r.left),l(r.bottom,i,o,s,a)),r.left&&(i=t.x,o=t.y,s=t.x,a=t.y+e.height,r.top&&(o-=.5*r.top),r.bottom&&(a+=.5*r.bottom),l(r.left,i,o,s,a)),r.right&&(i=t.x+e.width,o=t.y,s=t.x+e.width,a=t.y+e.height,r.top&&(o-=.5*r.top),r.bottom&&(a+=.5*r.bottom),l(r.right,i,o,s,a));function l(c,u,d,p,f){n.getDocument().setLineWidth(c),n.getDocument().line(u,d,p,f,"S")}}function H6(n,e,t,r){var i=e.settings.margin.bottom,o=e.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&t)&&(i+=e.getFootHeight(e.columns)),n.pageSize().height-r.y-i}function C0(n,e,t,r,i,o){i===void 0&&(i=[]),o===void 0&&(o=!1),n.applyStyles(n.userStyles),e.settings.showFoot==="everyPage"&&!o&&e.foot.forEach(function(a){return Qc(n,e,a,r,i)}),e.callEndPageHooks(n,r);var s=e.settings.margin;P6(n,e,t,r),q6(n),e.pageNumber++,r.x=s.left,r.y=s.top,t.y=s.top,e.callWillDrawPageHooks(n,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(a){return Qc(n,e,a,r,i)}),n.applyStyles(n.userStyles))}function q6(n){var e=n.pageNumber();n.setPage(e+1);var t=n.pageNumber();return t===e?(n.addPage(),!0):!1}function Zie(n){n.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],i=j6(this,r),o=U6(this,i);return z6(this,o),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(e,t,r,i){M6(e,t,r,i,this)},n.API.autoTableSetDefaults=function(e){return Rp.setDefaults(e,this),this},n.autoTableSetDefaults=function(e,t){Rp.setDefaults(e,t)},n.API.autoTableHtmlToJson=function(e,t){var r;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Rp(this),o=F6(i,e,window,t,!1),s=o.head,a=o.body,l=((r=s[0])===null||r===void 0?void 0:r.map(function(c){return c.content}))||[];return{columns:l,rows:a,data:a}}}var CI;function S0(n,e){var t=j6(n,e),r=U6(n,t);z6(n,r)}try{typeof window<"u"&&window&&(SI=window,EI=SI.jsPDF||((CI=SI.jspdf)===null||CI===void 0?void 0:CI.jsPDF),EI&&Zie(EI))}catch(n){console.error("Could not apply autoTable plugin",n)}var SI,EI;var Lp=class n{generateFullReport(a,l,c,u){return L(this,arguments,function*(e,t,r,i,o=[],s){let d=new Pt,p=d.internal.pageSize.getWidth(),f=d.internal.pageSize.getHeight(),b=new Map;i.forEach(Q=>b.set(Q.id,Q)),d.setFontSize(22),d.setTextColor(44,62,80),d.text("Informe del Bote"+(s?` ${s}`:""),p/2,20,{align:"center"}),d.setFontSize(10),d.setTextColor(127,140,141),d.text(`Generado el: ${new Date().toLocaleString()}`,p/2,28,{align:"center"});let _=0,C=e,S=t,A=r;s&&(_=e.filter(Q=>new Date(Q.date).getFullYear()<s).reduce((Q,xe)=>Q+xe.amount,0)-t.filter(Q=>new Date(Q.date).getFullYear()<s).reduce((Q,xe)=>Q+xe.amount,0),C=e.filter(Q=>new Date(Q.date).getFullYear()===s),S=t.filter(Q=>new Date(Q.date).getFullYear()===s),A=r.filter(Q=>Q.year===s));let F=C.reduce((Q,xe)=>Q+xe.amount,0),U=S.filter(Q=>Q.amount>0).reduce((Q,xe)=>Q+xe.amount,0),se=_+F-U,he=[];s&&Math.abs(_)>.001&&he.push(["Saldo inicial",`${_.toFixed(2)} \u20AC`]),he.push(["Total Ingresos",`${F.toFixed(2)} \u20AC`]),he.push(["Total Gastos",`${U.toFixed(2)} \u20AC`]),he.push(["Saldo Actual (Bote)",{content:`${se.toFixed(2)} \u20AC`,styles:{fontStyle:"bold",textColor:se>=0?[39,174,96]:[231,76,60]}}]),S0(d,{startY:35,head:[["Resumen General","Importe"]],body:he,theme:"striped",headStyles:{fillColor:[52,73,94],textColor:255},columnStyles:{1:{halign:"right"}},margin:{left:14,right:14}});let Y=d.lastAutoTable.finalY+15;d.setFontSize(16),d.setTextColor(39,174,96),d.text("Ingresos",14,Y);let H=C.map(Q=>[this.formatDate(Q.date),b.get(Q.personId*1)?.name||"Desconocido",Q.description||"-",`${Q.amount.toFixed(2)} \u20AC`]);S0(d,{startY:Y+5,head:[["Fecha","Persona","Descripci\xF3n","Importe"]],body:H,theme:"grid",headStyles:{fillColor:[39,174,96],textColor:255},columnStyles:{3:{halign:"right"}},margin:{left:14,right:14}});let pe=d.lastAutoTable.finalY+15;pe>f-40&&(d.addPage(),pe=20),d.setFontSize(16),d.setTextColor(231,76,60),d.text("Gastos",14,pe);let $=S.filter(Q=>Q.amount>0).map(Q=>[this.formatDate(Q.date),Q.concept,Q.units.toString(),`${Q.amount.toFixed(2)} \u20AC`]);S0(d,{startY:pe+5,head:[["Fecha","Concepto","Uds","Importe"]],body:$,theme:"grid",headStyles:{fillColor:[231,76,60],textColor:255},columnStyles:{3:{halign:"right"}},margin:{left:14,right:14}});let le=d.lastAutoTable.finalY+15;if(A.length>0){let Q=[...new Set(A.filter(oe=>oe.amount>0).map(oe=>oe.year))].sort((oe,Z)=>Z-oe),xe=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"];for(let oe of Q){le>f-60&&(d.addPage(),le=20),d.setFontSize(16),d.setTextColor(44,62,80),d.text(`Estado de Cuotas ${oe}`,14,le);let Z=A.filter(W=>W.year===oe&&W.amount>0),ie=[...new Set(Z.map(W=>W.month))].sort((W,X)=>W-X),Me=i.filter(W=>{let X=W.active!==!1,de=Z.some(ue=>ue.personId===W.id),ve=C.some(ue=>new Date(ue.date).getFullYear()===oe&&ue.personId===W.id);return de&&(X||ve)}).sort((W,X)=>W.name.localeCompare(X.name)),Ee=[["Persona",...ie.map(W=>xe[W])]],k=Me.map(W=>{let X=[W.name];return ie.forEach(de=>{let ve=Z.find(Re=>Re.personId===W.id&&Re.month===de),ue=0;ve?ue=o.filter(Re=>Re.quotaId===ve.id).reduce((Re,Je)=>Re+Je.amount,0):ue=0;let je=ve?.amount||0,Be=Re=>Re%1===0?Re.toString():Re.toFixed(2);X.push({content:`${Be(ue)}\u20AC/${Be(je)}\u20AC`,paid:ue,quota:je})}),X});S0(d,{startY:le+5,head:Ee,body:k,theme:"grid",headStyles:{fillColor:[52,73,94],textColor:255},columnStyles:{0:{halign:"left"},1:{halign:"right"},2:{halign:"right"},3:{halign:"right"},4:{halign:"right"},5:{halign:"right"},6:{halign:"right"},7:{halign:"right"},8:{halign:"right"},9:{halign:"right"},10:{halign:"right"},11:{halign:"right"},12:{halign:"right"}},margin:{left:14,right:14},didParseCell:W=>{if(W.section==="body"&&W.column.index>0){let X=W.cell.raw;X&&typeof X=="object"&&(X.paid>=X.quota?(W.cell.styles.fillColor=[220,252,231],W.cell.styles.textColor=[22,101,52]):(W.cell.styles.fillColor=[254,226,226],W.cell.styles.textColor=[153,27,27]))}}}),le=d.lastAutoTable.finalY+15}}let V=S.filter(Q=>Q.ticketBlob);if(V.length>0){d.addPage(),d.setFontSize(18),d.setTextColor(44,62,80),d.text("Galer\xEDa de Tickets",14,20);let Q=30,xe=80,oe=14;for(let Z=0;Z<V.length;Z++){let ie=V[Z];d.setFontSize(11),d.setTextColor(52,73,94);let Me=`${this.formatDate(ie.date)} - ${ie.concept} (${ie.amount.toFixed(2)} \u20AC)`,Ee=Z%2!==0,k=Ee?p/2+5:oe;!Ee&&Z>0&&Q+120>f&&(d.addPage(),Q=20),d.text(Me,k,Q);try{let W=yield this.blobToBase64(ie.ticketBlob);d.addImage(W,"JPEG",k,Q+5,xe,100)}catch(W){d.setTextColor(231,76,60),d.text("[Error al cargar imagen]",k,Q+15)}Ee&&(Q+=120)}}d.save(`informe_bote_${new Date().toISOString().split("T")[0]}.pdf`)})}generateIncomeReceipt(e,t,r=[]){let i=new Pt({orientation:"landscape",unit:"mm",format:"a5"}),o=i.internal.pageSize.getWidth(),s=i.internal.pageSize.getHeight(),a=15;i.setDrawColor(39,174,96),i.setLineWidth(1),i.rect(5,5,o-10,s-10),i.setFillColor(240,253,244),i.rect(6,6,o-12,25,"F"),i.setFontSize(24),i.setTextColor(22,101,52),i.setFont("helvetica","bold"),i.text("RECIBO DE INGRESO",o/2,22,{align:"center"}),i.setFontSize(10),i.setTextColor(100),i.setFont("helvetica","normal");let l=this.formatDate(e.date);i.text(`Fecha: ${l}`,o-20,18,{align:"right"}),i.text(`Ref: #${e.id}`,o-20,24,{align:"right"});let c=50;if(i.setFillColor(39,174,96),i.roundedRect(o-60,c-5,45,15,2,2,"F"),i.setTextColor(255,255,255),i.setFontSize(16),i.setFont("helvetica","bold"),i.text(`${e.amount.toFixed(2)} \u20AC`,o-37.5,c+5,{align:"center"}),i.setTextColor(60),i.setFontSize(12),i.setFont("helvetica","normal"),i.text("Recibido de:",a,c),i.setFontSize(14),i.setTextColor(0),i.setFont("helvetica","bold"),i.text(t?.name||"Desconocido",a,c+7,{maxWidth:o-a*2}),c+=25,i.setTextColor(60),i.setFontSize(12),i.setFont("helvetica","normal"),i.text("Concepto:",a,c),i.setFontSize(12),i.setTextColor(0),i.text(e.description||"Ingreso en Bote",a,c+7,{maxWidth:o-a*2}),c+=20,r.length>0){let p=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"]}let u=s-25;i.setDrawColor(200),i.setLineWidth(.5),i.line(a,u,o-a,u),i.setFontSize(10),i.setTextColor(150),i.setFont("helvetica","italic"),i.text("Comprobante generado autom\xE1ticamente por la aplicaci\xF3n Bote.",o/2,u+8,{align:"center"}),i.text("Firma / Conforme:",o-50,u-5);let d=`recibo_${t?.name?.replace(/\s+/g,"_")}_${l.replace(/\//g,"-")}.pdf`;i.save(d)}formatDate(e){let t=new Date(e);return`${t.getDate().toString().padStart(2,"0")}/${(t.getMonth()+1).toString().padStart(2,"0")}/${t.getFullYear()}`}normalizeString(e){return e?e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim():""}blobToBase64(e){return new Promise((t,r)=>{let i=e instanceof Uint8Array?new Blob([e],{type:"image/jpeg"}):e,o=new FileReader;o.onloadend=()=>t(o.result),o.onerror=r,o.readAsDataURL(i)})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"root"})};var Xie=["formContainer"];function Jie(n,e){if(n&1){let t=wn();z(0,"button",26),tt("click",function(){rt(t);let i=$e();return it(i.clearDateFilters())}),ee(1," \u2715 "),B()}}function eoe(n,e){if(n&1&&(z(0,"option",39),ee(1),B()),n&2){let t=e.$implicit;Ue("value",t.id),ge(),Ln(t.name)}}function toe(n,e){if(n&1){let t=wn();z(0,"label",42)(1,"input",44),Kn("ngModelChange",function(i){rt(t);let o=$e(3);return tr(o.paymentType,i)||(o.paymentType=i),it(i)}),tt("change",function(){rt(t);let i=$e(3);return it(i.updateDescription())}),B(),ee(2," Pago cuota "),B()}if(n&2){let t=$e(3);ge(),Yn("ngModel",t.paymentType)}}function noe(n,e){if(n&1){let t=wn();z(0,"div",28)(1,"label"),ee(2,"Tipo de Ingreso"),B(),z(3,"div",40),bt(4,toe,3,1,"label",41),z(5,"label",42)(6,"input",43),Kn("ngModelChange",function(i){rt(t);let o=$e(2);return tr(o.paymentType,i)||(o.paymentType=i),it(i)}),tt("change",function(){rt(t);let i=$e(2);return it(i.updateDescription())}),B(),ee(7," Otro "),B()()()}if(n&2){let t=$e(2);ge(4),Ue("ngIf",t.hasQuotas),ge(2),Yn("ngModel",t.paymentType)}}function roe(n,e){if(n&1&&(z(0,"span",54),ee(1),$t(2,"number"),B()),n&2){let t=$e().$implicit;ge(),Gt("(Pend: ",Vr(2,1,t.pending,"1.2-2"),"\u20AC)")}}function ioe(n,e){if(n&1){let t=wn();z(0,"label",49)(1,"input",50),tt("change",function(){let i=rt(t).$implicit,o=$e(4);return it(o.toggleQuotaSelection(i.id))}),B(),z(2,"span",51),ee(3),B(),z(4,"span",52),ee(5),$t(6,"number"),B(),bt(7,roe,3,4,"span",53),B()}if(n&2){let t=e.$implicit,r=$e(4);wr("fully-paid",t.pending<=.01),ge(),Ue("checked",r.isQuotaSelected(t.id))("disabled",t.pending<=.01),ge(2),Ln(r.getMonthName(t.month)),ge(2),Gt("",Vr(6,7,t.amount,"1.2-2"),"\u20AC"),ge(2),Ue("ngIf",t.pending<t.amount)}}function ooe(n,e){if(n&1&&(z(0,"div")(1,"div",46),ee(2),B(),z(3,"div",47),bt(4,ioe,8,10,"label",48),B()()),n&2){let t=e.$implicit;ge(2),Ln(t.year),ge(2),Ue("ngForOf",t.quotas)}}function soe(n,e){if(n&1&&(z(0,"div",28)(1,"label"),ee(2,"Meses a Pagar"),B(),z(3,"div",45),bt(4,ooe,5,2,"div",20),B()()),n&2){let t=$e(2);ge(4),Ue("ngForOf",t.groupedQuotas)}}function aoe(n,e){n&1&&(z(0,"div",28)(1,"div",55),ee(2,"Esta persona no tiene cuotas pendientes."),B()())}function loe(n,e){n&1&&(z(0,"div",56),ee(1," El importe supera el total pendiente de las cuotas seleccionadas. "),B())}function coe(n,e){if(n&1){let t=wn();z(0,"div",27,1)(2,"h3"),ee(3),B(),z(4,"div",28)(5,"label"),ee(6,"Fecha"),B(),z(7,"input",12),Kn("ngModelChange",function(i){rt(t);let o=$e();return tr(o.currentIncome.dateStr,i)||(o.currentIncome.dateStr=i),it(i)}),B()(),z(8,"div",28)(9,"label"),ee(10,"Persona"),B(),z(11,"select",29),Kn("ngModelChange",function(i){rt(t);let o=$e();return tr(o.currentIncome.personId,i)||(o.currentIncome.personId=i),it(i)}),tt("ngModelChange",function(i){rt(t);let o=$e();return it(o.onPersonChange(i))}),z(12,"option",30),ee(13,"-- Seleccionar Persona --"),B(),bt(14,eoe,2,2,"option",31),$t(15,"async"),B()(),bt(16,noe,8,2,"div",32)(17,soe,5,1,"div",32)(18,aoe,3,0,"div",32),z(19,"div",28)(20,"label"),ee(21,"Importe"),B(),z(22,"input",33),Kn("ngModelChange",function(i){rt(t);let o=$e();return tr(o.currentIncome.amount,i)||(o.currentIncome.amount=i),it(i)}),B(),bt(23,loe,2,0,"div",34),B(),z(24,"div",28)(25,"label"),ee(26,"Descripci\xF3n"),B(),z(27,"textarea",35),Kn("ngModelChange",function(i){rt(t);let o=$e();return tr(o.currentIncome.description,i)||(o.currentIncome.description=i),it(i)}),B()(),z(28,"div",36)(29,"button",37),tt("click",function(){rt(t);let i=$e();return it(i.cancelEdit())}),ee(30,"Cancelar"),B(),z(31,"button",38),tt("click",function(){rt(t);let i=$e();return it(i.saveIncome())}),ee(32,"Guardar"),B()()()}if(n&2){let t=$e();ge(3),Gt("",t.isEditing?"Editar":"Nuevo"," Ingreso"),ge(4),wr("is-invalid",!t.currentIncome.dateStr),Yn("ngModel",t.currentIncome.dateStr),ge(4),wr("is-invalid",!t.currentIncome.personId),Yn("ngModel",t.currentIncome.personId),Ue("disabled",t.isEditing),ge(),Ue("ngValue",null),ge(2),Ue("ngForOf",hr(15,19,t.activePeople$)),ge(2),Ue("ngIf",t.currentIncome.personId),ge(),Ue("ngIf",t.paymentType==="quota"&&t.availableQuotas.length>0),ge(),Ue("ngIf",t.paymentType==="quota"&&t.availableQuotas.length===0),ge(4),wr("is-invalid",(t.currentIncome.amount||0)<=0||t.showOverpaymentWarning),Yn("ngModel",t.currentIncome.amount),ge(),Ue("ngIf",t.showOverpaymentWarning),ge(4),Yn("ngModel",t.currentIncome.description),ge(4),Ue("disabled",!t.isFormValid)}}function uoe(n,e){if(n&1){let t=wn();z(0,"tr")(1,"td"),ee(2),$t(3,"date"),B(),z(4,"td"),ee(5),B(),z(6,"td",57),ee(7),B(),z(8,"td",58),ee(9),$t(10,"number"),B(),z(11,"td",19)(12,"button",59),tt("click",function(){let i=rt(t).$implicit,o=$e();return it(o.downloadReceipt(i))}),ee(13,"\u{1F4C4}"),B(),z(14,"button",60),tt("click",function(){let i=rt(t).$implicit,o=$e();return it(o.editIncome(i))}),ee(15,"\u270F\uFE0F"),B(),z(16,"button",61),tt("click",function(){let i=rt(t).$implicit,o=$e();return it(o.deleteIncome(i.id))}),ee(17,"\u{1F5D1}\uFE0F"),B()()()}if(n&2){let t=e.$implicit,r=$e();ge(2),Ln(Vr(3,4,t.date,"dd/MM/yyyy")),ge(3),Ln(r.getPersonName(t.personId)),ge(2),Ln(t.description||"-"),ge(2),Gt("+",Vr(10,7,t.amount,"1.2-2")," \u20AC")}}function doe(n,e){n&1&&(z(0,"tr")(1,"td",62),ee(2,"No se encontraron ingresos"),B()())}function foe(n,e){n&1&&Xa(0)}function hoe(n,e){if(n&1&&(z(0,"div",73),ee(1),B()),n&2){let t=$e().$implicit;ge(),Ln(t.description)}}function poe(n,e){if(n&1){let t=wn();z(0,"div",63)(1,"div",64)(2,"span",65),ee(3),$t(4,"date"),B(),z(5,"span",66),ee(6),$t(7,"number"),B()(),z(8,"div",67)(9,"div",68),ee(10),B(),bt(11,hoe,2,1,"div",69),B(),z(12,"div",70)(13,"button",71),tt("click",function(){let i=rt(t).$implicit,o=$e();return it(o.downloadReceipt(i))}),ee(14,"\u{1F4C4} Recibo"),B(),z(15,"button",71),tt("click",function(){let i=rt(t).$implicit,o=$e();return it(o.editIncome(i))}),ee(16,"\u270F\uFE0F Editar"),B(),z(17,"button",72),tt("click",function(){let i=rt(t).$implicit,o=$e();return it(o.deleteIncome(i.id))}),ee(18,"\u{1F5D1}\uFE0F Borrar"),B()()()}if(n&2){let t=e.$implicit,r=$e();ge(3),Ln(Vr(4,4,t.date,"dd/MM/yyyy")),ge(3),Gt("+",Vr(7,7,t.amount,"1.2-2")," \u20AC"),ge(4),Ln(r.getPersonName(t.personId)),ge(),Ue("ngIf",t.description)}}function goe(n,e){n&1&&(z(0,"div",74),ee(1," No se encontraron ingresos "),B())}function moe(n,e){n&1&&Xa(0)}function voe(n,e){if(n&1){let t=wn();z(0,"div",76)(1,"div",77),ee(2),B(),z(3,"div",78)(4,"button",79),tt("click",function(){rt(t);let i=$e(2);return it(i.prevPage())}),ee(5,"Anterior"),B(),z(6,"span",80),ee(7),B(),z(8,"button",79),tt("click",function(){rt(t);let i=$e(2);return it(i.nextPage())}),ee(9,"Siguiente"),B()(),z(10,"div",81)(11,"span"),ee(12,"Ver:"),B(),z(13,"select",82),tt("ngModelChange",function(i){rt(t);let o=$e(2);return it(o.onPageSizeChange(i))}),z(14,"option",30),ee(15,"5"),B(),z(16,"option",30),ee(17,"10"),B(),z(18,"option",30),ee(19,"20"),B(),z(20,"option",30),ee(21,"50"),B()()()()}if(n&2){let t=$e(2);ge(2),Au(" Mostrando ",t.startIndex+1," - ",t.endIndex," de ",t.filteredIncomes.length," "),ge(2),Ue("disabled",t.currentPage===1),ge(3),Iu("P\xE1gina ",t.currentPage," de ",t.totalPages),ge(),Ue("disabled",t.currentPage===t.totalPages),ge(5),Ue("ngModel",t.pageSize),ge(),Ue("ngValue",5),ge(2),Ue("ngValue",10),ge(2),Ue("ngValue",20),ge(2),Ue("ngValue",50)}}function yoe(n,e){if(n&1&&bt(0,voe,22,12,"div",75),n&2){let t=$e();Ue("ngIf",t.filteredIncomes.length>0)}}var I_=class n{constructor(e,t,r,i){this.incomeService=e;this.personService=t;this.quotaService=r;this.pdfService=i;this.incomes$=this.incomeService.getIncomes(),this.activePeople$=this.personService.getActivePeople(),this.paginatedIncomes$=Cl([this.incomes$,this.searchQuery$,this.startDate$,this.endDate$,this.currentPage$,this.pageSize$]).pipe(Nn(([o,s,a,l,c,u])=>{let d=s?this.normalizeString(s):"",p=o.filter(_=>{let C=this.getPersonName(_.personId),S=!d||this.normalizeString(C).includes(d)||_.amount.toString().includes(d)||_.description&&this.normalizeString(_.description).includes(d),A=!0,F=new Date(_.date);if(F.setHours(0,0,0,0),a){let P=new Date(a);P.setHours(0,0,0,0),F<P&&(A=!1)}if(l){let P=new Date(l);P.setHours(0,0,0,0),F>P&&(A=!1)}return S&&A});if(this.filteredIncomes=p,this.totalPages=Math.max(1,Math.ceil(p.length/u)),c>this.totalPages)return setTimeout(()=>this.currentPage$.next(this.totalPages)),[];this.currentPage=c,this.pageSize=u;let f=(c-1)*u,b=Math.min(f+u,p.length);return this.startIndex=f,this.endIndex=b,p.slice(f,b)}))}formContainer;incomes$;paginatedIncomes$;activePeople$;peopleMap=new Map;searchQuery$=new Rn("");startDate$=new Rn(null);endDate$=new Rn(null);currentPage$=new Rn(1);pageSize$=new Rn(10);filteredIncomes=[];currentPage=1;pageSize=10;totalPages=1;startIndex=0;endIndex=0;showForm=!1;isEditing=!1;currentIncome={dateStr:new Date().toISOString().split("T")[0],personId:null,amount:null,description:""};paymentType="other";availableQuotas=[];groupedQuotas=[];selectedQuotaIds=new Set;hasQuotas=!1;months=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];get isFormValid(){if(!this.currentIncome.dateStr||(this.currentIncome.amount||0)<=0||!this.currentIncome.personId)return!1;if(this.paymentType==="quota"){if(this.selectedQuotaIds.size===0)return!1;let e=this.availableQuotas.filter(t=>this.selectedQuotaIds.has(t.id)).reduce((t,r)=>t+r.pending,0);if((this.currentIncome.amount||0)>e+.001)return!1}return!0}get showOverpaymentWarning(){if(this.paymentType!=="quota"||!this.currentIncome.amount||this.selectedQuotaIds.size===0)return!1;let e=this.availableQuotas.filter(t=>this.selectedQuotaIds.has(t.id)).reduce((t,r)=>t+r.pending,0);return this.currentIncome.amount>e+.001}getPersonName(e){return this.peopleMap.get(e*1)?.name||"Desconocido"}getMonthName(e){return this.months[e]}ngOnInit(){return L(this,null,function*(){(yield xi(this.activePeople$)).forEach(t=>this.peopleMap.set(t.id,t))})}onPersonChange(e){return L(this,null,function*(){if(!e){this.paymentType="other",this.hasQuotas=!1;return}this.availableQuotas=yield this.quotaService.getPendingQuotas(e),this.hasQuotas=this.availableQuotas.length>0;let t=new Map;this.availableQuotas.forEach(r=>{t.has(r.year)||t.set(r.year,[]),t.get(r.year).push(r)}),this.groupedQuotas=Array.from(t.entries()).sort((r,i)=>r[0]-i[0]).map(([r,i])=>({year:r,quotas:i.sort((o,s)=>o.month-s.month)})),this.isEditing||(this.selectedQuotaIds.clear(),this.paymentType=this.hasQuotas?"quota":"other"),this.updateDescription()})}toggleQuotaSelection(e){this.selectedQuotaIds.has(e)?this.selectedQuotaIds.delete(e):this.selectedQuotaIds.add(e),this.updateDescription()}isQuotaSelected(e){return this.selectedQuotaIds.has(e)}updateDescription(){if(this.paymentType!=="quota"||this.selectedQuotaIds.size===0){this.isEditing||(this.currentIncome.description="");return}let t=this.availableQuotas.filter(r=>this.selectedQuotaIds.has(r.id)).sort((r,i)=>r.year-i.year||r.month-i.month).map(r=>`${this.getMonthName(r.month)}/${r.year}`);this.currentIncome.description=`Pago cuotas: ${t.join(", ")}`}openForm(){this.showForm=!0,this.isEditing=!1,this.resetForm(),this.scrollToForm()}editIncome(e){return L(this,null,function*(){this.isEditing=!0,this.currentIncome=kt(Fe({},e),{dateStr:e.date.toISOString().split("T")[0],personId:e.personId,description:e.description||""}),yield this.onPersonChange(e.personId);let t=yield this.quotaService.getPaymentsForIncome(e.id);if(t.length>0){this.paymentType="quota",this.selectedQuotaIds=new Set(t.map(o=>o.quotaId)),t.forEach(o=>{let s=this.availableQuotas.find(a=>a.id===o.quotaId);s&&(s.pending+=o.amount,s.paid-=o.amount)});let i=t.map(o=>o.quotaId).filter(o=>!this.availableQuotas.find(s=>s.id===o));if(i.length>0){(yield this.quotaService.getQuotasByIds(i)).forEach(a=>{let l=t.find(c=>c.quotaId===a.id);this.availableQuotas.push(kt(Fe({},a),{paid:a.amount-l.amount,pending:l.amount}))});let s=new Map;this.availableQuotas.forEach(a=>{s.has(a.year)||s.set(a.year,[]),s.get(a.year).push(a)}),this.groupedQuotas=Array.from(s.entries()).sort((a,l)=>a[0]-l[0]).map(([a,l])=>({year:a,quotas:l.sort((c,u)=>c.month-u.month)}))}}else this.paymentType="other";this.showForm=!0,this.scrollToForm()})}scrollToForm(){setTimeout(()=>{this.formContainer&&this.formContainer.nativeElement.scrollIntoView({behavior:"smooth",block:"start"})},100)}cancelEdit(){this.showForm=!1,this.isEditing=!1,this.resetForm()}saveIncome(){return L(this,null,function*(){if(this.isFormValid){if(this.isEditing){let e={id:this.currentIncome.id,date:new Date(this.currentIncome.dateStr),personId:this.currentIncome.personId,amount:parseFloat(this.currentIncome.amount),description:this.currentIncome.description},t=this.paymentType==="quota"?Array.from(this.selectedQuotaIds):[];yield this.incomeService.updateIncomeWithQuotaPayments(e.id,e,t)}else{let e={date:new Date(this.currentIncome.dateStr),personId:this.currentIncome.personId,amount:parseFloat(this.currentIncome.amount),description:this.currentIncome.description},t=this.paymentType==="quota"?Array.from(this.selectedQuotaIds):[];yield this.incomeService.addIncomeWithQuotaPayments(e,t)}this.cancelEdit()}})}onSearchChange(e){this.searchQuery$.next(e),this.currentPage$.next(1)}onPageSizeChange(e){this.pageSize$.next(e),this.currentPage$.next(1)}onStartDateChange(e){this.startDate$.next(e),this.currentPage$.next(1)}onEndDateChange(e){this.endDate$.next(e),this.currentPage$.next(1)}clearDateFilters(){this.startDate$.next(null),this.endDate$.next(null),this.currentPage$.next(1)}nextPage(){this.currentPage<this.totalPages&&this.currentPage$.next(this.currentPage+1)}prevPage(){this.currentPage>1&&this.currentPage$.next(this.currentPage-1)}normalizeString(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")}downloadReceipt(e){return L(this,null,function*(){let t=this.peopleMap.get(e.personId*1);this.pdfService.generateIncomeReceipt(e,t)})}deleteIncome(e){return L(this,null,function*(){confirm("\xBFEst\xE1s seguro de eliminar este ingreso?")&&(yield this.incomeService.deleteIncomeAndPayments(e))})}resetForm(){this.currentIncome={dateStr:new Date().toISOString().split("T")[0],personId:null,amount:null,description:""},this.selectedQuotaIds.clear(),this.paymentType="other",this.availableQuotas=[],this.groupedQuotas=[],this.hasQuotas=!1}static \u0275fac=function(t){return new(t||n)(lt(Ju),lt(Sa),lt(Ca),lt(Lp))};static \u0275cmp=Pi({type:n,selectors:[["app-income-list"]],viewQuery:function(t,r){if(t&1&&Th(Xie,5),t&2){let i;Zd(i=Xd())&&(r.formContainer=i.first)}},decls:57,vars:25,consts:[["paginationTpl",""],["formContainer",""],[1,"container"],[1,"header-actions"],[1,"btn","primary",3,"click"],[1,"filters-area"],[1,"filter-row"],[1,"search-box"],[1,"search-icon"],["type","text","placeholder","Buscar por persona o importe...",3,"ngModelChange","ngModel"],[1,"date-filter-group"],[1,"filter-group"],["type","date",3,"ngModelChange","ngModel"],["class","btn-clear","title","Limpiar filtros",3,"click",4,"ngIf"],["class","card form-card",4,"ngIf"],[1,"card","hide-on-mobile"],[1,"table-container"],[1,"data-table"],[1,"text-right"],[1,"actions-col"],[4,"ngFor","ngForOf"],[4,"ngIf"],[4,"ngTemplateOutlet"],[1,"data-card-grid","show-on-mobile"],["class","data-card",4,"ngFor","ngForOf"],["class","card text-center py-4 text-muted",4,"ngIf"],["title","Limpiar filtros",1,"btn-clear",3,"click"],[1,"card","form-card"],[1,"input-group"],[3,"ngModelChange","ngModel","disabled"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["class","input-group",4,"ngIf"],["type","number","placeholder","0.00",3,"ngModelChange","ngModel"],["class","error-msg",4,"ngIf"],["rows","3","placeholder","Detalles del ingreso...",3,"ngModelChange","ngModel"],[1,"actions"],[1,"btn","secondary",3,"click"],[1,"btn","primary",3,"click","disabled"],[3,"value"],[1,"radio-group"],["class","radio-label",4,"ngIf"],[1,"radio-label"],["type","radio","value","other",3,"ngModelChange","change","ngModel"],["type","radio","value","quota",3,"ngModelChange","change","ngModel"],[1,"quota-selection-list"],[1,"year-header"],[1,"month-grid"],["class","month-checkbox",3,"fully-paid",4,"ngFor","ngForOf"],[1,"month-checkbox"],["type","checkbox",3,"change","checked","disabled"],[1,"month-name"],[1,"quota-amount"],["class","pending-amount",4,"ngIf"],[1,"pending-amount"],[1,"text-muted"],[1,"error-msg"],[1,"text-muted","text-sm"],[1,"text-right","font-medium","text-success"],["title","Descargar Recibo",1,"btn-icon",3,"click"],["title","Editar",1,"btn-icon",3,"click"],["title","Borrar",1,"btn-icon","danger",3,"click"],["colspan","5",1,"text-center","py-4","text-muted"],[1,"data-card"],[1,"card-header"],[1,"date"],[1,"amount","text-success"],[1,"card-body"],[1,"concept"],["class","details text-muted",4,"ngIf"],[1,"card-footer"],[1,"btn-icon",3,"click"],[1,"btn-icon","danger",3,"click"],[1,"details","text-muted"],[1,"card","text-center","py-4","text-muted"],["class","pagination-container",4,"ngIf"],[1,"pagination-container"],[1,"pagination-info"],[1,"pagination-controls"],[1,"btn","secondary",3,"click","disabled"],[1,"text-sm"],[1,"page-size-selector"],[3,"ngModelChange","ngModel"]],template:function(t,r){if(t&1){let i=wn();z(0,"div",2)(1,"div",3)(2,"h2"),ee(3,"Ingresos"),B(),z(4,"button",4),tt("click",function(){return rt(i),it(r.openForm())}),z(5,"span"),ee(6,"+"),B(),ee(7," Nuevo Ingreso "),B()(),z(8,"div",5)(9,"div",6)(10,"div",7)(11,"span",8),ee(12,"\u{1F50D}"),B(),z(13,"input",9),$t(14,"async"),tt("ngModelChange",function(s){return rt(i),it(r.onSearchChange(s))}),B()(),z(15,"div",10)(16,"div",11)(17,"label"),ee(18,"Desde"),B(),z(19,"input",12),$t(20,"async"),tt("ngModelChange",function(s){return rt(i),it(r.onStartDateChange(s))}),B()(),z(21,"div",11)(22,"label"),ee(23,"Hasta"),B(),z(24,"input",12),$t(25,"async"),tt("ngModelChange",function(s){return rt(i),it(r.onEndDateChange(s))}),B()(),bt(26,Jie,2,0,"button",13),$t(27,"async"),$t(28,"async"),B()()(),bt(29,coe,33,21,"div",14),z(30,"div",15)(31,"div",16)(32,"table",17)(33,"thead")(34,"tr")(35,"th"),ee(36,"Fecha"),B(),z(37,"th"),ee(38,"Persona"),B(),z(39,"th"),ee(40,"Descripci\xF3n"),B(),z(41,"th",18),ee(42,"Importe"),B(),z(43,"th",19),ee(44,"Acciones"),B()()(),z(45,"tbody"),bt(46,uoe,18,10,"tr",20),$t(47,"async"),bt(48,doe,3,0,"tr",21),B()()(),bt(49,foe,1,0,"ng-container",22),B(),z(50,"div",23),bt(51,poe,19,10,"div",24),$t(52,"async"),bt(53,goe,2,0,"div",25)(54,moe,1,0,"ng-container",22),B(),bt(55,yoe,1,1,"ng-template",null,0,ef),B()}if(t&2){let i=Jd(56);ge(13),Ue("ngModel",hr(14,11,r.searchQuery$)),ge(6),Ue("ngModel",hr(20,13,r.startDate$)),ge(5),Ue("ngModel",hr(25,15,r.endDate$)),ge(2),Ue("ngIf",hr(27,17,r.startDate$)||hr(28,19,r.endDate$)),ge(3),Ue("ngIf",r.showForm),ge(17),Ue("ngForOf",hr(47,21,r.paginatedIncomes$)),ge(2),Ue("ngIf",r.filteredIncomes.length===0),ge(),Ue("ngTemplateOutlet",i),ge(2),Ue("ngForOf",hr(52,23,r.paginatedIncomes$)),ge(2),Ue("ngIf",r.filteredIncomes.length===0),ge(),Ue("ngTemplateOutlet",i)}},dependencies:[wo,_o,qs,of,ms,wa,xa,hs,Hc,gs,cD,ps,Ho,Nc,af,sf],styles:[".form-card[_ngcontent-%COMP%]{background:#f1f5f9;border:1px solid #cbd5e1}.radio-group[_ngcontent-%COMP%]{display:flex;gap:1.5rem;margin-top:.5rem}.radio-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer}.quota-selection-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:1rem;background:#fff;border:1px solid #cbd5e1;border-radius:8px;max-height:300px;overflow-y:auto}.year-header[_ngcontent-%COMP%]{font-weight:700;color:#334155;margin-bottom:.5rem;padding-bottom:.25rem;border-bottom:1px solid #e2e8f0}.month-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:.5rem}.month-checkbox[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:.5rem;border:1px solid #e2e8f0;border-radius:4px;cursor:pointer}.month-checkbox[_ngcontent-%COMP%]:hover{background:#f8fafc}.month-checkbox.fully-paid[_ngcontent-%COMP%]{opacity:.5;pointer-events:none;background:#f1f5f9}.month-name[_ngcontent-%COMP%]{font-weight:600;font-size:.9rem}.quota-amount[_ngcontent-%COMP%]{font-size:.85rem;color:#64748b}.pending-amount[_ngcontent-%COMP%]{font-size:.75rem;color:#ef4444}.error-msg[_ngcontent-%COMP%]{font-size:.85rem;color:#dc2626;margin-top:.25rem}"]})};var cd=class n{constructor(e){this.db=e}getExpenses(){return Ks(()=>this.db.expenses.orderBy("date").reverse().toArray())}addExpense(e){return L(this,null,function*(){return yield this.db.expenses.add(e)})}bulkAddExpenses(e){return L(this,null,function*(){return yield this.db.expenses.bulkAdd(e)})}updateExpense(e,t){return L(this,null,function*(){return yield this.db.expenses.update(e,t)})}deleteExpense(e){return L(this,null,function*(){return yield this.db.expenses.delete(e)})}getExpenseById(e){return L(this,null,function*(){return yield this.db.expenses.get(e)})}getTotalExpenses(){return L(this,null,function*(){return(yield this.db.expenses.toArray()).reduce((t,r)=>t+r.amount,0)})}getUniqueConcepts(){return L(this,null,function*(){let e=yield this.db.expenses.toArray(),t=new Set(e.map(r=>r.concept.trim()));return Array.from(t).sort((r,i)=>r.localeCompare(i,void 0,{sensitivity:"base"}))})}static \u0275fac=function(t){return new(t||n)(xt(So))};static \u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"root"})};var Zj=kw(O8());var EA=kw(B8(),1);var UI=class{constructor(e={}){this.config=Fe({enabled:e.enabled??!1},e)}updateConfig(e){this.config=Fe(Fe({},this.config),e)}enable(){this.config.enabled=!0}disable(){this.config.enabled=!1}isEnabled(){return this.config.enabled}logRequest(e={}){if(!this.isEnabled())return;let{service:t="unknown",operation:r="unknown",params:i={},result:o=null,error:s=null}=e,a="{}";if(i&&Object.keys(i).length>0)try{a=JSON.stringify(i)}catch(c){a="[Unable to serialize params]"}let l=`${t} - ${r} - \x1B[1m${a}\x1B[22m`;s?console.error(l,{error:s.message||s,result:o}):console.log(l,o)}getStats(){return{enabled:this.config.enabled,config:Fe({},this.config)}}},V8=UI;var U8;function z8(n){return n===47}function H8(n,e,t,r){let i="",o=0,s=-1,a=0,l=0;for(let c=0;c<=n.length;++c){if(c<n.length)l=n.charCodeAt(c);else{if(r(l))break;l=47}if(r(l)){if(!(s===c-1||a===1))if(a===2){if(i.length<2||o!==2||i.charCodeAt(i.length-1)!==46||i.charCodeAt(i.length-2)!==46){if(i.length>2){let u=i.lastIndexOf(t);u===-1?(i="",o=0):(i=i.slice(0,u),o=i.length-1-i.lastIndexOf(i,t)),s=c,a=0;continue}else if(i.length!==0){i="",o=0,s=c,a=0;continue}}e&&(i+=i.length>0?`${t}..`:"..",o=2)}else i.length>0?i+=`${t}${n.slice(s+1,c)}`:i=n.slice(s+1,c),o=c-s-1;s=c,a=0}else l===46&&a!==-1?++a:a=-1}return i}var k_={resolve(...n){let e="",t=!1;for(let r=n.length-1;r>=-1&&!t;r--){let i=r>=0?n[r]:U8!==void 0?U8:"/";i.length!==0&&(e=`${i}/${e}`,t=i.charCodeAt(0)===47)}return e=H8(e,!t,"/",z8),t?`/${e}`:e.length>0?e:"."},normalize(n){if(n.length===0)return".";let e=n.charCodeAt(0)===47,t=n.charCodeAt(n.length-1)===47;return n=H8(n,!e,"/",z8),n.length===0?e?"/":t?"./":".":(t&&(n+="/"),e?`/${n}`:n)},isAbsolute(n){return n.length>0&&n.charCodeAt(0)===47},join(...n){if(n.length===0)return".";let e;for(let t=0;t<n.length;++t){let r=n[t];r.length>0&&(e===void 0?e=r:e+=`/${r}`)}return e===void 0?".":k_.normalize(e)},relative(n,e){if(n===e||(n=k_.resolve(n),e=k_.resolve(e),n===e))return"";let t=1,r=n.length,i=r-t,o=1,s=e.length-o,a=i<s?i:s,l=-1,c=0;for(;c<a;c++){let d=n.charCodeAt(t+c);if(d!==e.charCodeAt(o+c))break;d===47&&(l=c)}if(c===a)if(s>a){if(e.charCodeAt(o+c)===47)return e.slice(o+c+1);if(c===0)return e.slice(o+c)}else i>a&&(n.charCodeAt(t+c)===47?l=c:c===0&&(l=0));let u="";for(c=t+l+1;c<=r;++c)(c===r||n.charCodeAt(c)===47)&&(u+=u.length===0?"..":"/..");return`${u}${e.slice(o+l)}`},toNamespacedPath(n){return n},dirname(n){if(n.length===0)return".";let e=n.charCodeAt(0)===47,t=-1,r=!0;for(let i=n.length-1;i>=1;--i)if(n.charCodeAt(i)===47){if(!r){t=i;break}}else r=!1;return t===-1?e?"/":".":e&&t===1?"//":n.slice(0,t)},basename(n,e){let t=0,r=-1,i=!0;if(e!==void 0&&e.length>0&&e.length<=n.length){if(e===n)return"";let o=e.length-1,s=-1;for(let a=n.length-1;a>=0;--a){let l=n.charCodeAt(a);if(l===47){if(!i){t=a+1;break}}else s===-1&&(i=!1,s=a+1),o>=0&&(l===e.charCodeAt(o)?--o===-1&&(r=a):(o=-1,r=s))}return t===r?r=s:r===-1&&(r=n.length),n.slice(t,r)}for(let o=n.length-1;o>=0;--o)if(n.charCodeAt(o)===47){if(!i){t=o+1;break}}else r===-1&&(i=!1,r=o+1);return r===-1?"":n.slice(t,r)},extname(n){let e=-1,t=0,r=-1,i=!0,o=0;for(let s=n.length-1;s>=0;--s){let a=n.charCodeAt(s);if(a===47){if(!i){t=s+1;break}continue}r===-1&&(i=!1,r=s+1),a===46?e===-1?e=s:o!==1&&(o=1):e!==-1&&(o=-1)}return e===-1||r===-1||o===0||o===1&&e===r-1&&e===t+1?"":n.slice(e,r)},format:Qoe.bind(null,"/"),parse(n){let e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;let t=n.charCodeAt(0)===47,r;t?(e.root="/",r=1):r=0;let i=-1,o=0,s=-1,a=!0,l=n.length-1,c=0;for(;l>=r;--l){let u=n.charCodeAt(l);if(u===47){if(!a){o=l+1;break}continue}s===-1&&(a=!1,s=l+1),u===46?i===-1?i=l:c!==1&&(c=1):i!==-1&&(c=-1)}if(s!==-1){let u=o===0&&t?1:o;i===-1||c===0||c===1&&i===s-1&&i===o+1?e.base=e.name=n.slice(u,s):(e.name=n.slice(u,i),e.base=n.slice(u,s),e.ext=n.slice(i,s))}return o>0?e.dir=n.slice(0,o-1):t&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};function Qoe(n,e){validateObject(e,"pathObject");let t=e.dir||e.root,r=e.base||`${e.name||""}${e.ext||""}`;return t?t===e.root?`${t}${r}`:`${t}${n}${r}`:r}var Bn=k_;var Zoe={},Js={},ud={};Js.length=0;Js.getItem=function(n){return n in ud?ud[n]:null};Js.setItem=function(n,e){typeof e>"u"?Js.removeItem(n):(ud.hasOwnProperty(n)||Js.length++,ud[n]=`${e}`)};Js.removeItem=function(n){ud.hasOwnProperty(n)&&(delete ud[n],Js.length--)};Js.key=function(n){return Object.keys(ud)[n]||null};Js.clear=function(){ud={},Js.length=0};typeof exports=="object"?module.exports=Js:Zoe.localStorage=Js;var zI=Js;var HI=Symbol("readyState"),jp=Symbol("headers"),A0=Symbol("response headers"),N_=Symbol("AbortController"),qI=Symbol("method"),$I=Symbol("URL"),KI=Symbol("MIME"),Bp=Symbol("dispatch"),P_=Symbol("errored"),WI=Symbol("timeout"),GI=Symbol("timedOut"),YI=Symbol("isResponseText");function q8(...n){let e=n.reduce((r,i)=>r+i.length,0),t=new Uint8Array(e);return n.forEach((r,i,o)=>{let s=o.slice(0,i).reduce((a,l)=>a+l.length,0);t.set(r,s)}),t}function $8(n){return L(this,null,function*(){let e=this.responseType||"text",t=new TextDecoder,r=this[KI]||this[A0].get("content-type")||"text/plain";switch(e){case"text":this.response=t.decode(n);break;case"blob":this.response=new Blob([n],{type:r});break;case"arraybuffer":this.response=n.buffer;break;case"json":this.response=JSON.parse(t.decode(n));break}})}var QI=class extends EventTarget{onreadystatechange(){}set readyState(e){this[HI]!==e&&(this[HI]=e,this.dispatchEvent(new Event("readystatechange")),this.onreadystatechange(new Event("readystatechange")))}get readyState(){return this[HI]}constructor(){super(),this.readyState=this.constructor.UNSENT,this.response=null,this.responseType="",this.responseURL="",this.status=0,this.statusText="",this.timeout=0,this.withCredentials=!1,this[jp]=Object.create(null),this[jp].accept="*/*",this[A0]=Object.create(null),this[N_]=new AbortController,this[qI]="",this[$I]="",this[KI]="",this[P_]=!1,this[WI]=0,this[GI]=!1,this[YI]=!0}static get UNSENT(){return 0}static get OPENED(){return 1}static get HEADERS_RECEIVED(){return 2}static get LOADING(){return 3}static get DONE(){return 4}upload={addEventListener(){}};get responseText(){if(this[P_])return null;if(this.readyState<this.constructor.HEADERS_RECEIVED)return"";if(this[YI])return this.response;throw new DOMException("Response type not set to text","InvalidStateError")}get responseXML(){throw new Error("XML not supported")}[Bp](e){let t=`on${e.type}`;typeof this[t]=="function"&&this.addEventListener(e.type,this[t].bind(this),{once:!0}),this.dispatchEvent(e)}abort(){this[N_].abort(),this.status=0,this.readyState=this.constructor.UNSENT}open(e,t){this.status=0,this[qI]=e,this[$I]=t,this.readyState=this.constructor.OPENED}setRequestHeader(e,t){e=String(e).toLowerCase(),typeof this[jp][e]>"u"?this[jp][e]=String(t):this[jp][e]+=`, ${t}`}overrideMimeType(e){this[KI]=String(e)}getAllResponseHeaders(){return this[P_]||this.readyState<this.constructor.HEADERS_RECEIVED?"":Array.from(this[A0].entries().map(([e,t])=>`${e}: ${t}`)).join(`\r
`)}getResponseHeader(e){let t=this[A0].get(String(e).toLowerCase());return typeof t=="string"?t:null}send(e=null){this.timeout>0&&(this[WI]=setTimeout(()=>{this[GI]=!0,this[N_].abort()},this.timeout));let t=this.responseType||"text";this[YI]=t==="text",this.setRequestHeader("user-agent","puter-js/1.0"),this.setRequestHeader("origin","https://puter.work"),this.setRequestHeader("referer","https://puter.work/"),fetch(this[$I],{method:this[qI]||"GET",signal:this[N_].signal,headers:this[jp],credentials:this.withCredentials?"include":"same-origin",body:e}).then(r=>L(this,null,function*(){if(this.responseURL=r.url,this.status=r.status,this.statusText=r.statusText,this[A0]=r.headers,this.readyState=this.constructor.HEADERS_RECEIVED,r.headers.get("content-type").includes("application/x-ndjson")||this.streamRequestBadForPerformance){let p=new Uint8Array;try{for(var i=ig(r.body),o,s,a;o=!(s=yield i.next()).done;o=!1){let f=s.value;this.readyState=this.constructor.LOADING,p=q8(p,f),$8.call(this,p),this[Bp](new CustomEvent("progress"))}}catch(s){a=[s]}finally{try{o&&(s=i.return)&&(yield s.call(i))}finally{if(a)throw a[0]}}}else{let p=[];try{for(var l=ig(r.body),c,u,d;c=!(u=yield l.next()).done;c=!1){let f=u.value;p.push(f)}}catch(u){d=[u]}finally{try{c&&(u=l.return)&&(yield u.call(l))}finally{if(d)throw d[0]}}$8.call(this,q8(...p))}this.readyState=this.constructor.DONE,this[Bp](new CustomEvent("load"))}),r=>{let i="abort";r.name!=="AbortError"?(this[P_]=!0,i="error"):this[GI]&&(i="timeout"),this.readyState=this.constructor.DONE,this[Bp](new CustomEvent(i))}).finally(()=>this[Bp](new CustomEvent("loadend"))).finally(()=>{clearTimeout(this[WI]),this[Bp](new CustomEvent("loadstart"))})}};typeof module=="object"&&module.exports?module.exports=QI:(globalThis||self).XMLHttpRequestShim=QI;var ZI=QI;function Xoe(n){let t=new Uint8Array(n).reduce((r,i)=>r+String.fromCharCode(i),"");return typeof btoa=="function"?btoa(t):Buffer.from(t,"binary").toString("base64")}var T0=class{constructor(){this.result=null,this.error=null,this.onloadend=null}readAsDataURL(e){let t=this;(function(){return L(this,null,function*(){try{let r;e&&typeof e.arrayBuffer=="function"?r=yield e.arrayBuffer():e instanceof ArrayBuffer?r=e:ArrayBuffer.isView(e)?r=e.buffer:r=new Uint8Array(0).buffer;let i=Xoe(r),o=e&&e.type||"application/octet-stream";t.result="data:"+o+";base64,"+i,typeof t.onloadend=="function"&&t.onloadend()}catch(r){t.error=r,typeof t.onloadend=="function"&&t.onloadend()}})})()}};var O_=class extends(globalThis.HTMLElement||Object){constructor(e){super(),this.message=e||"You have reached your usage limit for this account.",this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=`
        <style>
            dialog {
                background: transparent;
                border: none;
                box-shadow: none;
                outline: none;
                padding: 0;
                max-width: 90vw;
            }
            
            dialog::backdrop {
                background: rgba(0, 0, 0, 0.5);
            }
            
            .dialog-content {
                border: 1px solid #e8e8e8;
                border-radius: 12px;
                padding: 32px;
                background: white;
                box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
                -webkit-font-smoothing: antialiased;
                color: #333;
                position: relative;
                max-width: 420px;
                font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            }
            
            .close-btn {
                position: absolute;
                right: 16px;
                top: 12px;
                font-size: 20px;
                color: #999;
                cursor: pointer;
                width: 28px;
                height: 28px;
                display: flex;
                align-items: center;
                justify-content: center;
                border-radius: 50%;
                transition: background 0.2s, color 0.2s;
            }
            
            .close-btn:hover {
                background: #f0f0f0;
                color: #333;
            }
            
            .icon-container {
                width: 64px;
                height: 64px;
                margin: 0 auto 20px;
                background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
            }
            
            .icon-container svg {
                width: 32px;
                height: 32px;
                color: #f57c00;
            }
            
            h2 {
                margin: 0 0 12px;
                font-size: 20px;
                font-weight: 600;
                text-align: center;
                color: #1a1a1a;
            }
            
            .message {
                text-align: center;
                font-size: 14px;
                line-height: 1.5;
                color: #666;
                margin-bottom: 24px;
            }
            
            .buttons {
                display: flex;
                gap: 12px;
                justify-content: center;
            }
            
            .button {
                padding: 10px 24px;
                border-radius: 8px;
                font-size: 14px;
                font-weight: 500;
                cursor: pointer;
                transition: all 0.2s;
                border: none;
                font-family: inherit;
            }
            
            .button-secondary {
                background: #f5f5f5;
                color: #666;
            }
            
            .button-secondary:hover {
                background: #e8e8e8;
            }
            
            .button-primary {
                background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
                color: white;
            }
            
            .button-primary:hover {
                background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
                box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
            }
        </style>
        <dialog>
            <div class="dialog-content">
                <span class="close-btn">&#x2715;</span>
                <div class="icon-container">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
                    </svg>
                </div>
                <h2>Low Balance</h2>
                <p class="message">${this.message}</p>
                <div class="buttons">
                    <button class="button button-secondary" id="close-btn">Close</button>
                    <button class="button button-primary" id="upgrade-btn">Upgrade Now</button>
                </div>
            </div>
        </dialog>
        `}connectedCallback(){let e=this.shadowRoot.querySelector("dialog");this.shadowRoot.querySelector(".close-btn").addEventListener("click",()=>{this.close()}),this.shadowRoot.querySelector("#close-btn").addEventListener("click",()=>{this.close()}),this.shadowRoot.querySelector("#upgrade-btn").addEventListener("click",()=>{window.open("https://puter.com/dashboard","_blank"),this.close()}),e.addEventListener("click",t=>{t.target===e&&this.close()})}open(){this.shadowRoot.querySelector("dialog").showModal()}close(){this.shadowRoot.querySelector("dialog").close(),this.remove()}};typeof globalThis.HTMLElement<"u"&&globalThis.customElements&&(customElements.get("usage-limit-dialog")||customElements.define("usage-limit-dialog",O_));function XI(n){if(typeof globalThis.document>"u"){console.warn("[Puter]",n);return}if(document.querySelector("usage-limit-dialog"))return;let e=new O_(n);document.body.appendChild(e),e.open()}var R_=class extends(globalThis.HTMLElement||Object){constructor(e){super(),this.message=e||"Please confirm your email address to use this service.",this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=`
        <style>
            dialog {
                background: transparent;
                border: none;
                box-shadow: none;
                outline: none;
                padding: 0;
                max-width: 90vw;
            }

            dialog::backdrop {
                background: rgba(0, 0, 0, 0.5);
            }

            .dialog-content {
                border: 1px solid #e8e8e8;
                border-radius: 12px;
                padding: 32px;
                background: white;
                box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
                -webkit-font-smoothing: antialiased;
                color: #333;
                position: relative;
                max-width: 420px;
                font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            }

            .close-btn {
                position: absolute;
                right: 16px;
                top: 12px;
                font-size: 20px;
                color: #999;
                cursor: pointer;
                width: 28px;
                height: 28px;
                display: flex;
                align-items: center;
                justify-content: center;
                border-radius: 50%;
                transition: background 0.2s, color 0.2s;
            }

            .close-btn:hover {
                background: #f0f0f0;
                color: #333;
            }

            .icon-container {
                width: 64px;
                height: 64px;
                margin: 0 auto 20px;
                background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .icon-container svg {
                width: 32px;
                height: 32px;
                color: #1976d2;
            }

            h2 {
                margin: 0 0 12px;
                font-size: 20px;
                font-weight: 600;
                text-align: center;
                color: #1a1a1a;
            }

            .message {
                text-align: center;
                font-size: 14px;
                line-height: 1.5;
                color: #666;
                margin-bottom: 24px;
            }

            .buttons {
                display: flex;
                gap: 12px;
                justify-content: center;
            }

            .button {
                padding: 10px 24px;
                border-radius: 8px;
                font-size: 14px;
                font-weight: 500;
                cursor: pointer;
                transition: all 0.2s;
                border: none;
                font-family: inherit;
            }

            .button-secondary {
                background: #f5f5f5;
                color: #666;
            }

            .button-secondary:hover {
                background: #e8e8e8;
            }

            .button-primary {
                background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
                color: white;
            }

            .button-primary:hover {
                background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
                box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
            }
        </style>
        <dialog>
            <div class="dialog-content">
                <span class="close-btn">&#x2715;</span>
                <div class="icon-container">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                    </svg>
                </div>
                <h2>Confirm Your Email</h2>
                <p class="message">${this.message}</p>
                <div class="buttons">
                    <button class="button button-secondary" id="close-btn">Close</button>
                    <button class="button button-primary" id="confirm-email-btn">Go to Puter.com</button>
                </div>
            </div>
        </dialog>
        `}connectedCallback(){let e=this.shadowRoot.querySelector("dialog");this.shadowRoot.querySelector(".close-btn").addEventListener("click",()=>{this.close()}),this.shadowRoot.querySelector("#close-btn").addEventListener("click",()=>{this.close()}),this.shadowRoot.querySelector("#confirm-email-btn").addEventListener("click",()=>{window.open("https://puter.com","_blank"),this.close()}),e.addEventListener("click",t=>{t.target===e&&this.close()})}open(){this.shadowRoot.querySelector("dialog").showModal()}close(){this.shadowRoot.querySelector("dialog").close(),this.remove()}};typeof globalThis.HTMLElement<"u"&&globalThis.customElements&&(customElements.get("email-confirmation-dialog")||customElements.define("email-confirmation-dialog",R_));function JI(n){if(typeof globalThis.document>"u"||document.querySelector("email-confirmation-dialog"))return;let e=new R_(n);document.body.appendChild(e),e.open()}function Uf(n){return L(this,null,function*(){if(n.responseType==="blob"){let t=n.getResponseHeader("content-type");if(t.startsWith("application/json")){let r=yield n.response.text();try{return JSON.parse(r)}catch(i){return r}}else if(t.startsWith("application/octet-stream"))return n.response;return{success:!0,result:n.response}}let e=n.responseText;try{return JSON.parse(e)}catch(t){return e}})}function G8(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,n=>(n^crypto.getRandomValues(new Uint8Array(1))[0]&15>>n/4).toString(16))}var Y8=()=>{let n,e;return{promise:new Promise((r,i)=>{n=r,e=i}),resolve:n,reject:e}};function kn(n,e,t,r="post",i="text/plain;actually=json",o=void 0){let s=new XMLHttpRequest;return s.open(r,e+n,!0),t&&s.setRequestHeader("Authorization",`Bearer ${t}`),s.setRequestHeader("Content-Type",i),s.responseType=o??"",globalThis.puter?.apiCallLogger?.isEnabled()&&(s._puterRequestId={method:r,service:"xhr",operation:n.replace(/^\//,""),params:{endpoint:n,contentType:i,responseType:o}}),s}function Joe(n,e,t,r,i){return L(this,null,function*(){let o=yield Uf(i);return i.status===401?(e&&typeof e=="function"&&e({status:401,message:"Unauthorized"}),r({status:401,message:"Unauthorized"})):i.status!==200?(e&&typeof e=="function"&&e(o),r(o)):(o.success===!1&&o.error?.code==="permission_denied"&&(yield puter.ui.requestPermission({permission:"driver:puter-image-generation:generate"})).granted,n&&typeof n=="function"&&n(o),t(o))})}function F_(n,e,t){return n&&typeof n=="function"&&n(t),e(t)}function Vn(n,e,t,r,i){n.addEventListener("load",function(o){return L(this,null,function*(){if(globalThis.puter?.apiCallLogger?.isEnabled()&&this._puterRequestId){let s=yield Uf(this).catch(()=>null);globalThis.puter.apiCallLogger.logRequest({service:this._puterRequestId.service,operation:this._puterRequestId.operation,params:this._puterRequestId.params,result:this.status>=400?null:s,error:this.status>=400?{message:this.statusText,status:this.status}:null})}return Joe(e,t,r,i,this,n)})}),n.addEventListener("error",function(o){return globalThis.puter?.apiCallLogger?.isEnabled()&&this._puterRequestId&&globalThis.puter.apiCallLogger.logRequest({service:this._puterRequestId.service,operation:this._puterRequestId.operation,params:this._puterRequestId.params,error:{message:"Network error occurred",event:o.type}}),F_(t,i,this)})}var W8=()=>{},L_=class{static callback(e){return e&&typeof e=="function"?e:void 0}};function xn(n,e,t,r,i={}){return function(...o){return L(this,null,function*(){let s={},a={};return o.length===1&&typeof o[0]=="object"&&!Array.isArray(o[0])?(s=Fe({},o[0]),a={success:s.success,error:s.error},delete s.success,delete s.error):(n.forEach((l,c)=>{s[l]=o[c]}),a={success:o[n.length],error:o[n.length+1]}),i.preprocess&&typeof i.preprocess=="function"&&(s=i.preprocess(s)),yield ese(a,e,t,r,s,i)})}}function ese(n,e,t,r,i,o){return L(this,null,function*(){let s=Y8();return K8(n,s.resolve,s.reject,e,t,r,i,void 0,void 0,o),yield s.promise})}function K8(){return L(this,arguments,function*(n={},e,t,r,i,o,s,a,l="text/plain;actually=json",c={}){let u=null;if(globalThis.puter?.apiCallLogger?.isEnabled()&&(u={interface:r,driver:i,method:o,args:s}),!puter.authToken&&puter.env==="web")try{yield puter.ui.authenticateWithPuter()}catch(P){return u&&globalThis.puter?.apiCallLogger?.isEnabled()&&globalThis.puter.apiCallLogger.logRequest({service:"drivers",operation:`${r}::${o}`,params:{interface:r,driver:i,method:o,args:s},error:{code:"auth_canceled",message:"Authentication canceled"}}),t({error:{code:"auth_canceled",message:"Authentication canceled"}})}let d=L_.callback(n.success)??W8,p=L_.callback(n.error)??W8,f=kn("/drivers/call",puter.APIOrigin,void 0,"POST",l);u&&(f._puterDriverRequestInfo=u),c.responseType&&(f.responseType=c.responseType);let b=!1,_=null,C=0,S=!1,A="",F=[];f.onreadystatechange=()=>{if(f.readyState===2){if(f.getResponseHeader("Content-Type")!=="application/x-ndjson")return;b=!0;let U=function(){return eh(this,null,function*(){for(;!S;){let he=Y8();if(_=he.resolve,yield new Jf(he.promise),S)break;for(;F.length>0;){let Y=F.shift();if(Y.trim()==="")continue;let H=JSON.parse(Y);(H?.error?.code==="insufficient_funds"||H?.metadata?.usage_limited===!0)&&puter.env==="web"&&XI("You have reached your usage limit for this account.<br>Please upgrade to continue."),H?.error?.code==="email_must_be_confirmed"&&puter.env==="web"&&JI(H?.error?.message||"Email confirmation required. Go to Puter.com to confirm your email address."),typeof H.text=="string"&&Object.defineProperty(H,"toString",{enumerable:!1,value:()=>H.text}),yield H}}})}();return Object.defineProperty(U,"start",{enumerable:!1,value:se=>L(null,null,function*(){let he=new TextEncoder;try{for(var Y=ig(U),H,pe,O;H=!(pe=yield Y.next()).done;H=!1){let $=pe.value;se.enqueue(he.encode($))}}catch(pe){O=[pe]}finally{try{H&&(pe=Y.return)&&(yield pe.call(Y))}finally{if(O)throw O[0]}}se.close()})}),e(U)}f.readyState===4&&(S=!0,b&&_?.())},f.onprogress=function(){if(!_)return;let P=f.responseText.slice(C);C=f.responseText.length;let U=!1;for(let se=0;se<P.length;se++)A+=P[se],P[se]===`
`&&(U=!0,F.push(A),A="");U&&_()},f.addEventListener("load",function(P){return L(this,null,function*(){if(b)return;let U=yield Uf(P.target);this._puterDriverRequestInfo&&globalThis.puter?.apiCallLogger?.isEnabled()&&globalThis.puter.apiCallLogger.logRequest({service:"drivers",operation:`${this._puterDriverRequestInfo.interface}::${this._puterDriverRequestInfo.method}`,params:{interface:this._puterDriverRequestInfo.interface,driver:this._puterDriverRequestInfo.driver,method:this._puterDriverRequestInfo.method,args:this._puterDriverRequestInfo.args},result:P.status>=400||U?.success===!1?null:U,error:P.status>=400||U?.success===!1?U:null});let se=P.target?.status===402||U?.error?.code==="insufficient_funds"||U?.error?.status===402,he=U?.metadata?.usage_limited===!0;if((se||he)&&puter.env==="web"&&XI("Your account has not enough funding to complete this request.<br>Please upgrade to continue."),U?.error?.code==="email_must_be_confirmed"&&puter.env==="web"&&JI(U?.error?.message||"Email confirmation required. Go to Puter.com to confirm your email address."),P.status===401||U?.code==="token_auth_failed"){if(U?.code==="token_auth_failed"&&puter.env==="web")try{puter.resetAuthToken(),yield puter.ui.authenticateWithPuter()}catch(Y){return t({error:{code:"auth_canceled",message:"Authentication canceled"}})}return p&&typeof p=="function"&&p({status:401,message:"Unauthorized"}),t({status:401,message:"Unauthorized"})}else{if(P.status&&P.status!==200)return p(U),t(U);{if(U.success===!1&&U.error?.code==="permission_denied")return(yield puter.ui.requestPermission({permission:`driver:${r}:${o}`})).granted?K8(n,e,t,r,o,s,a,l,c):(p(U),t(U));if(U.success===!1)return p(U),t(U);let Y=U.result!==void 0?U.result:U;return c.transform&&(Y=yield c.transform(Y)),e.success&&d(Y),e(Y)}}})}),f.addEventListener("error",function(P){return this._puterDriverRequestInfo&&globalThis.puter?.apiCallLogger?.isEnabled()&&globalThis.puter.apiCallLogger.logRequest({service:"drivers",operation:`${this._puterDriverRequestInfo.interface}::${this._puterDriverRequestInfo.method}`,params:{interface:this._puterDriverRequestInfo.interface,driver:this._puterDriverRequestInfo.driver,method:this._puterDriverRequestInfo.method,args:this._puterDriverRequestInfo.args},error:{message:"Network error occurred",event:P.type}}),F_(p,t,this)}),f.send(JSON.stringify({interface:r,driver:i,test_mode:c?.test_mode,method:o,args:s,auth_token:puter.authToken}))})}function cl(n){return L(this,null,function*(){let e=new(globalThis.FileReader||T0);return yield new Promise((t,r)=>{e.onloadend=()=>t(e.result),e.onerror=r,e.readAsDataURL(n)})})}function Vp(n){return new Promise((e,t)=>{let r=new(globalThis.FileReader||T0);r.onload=function(i){e(i.target.result)},r.onerror=function(i){t(i)},r.readAsDataURL(n)})}var Up=n=>{if(typeof n!="string")return"aws-polly";let e=n.toLowerCase();return e==="openai"?"openai":["elevenlabs","eleven","11labs","11-labs","eleven-labs","elevenlabs-tts"].includes(e)?"elevenlabs":e==="aws"||e==="polly"||e==="aws-polly"?"aws-polly":n},tse=["minimax/","google/","bytedance/","pixverse/","kwaivgi/","vidu/","wan-ai/"],eA=class{constructor(e){this.puter=e,this.authToken=e.authToken,this.APIOrigin=e.APIOrigin,this.appID=e.appID}setAuthToken(e){this.authToken=e}setAPIOrigin(e){this.APIOrigin=e}listModels(e){return L(this,null,function*(){let t=this.authToken?{Authorization:`Bearer ${this.authToken}`}:{},r=()=>L(this,null,function*(){let s=yield fetch(`${this.APIOrigin}/puterai/chat/models/details`,{headers:t});if(!s.ok)return null;let a=yield s.json(),l=Array.isArray(a?.models)?a.models:[];return e?l.filter(c=>c.provider===e):l}),i=()=>L(this,null,function*(){let s=yield puter.drivers.call("puter-chat-completion","ai-chat","models"),a=Array.isArray(s?.result)?s.result:[];return e?a.filter(l=>l.provider===e):a});return yield L(this,null,function*(){try{let s=yield r();if(s!==null)return s}catch(s){}try{return yield i()}catch(s){return[]}})})}listModelProviders(){return L(this,null,function*(){let e=yield this.listModels(),t=new Set;return(e??[]).forEach(r=>{r?.provider&&t.add(r.provider)}),Array.from(t)})}img2txt=(...e)=>L(this,null,function*(){if(!e||e.length===0)throw{message:"Arguments are required",code:"arguments_required"};let r=d=>typeof Blob>"u"?!1:d instanceof Blob||typeof File<"u"&&d instanceof File,i=d=>d&&typeof d=="object"&&!Array.isArray(d)&&!r(d),o=d=>{if(!d)return"aws-textract";let p=String(d).toLowerCase();return["aws","textract","aws-textract"].includes(p)?"aws-textract":["mistral","mistral-ocr"].includes(p)?"mistral":"aws-textract"},s={};i(e[0])?s=Fe({},e[0]):s.source=e[0];let a=!1;for(let d=1;d<e.length;d++){let p=e[d];typeof p=="boolean"?a=a||p:i(p)&&(s=Fe(Fe({},s),p))}typeof s.testMode=="boolean"&&(a=s.testMode);let l=o(s.provider);if(delete s.provider,delete s.testMode,!s.source)throw{message:"Source is required",code:"source_required"};if(r(s.source)?s.source=yield Vp(s.source):s.source?.source&&r(s.source.source)&&(s.source=yield Vp(s.source.source)),typeof s.source=="string"&&s.source.startsWith("data:")&&s.source.length>10485760)throw{message:"Input size cannot be larger than 10485760",code:"input_too_large"};let c=d=>{if(!d)return"";if(Array.isArray(d.blocks)&&d.blocks.length){let p="";for(let f of d.blocks)typeof f?.text=="string"&&(!f.type||f.type==="text/textract:LINE"||f.type.startsWith("text/"))&&(p+=`${f.text}
`);if(p.trim())return p}if(Array.isArray(d.pages)&&d.pages.length){let p=d.pages.map(f=>(f?.markdown||"").trim()).filter(Boolean).join(`

`);if(p.trim())return p}return typeof d.document_annotation=="string"?d.document_annotation:typeof d.text=="string"?d.text:""};return yield xn(["source"],"puter-ocr",l,"recognize",{test_mode:a??!1,transform:d=>L(null,null,function*(){return c(d)})}).call(this,s)});txt2speech=(...e)=>L(this,null,function*(){let t=3e3,r={},i=!1;if(!e)throw{message:"Arguments are required",code:"arguments_required"};if(typeof e[0]=="string"&&(r={text:e[0]}),e[1]&&typeof e[1]=="object"&&!Array.isArray(e[1]))Object.assign(r,e[1]);else if(e[1]&&typeof e[1]=="string")r.language=e[1],e[2]&&typeof e[2]=="string"&&(r.voice=e[2]),e[3]&&typeof e[3]=="string"&&(r.engine=e[3]);else if(e[1]&&typeof e[1]!="boolean")throw{message:'Second argument must be an options object or language string. Use: txt2speech("text", { voice: "name", engine: "type", language: "code" }) or txt2speech("text", "language", "voice", "engine")',code:"invalid_arguments"};if(!r.text)throw{message:"Text parameter is required",code:"text_required"};let o=["standard","neural","long-form","generative"],s=Up(r.provider);if(r.engine&&Up(r.engine)==="openai"&&!r.provider&&(s="openai"),r.engine&&Up(r.engine)==="elevenlabs"&&!r.provider&&(s="elevenlabs"),s==="openai")!r.model&&typeof r.engine=="string"&&(r.model=r.engine),r.voice||(r.voice="alloy"),r.model||(r.model="gpt-4o-mini-tts"),r.response_format||(r.response_format="mp3"),delete r.engine;else if(s==="elevenlabs")r.voice||(r.voice="21m00Tcm4TlvDq8ikWAM"),!r.model&&typeof r.engine=="string"&&(r.model=r.engine),r.model||(r.model="eleven_multilingual_v2"),!r.output_format&&!r.response_format&&(r.output_format="mp3_44100_128"),r.response_format&&!r.output_format&&(r.output_format=r.response_format),delete r.engine;else{if(s="aws-polly",r.engine&&!o.includes(r.engine))throw{message:`Invalid engine. Must be one of: ${o.join(", ")}`,code:"invalid_engine"};r.voice||(r.voice="Joanna"),r.engine||(r.engine="standard"),r.language||(r.language="en-US")}if(r.text.length>t)throw{message:`Input size cannot be larger than ${t}`,code:"input_too_large"};for(let l=0;l<e.length;l++)if(typeof e[l]=="boolean"&&e[l]===!0){i=!0;break}return yield xn(["source"],"puter-tts",s==="openai"?"openai-tts":s==="elevenlabs"?"elevenlabs-tts":"aws-polly","synthesize",{responseType:"blob",test_mode:i??!1,transform:l=>L(null,null,function*(){let c;if(typeof l=="string")c=l;else if(l instanceof Blob)c=yield cl(l);else if(l instanceof ArrayBuffer){let d=new Blob([l]);c=yield cl(d)}else if(l&&typeof l=="object"&&typeof l.arrayBuffer=="function"){let d=yield l.arrayBuffer(),p=new Blob([d],{type:l.type||void 0});c=yield cl(p)}else throw{message:"Unexpected audio response format",code:"invalid_audio_response"};let u=new(globalThis.Audio||Object);return u.src=c,u.toString=()=>c,u.valueOf=()=>c,u})}).call(this,r)});speech2speech=(...e)=>L(this,null,function*(){if(!e||!e.length)throw{message:"Arguments are required",code:"arguments_required"};let r=c=>L(null,null,function*(){return c instanceof Blob?yield Vp(c):c}),i=(c={})=>{let u=Fe({},c);return u.voiceId&&!u.voice&&!u.voice_id&&(u.voice=u.voiceId),u.modelId&&!u.model&&!u.model_id&&(u.model=u.modelId),u.outputFormat&&!u.output_format&&(u.output_format=u.outputFormat),u.voiceSettings&&!u.voice_settings&&(u.voice_settings=u.voiceSettings),u.fileFormat&&!u.file_format&&(u.file_format=u.fileFormat),u.removeBackgroundNoise!==void 0&&u.remove_background_noise===void 0&&(u.remove_background_noise=u.removeBackgroundNoise),u.optimizeStreamingLatency!==void 0&&u.optimize_streaming_latency===void 0&&(u.optimize_streaming_latency=u.optimizeStreamingLatency),u.enableLogging!==void 0&&u.enable_logging===void 0&&(u.enable_logging=u.enableLogging),delete u.voiceId,delete u.modelId,delete u.outputFormat,delete u.voiceSettings,delete u.fileFormat,delete u.removeBackgroundNoise,delete u.optimizeStreamingLatency,delete u.enableLogging,u},o={},s=!1,a=e[0];if(a&&typeof a=="object"&&!Array.isArray(a)&&!(a instanceof Blob)?o=Fe({},a):o.audio=yield r(a),e[1]&&typeof e[1]=="object"&&!Array.isArray(e[1])&&!(e[1]instanceof Blob)?o=Fe(Fe({},o),e[1]):typeof e[1]=="boolean"&&(s=e[1]),typeof e[2]=="boolean"&&(s=e[2]),o.file&&(o.audio=yield r(o.file),delete o.file),o.audio instanceof Blob&&(o.audio=yield r(o.audio)),!o.audio)throw{message:"Audio input is required",code:"audio_required"};if(typeof o.audio=="string"&&o.audio.startsWith("data:")){let c=o.audio.split(",")[1]||"",u=c.endsWith("==")?2:c.endsWith("=")?1:0;if(Math.floor(c.length*3/4)-u>26214400)throw{message:"Input size cannot be larger than 25 MB",code:"input_too_large"}}let l=i(Fe({},o));return delete l.provider,yield xn(["audio"],"puter-speech2speech","elevenlabs-voice-changer","convert",{responseType:"blob",test_mode:s,transform:c=>L(null,null,function*(){let u;if(typeof c=="string")u=c;else if(c instanceof Blob)u=yield cl(c);else if(c instanceof ArrayBuffer){let p=new Blob([c]);u=yield cl(p)}else if(c&&typeof c=="object"&&typeof c.arrayBuffer=="function"){let p=yield c.arrayBuffer(),f=new Blob([p],{type:c.type||void 0});u=yield cl(f)}else throw{message:"Unexpected audio response format",code:"invalid_audio_response"};let d=new Audio(u);return d.toString=()=>u,d.valueOf=()=>u,d})}).call(this,l)});speech2txt=(...e)=>L(this,null,function*(){if(!e||!e.length)throw{message:"Arguments are required",code:"arguments_required"};let r=u=>L(null,null,function*(){return u instanceof Blob?yield Vp(u):u}),i={},o=!1,s=e[0];if(s&&typeof s=="object"&&!Array.isArray(s)&&!(s instanceof Blob)?i=Fe({},s):i.file=yield r(s),e[1]&&typeof e[1]=="object"&&!Array.isArray(e[1])&&!(e[1]instanceof Blob)?i=Fe(Fe({},i),e[1]):typeof e[1]=="boolean"&&(o=e[1]),typeof e[2]=="boolean"&&(o=e[2]),i.audio&&(i.file=yield r(i.audio),delete i.audio),i.file instanceof Blob&&(i.file=yield r(i.file)),!i.file)throw{message:"Audio input is required",code:"audio_required"};if(typeof i.file=="string"&&i.file.startsWith("data:")){let u=i.file.split(",")[1]||"",d=u.endsWith("==")?2:u.endsWith("=")?1:0;if(Math.floor(u.length*3/4)-d>26214400)throw{message:"Input size cannot be larger than 25 MB",code:"input_too_large"}}let a=i.translate?"translate":"transcribe",l=Fe({},i);delete l.translate;let c=l.response_format;return yield xn([],"puter-speech2txt","openai-speech2txt",a,{test_mode:o,transform:u=>L(null,null,function*(){return c==="text"&&u&&typeof u=="object"&&typeof u.text=="string"?u.text:u})}).call(this,l)});txt2speech=Object.assign(this.txt2speech,{listEngines:(...t)=>L(this,[...t],function*(e={}){let r="aws-polly",i={};return typeof e=="string"?r=Up(e):e&&typeof e=="object"&&(r=Up(e.provider)||r,i=Fe({},e),delete i.provider),r==="openai"&&(i.provider="openai"),r==="elevenlabs"&&(i.provider="elevenlabs"),yield xn(["source"],"puter-tts",r==="openai"?"openai-tts":r==="elevenlabs"?"elevenlabs-tts":"aws-polly","list_engines",{responseType:"text"}).call(this,i)}),listVoices:e=>L(this,null,function*(){let t="aws-polly",r={};return typeof e=="string"?r.engine=e:e&&typeof e=="object"&&(t=Up(e.provider)||t,r=Fe({},e),delete r.provider),t==="openai"&&(r.provider="openai",delete r.engine),t==="elevenlabs"&&(r.provider="elevenlabs"),xn(["source"],"puter-tts",t==="openai"?"openai-tts":t==="elevenlabs"?"elevenlabs-tts":"aws-polly","list_voices",{responseType:"text"}).call(this,r)})});chat=(...e)=>L(this,null,function*(){let t={},r={},i=!1,o="ai-chat";if(!e)throw{message:"Arguments are required",code:"arguments_required"};if(typeof e[0]=="string"&&(t={messages:[{content:e[0]}]}),typeof e[0]=="string"&&(!e[1]||typeof e[1]=="boolean"))t={messages:[{content:e[0]}]};else if(typeof e[0]=="string"&&(typeof e[1]=="string"||e[1]instanceof File))e[1]instanceof File&&(e[1]=yield Vp(e[1])),t={vision:!0,messages:[{content:[e[0],{image_url:{url:e[1]}}]}]};else if(typeof e[0]=="string"&&Array.isArray(e[1])){for(let l=0;l<e[1].length;l++)e[1][l]={image_url:{url:e[1][l]}};t={vision:!0,messages:[{content:[e[0],...e[1]]}]}}else Array.isArray(e[0])&&(t={messages:e[0]});(typeof e[1]=="boolean"&&e[1]===!0||typeof e[2]=="boolean"&&e[2]===!0||typeof e[3]=="boolean"&&e[3]===!0)&&(i=!0);let s=l=>typeof l=="object"&&!Array.isArray(l)&&l!==null;for(let l=0;l<e.length;l++)if(s(e[l])){r=e[l];break}r.model&&(t.model=r.model),r.temperature&&(t.temperature=r.temperature),r.max_tokens&&(t.max_tokens=r.max_tokens),r.provider&&(t.provider=r.provider),t.model=t.model??"",r.stream!==void 0&&typeof r.stream=="boolean"&&(t.stream=r.stream),r.driver&&(t.provider=t.provider||r.driver);let a=["tools","response","reasoning","reasoning_effort","text","verbosity","provider"];for(let l of a)r[l]&&(t[l]=r[l]);return t.model===""&&delete t.model,yield xn(["messages"],"puter-chat-completion",o,"complete",{test_mode:i??!1,transform:l=>L(null,null,function*(){return l.toString=()=>l.message?.content,l.valueOf=()=>l.message?.content,l})}).call(this,t)});txt2img=(...e)=>L(this,null,function*(){let t={},r=!1;if(!e)throw{message:"Arguments are required",code:"arguments_required"};typeof e[0]=="string"&&(t={prompt:e[0]}),typeof e[1]=="boolean"&&e[1]===!0&&(r=!0),typeof e[0]=="string"&&typeof e[1]=="object"&&(t=e[1],t.prompt=e[0]),typeof e[0]=="object"&&(t=e[0]);let i="openai-image-generation";t.model==="nano-banana"&&(t.model="gemini-2.5-flash-image-preview"),t.model==="nano-banana-pro"&&(t.model="gemini-3-pro-image-preview");let o=typeof t.driver=="string"?t.driver:void 0;return o?i=o:i="ai-image",yield xn(["prompt"],"puter-image-generation",i,"generate",{responseType:"blob",test_mode:r??!1,transform:s=>L(null,null,function*(){let a;if(typeof s=="string")a=s;else if(s instanceof Blob)a=yield cl(s);else if(s instanceof ArrayBuffer){let c=new Blob([s]);a=yield cl(c)}else if(s&&typeof s=="object"&&typeof s.arrayBuffer=="function"){let c=yield s.arrayBuffer(),u=new Blob([c],{type:s.type||void 0});a=yield cl(u)}else throw{message:"Unexpected image response format",code:"invalid_image_response"};let l=new(globalThis.Image||Object);return l.src=a,l.toString=()=>l.src,l.valueOf=()=>l.src,l})}).call(this,t)});txt2vid=(...e)=>L(this,null,function*(){let t={},r=!1;if(!e)throw{message:"Arguments are required",code:"arguments_required"};if(typeof e[0]=="string"&&(t={prompt:e[0]}),typeof e[1]=="boolean"&&e[1]===!0&&(r=!0),typeof e[0]=="string"&&typeof e[1]=="object"&&(t=e[1],t.prompt=e[0]),typeof e[0]=="object"&&(t=e[0]),!t.prompt)throw{message:"Prompt parameter is required",code:"prompt_required"};t.model||(t.model="sora-2"),t.duration!==void 0&&t.seconds===void 0&&(t.seconds=t.duration);let i="openai-video-generation",o=typeof t.driver=="string"?t.driver:void 0,s=o?o.toLowerCase():void 0,a=typeof t.provider=="string"?t.provider:typeof t.service=="string"?t.service:void 0,l=typeof a=="string"?a.toLowerCase():void 0,c=typeof t.model=="string"?t.model.toLowerCase():"",u=typeof t.model=="string"&&(tse.some(d=>c.startsWith(d))||t.model.startsWith("togetherai:"));return s==="together"||s==="together-ai"||s==="together-video-generation"?i="together-video-generation":s==="openai"?i="openai-video-generation":o?i=o:(l==="together"||l==="together-ai"||u)&&(i="together-video-generation"),yield xn(["prompt"],"puter-video-generation",i,"generate",{responseType:"blob",test_mode:r??!1,transform:d=>L(null,null,function*(){let p=null,f=null;if(d instanceof Blob?(p=yield cl(d),f=d.type||"video/mp4"):typeof d=="string"?p=d:d&&typeof d=="object"&&(p=d.asset_url||d.url||d.href||null,f=d.mime_type||d.content_type||null),!p)return d;let b=globalThis.document?.createElement("video")||{setAttribute:()=>{}};return b.src=p,b.controls=!0,b.preload="metadata",f&&b.setAttribute("data-mime-type",f),b.setAttribute("data-source",p),b.toString=()=>b.src,b.valueOf=()=>b.src,b})}).call(this,t)})},Q8=eA;var tA=class{constructor(e){this.puter=e,this.authToken=e.authToken,this.APIOrigin=e.APIOrigin,this.appID=e.appID}#e(e){return e.getUsers=t=>L(null,null,function*(){return t=t??{},(yield puter.drivers.call("app-telemetry","app-telemetry","get_users",{app_uuid:e.uid,limit:t.limit,offset:t.offset})).result}),e.users=function(t=100){return eh(this,null,function*(){let r=0;for(;;){let i=yield new Jf(e.getUsers({limit:t,offset:r}));if(!i||i.length===0)return;for(let o of i)yield o;if(r+=i.length,i.length<t)return}})},e}#r(e){return e.forEach(t=>{this.#e(t)}),e}setAuthToken(e){this.authToken=e}setAPIOrigin(e){this.APIOrigin=e}list=(...e)=>L(this,null,function*(){let t={};return typeof e[0]=="object"&&e[0]!==null&&(t.params=e[0]),t.predicate=["user-can-edit"],this.#r(yield xn(["uid"],"puter-apps","es:app","select").call(this,t))});create=(...e)=>L(this,null,function*(){let t={};if(typeof e[0]=="string"){let r=e[1],i=e[2]??e[0];t={object:{name:e[0],index_url:r,title:i}}}else if(typeof e[0]=="object"&&e[0]!==null){let r=e[0];t={object:{name:r.name,index_url:r.indexURL,title:r.title??r.name,description:r.description,icon:r.icon,maximize_on_start:r.maximizeOnStart,background:r.background,filetype_associations:r.filetypeAssociations,metadata:r.metadata},options:{dedupe_name:r.dedupeName??!1}}}if(!t.object.name)throw{success:!1,error:{code:"invalid_request",message:"Name is required"}};if(!t.object.index_url)throw{success:!1,error:{code:"invalid_request",message:"Index URL is required"}};return this.#e(yield xn(["object"],"puter-apps","es:app","create").call(this,t))});update=(...e)=>L(this,null,function*(){let t={};if(Array.isArray(e)&&typeof e[0]=="string"){let r=e[1],i={name:r.name,index_url:r.indexURL,title:r.title,description:r.description,icon:r.icon,maximize_on_start:r.maximizeOnStart,background:r.background,filetype_associations:r.filetypeAssociations,metadata:r.metadata};t={id:{name:e[0]},object:i}}return this.#e(yield xn(["object"],"puter-apps","es:app","update").call(this,t))});get=(...e)=>L(this,null,function*(){let t={};return Array.isArray(e)&&typeof e[0]=="string"&&(typeof e[1]=="object"&&e[1]!==null&&(t.params=e[1]),t.id={name:e[0]}),typeof e[0]=="object"&&e[0]!==null&&(t.params=e[0]),this.#e(yield xn(["uid"],"puter-apps","es:app","read").call(this,t))});delete=(...e)=>L(this,null,function*(){let t={};return Array.isArray(e)&&typeof e[0]=="string"&&(t={id:{name:e[0]}}),xn(["uid"],"puter-apps","es:app","delete").call(this,t)});getDeveloperProfile=function(...e){let t;return typeof e[0]=="object"&&e[0]!==null?t=e[0]:t={success:e[0],error:e[1]},new Promise((r,i)=>{let o;return typeof e[0]=="object"&&e[0]!==null?o=e[0]:o={success:e[0],error:e[1]},new Promise((s,a)=>{let l=kn("/get-dev-profile",puter.APIOrigin,puter.authToken,"get");Vn(l,o.success??r,o.error??i,s,a),l.send()})})}},Z8=tA;var nA=class{#e=1;constructor(e){this.puter=e,this.authToken=e.authToken,this.APIOrigin=e.APIOrigin,this.appID=e.appID}setAuthToken(e){this.authToken=e}setAPIOrigin(e){this.APIOrigin=e}signIn=e=>(e=e||{},new Promise((t,r)=>{let i=this.#e++,o=600,s=700,a="Puter";var l=screen.width/2-o/2,c=screen.height/2-s/2;let u=window.open(`${puter.defaultGUIOrigin}/action/sign-in?embedded_in_popup=true&msg_id=${i}${window.crossOriginIsolated?"&cross_origin_isolated=true":""}${e.attempt_temp_user_creation?"&attempt_temp_user_creation=true":""}`,a,`toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=${o}, height=${s}, top=${c}, left=${l}`),d=setInterval(()=>{u.closed&&(clearInterval(d),window.removeEventListener("message",p),r({error:"auth_window_closed",msg:"Authentication window was closed by the user without completing the process."}))},100);function p(f){f.data.msg_id==i&&(clearInterval(d),delete f.data.msg_id,delete f.data.msg,f.data.success?(puter.setAuthToken(f.data.token),t(f.data)):r(f.data),window.removeEventListener("message",p))}window.addEventListener("message",p)}));isSignedIn=()=>!!puter.authToken;getUser=function(...e){let t;return typeof e[0]=="object"&&e[0]!==null?t=e[0]:t={success:e[0],error:e[1]},new Promise((r,i)=>{let o=kn("/whoami",puter.APIOrigin,puter.authToken,"get");Vn(o,t.success,t.error,r,i),o.send()})};signOut=()=>{puter.resetAuthToken()};whoami(){return L(this,null,function*(){try{let t=yield(yield fetch(`${this.APIOrigin}/whoami`,{headers:{Authorization:`Bearer ${this.authToken}`}})).json();return globalThis.puter?.apiCallLogger?.isEnabled()&&globalThis.puter.apiCallLogger.logRequest({service:"auth",operation:"whoami",params:{},result:t}),t}catch(e){throw globalThis.puter?.apiCallLogger?.isEnabled()&&globalThis.puter.apiCallLogger.logRequest({service:"auth",operation:"whoami",params:{},error:{message:e.message||e.toString(),stack:e.stack}}),e}})}getMonthlyUsage(){return L(this,null,function*(){try{let t=yield(yield fetch(`${this.APIOrigin}/metering/usage`,{headers:{Authorization:`Bearer ${this.authToken}`}})).json();return globalThis.puter?.apiCallLogger?.isEnabled()&&globalThis.puter.apiCallLogger.logRequest({service:"auth",operation:"usage",params:{},result:t}),t}catch(e){throw globalThis.puter?.apiCallLogger?.isEnabled()&&globalThis.puter.apiCallLogger.logRequest({service:"auth",operation:"usage",params:{},error:{message:e.message||e.toString(),stack:e.stack}}),e}})}getDetailedAppUsage(e){return L(this,null,function*(){if(!e)throw new Error("appId is required");try{let r=yield(yield fetch(`${this.APIOrigin}/metering/usage/${e}`,{headers:{Authorization:`Bearer ${this.authToken}`}})).json();return globalThis.puter?.apiCallLogger?.isEnabled()&&globalThis.puter.apiCallLogger.logRequest({service:"auth",operation:"detailed_app_usage",params:{appId:e},result:r}),r}catch(t){throw globalThis.puter?.apiCallLogger?.isEnabled()&&globalThis.puter.apiCallLogger.logRequest({service:"auth",operation:"detailed_app_usage",params:{appId:e},error:{message:t.message||t.toString(),stack:t.stack}}),t}})}getGlobalUsage(){return L(this,null,function*(){try{let t=yield(yield fetch(`${this.APIOrigin}/metering/globalUsage`,{headers:{Authorization:`Bearer ${this.authToken}`}})).json();return globalThis.puter?.apiCallLogger?.isEnabled()&&globalThis.puter.apiCallLogger.logRequest({service:"auth",operation:"global_usage",params:{},result:t}),t}catch(e){throw globalThis.puter?.apiCallLogger?.isEnabled()&&globalThis.puter.apiCallLogger.logRequest({service:"auth",operation:"global_usage",params:{},error:{message:e.message||e.toString(),stack:e.stack}}),e}})}},X8=nA;var j_=class{constructor(e,t){this.puter=e,this.parameters=t,this._init()}_init(){let t=new URL(location.href).searchParams.get("enabled_logs");t||(t=""),t=t.split(";");for(let r of t)r!==""&&this.puter.logger.on(r);globalThis.addEventListener("message",r=>L(this,null,function*(){r.source===globalThis.parent&&r.data.$&&r.data.$==="puterjs-debug"&&(console.log("Got a puter.js debug event!",r.data),r.data.cmd==="log.on"&&(console.log("Got instruction to turn logs on!"),this.puter.logger.on(r.data.category)))}))}};var nse=(()=>{class n{constructor({getAPIOrigin:t,getAuthToken:r}){this.getAPIOrigin=t,this.getAuthToken=r,this.response_handlers=this.constructor.response_handlers}static response_handlers={"application/x-ndjson":t=>L(null,null,function*(){return function(o){return eh(this,null,function*(){let s=o.getReader(),a,l;for(;!l&&({value:a,done:l}=yield new Jf(s.read()),!l);){let c=new TextDecoder().decode(a).split(`
`);for(let u of c)u.trim()!==""&&(yield JSON.parse(u))}})}(t.body)}),"application/json":t=>L(null,null,function*(){return yield t.json()}),"application/octet-stream":t=>L(null,null,function*(){return yield t.blob()})};call(o){return L(this,arguments,function*({driver:t,method_name:r,parameters:i}){try{let s=yield fetch(`${this.getAPIOrigin()}/drivers/call`,{headers:{"Content-Type":"text/plain;actually=json"},method:"POST",body:JSON.stringify(kt(Fe({interface:t.iface_name},t.service_name?{service:t.service_name}:{}),{method:r,args:i,auth_token:this.getAuthToken()}))}),a=s.headers.get("content-type").split(";")[0].trim(),l=this.response_handlers[a];if(!l){let u=`unrecognized content type: ${a}`;throw console.error(u),console.error("creating blob so dev tools shows response..."),yield s.blob(),globalThis.puter?.apiCallLogger?.isEnabled()&&globalThis.puter.apiCallLogger.logRequest({service:"drivers",operation:`${t.iface_name}::${r}`,params:{interface:t.iface_name,driver:t.service_name||t.iface_name,method:r,args:i},error:{message:u}}),new Error(u)}let c=yield l(s);return globalThis.puter?.apiCallLogger?.isEnabled()&&globalThis.puter.apiCallLogger.logRequest({service:"drivers",operation:`${t.iface_name}::${r}`,params:{interface:t.iface_name,driver:t.service_name||t.iface_name,method:r,args:i},result:c}),c}catch(s){throw globalThis.puter?.apiCallLogger?.isEnabled()&&globalThis.puter.apiCallLogger.logRequest({service:"drivers",operation:`${t.iface_name}::${r}`,params:{interface:t.iface_name,driver:t.service_name||t.iface_name,method:r,args:i},error:{message:s.message||s.toString(),stack:s.stack}}),s}})}}return n})(),rA=class{constructor({iface:e,iface_name:t,service_name:r,call_backend:i}){this.iface=e,this.iface_name=t,this.service_name=r,this.call_backend=i}call(e,t){return L(this,null,function*(){return yield this.call_backend.call({driver:this,method_name:e,parameters:t})})}},iA=class{constructor(e){this.puter=e,this.authToken=e.authToken,this.APIOrigin=e.APIOrigin,this.appID=e.appID,this.drivers_={}}_init({puter:e}){e.call=this.call.bind(this)}setAuthToken(e){this.authToken=e}setAPIOrigin(e){this.APIOrigin=e}list(){return L(this,null,function*(){try{let t=yield(yield fetch(`${this.APIOrigin}/lsmod`,{headers:{Authorization:`Bearer ${this.authToken}`},method:"POST"})).json();return globalThis.puter?.apiCallLogger?.isEnabled()&&globalThis.puter.apiCallLogger.logRequest({service:"drivers",operation:"list",params:{},result:t.interfaces}),t.interfaces}catch(e){throw globalThis.puter?.apiCallLogger?.isEnabled()&&globalThis.puter.apiCallLogger.logRequest({service:"drivers",operation:"list",params:{},error:{message:e.message||e.toString(),stack:e.stack}}),e}})}get(e,t){return L(this,null,function*(){t||(t=e);let r=`${e}:${t}`;return this.drivers_[r]?this.drivers_[r]:this.drivers_[r]=new rA({call_backend:new nse({getAPIOrigin:()=>this.APIOrigin,getAuthToken:()=>this.authToken}),iface_name:e,service_name:t})})}call(...e){return L(this,null,function*(){let t,r,i,o;return e.length===4?[t,r,i,o]=e:e.length===3?[t,i,o]=e:e.length===2&&([t,o]=e,i=t),yield(yield this.get(t,r)).call(i,o)})}},J8=iA;var tc=Object.create(null);tc.open="0",tc.close="1",tc.ping="2",tc.pong="3",tc.message="4",tc.upgrade="5",tc.noop="6";var H_=Object.create(null);Object.keys(tc).forEach(n=>{H_[tc[n]]=n});var aA={type:"error",data:"parser error"},uj=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",dj=typeof ArrayBuffer=="function",fj=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,lA=({type:n,data:e},t,r)=>uj&&e instanceof Blob?t?r(e):ej(e,r):dj&&(e instanceof ArrayBuffer||fj(e))?t?r(e):ej(new Blob([e]),r):r(tc[n]+(e||"")),ej=(n,e)=>{let t=new FileReader;return t.onload=function(){let r=t.result.split(",")[1];e("b"+(r||""))},t.readAsDataURL(n)};function tj(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}var oA,rse="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",k0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<64;n++)k0[rse.charCodeAt(n)]=n;var ise=typeof ArrayBuffer=="function",cA=(n,e)=>{if(typeof n!="string")return{type:"message",data:hj(n,e)};let t=n.charAt(0);return t==="b"?{type:"message",data:ose(n.substring(1),e)}:H_[t]?n.length>1?{type:H_[t],data:n.substring(1)}:{type:H_[t]}:aA},ose=(n,e)=>{if(ise){let t=(r=>{let i,o,s,a,l,c=.75*r.length,u=r.length,d=0;r[r.length-1]==="="&&(c--,r[r.length-2]==="="&&c--);let p=new ArrayBuffer(c),f=new Uint8Array(p);for(i=0;i<u;i+=4)o=k0[r.charCodeAt(i)],s=k0[r.charCodeAt(i+1)],a=k0[r.charCodeAt(i+2)],l=k0[r.charCodeAt(i+3)],f[d++]=o<<2|s>>4,f[d++]=(15&s)<<4|a>>2,f[d++]=(3&a)<<6|63&l;return p})(n);return hj(t,e)}return{base64:!0,data:n}},hj=(n,e)=>e==="blob"?n instanceof Blob?n:new Blob([n]):n instanceof ArrayBuffer?n:n.buffer,nj="";function sse(){return new TransformStream({transform(n,e){(function(t,r){uj&&t.data instanceof Blob?t.data.arrayBuffer().then(tj).then(r):dj&&(t.data instanceof ArrayBuffer||fj(t.data))?r(tj(t.data)):lA(t,!1,i=>{oA||(oA=new TextEncoder),r(oA.encode(i))})})(n,t=>{let r=t.length,i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);let o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{i=new Uint8Array(9);let o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}n.data&&typeof n.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(t)})}})}var sA;function B_(n){return n.reduce((e,t)=>e+t.length,0)}function V_(n,e){if(n[0].length===e)return n.shift();let t=new Uint8Array(e),r=0;for(let i=0;i<e;i++)t[i]=n[0][r++],r===n[0].length&&(n.shift(),r=0);return n.length&&r<n[0].length&&(n[0]=n[0].slice(r)),t}function Ei(n){if(n)return(function(e){for(var t in Ei.prototype)e[t]=Ei.prototype[t];return e})(n)}Ei.prototype.on=Ei.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this},Ei.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this},Ei.prototype.off=Ei.prototype.removeListener=Ei.prototype.removeAllListeners=Ei.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t,r=this._callbacks["$"+n];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var i=0;i<r.length;i++)if((t=r[i])===e||t.fn===e){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+n],this},Ei.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(t){r=0;for(var i=(t=t.slice(0)).length;r<i;++r)t[r].apply(this,e)}return this},Ei.prototype.emitReserved=Ei.prototype.emit,Ei.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},Ei.prototype.hasListeners=function(n){return!!this.listeners(n).length};var Ia=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function pj(n,...e){return e.reduce((t,r)=>(n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}var ase=Ia.setTimeout,lse=Ia.clearTimeout;function W_(n,e){e.useNativeTimers?(n.setTimeoutFn=ase.bind(Ia),n.clearTimeoutFn=lse.bind(Ia)):(n.setTimeoutFn=Ia.setTimeout.bind(Ia),n.clearTimeoutFn=Ia.clearTimeout.bind(Ia))}var uA=class extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}},N0=class extends Ei{constructor(e){super(),this.writable=!1,W_(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,t,r){return super.emitReserved("error",new uA(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return this.readyState!=="opening"&&this.readyState!=="open"||(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let t=cA(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){let e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){let t=(function(r){let i="";for(let o in r)r.hasOwnProperty(o)&&(i.length&&(i+="&"),i+=encodeURIComponent(o)+"="+encodeURIComponent(r[o]));return i})(e);return t.length?"?"+t:""}},gj="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),dA=64,cse={},rj,ij=0,U_=0;function oj(n){let e="";do e=gj[n%dA]+e,n=Math.floor(n/dA);while(n>0);return e}function sj(){let n=oj(+new Date);return n!==rj?(ij=0,rj=n):n+"."+oj(ij++)}for(;U_<dA;U_++)cse[gj[U_]]=U_;var mj=!1;try{mj=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(n){}var use=mj;function vj(n){let e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||use))return new XMLHttpRequest}catch(t){}if(!e)try{return new Ia[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(t){}}function dse(){}var fse=new vj({xdomain:!1}).responseType!=null,dd=class n extends Ei{constructor(e,t){super(),W_(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.data=t.data!==void 0?t.data:null,this.create()}create(){var e;let t=pj(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd;let r=this.xhr=new vj(t);try{r.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this.opts.extraHeaders[i])}}catch(i){}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(i){}try{r.setRequestHeader("Accept","*/*")}catch(i){}(e=this.opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this.opts.cookieJar)===null||i===void 0||i.parseCookies(r)),r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},r.send(this.data)}catch(i){return void this.setTimeoutFn(()=>{this.onError(i)},0)}typeof document<"u"&&(this.index=n.requestsCount++,n.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(this.xhr!==void 0&&this.xhr!==null){if(this.xhr.onreadystatechange=dse,e)try{this.xhr.abort()}catch(t){}typeof document<"u"&&delete n.requests[this.index],this.xhr=null}}onLoad(){let e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};dd.requestsCount=0,dd.requests={},typeof document<"u"&&(typeof attachEvent=="function"?attachEvent("onunload",aj):typeof addEventListener=="function"&&addEventListener("onpagehide"in Ia?"pagehide":"unload",aj,!1));function aj(){for(let n in dd.requests)dd.requests.hasOwnProperty(n)&&dd.requests[n].abort()}var fA=typeof Promise=="function"&&typeof Promise.resolve=="function"?n=>Promise.resolve().then(n):(n,e)=>e(n,0),z_=Ia.WebSocket||Ia.MozWebSocket,lj=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",hse={websocket:class extends N0{constructor(n){super(n),this.supportsBinary=!n.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;let n=this.uri(),e=this.opts.protocols,t=lj?{}:pj(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(t.headers=this.opts.extraHeaders);try{this.ws=lj?new z_(n,e,t):e?new z_(n,e):new z_(n)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=n=>this.onClose({description:"websocket connection closed",context:n}),this.ws.onmessage=n=>this.onData(n.data),this.ws.onerror=n=>this.onError("websocket error",n)}write(n){this.writable=!1;for(let e=0;e<n.length;e++){let t=n[e],r=e===n.length-1;lA(t,this.supportsBinary,i=>{try{this.ws.send(i)}catch(o){}r&&fA(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){this.ws!==void 0&&(this.ws.close(),this.ws=null)}uri(){let n=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=sj()),this.supportsBinary||(e.b64=1),this.createUri(n,e)}check(){return!!z_}},webtransport:class extends N0{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(n=>{this.onError("webtransport error",n)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(n=>{let e=(function(s,a){sA||(sA=new TextDecoder);let l=[],c=0,u=-1,d=!1;return new TransformStream({transform(p,f){for(l.push(p);;){if(c===0){if(B_(l)<1)break;let b=V_(l,1);d=(128&b[0])==128,u=127&b[0],c=u<126?3:u===126?1:2}else if(c===1){if(B_(l)<2)break;let b=V_(l,2);u=new DataView(b.buffer,b.byteOffset,b.length).getUint16(0),c=3}else if(c===2){if(B_(l)<8)break;let b=V_(l,8),_=new DataView(b.buffer,b.byteOffset,b.length),C=_.getUint32(0);if(C>Math.pow(2,21)-1){f.enqueue(aA);break}u=C*Math.pow(2,32)+_.getUint32(4),c=3}else{if(B_(l)<u)break;let b=V_(l,u);f.enqueue(cA(d?b:sA.decode(b),a)),c=0}if(u===0||u>s){f.enqueue(aA);break}}}})})(Number.MAX_SAFE_INTEGER,this.socket.binaryType),t=n.readable.pipeThrough(e).getReader(),r=sse();r.readable.pipeTo(n.writable),this.writer=r.writable.getWriter();let i=()=>{t.read().then(({done:s,value:a})=>{s||(this.onPacket(a),i())}).catch(s=>{})};i();let o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this.writer.write(o).then(()=>this.onOpen())})}))}write(n){this.writable=!1;for(let e=0;e<n.length;e++){let t=n[e],r=e===n.length-1;this.writer.write(t).then(()=>{r&&fA(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var n;(n=this.transport)===null||n===void 0||n.close()}},polling:class extends N0{constructor(n){if(super(n),this.polling=!1,typeof location<"u"){let t=location.protocol==="https:",r=location.port;r||(r=t?"443":"80"),this.xd=typeof location<"u"&&n.hostname!==location.hostname||r!==n.port}let e=n&&n.forceBase64;this.supportsBinary=fse&&!e,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(n){this.readyState="pausing";let e=()=>{this.readyState="paused",n()};if(this.polling||!this.writable){let t=0;this.polling&&(t++,this.once("pollComplete",function(){--t||e()})),this.writable||(t++,this.once("drain",function(){--t||e()}))}else e()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(n){((e,t)=>{let r=e.split(nj),i=[];for(let o=0;o<r.length;o++){let s=cA(r[o],t);if(i.push(s),s.type==="error")break}return i})(n,this.socket.binaryType).forEach(e=>{if(this.readyState==="opening"&&e.type==="open"&&this.onOpen(),e.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)}),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){let n=()=>{this.write([{type:"close"}])};this.readyState==="open"?n():this.once("open",n)}write(n){this.writable=!1,((e,t)=>{let r=e.length,i=new Array(r),o=0;e.forEach((s,a)=>{lA(s,!1,l=>{i[a]=l,++o===r&&t(i.join(nj))})})})(n,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let n=this.opts.secure?"https":"http",e=this.query||{};return this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=sj()),this.supportsBinary||e.sid||(e.b64=1),this.createUri(n,e)}request(n={}){return Object.assign(n,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new dd(this.uri(),n)}doWrite(n,e){let t=this.request({method:"POST",data:n});t.on("success",e),t.on("error",(r,i)=>{this.onError("xhr post error",r,i)})}doPoll(){let n=this.request();n.on("data",this.onData.bind(this)),n.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=n}}},pse=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,gse=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function hA(n){let e=n,t=n.indexOf("["),r=n.indexOf("]");t!=-1&&r!=-1&&(n=n.substring(0,t)+n.substring(t,r).replace(/:/g,";")+n.substring(r,n.length));let i=pse.exec(n||""),o={},s=14;for(;s--;)o[gse[s]]=i[s]||"";return t!=-1&&r!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=(function(a,l){let c=/\/{2,9}/g,u=l.replace(c,"/").split("/");return l.slice(0,1)!="/"&&l.length!==0||u.splice(0,1),l.slice(-1)=="/"&&u.splice(u.length-1,1),u})(0,o.path),o.queryKey=(function(a,l){let c={};return l.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(u,d,p){d&&(c[d]=p)}),c})(0,o.query),o}var mse=(()=>{class n extends Ei{constructor(t,r={}){super(),this.binaryType="arraybuffer",this.writeBuffer=[],t&&typeof t=="object"&&(r=t,t=null),t?(t=hA(t),r.hostname=t.host,r.secure=t.protocol==="https"||t.protocol==="wss",r.port=t.port,t.query&&(r.query=t.query)):r.host&&(r.hostname=hA(r.host).host),W_(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=r.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=(function(i){let o={},s=i.split("&");for(let a=0,l=s.length;a<l;a++){let c=s[a].split("=");o[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return o})(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){let r=Object.assign({},this.opts.query);r.EIO=4,r.transport=t,this.id&&(r.sid=this.id);let i=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new hse[t](i)}open(){let t;if(this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else{if(this.transports.length===0)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(r){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",r=>this.onClose("transport close",r))}probe(t){let r=this.createTransport(t),i=!1;n.priorWebsocketSuccess=!1;let o=()=>{i||(r.send([{type:"ping",data:"probe"}]),r.once("packet",p=>{if(!i)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;n.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(d(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{let f=new Error("probe error");f.transport=r.name,this.emitReserved("upgradeError",f)}}))};function s(){i||(i=!0,d(),r.close(),r=null)}let a=p=>{let f=new Error("probe error: "+p);f.transport=r.name,s(),this.emitReserved("upgradeError",f)};function l(){a("transport closed")}function c(){a("socket closed")}function u(p){r&&p.name!==r.name&&s()}let d=()=>{r.removeListener("open",o),r.removeListener("error",a),r.removeListener("close",l),this.off("close",c),this.off("upgrading",u)};r.once("open",o),r.once("error",a),r.once("close",l),this.once("close",c),this.once("upgrading",u),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{i||r.open()},200):r.open()}onOpen(){if(this.readyState="open",n.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0,r=this.upgrades.length;for(;t<r;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":let r=new Error("server error");r.code=t.data,this.onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let i=0;i<this.writeBuffer.length;i++){let o=this.writeBuffer[i].data;if(o&&(t+=typeof(r=o)=="string"?(function(s){let a=0,l=0;for(let c=0,u=s.length;c<u;c++)a=s.charCodeAt(c),a<128?l+=1:a<2048?l+=2:a<55296||a>=57344?l+=3:(c++,l+=4);return l})(r):Math.ceil(1.33*(r.byteLength||r.size))),i>0&&t>this.maxPayload)return this.writeBuffer.slice(0,i);t+=2}var r;return this.writeBuffer}write(t,r,i){return this.sendPacket("message",t,r,i),this}send(t,r,i){return this.sendPacket("message",t,r,i),this}sendPacket(t,r,i,o){if(typeof r=="function"&&(o=r,r=void 0),typeof i=="function"&&(o=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;(i=i||{}).compress=i.compress!==!1;let s={type:t,data:r,options:i};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),o&&this.once("flush",o),this.flush()}close(){let t=()=>{this.onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return this.readyState!=="opening"&&this.readyState!=="open"||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}onError(t){n.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,r){this.readyState!=="opening"&&this.readyState!=="open"&&this.readyState!=="closing"||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){let r=[],i=0,o=t.length;for(;i<o;i++)~this.transports.indexOf(t[i])&&r.push(t[i]);return r}}return n.protocol=4,n})(),vse=typeof ArrayBuffer=="function",yse=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,yj=Object.prototype.toString,bse=typeof Blob=="function"||typeof Blob<"u"&&yj.call(Blob)==="[object BlobConstructor]",_se=typeof File=="function"||typeof File<"u"&&yj.call(File)==="[object FileConstructor]";function yA(n){return vse&&(n instanceof ArrayBuffer||yse(n))||bse&&n instanceof Blob||_se&&n instanceof File}function q_(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let t=0,r=n.length;t<r;t++)if(q_(n[t]))return!0;return!1}if(yA(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return q_(n.toJSON(),!0);for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&q_(n[t]))return!0;return!1}function wse(n){let e=[],t=n.data,r=n;return r.data=pA(t,e),r.attachments=e.length,{packet:r,buffers:e}}function pA(n,e){if(!n)return n;if(yA(n)){let t={_placeholder:!0,num:e.length};return e.push(n),t}if(Array.isArray(n)){let t=new Array(n.length);for(let r=0;r<n.length;r++)t[r]=pA(n[r],e);return t}if(typeof n=="object"&&!(n instanceof Date)){let t={};for(let r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=pA(n[r],e));return t}return n}function xse(n,e){return n.data=gA(n.data,e),delete n.attachments,n}function gA(n,e){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=gA(n[t],e);else if(typeof n=="object")for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=gA(n[t],e));return n}var Cse=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var Un;(function(n){n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK"})(Un||(Un={}));function cj(n){return Object.prototype.toString.call(n)==="[object Object]"}var mA=class n extends Ei{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);let r=t.type===Un.BINARY_EVENT;r||t.type===Un.BINARY_ACK?(t.type=r?Un.EVENT:Un.ACK,this.reconstructor=new vA(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!yA(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0,r={type:Number(e.charAt(0))};if(Un[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Un.BINARY_EVENT||r.type===Un.BINARY_ACK){let o=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);let s=e.substring(o,t);if(s!=Number(s)||e.charAt(t)!=="-")throw new Error("Illegal attachments");r.attachments=Number(s)}if(e.charAt(t+1)==="/"){let o=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););r.nsp=e.substring(o,t)}else r.nsp="/";let i=e.charAt(t+1);if(i!==""&&Number(i)==i){let o=t+1;for(;++t;){let s=e.charAt(t);if(s==null||Number(s)!=s){--t;break}if(t===e.length)break}r.id=Number(e.substring(o,t+1))}if(e.charAt(++t)){let o=this.tryParse(e.substr(t));if(!n.isPayloadValid(r.type,o))throw new Error("invalid payload");r.data=o}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(t){return!1}}static isPayloadValid(e,t){switch(e){case Un.CONNECT:return cj(t);case Un.DISCONNECT:return t===void 0;case Un.CONNECT_ERROR:return typeof t=="string"||cj(t);case Un.EVENT:case Un.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&Cse.indexOf(t[0])===-1);case Un.ACK:case Un.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},vA=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let t=xse(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}},Sse=Object.freeze({__proto__:null,protocol:5,get PacketType(){return Un},Encoder:class{constructor(n){this.replacer=n}encode(n){return n.type!==Un.EVENT&&n.type!==Un.ACK||!q_(n)?[this.encodeAsString(n)]:this.encodeAsBinary({type:n.type===Un.EVENT?Un.BINARY_EVENT:Un.BINARY_ACK,nsp:n.nsp,data:n.data,id:n.id})}encodeAsString(n){let e=""+n.type;return n.type!==Un.BINARY_EVENT&&n.type!==Un.BINARY_ACK||(e+=n.attachments+"-"),n.nsp&&n.nsp!=="/"&&(e+=n.nsp+","),n.id!=null&&(e+=n.id),n.data!=null&&(e+=JSON.stringify(n.data,this.replacer)),e}encodeAsBinary(n){let e=wse(n),t=this.encodeAsString(e.packet),r=e.buffers;return r.unshift(t),r}},Decoder:mA});function ul(n,e,t){return n.on(e,t),function(){n.off(e,t)}}var Ese=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),$_=class extends Ei{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[ul(e,"open",this.onopen.bind(this)),ul(e,"packet",this.onpacket.bind(this)),ul(e,"error",this.onerror.bind(this)),ul(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(Ese.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;let r={type:Un.EVENT,data:t,options:{}};if(r.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){let o=this.ids++,s=t.pop();this._registerAckCallback(o,s),r.id=o}let i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(e,t){var r;let i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0)return void(this.acks[e]=t);let o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let s=0;s<this.sendBuffer.length;s++)this.sendBuffer[s].id===e&&this.sendBuffer.splice(s,1);t.call(this,new Error("operation has timed out"))},i);this.acks[e]=(...s)=>{this.io.clearTimeoutFn(o),t.apply(this,[null,...s])}}emitWithAck(e,...t){let r=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((i,o)=>{t.push((s,a)=>r?s?o(s):i(a):i(s)),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());let r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...o)=>{if(r===this._queue[0])return i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(i)):(this._queue.shift(),t&&t(null,...o)),r.pending=!1,this._drainQueue()}),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;let t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Un.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Un.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Un.EVENT:case Un.BINARY_EVENT:this.onevent(e);break;case Un.ACK:case Un.BINARY_ACK:this.onack(e);break;case Un.DISCONNECT:this.ondisconnect();break;case Un.CONNECT_ERROR:this.destroy();let t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){let t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let t=this._anyListeners.slice();for(let r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){let t=this,r=!1;return function(...i){r||(r=!0,t.packet({type:Un.ACK,id:e,data:i}))}}onack(e){let t=this.acks[e.id];typeof t=="function"&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Un.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let t=this._anyOutgoingListeners.slice();for(let r of t)r.apply(this,e.data)}}};function zp(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}zp.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=(1&Math.floor(10*e))==0?n-t:n+t}return 0|Math.min(n,this.max)},zp.prototype.reset=function(){this.attempts=0},zp.prototype.setMin=function(n){this.ms=n},zp.prototype.setMax=function(n){this.max=n},zp.prototype.setJitter=function(n){this.jitter=n};var O0=class extends Ei{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,W_(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((r=t.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new zp({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;let i=t.parser||Sse;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new mse(this.uri,this.opts);let t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;let i=ul(t,"open",function(){r.onopen(),e&&e()}),o=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},s=ul(t,"error",o);if(this._timeout!==!1){let a=this._timeout,l=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),t.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(i),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(ul(e,"ping",this.onping.bind(this)),ul(e,"data",this.ondata.bind(this)),ul(e,"error",this.onerror.bind(this)),ul(e,"close",this.onclose.bind(this)),ul(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){fA(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new $_(this,e,t),this.nsps[e]=r),r}_destroy(e){let t=Object.keys(this.nsps);for(let r of t)if(this.nsps[r].active)return;this._close()}_packet(e){let t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let t=this.backoff.duration();this._reconnecting=!0;let r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}},M0={};function P0(n,e){typeof n=="object"&&(e=n,n=void 0);let t=(function(l,c="",u){let d=l;u=u||typeof location<"u"&&location,l==null&&(l=u.protocol+"//"+u.host),typeof l=="string"&&(l.charAt(0)==="/"&&(l=l.charAt(1)==="/"?u.protocol+l:u.host+l),/^(https?|wss?):\/\//.test(l)||(l=u!==void 0?u.protocol+"//"+l:"https://"+l),d=hA(l)),d.port||(/^(http|ws)$/.test(d.protocol)?d.port="80":/^(http|ws)s$/.test(d.protocol)&&(d.port="443")),d.path=d.path||"/";let p=d.host.indexOf(":")!==-1?"["+d.host+"]":d.host;return d.id=d.protocol+"://"+p+":"+d.port+c,d.href=d.protocol+"://"+p+(u&&u.port===d.port?"":":"+d.port),d})(n,(e=e||{}).path||"/socket.io"),r=t.source,i=t.id,o=t.path,s=M0[i]&&o in M0[i].nsps,a;return e.forceNew||e["force new connection"]||e.multiplex===!1||s?a=new O0(r,e):(M0[i]||(M0[i]=new O0(r,e)),a=M0[i]),t.query&&!e.query&&(e.query=t.queryKey),a.socket(t.path,e)}Object.assign(P0,{Manager:O0,Socket:$_,io:P0,connect:P0});var bA=class{constructor(e){this.readURL=e.readURL??e.read_url,this.writeURL=e.writeURL??e.write_url,this.metadataURL=e.metadataURL??e.metadata_url,this.name=e.name??e.fsentry_name,this.uid=e.uid??e.uuid??e.fsentry_uid??e.fsentry_id??e.fsentry_uuid??e.id,this.id=this.uid,this.uuid=this.uid,this.path=e.path??e.fsentry_path,this.size=e.size??e.fsentry_size,this.accessed=e.accessed??e.fsentry_accessed,this.modified=e.modified??e.fsentry_modified,this.created=e.created??e.fsentry_created,this.isDirectory=!!(e.isDirectory||e.is_dir||e.fsentry_is_dir);let t={};Object.defineProperty(this,"_internalProperties",{enumerable:!1,value:t}),t.signature=e.signature??new URL(this.writeURL??this.readURL).searchParams.get("signature"),t.expires=e.expires??new URL(this.writeURL??this.readURL).searchParams.get("expires"),Object.defineProperty(t,"file_signature",{get:()=>({read_url:this.readURL,write_url:this.writeURL,metadata_url:this.metadataURL,fsentry_accessed:this.accessed,fsentry_modified:this.modified,fsentry_created:this.created,fsentry_is_dir:this.isDirectory,fsentry_size:this.size,fsentry_name:this.name,path:this.path,uid:this.uid})})}write=function(e){return L(this,null,function*(){return puter.fs.write(this.path,new File([e],this.name),{overwrite:!0,dedupeName:!1})})};watch=function(e){};open=function(e){};setAsWallpaper=function(e,t){};rename=function(e){return puter.fs.rename(this.uid,e)};move=function(e,t=!1,r){return puter.fs.move(this.path,e,t,r)};copy=function(e,t=!1,r=!1){return puter.fs.copy(this.path,e,t,r)};delete=function(){return puter.fs.delete(this.path)};versions=function(){return L(this,null,function*(){})};trash=function(){};mkdir=function(e,t=!1){return L(this,null,function*(){if(!this.isDirectory)throw new Error("mkdir() can only be called on a directory");return puter.fs.mkdir(Bn.join(this.path,e))})};metadata=function(){return L(this,null,function*(){})};readdir=function(){return L(this,null,function*(){if(!this.isDirectory)throw new Error("readdir() can only be called on a directory");return puter.fs.readdir(this.path)})};read=function(){return L(this,null,function*(){return puter.fs.read(this.path)})}},To=bA;var Dse=n=>(puter.env==="gui"&&!n||/^[0-9a-f]{8}(-[0-9a-f]{4}){3}-[0-9a-f]{12}$/i.test(n)||(n||(n="."),(!n||!n.startsWith("/")&&!n.startsWith("~"))&&(puter.appID?n=Bn.join("~/AppData",puter.appID,n):n=Bn.join("~/",n))),n),cr=Dse;var Ise=function(...n){let e;return typeof n[0]=="object"&&n[0]!==null?e=n[0]:e={source:n[0],destination:n[1],overwrite:n[2]?.overwrite,new_name:n[2]?.newName||n[2]?.new_name,create_missing_parents:n[2]?.createMissingParents||n[2]?.create_missing_parents,new_metadata:n[2]?.newMetadata||n[2]?.new_metadata,original_client_socket_id:n[2]?.excludeSocketID||n[2]?.original_client_socket_id,success:n[3],error:n[4]},new Promise((t,r)=>L(this,null,function*(){if(!puter.authToken&&puter.env==="web")try{yield puter.ui.authenticateWithPuter()}catch(o){r("Authentication failed.")}e.source=cr(e.source),e.destination=cr(e.destination);let i=kn("/copy",this.APIOrigin,this.authToken);Vn(i,e.success,e.error,t,r),i.send(JSON.stringify({original_client_socket_id:this.socket.id,socket_id:this.socket.id,source:e.source,destination:e.destination,overwrite:e.overwrite,new_name:e.new_name||e.newName,dedupe_name:e.dedupe_name||e.dedupeName}))}))},bj=Ise;var Ase=function(...n){return L(this,null,function*(){let e;typeof n[0]=="object"&&n[0]!==null?e=n[0]:e={paths:n[0],recursive:n[1]?.recursive??!0,descendantsOnly:n[1]?.descendantsOnly??!1};let t=e.paths;return typeof t=="string"&&(t=[t]),new Promise((r,i)=>L(this,null,function*(){if(!puter.authToken&&puter.env==="web")try{yield puter.ui.authenticateWithPuter()}catch(s){i("Authentication failed.")}let o=kn("/delete",this.APIOrigin,this.authToken);Vn(o,e.success,e.error,r,i),t=t.map(s=>cr(s)),o.send(JSON.stringify({paths:t,descendants_only:(e.descendants_only||e.descendantsOnly)??!1,recursive:e.recursive??!0}))}))})},_j=Ase;var R0=new Map,Tse=2e3,Mse=function(...n){return L(this,null,function*(){let e;return typeof n[0]=="object"&&n[0]!==null?e=n[0]:e={path:n[0],options:typeof n[1]=="object"?n[1]:{},success:typeof n[1]=="object"?n[2]:n[1],error:typeof n[1]=="object"?n[3]:n[2]},new Promise((t,r)=>L(this,null,function*(){e.consistency||(e.consistency="strong");let i;if(e.path&&(i=`item:${e.path}`),e.consistency==="eventual"&&!e.returnSubdomains&&!e.returnPermissions&&!e.returnVersions&&!e.returnSize){let c=yield puter._cache.get(i);if(c){t(c);return}}let o=JSON.stringify({path:e.path,uid:e.uid,returnSubdomains:e.returnSubdomains,returnPermissions:e.returnPermissions,returnVersions:e.returnVersions,returnSize:e.returnSize,consistency:e.consistency}),s=R0.get(o),a=Date.now();if(s)if(a-s.timestamp<Tse){try{let u=yield s.promise;t(u)}catch(u){r(u)}return}else R0.delete(o);let l=new Promise((c,u)=>L(this,null,function*(){if(!puter.authToken&&puter.env==="web")try{yield puter.ui.authenticateWithPuter()}catch(f){u("Authentication failed.");return}let d=kn("/stat",this.APIOrigin,void 0,"post","text/plain;actually=json");Vn(d,e.success,e.error,f=>L(this,null,function*(){let b=JSON.stringify(f).length,_=20*1024*1024;b<=_&&puter._cache.set(i,f),c(f)}),u);let p={};e.uid!==void 0?p.uid=e.uid:e.path!==void 0&&(p.path=cr(e.path)),p.return_subdomains=e.returnSubdomains,p.return_permissions=e.returnPermissions,p.return_versions=e.returnVersions,p.return_size=e.returnSize,p.auth_token=this.authToken,d.send(JSON.stringify(p))}));R0.set(o,{promise:l,timestamp:a});try{let c=yield l;R0.delete(o),t(c)}catch(c){R0.delete(o),r(c)}}))})},Hp=Mse;var kse=function(n,e="24h"){return L(this,null,function*(){return new Promise((t,r)=>L(this,null,function*(){if(!puter.authToken&&puter.env==="web")try{yield puter.ui.authenticateWithPuter()}catch(i){r("Authentication failed.")}try{let{uid:i,is_dir:o}=yield Hp.call(this,n);if(o){r("Cannot create readUrl for directory");return}let s=kn("/auth/create-access-token",this.APIOrigin,this.authToken);Vn(s,()=>{},()=>{},({token:a})=>{t(`${this.APIOrigin}/token-read?uid=${encodeURIComponent(i)}&token=${encodeURIComponent(a)}`)},r),s.send(JSON.stringify({expiresIn:e,permissions:[`fs:${i}:read`]}))}catch(i){r(i)}}))})},wj=kse;var Nse=function(...n){let e={};return typeof n[0]=="string"&&typeof n[1]=="object"&&!(n[1]instanceof Function)||typeof n[0]=="object"&&n[0]!==null?typeof n[0]=="string"?(e.path=n[0],Object.assign(e,n[1]),e.success=n[2],e.error=n[3]):e=n[0]:typeof n[0]=="string"&&(e.path=n[0],e.success=n[1],e.error=n[2]),new Promise((t,r)=>L(this,null,function*(){if(!puter.authToken&&puter.env==="web")try{yield puter.ui.authenticateWithPuter()}catch(o){r("Authentication failed.")}let i=kn("/mkdir",this.APIOrigin,this.authToken);Vn(i,e.success,e.error,t,r),e.path=cr(e.path),i.send(JSON.stringify({parent:Bn.dirname(e.path),path:Bn.basename(e.path),overwrite:e.overwrite??!1,dedupe_name:(e.rename||e.dedupeName)??!1,shortcut_to:e.shortcutTo,original_client_socket_id:this.socket.id,create_missing_parents:(e.recursive||e.createMissingParents)??!1}))}))},xj=Nse;var Pse=function(...n){let e;return typeof n[0]=="object"&&n[0]!==null?e=n[0]:e={source:n[0],destination:n[1],overwrite:n[2]?.overwrite,new_name:n[2]?.newName||n[2]?.new_name,create_missing_parents:n[2]?.createMissingParents||n[2]?.create_missing_parents,new_metadata:n[2]?.newMetadata||n[2]?.new_metadata,original_client_socket_id:n[2]?.excludeSocketID||n[2]?.original_client_socket_id},new Promise((t,r)=>L(this,null,function*(){if(!puter.authToken&&puter.env==="web")try{yield puter.ui.authenticateWithPuter()}catch(o){r("Authentication failed.")}if(e.source=cr(e.source),e.destination=cr(e.destination),!e.new_name)try{if(!(yield Hp.bind(this)(e.destination)).is_dir)throw"is not directory"}catch(o){e.new_name=Bn.basename(e.destination),e.destination=Bn.dirname(e.destination)}let i=kn("/move",this.APIOrigin,this.authToken);Vn(i,e.success,e.error,t,r),i.send(JSON.stringify({source:e.source,destination:e.destination,overwrite:e.overwrite,new_name:e.new_name||e.newName,create_missing_parents:e.create_missing_parents||e.createMissingParents,new_metadata:e.new_metadata||e.newMetadata,original_client_socket_id:e.excludeSocketID}))}))},Cj=Pse;var Ose=function(...n){let e;return typeof n[0]=="object"&&n[0]!==null?e=n[0]:e=Fe({path:typeof n[0]=="string"?n[0]:typeof n[0]=="object"&&n[0]!==null?n[0].path:n[0]},typeof n[1]=="object"?n[1]:{success:n[1],error:n[2]}),new Promise((t,r)=>L(this,null,function*(){if(!puter.authToken&&puter.env==="web")try{yield puter.ui.authenticateWithPuter()}catch(o){r("Authentication failed.")}e.path=cr(e.path);let i=kn(`/read?${new URLSearchParams(Fe(Fe({file:e.path},e.offset?{offset:e.offset}:{}),e.byte_count?{byte_count:e.byte_count}:{})).toString()}`,this.APIOrigin,this.authToken,"get","application/json;charset=UTF-8","blob");Vn(i,e.success,e.error,t,r),i.send()}))},Sj=Ose;var L0=new Map,Rse=2e3,Lse=function(...n){return L(this,null,function*(){let e;return typeof n[0]=="object"&&n[0]!==null?e=n[0]:e={path:n[0],success:n[1],error:n[2]},new Promise((t,r)=>L(this,null,function*(){if(e.consistency||(e.consistency="strong"),!e.path&&!e.uid)throw new Error({code:"NO_PATH_OR_UID",message:"Either path or uid must be provided."});let i;if(e.path&&(i=`readdir:${e.path}`),e.consistency==="eventual"){let c=yield puter._cache.get(i);if(c){t(c);return}}let o=JSON.stringify({path:e.path,uid:e.uid,no_thumbs:e.no_thumbs,no_assocs:e.no_assocs,no_subdomains:e.no_subdomains,consistency:e.consistency}),s=L0.get(o),a=Date.now();if(s)if(a-s.timestamp<Rse){try{let u=yield s.promise;t(u)}catch(u){r(u)}return}else L0.delete(o);let l=new Promise((c,u)=>L(this,null,function*(){if(!puter.authToken&&puter.env==="web")try{yield puter.ui.authenticateWithPuter()}catch(f){u("Authentication failed.");return}let d=kn("/readdir",this.APIOrigin,void 0,"post","text/plain;actually=json");Vn(d,e.success,e.error,f=>L(this,null,function*(){let b=JSON.stringify(f).length,_=100*1024*1024;b<=_&&puter._cache.set(i,f);for(let C of f)puter._cache.set(`item:${C.path}`,C);c(f)}),u);let p={no_thumbs:e.no_thumbs,no_assocs:e.no_assocs,no_subdomains:e.no_subdomains,auth_token:this.authToken};e.uid?p.uid=e.uid:e.path&&(p.path=cr(e.path)),d.send(JSON.stringify(p))}));L0.set(o,{promise:l,timestamp:a});try{let c=yield l;L0.delete(o),t(c)}catch(c){L0.delete(o),r(c)}}))})},Ej=Lse;var Fse=function(n){return L(this,null,function*(){return new Promise((e,t)=>L(this,null,function*(){if(!n||typeof n!="object"){t(new Error("Options object is required"));return}if(!Array.isArray(n.directory_ids)||n.directory_ids.length===0){t(new Error("directory_ids must be a non-empty array"));return}if(!puter.authToken&&puter.env==="web")try{yield puter.ui.authenticateWithPuter()}catch(o){t(new Error("Authentication failed."));return}let r=kn("/readdir-subdomains",this.APIOrigin,void 0,"post","text/plain;actually=json");Vn(r,n.success,n.error,o=>L(this,null,function*(){e(o)}),t);let i={directory_ids:n.directory_ids,auth_token:this.authToken};r.send(JSON.stringify(i))}))})},Dj=Fse;var jse=function(...n){let e;return typeof n[0]=="object"&&n[0]!==null?e=n[0]:e={path:n[0],new_name:n[1],success:n[2],error:n[3]},new Promise((t,r)=>L(this,null,function*(){if(!puter.authToken&&puter.env==="web")try{yield puter.ui.authenticateWithPuter()}catch(s){r("Authentication failed.")}let i=kn("/rename",this.APIOrigin,this.authToken);Vn(i,e.success,e.error,t,r);let o={original_client_socket_id:e.excludeSocketID||e.original_client_socket_id,new_name:e.new_name||e.newName};e.uid!==void 0?o.uid=e.uid:e.path!==void 0&&(o.path=cr(e.path)),i.send(JSON.stringify(o))}))},Ij=jse;var Bse=function(n){return L(this,null,function*(){return new Promise((e,t)=>L(this,null,function*(){if(!puter.authToken&&puter.env==="web")try{yield puter.ui.authenticateWithPuter()}catch(r){t("Authentication failed.");return}try{let r=kn("/auth/revoke-access-token",this.APIOrigin,this.authToken);Vn(r,()=>{},()=>{},()=>e(),t),r.send(JSON.stringify({tokenOrUuid:typeof n=="string"?n.trim():String(n)}))}catch(r){t(r)}}))})},Aj=Bse;var Vse=function(...n){let e;return e={app_uid:n[0],items:n[1],success:n[2],error:n[3]},new Promise((t,r)=>L(this,null,function*(){if(!puter.authToken&&puter.env==="web")try{yield puter.ui.authenticateWithPuter()}catch(s){r("Authentication failed.")}let i=e.items;Array.isArray(i)||(i=[i]);let o=kn("/sign",this.APIOrigin,this.authToken);o.addEventListener("load",function(s){return L(this,null,function*(){let a=yield Uf(this);if(this.status!==200)return e.error&&typeof e.error=="function"&&e.error(a),r(a);{let l=a,c,u=l.token;if(i.length==1)c=Fe({},l.signatures[0]);else{let d=[];for(let p=0;p<l.signatures.length;p++)d.push(Fe({},l.signatures[p]));c=d}return e.success&&typeof e.success=="function"&&e.success({token:u,items:c}),t({token:u,items:c})}})}),o.upload.addEventListener("progress",function(s){}),o.addEventListener("error",function(s){return F_(e.error,r,this)}),o.send(JSON.stringify({app_uid:e.app_uid,items:i}))}))},Tj=Vse;var Use=function(...n){let e;return typeof n[0]=="object"&&n[0]!==null?e=n[0]:e={success:n[0],error:n[1]},new Promise((t,r)=>L(this,null,function*(){if(!puter.authToken&&puter.env==="web")try{yield puter.ui.authenticateWithPuter()}catch(o){r("Authentication failed.")}let i=kn("/df",this.APIOrigin,this.authToken);Vn(i,e.success,e.error,t,r),i.send()}))},Mj=Use;var zse=function(n,e){return L(this,null,function*(){if(!puter.authToken&&puter.env==="web")try{yield puter.ui.authenticateWithPuter()}catch(s){throw"Authentication failed."}e=cr(e),n=cr(n);let t=Bn.basename(e),i={op:"symlink",path:Bn.dirname(e),name:t,target:n},o=new FormData;o.append("operation",JSON.stringify(i));try{let s=yield fetch(`${this.APIOrigin}/batch`,{method:"POST",headers:{Authorization:`Bearer ${puter.authToken}`},body:o});if(s.status!==200){let a=yield s.text();throw console.error("[symlink] fetch error: ",a),a}}catch(s){throw console.error("[symlink] fetch error: ",s),s}})},kj=zse;var Hse=2*1024*1024,qse=128,$se=32,Wse=n=>{if(!n)return!1;if(n.type&&n.type.startsWith("image/"))return!0;let e=(n.name||"").toLowerCase();return[".png",".jpg",".jpeg",".gif",".bmp",".webp",".tiff",".avif",".jfif"].some(t=>e.endsWith(t))},Gse=n=>{if(!n)return 0;let e=n.indexOf(","),t=e===-1?n:n.slice(e+1);return Math.ceil(t.length*3/4)},Yse=(n,e,t)=>{let r=Math.max(n,e)||1,i=Math.min(1,t/r),o=Math.max(1,Math.round(n*i)),s=Math.max(1,Math.round(e*i));return{width:o,height:s}},Kse=n=>new Promise((e,t)=>{if(typeof document>"u"||typeof URL>"u"||typeof Image>"u")return e(null);let r=URL.createObjectURL(n),i=new Image;i.onload=()=>{URL.revokeObjectURL(r),e(i)},i.onerror=o=>{URL.revokeObjectURL(r),t(o)},i.src=r}),Qse=(n,e,t,r)=>{if(!n||typeof document>"u")return null;let{width:i,height:o}=Yse(n.naturalWidth||n.width,n.naturalHeight||n.height,e),s=document.createElement("canvas");s.width=i,s.height=o;let a=s.getContext("2d");if(!a)return null;a.drawImage(n,0,0,i,o);try{return s.toDataURL(t,r)}catch(l){return null}},Zse=n=>L(null,null,function*(){try{if(typeof document>"u"||typeof File>"u"||!(n instanceof File)||!Wse(n))return;let e=yield Kse(n);if(!e)return;let t=qse,r=[{type:"image/webp",quality:.85},{type:"image/jpeg",quality:.8},{type:"image/png"}];for(;t>=$se;){for(let{type:i,quality:o}of r){let s=Qse(e,t,i,o);if(s&&Gse(s)<=Hse)return s}t=Math.floor(t/2)}}catch(e){return}}),Xse=function(r,i){return L(this,arguments,function*(n,e,t={}){return new Promise((o,s)=>L(this,null,function*(){let a=globalThis.DataTransfer||class{},l=globalThis.FileList||class{},c=globalThis.DataTransferItemList||class{};if(!puter.authToken&&puter.env==="web")try{yield puter.ui.authenticateWithPuter()}catch(V){s(V)}let u=V=>(t.error&&typeof t.error=="function"&&t.error(V),s(V)),d=new XMLHttpRequest;if(e==="/")return u("Can not upload to root directory.");e=cr(e);let p=G8();t.init&&typeof t.init=="function"&&t.init(p,d);let f=0,b=0,_,C=0,S=0,A=!1;if(Array.isArray(n)&&n.length>0)for(let V=0;V<n.length;V++)(n[V]instanceof a||n[V]instanceof c)&&(A=!0);if(n instanceof c||n instanceof a||n[0]instanceof a||t.parsedDataTransferItems)t.parsedDataTransferItems?_=n:_=yield puter.ui.getEntriesFromDataTransferItems(n),_.sort((V,Q)=>V.isDirectory&&!Q.isDirectory?-1:!V.isDirectory&&Q.isDirectory?1:V.isDirectory&&Q.isDirectory?0:V.size-Q.size);else if(n instanceof File||n[0]instanceof File||n instanceof l||n[0]instanceof l){Array.isArray(n)?_=n:_=n instanceof l?Array.from(n):[n],_.sort((V,Q)=>V.size-Q.size);for(let V=0;V<_.length;V++)_[V].filepath=_[V].name,_[V].fullPath=_[V].name}else if(n instanceof Blob){_=[new File([n],t.name,{type:"application/octet-stream"})];for(let Q=0;Q<_.length;Q++)_[Q].filepath=_[Q].name,_[Q].fullPath=_[Q].name}else if(typeof n=="string"){_=[new File([n],"default.txt",{type:"text/plain"})];for(let Q=0;Q<_.length;Q++)_[Q].filepath=_[Q].name,_[Q].fullPath=_[Q].name}else return u({code:"field_invalid",message:"upload() items parameter is an invalid type"});let F=[],P={},U=[];for(let V=0;V<_.length;V++)if(_[V]){if(_[V].isDirectory)F.push({path:Bn.join(e,_[V].finalPath?_[V].finalPath:_[V].fullPath)});else{let Q=_[V].finalPath?_[V].finalPath:_[V].fullPath,[xe,oe]=[Q?.slice(0,Q?.lastIndexOf("/")),Q?.slice(Q?.lastIndexOf("/")+1)];if(oe!=""&&U.push(_[V]),t.createFileParent&&Q.includes("/")){let Z;xe.split("/").forEach(ie=>{Z=Z?`${Z}/${ie}`:ie;let Me=Bn.join(e,Z);P[Me]||(P[Me]=!0,F.push({path:Me}))})}}_[V].size!==void 0&&(C+=_[V].size,S++)}if(F.length===0&&U.length===0)return u({code:"EMPTY_UPLOAD",message:"No files or directories to upload."});let se=[],he=t.generateThumbnails||t.thumbnailGenerator;if(U.length&&he){let V=t.thumbnailGenerator||Zse;se=yield Promise.all(U.map(Q=>L(null,null,function*(){try{return yield V(Q)}catch(xe){return}})))}let Y;if(puter.env!=="web")try{if(Y=yield this.space(),Y.capacity-Y.used<C)return u({code:"NOT_ENOUGH_SPACE",message:"Not enough storage space available."})}catch(V){}C=C*2;let H=new FormData;F.sort((V,Q)=>Q.path.length-V.path.length);let pe=[];for(let V=0;V<F.length;V++){for(let Q=0;Q<U.length;Q++)!U[Q].puter_path_param&&Bn.join(e,U[Q].filepath).startsWith(`${F[V].path}/`)&&(U[Q].puter_path_param=`$dir_${V}/${Bn.basename(U[Q].filepath)}`);for(let Q=0;Q<F.length;Q++)!F[Q].puter_path_param&&F[Q].path.startsWith(`${F[V].path}/`)&&(F[Q].puter_path_param=`$dir_${V}/${Bn.basename(F[Q].path)}`)}for(let V=0;V<F.length;V++){let Q=Bn.dirname(F[V].puter_path_param||F[V].path),xe=F[V].puter_path_param||F[V].path;Q!=="/"&&(xe=xe.replace(Q,"")),pe.push({op:"mkdir",parent:Q,path:xe,overwrite:t.overwrite??!1,dedupe_name:t.dedupeName??!0,create_missing_ancestors:t.createMissingAncestors??!0,as:`dir_${V}`})}pe.reverse(),H.append("operation_id",p),H.append("socket_id",this.socket.id),H.append("original_client_socket_id",this.socket.id);for(let V=0;V<pe.length;V++)H.append("operation",JSON.stringify(pe[V]));if(!t.shortcutTo)for(let V=0;V<U.length;V++){let Q=se[V]??t.thumbnail??void 0,xe={name:U[V].name,type:U[V].type,size:U[V].size};Q&&(xe.thumbnail=Q),H.append("fileinfo",JSON.stringify(Fe({},xe)))}for(let V=0;V<U.length;V++){let Q=se[V]??t.thumbnail??void 0,xe={op:t.shortcutTo?"shortcut":"write",dedupe_name:t.dedupeName??!0,overwrite:t.overwrite??!1,thumbnail:Q,create_missing_ancestors:t.createMissingAncestors||t.createMissingParents,operation_id:p,path:U[V].puter_path_param&&Bn.dirname(U[V].puter_path_param??"")||U[V].filepath&&Bn.join(e,Bn.dirname(U[V].filepath))||"",name:Bn.basename(U[V].filepath),item_upload_id:V,shortcut_to:t.shortcutTo,shortcut_to_uid:t.shortcutTo,app_uid:t.appUID};Q===void 0&&delete xe.thumbnail,H.append("operation",JSON.stringify(xe))}if(!t.shortcutTo)for(let V=0;V<U.length;V++)H.append("file",U[V]??"");let O=V=>{V.operation_id===p&&(b+=V.loaded_diff)};this.socket.on("upload.progress",O);let $=null;d.open("post",`${this.APIOrigin}/batch`,!0),d.setRequestHeader("Authorization",`Bearer ${this.authToken}`),d.upload.addEventListener("progress",function(V){let Q;$===null?(Q=V.loaded,$=0):Q=V.loaded-$,$+=Q,f+=Q;let xe=((b+f)/C*100).toFixed(2);xe=xe>100?100:xe,t.progress&&typeof t.progress=="function"&&t.progress(p,xe)});let le=setInterval(function(){let V=((b+f)/C*100).toFixed(2);V=V>100?100:V,t.progress&&typeof t.progress=="function"&&t.progress(p,V)},100);d.onabort=()=>{clearInterval(le),this.socket.off("upload.progress",O),t.abort&&typeof t.abort=="function"&&t.abort(p)},d.onreadystatechange=V=>L(this,null,function*(){if(d.readyState===4){let Q=yield Uf(d);if(d.status>=400&&d.status<600||t.strict&&d.status===218){if(clearInterval(le),this.socket.off("upload.progress",O),t.strict&&d.status===218){let xe;for(let oe=0;oe<Q.results?.length;oe++)if(Q.results[oe].status!==200){xe=Q.results[oe];break}return u(xe)}return u(Q)}else{(!Q||!Q.results||Q.results.length===0)&&puter.debugMode&&console.log("no results");let xe=Q.results;return xe=xe.length===1?xe[0]:xe,t.success&&typeof t.success=="function"&&t.success(xe),clearInterval(le),this.socket.off("upload.progress",O),o(xe)}}}),t.start&&typeof t.start=="function"&&t.start(),d.send(H)}))})},Nj=Xse;var Jse=function(r,i){return L(this,arguments,function*(n,e,t={}){if(!n)throw new Error({code:"NO_TARGET_PATH",message:"No target path provided."});n instanceof File&&e===void 0&&(e=n,n=e.name),t.strict=!0,t.overwrite=t.overwrite??!0,t.overwrite&&t.dedupeName===void 0&&(t.dedupeName=!1),n=cr(n);let o=Bn.basename(n),s=Bn.dirname(n);if(typeof e=="string"?e=new File([e??""],o??"Untitled.txt",{type:"text/plain"}):e instanceof Blob?e=new File([e??""],o??"Untitled",{type:e.type}):(e instanceof ArrayBuffer||ArrayBuffer.isView(e))&&(e=new File([e],o??"Untitled",{type:"application/octet-stream"})),e||(e=new File([e??""],o)),!(e instanceof File))throw new Error({code:"field_invalid",message:"write() data parameter is an invalid type"});return this.upload(e,s,t)})},Pj=Jse;var G_="last_valid_ts",Y_=class{space=Mj;mkdir=xj;copy=bj;rename=Ij;upload=Nj;read=Sj;delete=_j;move=Cj;write=Pj;sign=Tj;symlink=kj;getReadURL=wj;revokeReadURL=Aj;readdir=Ej;readdirSubdomains=Dj;stat=Hp;FSItem=To;constructor(e){this.puter=e,this.authToken=e.authToken,this.APIOrigin=e.APIOrigin,this.appID=e.appID,this.cacheUpdateTimer=null,this.initializeSocket();let t={};Object.defineProperty(t,"authToken",{get:()=>this.authToken}),Object.defineProperty(t,"APIOrigin",{get:()=>this.APIOrigin})}initializeSocket(){this.socket&&this.socket.disconnect(),this.socket=P0(this.APIOrigin,{auth:{auth_token:this.authToken},autoUnref:this.puter.env==="nodejs"}),this.bindSocketEvents()}bindSocketEvents(){this.socket.on("item.renamed",e=>{puter._cache.flushall(),console.log("Flushed cache for item.renamed")}),this.socket.on("item.removed",e=>{puter._cache.flushall(),console.log("Flushed cache for item.removed")}),this.socket.on("item.added",e=>{puter._cache.del(`readdir:${Bn.dirname(e.path)}`),console.log(`deleted cache for readdir:${Bn.dirname(e.path)}`),puter._cache.del(`item:${Bn.dirname(e.path)}`),console.log(`deleted cache for item:${Bn.dirname(e.path)}`)}),this.socket.on("item.updated",e=>{puter._cache.flushall(),console.log("Flushed cache for item.updated")}),this.socket.on("item.moved",e=>{puter._cache.flushall(),console.log("Flushed cache for item.moved")}),this.socket.on("connect",()=>{puter.debugMode&&console.log("FileSystem Socket: Connected",this.socket.id)}),this.socket.on("disconnect",()=>{puter.debugMode&&console.log("FileSystem Socket: Disconnected")}),this.socket.on("reconnect",e=>{puter.debugMode&&console.log("FileSystem Socket: Reconnected",this.socket.id)}),this.socket.on("reconnect_attempt",e=>{puter.debugMode&&console.log("FileSystem Socket: Reconnection Attemps",e)}),this.socket.on("reconnect_error",e=>{puter.debugMode&&console.log("FileSystem Socket: Reconnection Error",e)}),this.socket.on("reconnect_failed",()=>{puter.debugMode&&console.log("FileSystem Socket: Reconnection Failed")}),this.socket.on("error",e=>{puter.debugMode&&console.error("FileSystem Socket Error:",e)})}setAuthToken(e){this.authToken=e,this.puter.env==="gui"&&(this.checkCacheAndPurge(),this.startCacheUpdateTimer()),this.initializeSocket()}setAPIOrigin(e){this.APIOrigin=e,this.initializeSocket()}invalidateCache(){localStorage.setItem(G_,"0"),puter._cache.flushall()}getCacheTimestamp(){return L(this,null,function*(){return new Promise((e,t)=>{let r=kn("/cache/last-change-timestamp",this.APIOrigin,this.authToken,"get","application/json");Vn(r,void 0,void 0,i=>L(this,null,function*(){try{let o=typeof i=="string"?JSON.parse(i):i;e(o.timestamp||Date.now())}catch(o){t(new Error("Failed to parse response"))}}),t),r.send()})})}checkCacheAndPurge(){return L(this,null,function*(){try{let e=yield this.getCacheTimestamp(),t=parseInt(localStorage.getItem(G_))||0;e-t>2e3&&(console.log("Cache is not up to date, purging cache"),puter._cache.flushall(),localStorage.setItem(G_,"0"))}catch(e){console.error("Error checking cache timestamp:",e)}})}startCacheUpdateTimer(){this.puter.env==="gui"&&(this.cacheUpdateTimer=setInterval(()=>{localStorage.setItem(G_,Date.now().toString())},1e3))}stopCacheUpdateTimer(){this.cacheUpdateTimer&&(clearInterval(this.cacheUpdateTimer),this.cacheUpdateTimer=null)}};var _A=class{constructor(e){this.puter=e,this.authToken=e.authToken,this.APIOrigin=e.APIOrigin,this.appID=e.appID}setAuthToken(e){this.authToken=e}setAPIOrigin(e){this.APIOrigin=e}list=(...e)=>L(null,null,function*(){return(yield xn([],"puter-subdomains",void 0,"select")(...e)).filter(t=>!t.subdomain.startsWith("workers.puter."))});create=(...e)=>L(this,null,function*(){let t={};return typeof e[0]=="string"&&e.length===1?(e[0].match(/^[a-z0-9]+\.puter\.(site|com)$/)&&(e[0]=e[0].split(".")[0]),t={object:{subdomain:e[0]}}):Array.isArray(e)&&e.length===2&&typeof e[0]=="string"?(e[0].match(/^[a-z0-9]+\.puter\.(site|com)$/)&&(e[0]=e[0].split(".")[0]),e[1]&&(e[1]=cr(e[1])),t={object:{subdomain:e[0],root_dir:e[1]}}):typeof e[0]=="object"&&(t={object:e[0]}),yield xn(["object"],"puter-subdomains",void 0,"create").call(this,t)});update=(...e)=>L(this,null,function*(){let t={};return Array.isArray(e)&&typeof e[0]=="string"&&(e[0].match(/^[a-z0-9]+\.puter\.(site|com)$/)&&(e[0]=e[0].split(".")[0]),e[1]&&(e[1]=cr(e[1])),t={id:{subdomain:e[0]},object:{root_dir:e[1]??null}}),yield xn(["object"],"puter-subdomains",void 0,"update").call(this,t)});get=(...e)=>L(this,null,function*(){let t={};return Array.isArray(e)&&typeof e[0]=="string"&&(e[0].match(/^[a-z0-9]+\.puter\.(site|com)$/)&&(e[0]=e[0].split(".")[0]),t={id:{subdomain:e[0]}}),xn(["uid"],"puter-subdomains",void 0,"read").call(this,t)});delete=(...e)=>L(this,null,function*(){let t={};return Array.isArray(e)&&typeof e[0]=="string"&&(e[0].match(/^[a-z0-9]+\.puter\.(site|com)$/)&&(e[0]=e[0].split(".")[0]),t={id:{subdomain:e[0]}}),xn(["uid"],"puter-subdomains",void 0,"delete").call(this,t)})},Oj=_A;var Rj=()=>{let n,e;return{promise:new Promise((r,i)=>{n=r,e=i}),resolve:n,reject:e}},K_=["has_set_default_app_user_permissions","window_sidebar_width","sidebar_items","menubar_style","user_preferences.auto_arrange_desktop","user_preferences.show_hidden_files","user_preferences.language","user_preferences.clock_visible","toolbar_auto_hide_enabled","has_seen_welcome_window","desktop_item_positions","desktop_icons_hidden","taskbar_position","has_seen_toolbar_animation"],wA=class{MAX_KEY_SIZE=1024;MAX_VALUE_SIZE=399*1024;constructor(e){this.puter=e,this.authToken=e.authToken,this.APIOrigin=e.APIOrigin,this.appID=e.appID,this.gui_cached=Rj(),this.gui_cache_init=Rj(),L(this,null,function*(){yield this.gui_cache_init.promise,this.gui_cache_init=null;let r=yield(yield fetch(`${this.APIOrigin}/drivers/call`,{method:"POST",headers:{"Content-Type":"text/plain;actually=json"},body:JSON.stringify({interface:"puter-kvstore",method:"get",args:{key:K_},auth_token:this.authToken})})).json();if(!Array.isArray(r?.result)){this.gui_cached.resolve({}),setTimeout(()=>{this.gui_cached=null},4e3);return}let i={};for(let o=0;o<K_.length;o++)i[K_[o]]=r.result[o];this.gui_cached.resolve(i),setTimeout(()=>{this.gui_cached=null},4e3)})}setAuthToken(e){this.authToken=e}setAPIOrigin(e){this.APIOrigin=e}set=xn(["key","value","expireAt"],"puter-kvstore",void 0,"set",{preprocess:e=>{if(e.key===void 0||e.key===null)throw{message:"Key cannot be undefined",code:"key_undefined"};if(e.key.length>this.MAX_KEY_SIZE)throw{message:`Key size cannot be larger than ${this.MAX_KEY_SIZE}`,code:"key_too_large"};if(e.value&&e.value.length>this.MAX_VALUE_SIZE)throw{message:`Value size cannot be larger than ${this.MAX_VALUE_SIZE}`,code:"value_too_large"};return e}});get(...e){return L(this,null,function*(){return typeof e[0]=="string"&&K_.includes(e[0])&&this.gui_cached!==null?(this.gui_cache_init&&this.gui_cache_init.resolve(),(yield this.gui_cached.promise)[e[0]]):yield this.get_(...e)})}get_=xn(["key"],"puter-kvstore",void 0,"get",{preprocess:e=>{if(e.key.length>this.MAX_KEY_SIZE)throw{message:`Key size cannot be larger than ${this.MAX_KEY_SIZE}`,code:"key_too_large"};return e},transform:e=>e});incr=(...e)=>L(this,null,function*(){let t={};if(!e||e.length===0)throw{message:"Arguments are required",code:"arguments_required"};if(t.key=e[0],t.pathAndAmountMap=e[1]?typeof e[1]=="number"?{"":e[1]}:e[1]:{"":1},t.key.length>this.MAX_KEY_SIZE)throw{message:`Key size cannot be larger than ${this.MAX_KEY_SIZE}`,code:"key_too_large"};return xn(["key"],"puter-kvstore",void 0,"incr").call(this,t)});decr=(...e)=>L(this,null,function*(){let t={};if(!e||e.length===0)throw{message:"Arguments are required",code:"arguments_required"};if(t.key=e[0],t.pathAndAmountMap=e[1]?typeof e[1]=="number"?{"":e[1]}:e[1]:{"":1},t.key.length>this.MAX_KEY_SIZE)throw{message:`Key size cannot be larger than ${this.MAX_KEY_SIZE}`,code:"key_too_large"};return xn(["key"],"puter-kvstore",void 0,"decr").call(this,t)});add=(...e)=>L(this,null,function*(){let t={};if(!e||e.length===0)throw{message:"Arguments are required",code:"arguments_required"};t.key=e[0];let r=e[1],i=r&&typeof r=="object"&&!Array.isArray(r);if(t.pathAndValueMap=r===void 0?{"":1}:i?r:{"":r},t.key.length>this.MAX_KEY_SIZE)throw{message:`Key size cannot be larger than ${this.MAX_KEY_SIZE}`,code:"key_too_large"};return xn(["key"],"puter-kvstore",void 0,"add").call(this,t)});remove=(...e)=>L(this,null,function*(){if(!e||e.length<2)throw{message:"At least one path is required",code:"arguments_required"};let t=e[0],r=e.slice(1);if(Array.isArray(r[0])&&r.length===1)throw{message:"Paths must be provided as separate arguments",code:"paths_invalid"};if(t==null)throw{message:"Key cannot be undefined",code:"key_undefined"};if(t.length>this.MAX_KEY_SIZE)throw{message:`Key size cannot be larger than ${this.MAX_KEY_SIZE}`,code:"key_too_large"};if(r.length===0)throw{message:"At least one path is required",code:"arguments_required"};if(r.some(i=>typeof i!="string"))throw{message:"All paths must be strings",code:"paths_invalid"};return xn(["key","paths"],"puter-kvstore",void 0,"remove").call(this,{key:t,paths:r})});update=xn(["key","pathAndValueMap","ttl"],"puter-kvstore",void 0,"update",{preprocess:e=>{if(e.key===void 0||e.key===null)throw{message:"Key cannot be undefined",code:"key_undefined"};if(e.key.length>this.MAX_KEY_SIZE)throw{message:`Key size cannot be larger than ${this.MAX_KEY_SIZE}`,code:"key_too_large"};if(e.pathAndValueMap===void 0||e.pathAndValueMap===null||Array.isArray(e.pathAndValueMap)||typeof e.pathAndValueMap!="object")throw{message:"pathAndValueMap must be an object",code:"path_map_invalid"};if(Object.keys(e.pathAndValueMap).length===0)throw{message:"pathAndValueMap cannot be empty",code:"path_map_invalid"};if(e.ttl!==void 0&&e.ttl!==null){let t=Number(e.ttl);if(Number.isNaN(t))throw{message:"ttl must be a number",code:"ttl_invalid"};e.ttl=t}return e}});expire=(e,t)=>L(this,null,function*(){let r={};if(r.key=e,r.ttl=t,r.key.length>this.MAX_KEY_SIZE)throw{message:`Key size cannot be larger than ${this.MAX_KEY_SIZE}`,code:"key_too_large"};return xn(["key","ttl"],"puter-kvstore",void 0,"expire").call(this,r)});expireAt=(e,t)=>L(this,null,function*(){let r={};if(r.key=e,r.timestamp=t,r.key.length>this.MAX_KEY_SIZE)throw{message:`Key size cannot be larger than ${this.MAX_KEY_SIZE}`,code:"key_too_large"};return xn(["key","timestamp"],"puter-kvstore",void 0,"expireAt").call(this,r)});del=xn(["key"],"puter-kvstore",void 0,"del",{preprocess:e=>{if(e.key.length>this.MAX_KEY_SIZE)throw{message:`Key size cannot be larger than ${this.MAX_KEY_SIZE}`,code:"key_too_large"};return e}});list=(...e)=>L(this,null,function*(){let t={},r,i=!1;if(e.length===1&&e[0]&&typeof e[0]=="object"&&!Array.isArray(e[0])){let a=e[0];typeof a.pattern=="string"&&(r=a.pattern),i=!!a.returnValues,a.limit!==void 0&&(t.limit=a.limit),a.cursor!==void 0&&(t.cursor=a.cursor)}else(e&&e.length===1&&e[0]===!0||e&&e.length===2&&e[1]===!0)&&(i=!0),(e&&e.length===1&&typeof e[0]=="string"||e&&e.length===2&&typeof e[0]=="string"&&e[1]===!0)&&(r=e[0]);i||(t.as="keys");let s=eae(r);return s&&(t.pattern=s),xn([],"puter-kvstore",void 0,"list").call(this,t)});flush=xn([],"puter-kvstore",void 0,"flush");clear=this.flush};function eae(n){if(typeof n!="string")return;let e=n.trim();if(e!==""){if(e.endsWith("*")){let t=e.slice(0,-1);return t===""?void 0:t}return e}}var Lj=wA;var zf=class{#e;#r;constructor(e){this.#e=e,this.#r=(()=>{let t=new Map;for(let r of this.#e)t[r]=[];return t})()}emit(e,t){if(!this.#e.includes(e)){console.error(`Event name '${e}' not supported`);return}this.#r[e].forEach(r=>{r(t)})}on(e,t){if(!this.#e.includes(e)){console.error(`Event name '${e}' not supported`);return}return this.#r[e].push(t),this}off(e,t){if(!this.#e.includes(e)){console.error(`Event name '${e}' not supported`);return}let r=this.#r[e],i=r.indexOf(t);return i!==-1&&r.splice(i,1),this}};var tae=new TextDecoder,Fj=new TextEncoder,jj={1:"Reason unspecified or unknown. Returning a more specific reason should be preferred.",3:"Unexpected stream closure due to a network error.",65:"Stream creation failed due to invalid information. This could be sent if the destination was a reserved address or the port is invalid.",66:"Stream creation failed due to an unreachable destination host. This could be sent if the destination is an domain which does not resolve to anything.",67:"Stream creation timed out due to the destination server not responding.",68:"Stream creation failed due to the destination server refusing the connection.",71:"TCP data transfer timed out.",72:"Stream destination address/domain is intentionally blocked by the proxy server.",73:"Connection throttled by the server."};function Bj(n){let e=new DataView(n.buffer,n.byteOffset),t=e.getUint8(0),r=e.getUint32(1,!0);switch(t){case 1:let i=e.getUint8(5),o=e.getUint16(6,!0),s=tae.decode(n.subarray(8,n.length));return{packetType:t,streamID:r,streamType:i,port:o,hostname:s};case 2:let a=n.subarray(5,n.length);return{packetType:t,streamID:r,payload:a};case 3:let l=e.getUint32(5,!0);return{packetType:t,streamID:r,remainingBuffer:l};case 4:let c=e.getUint8(5);return{packetType:t,streamID:r,reason:c};case 5:let u={};u.version_major=e.getUint8(5),u.version_minor=e.getUint8(6);let d=7;for(;d<n.length;){let p=e.getUint8(d),f=e.getUint32(d+1,!0),b=n.subarray(d+5,d+5+f);u[p]=b,d+=5+f}return{packetType:t,streamID:r,infoObj:u}}}function F0(n){let e=5;switch(n.packetType){case 1:n.hostEncoded=Fj.encode(n.hostname),e+=3+n.hostEncoded.length;break;case 2:e+=n.payload.byteLength;break;case 3:e+=4;break;case 4:e+=1;break;case 5:e+=2,n.password&&(e+=6),n.puterAuth&&(n.passwordEncoded=Fj.encode(n.puterAuth),e+=8+n.passwordEncoded.length);break;default:throw new Error("Not supported")}let t=new Uint8Array(e),r=new DataView(t.buffer);switch(r.setUint8(0,n.packetType),r.setUint32(1,n.streamID,!0),n.packetType){case 1:r.setUint8(5,n.streamType),r.setUint16(6,n.port,!0),t.set(n.hostEncoded,8);break;case 2:t.set(n.payload,5);break;case 3:r.setUint32(5,n.remainingBuffer,!0);break;case 4:r.setUint8(5,n.reason);break;case 5:r.setUint8(5,2),r.setUint8(6,0),n.password&&(r.setUint8(7,2),r.setUint32(8,1,!0),r.setUint8(12,0)),n.puterAuth&&(r.setUint8(7,2),r.setUint32(8,5+n.passwordEncoded.length,!0),r.setUint8(12,0),r.setUint16(13,n.passwordEncoded.length,!0),t.set(n.passwordEncoded,15))}return t}var Q_=class{_ws;_nextStreamID=1;_bufferMax;onReady=void 0;streamMap=new Map;constructor(e,t){let r=()=>{this._ws=new WebSocket(e),this._ws.binaryType="arraybuffer",this._ws.onmessage=i=>{let o=Bj(new Uint8Array(i.data));switch(o.packetType){case 2:this.streamMap.get(o.streamID).dataCallBack(o.payload.slice(0));break;case 3:if(o.streamID===0){this._bufferMax=o.remainingBuffer,this._ws.onclose=()=>{setTimeout(r(),1e3)},this.onReady&&this.onReady();return}this.streamMap.get(o.streamID).buffer=o.remainingBuffer,this._continue();break;case 4:o.streamID!==0&&this.streamMap.get(o.streamID).closeCallBack(o.reason);break;case 5:t&&this._ws.send(F0({packetType:5,streamID:0,puterAuth:t}));break}}};r()}_continue(e){let t=this.streamMap.get(e).queue;for(let r=0;r<t.length;r++)this.write(e,t.shift())}register(e,t,r){let i=this._nextStreamID++;return this.streamMap.set(i,{queue:[],streamID:i,buffer:this._bufferMax,dataCallBack:r.dataCallBack,closeCallBack:r.closeCallBack}),this._ws.send(F0({packetType:1,streamType:1,streamID:i,hostname:e,port:t})),i}write(e,t){let r=this.streamMap.get(e);r.buffer>0?(r.buffer--,this._ws.send(F0({packetType:2,streamID:e,payload:t}))):r.queue.push(t)}close(e){this._ws.send(F0({packetType:4,streamID:e,reason:2}))}};var oae=new TextEncoder,sae=!1,Hf={server:"wss://puter.cafe/",handler:void 0},qp=class extends zf{_events=new Map;_streamID;constructor(e,t){super(["data","drain","open","error","close","tlsdata","tlsopen","tlsclose"]),L(this,null,function*(){if(!puter.authToken&&puter.env==="web"&&sae)try{yield puter.ui.authenticateWithPuter()}catch(i){throw i}if(!Hf.handler){let{token:i,server:o}=yield(yield fetch(`${puter.APIOrigin}/wisp/relay-token/create`,{method:"POST",headers:{Authorization:puter.authToken?`Bearer ${puter.authToken}`:"","Content-Type":"application/json"},body:JSON.stringify({})})).json();Hf.handler=new Q_(o,i),yield new Promise((s,a)=>{Hf.handler.onReady=s})}let r={dataCallBack:i=>{this.emit("data",i)},closeCallBack:i=>{if(i!==2){this.emit("error",new Error(jj[i])),this.emit("close",!0);return}this.emit("close",!1)}};this._streamID=Hf.handler.register(e,t,r),setTimeout(()=>{this.emit("open",void 0)},0)})}addListener(...e){this.on(...e)}write(e,t){if(e.buffer)Hf.handler.write(this._streamID,e),t&&t();else if(e.resize)e.write(this._streamID,new Uint8Array(e)),t&&t();else if(typeof e=="string")Hf.handler.write(this._streamID,oae.encode(e)),t&&t();else throw new Error("Invalid data type (not TypedArray, ArrayBuffer or String!!)")}close(){Hf.handler.close(this._streamID)}};var Z_,X_=class n extends qp{constructor(...e){super(...e),super.on("open",()=>L(this,null,function*(){Z_||(globalThis.ReadableByteStreamController||(yield import("https://unpkg.com/web-streams-polyfill@3.0.2/dist/polyfill.js")),Z_=yield import("https://puter-net.b-cdn.net/rustls.js"),yield Z_.default("https://puter-net.b-cdn.net/rustls.wasm"));let t=!1,r=new ReadableStream({start:c=>{Xf(n.prototype,this,"on").call(this,"data",u=>{c.enqueue(u.buffer)}),Xf(n.prototype,this,"on").call(this,"close",()=>{t||c.close()})},pull:c=>{},cancel:()=>{t=!0}}),i=new WritableStream({write:c=>{Xf(n.prototype,this,"write").call(this,c)},abort:()=>{Xf(n.prototype,this,"close").call(this)},close:()=>{Xf(n.prototype,this,"close").call(this)}}),o,s;try{let c=yield Z_.connect_tls(r,i,e[0]);o=c.read,s=c.write}catch(c){this.emit("error",new Error(`TLS Handshake failed: ${c}`));return}this.writer=s.getWriter();let a=o.getReader(),l=!1;this.emit("tlsopen",void 0);try{for(;!l;){let{done:c,value:u}=yield a.read();l=c,l||this.emit("tlsdata",u)}this.emit("tlsclose",!1)}catch(c){this.emit("error",c),this.emit("tlsclose",!0)}}))}on(e,t){return e==="data"||e==="open"||e==="close"?super.on(`tls${e}`,t):super.on(e,t)}write(e,t){if(e.buffer)this.writer.write(e.slice(0).buffer).then(t);else if(e.resize)this.writer.write(e).then(t);else if(typeof e=="string")this.writer.write(e).then(t);else throw new Error("Invalid data type (not TypedArray, ArrayBuffer or String!!)")}};function aae(...n){let e=n.reduce((r,i)=>r+i.length,0),t=new Uint8Array(e);return n.forEach((r,i,o)=>{let s=o.slice(0,i).reduce((a,l)=>a+l.length,0);t.set(r,s)}),t}function lae(n){let e=n.split(`\r
`),t=e.shift().split(" "),r=Number(t[1]),i=t.slice(2).join(" ")||"",o=[];for(let s of e){let a=s.split(": "),l=a[0],c=a.slice(1).join(": ");o.push([l,c])}return new Headers(o),{headers:new Headers(o),statusText:i,status:r}}function Hj(...n){return new Promise((e,t)=>L(null,null,function*(){try{let r=new Request(...n),i=new URL(r.url),o=new Headers(r.headers),s;if(i.protocol==="http:")s=new puter.net.Socket(i.hostname,i.port||80);else if(i.protocol==="https:")s=new puter.net.tls.TLSSocket(i.hostname,i.port||443);else{let P=`Failed to fetch. URL scheme "${i.protocol}" is not supported.`;globalThis.puter?.apiCallLogger?.isEnabled()&&globalThis.puter.apiCallLogger.logRequest({service:"network",operation:"pFetch",params:{url:r.url,method:r.method},error:{message:P}}),t(P);return}o.get("user-agent")||o.set("user-agent",navigator.userAgent);let a=`${r.method} ${i.pathname}${i.search} HTTP/1.1\r
Host: ${i.host}\r
Connection: close\r
`;for(let[P,U]of o)a+=`${P}: ${U}\r
`;let l;if(r.body){if(l=new Uint8Array(yield r.arrayBuffer()),!o.has("content-length"))o.set("content-length",l.length);else if(o.get("content-length")!==String(l.length))return t("Content-Length header does not match the body length. Please check your request.");a+=`Content-Length: ${l.length}\r
`}a+=`\r
`,s.on("open",()=>L(null,null,function*(){s.write(a),l&&s.write(l)}));let c=new TextDecoder,u="",d=-1,p=[],f=!1,b=-1,_=0,C=!1,S=-1,A=new Uint8Array(0),F=new ReadableStream({start(P){function U(se){let he=new Uint8Array(A.length+se.length);for(he.set(A,0),he.set(se,A.length),A=he;;)if(S>0)if(A.length>=S+2){let Y=A.slice(0,S);P.enqueue(Y),A=A.slice(S+2),S=0}else{P.enqueue(A),S-=A.length,A=new Uint8Array(0);break}else{let Y=-1;for(let pe=0;pe+1<A.length;pe++)if(A[pe]===13&&A[pe+1]===10){Y=pe;break}if(Y<0)break;let H=c.decode(A.slice(0,Y)).trim();if(S=parseInt(H,16),isNaN(S)&&P.error("Invalid chunk length from server"),A=A.slice(Y+2),S===0){f=!0,P.close();return}}}s.on("data",se=>{if(d!==-1&&!C&&(P.enqueue(se),_+=se.length),d===-1&&(p.push(se),u+=c.decode(se,{stream:!0})),C&&U(se),u.indexOf(`\r
\r
`)!==-1){d=u.indexOf(`\r
\r
`),u=u.slice(0,d);let he=lae(u);b=Number(he.headers.get("content-length")),C=he.headers.get("transfer-encoding")==="chunked",globalThis.puter?.apiCallLogger?.isEnabled()&&globalThis.puter.apiCallLogger.logRequest({service:"network",operation:"pFetch",params:{url:r.url,method:r.method},result:{status:he.status,statusText:he.statusText}}),e(new Response(F,he));let Y=aae(...p).slice(d+4);C?U(Y):(_+=Y.length,P.enqueue(Y))}b!==-1&&_===b&&!C&&(f||(f=!0,P.close()))}),s.on("close",()=>{f||(f=!0,P.close())}),s.on("error",se=>{globalThis.puter?.apiCallLogger?.isEnabled()&&globalThis.puter.apiCallLogger.logRequest({service:"network",operation:"pFetch",params:{url:r.url,method:r.method},error:{message:`Socket errored with the following reason: ${se}`}}),t(`Socket errored with the following reason: ${se}`)})}})}catch(r){globalThis.puter?.apiCallLogger?.isEnabled()&&globalThis.puter.apiCallLogger.logRequest({service:"network",operation:"pFetch",params:{url:reqObj.url,method:reqObj.method},error:{message:r.message||r.toString(),stack:r.stack}}),t(r)}}))}var xA=class{constructor(e){this.puter=e,this.authToken=e.authToken,this.APIOrigin=e.APIOrigin,this.appID=e.appID}setAuthToken(e){this.authToken=e}setAPIOrigin(e){this.APIOrigin=e}user=function(...e){let t;typeof e[0]=="object"&&e[0]!==null?t=e[0]:t={success:e[0],error:e[1]};let r="";return t?.query&&(r=`?${new URLSearchParams(t.query).toString()}`),new Promise((i,o)=>{let s=kn(`/whoami${r}`,this.APIOrigin,this.authToken,"get");Vn(s,t.success,t.error,i,o),s.send()})};version=function(...e){let t;return typeof e[0]=="object"&&e[0]!==null?t=e[0]:t={success:e[0],error:e[1]},new Promise((r,i)=>{let o=kn("/version",this.APIOrigin,this.authToken,"get");Vn(o,t.success,t.error,r,i),o.send()})}},qj=xA;var J_=class{constructor(e){this.puter=e,this.authToken=e.authToken,this.APIOrigin=e.APIOrigin}setAuthToken(e){this.authToken=e}setAPIOrigin(e){this.APIOrigin=e}req_(e,t){return L(this,null,function*(){try{let r=yield fetch(this.APIOrigin+e,Fe({method:t?"POST":"GET",headers:{Authorization:`Bearer ${this.authToken}`,"Content-Type":"application/json"}},t?{body:JSON.stringify(t)}:{}));return r.headers.get("content-type")?.includes("application/json")?yield r.json():{message:yield r.text(),code:"unknown_error"}}catch(r){return{message:r.message,code:"internal_error"}}})}grantUser(e,t){return L(this,null,function*(){return yield this.req_("/auth/grant-user-user",{target_username:e,permission:t})})}grantGroup(e,t){return L(this,null,function*(){return yield this.req_("/auth/grant-user-group",{group_uid:e,permission:t})})}grantApp(e,t){return L(this,null,function*(){return yield this.req_("/auth/grant-user-app",{app_uid:e,permission:t})})}grantAppAnyUser(e,t){return L(this,null,function*(){return yield this.req_("/auth/grant-dev-app",{app_uid:e,permission:t})})}grantOrigin(e,t){return L(this,null,function*(){return yield this.req_("/auth/grant-user-app",{origin:e,permission:t})})}revokeUser(e,t){return L(this,null,function*(){return yield this.req_("/auth/revoke-user-user",{target_username:e,permission:t})})}revokeGroup(e,t){return L(this,null,function*(){return yield this.req_("/auth/revoke-user-group",{group_uid:e,permission:t})})}revokeApp(e,t){return L(this,null,function*(){return yield this.req_("/auth/revoke-user-app",{app_uid:e,permission:t})})}revokeAppAnyUser(e,t){return L(this,null,function*(){return yield this.req_("/auth/revoke-dev-app",{app_uid:e,permission:t})})}revokeOrigin(e,t){return L(this,null,function*(){return yield this.req_("/auth/revoke-user-app",{origin:e,permission:t})})}createGroup(){return L(this,arguments,function*(e={},t={}){return yield this.req_("/group/create",{metadata:e,extra:t})})}addUsersToGroup(e,t){return L(this,null,function*(){return yield this.req_("/group/add-users",{uid:e,users:t??[]})})}removeUsersFromGroup(e,t){return L(this,null,function*(){return yield this.req_("/group/remove-users",{uid:e,users:t??[]})})}listGroups(){return L(this,null,function*(){return yield this.req_("/group/list")})}requestPermission(...e){return this.request(...e)}request(e){return L(this,null,function*(){return yield this.puter.ui.requestPermission({permission:e})})}requestEmail(){return L(this,null,function*(){let e;return e=yield this.puter.auth.whoami(),e.email!==void 0||(yield this.puter.ui.requestPermission({permission:`user:${e.uuid}:email:read`}))&&(e=yield this.puter.auth.whoami()),e.email})}requestReadDesktop(){return L(this,null,function*(){return this.requestFolder_("Desktop","read")})}requestWriteDesktop(){return L(this,null,function*(){return this.requestFolder_("Desktop","write")})}requestReadDocuments(){return L(this,null,function*(){return this.requestFolder_("Documents","read")})}requestWriteDocuments(){return L(this,null,function*(){return this.requestFolder_("Documents","write")})}requestReadPictures(){return L(this,null,function*(){return this.requestFolder_("Pictures","read")})}requestWritePictures(){return L(this,null,function*(){return this.requestFolder_("Pictures","write")})}requestReadVideos(){return L(this,null,function*(){return this.requestFolder_("Videos","read")})}requestWriteVideos(){return L(this,null,function*(){return this.requestFolder_("Videos","write")})}requestReadApps(){return L(this,null,function*(){let e=yield this.puter.auth.whoami();return yield this.puter.ui.requestPermission({permission:`apps-of-user:${e.uuid}:read`})})}requestManageApps(){return L(this,null,function*(){let e=yield this.puter.auth.whoami();return yield this.puter.ui.requestPermission({permission:`apps-of-user:${e.uuid}:write`})})}requestReadSubdomains(){return L(this,null,function*(){let e=yield this.puter.auth.whoami();return yield this.puter.ui.requestPermission({permission:`subdomains-of-user:${e.uuid}:read`})})}requestManageSubdomains(){return L(this,null,function*(){let e=yield this.puter.auth.whoami();return yield this.puter.ui.requestPermission({permission:`subdomains-of-user:${e.uuid}:write`})})}requestFolder_(e,t){return L(this,null,function*(){let i=`/${(yield this.puter.auth.whoami()).username}/${e}`;try{if(yield this.puter.fs.stat({path:i}),t!=="write")return i}catch(s){}if(yield this.puter.ui.requestPermission({permission:`fs:${i}:${t}`}))return i})}};var j0=class extends(globalThis.HTMLElement||Object){isUsingFileProtocol=()=>window.location.protocol==="file:";constructor(e,t){super(),this.reject=t,this.resolve=e,this.popupLaunched=!1,this.hasUserActivation=()=>{if(navigator.userActivation)return navigator.userActivation.hasBeenActive&&navigator.userActivation.isActive;try{let i=window.open("","_blank","width=1,height=1,left=-1000,top=-1000");return i?(i.close(),!0):!1}catch(i){return!1}},this.launchPopup=()=>{try{let s=600,a=700,l="Puter";var i=screen.width/2-s/2,o=screen.height/2-a/2;return window.open(`${puter.defaultGUIOrigin}/?embedded_in_popup=true&request_auth=true${window.crossOriginIsolated?"&cross_origin_isolated=true":""}`,l,`toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=${s}, height=${a}, top=${o}, left=${i}`)}catch(s){return console.error("Failed to open popup:",s),null}},this.attachShadow({mode:"open"});let r;r=`
        <style>
        dialog{
            background: transparent; 
            border: none; 
            box-shadow: none; 
            outline: none;
        }
        .puter-dialog-content {
            border: 1px solid #e8e8e8;
            border-radius: 8px;
            padding: 20px;
            background: white;
            box-shadow: 0 0 9px 1px rgb(0 0 0 / 21%);
            padding: 80px 20px;
            -webkit-font-smoothing: antialiased;
            color: #575762;
            position: relative;
            background-image: url('data:image/webp;base64,UklGRlAbAABXRUJQVlA4WAoAAAAwAAAA8AIArQEAQUxQSB0AAAABB1ChiAgAKNL//xTR/9T//ve///3vf//73/+ZAwBWUDggDBsAAHAjAZ0BKvECrgE+nUyfTKWkMKsjk3mqEBOJaW6WwjzR/6prSfc95r2ztLOrL7Qmk8WYj6B+qfKm8C//+ufPmvfz/L6dZ/lf/79Rn1D/u8lf1n/h51GW/9DvL9u3/+z8//rLz8rv/Ho91qL//9Tf3+Dt29xsjEB3trEAO1CpmGKEcxEE0NTCpyVf/lDAyEBRUXwgPowMARkOmIbfb4QzfbEpqmW/oVDjCDhYdvNTH6wCem7jlfp6TsCUMhAr8Nka9YNDW//M1hIARGlp5TiuWo8zkVrq7MQ8sjAbL2ZDAR5HrshhvuQpLP42dIBC+d2vAQEWdwbMDviLsUYj7YuRYgd/nYcIbMPrxgnEqUps4UewgKUjphAD2DIgVLi0raUFF6zyUCN4z77Os61eB1TcZJ0RwsZHd++GEzQ7mz3e/8Gt7hdASIxvpMWj1hBk/wtwuFUwoyhwmcO1bs85XxEslCt8brpD8GCPMocPhn3/M5wnWvE4CeIukjl4/r+Ma/17kBr2SFIk0YVKOOYHgsl6GX4fv5Tgz90tiX7+h39885X77VVv+c7XN0O/GPWEet/y34k/ypNmTihk+1ziSLuRV3nLSLZDMraRTIfNve0QRePaEiQVD4I+oFEmoBXEet6lDvR2iq+orPAMjasfTuLzL+gpCtJ47qYj+USzv7/+nm7jib/cuN82LsnH50Z/Qk0/cZniT2GD2pL57Z/3gcIbTLEo7saABHxnU5Dv78DbEISkXdIVUjE/Awv/4aAzf8VAkX+XJNfUhTeww6xuB7Zu0m2J+gfOeH0Nn0l+pr9VX7F9aMLFhnIMOTFtu9Xc0Exd7mwlq375ksxdJpEUw6oFlJxzH/DIozmmdzgRB6l9d4UK9eS/pUXkYxjeJ2PI7bFvzs7y4wPLLiaVo9n+5t1O4wnKYicOhiAasGiBV1NxFmFla/CHup6UbeeDHzMZ7shRHDWBgc67HG4Y6QVKrO9Rit+tZR22I4OpyhlNHYqhJmGzk2dsUBm7cbqPRmypC85dJXnXGD7U2CPR42Y70JBkQKnmXLXYEt55FMu3VKekwAhkMW1Q79UIkNMnxJ1geGhorliFjJ+gfca/Jp4D7E92CdB6uuubIZCWwwaftBiWwe5cKLWOTC6b9Tw5nJawLRkmeUDhNZBdhVfuACupAs+NCF8EjDaStA1YbEMziSrNgssdExVpaDRVToIoF4iVTwTb5ZNQjsrf9lfPX4PKlDWwz+vzT+nl7FJlEv75tkQ+rcObWSCvKhbYUlfXyuvIwfIHKu1+Tqd0tIjunozTnB4a6XhLDZIh084eRLvPDCPOaiquqW9Xfb109xNCKIGY36jlHH19tPE3TSyFg+gxtpGM7g/FkY1FVIxaCN+l/y+UuvmfInYIVaigEVQ6Xm/UBjoDaTP5wRkNyvKH+P3q7Z8eVyeDxwc7HwX3+Ga3YD1QTq/ql1v4FMm4fGwg2FwEb6Ng9zG4WzQ1qmNQnWMPWQVTc81z6/pJol8l2RmHRW4lsFaECR4EOJME86gBBPlFjExRZ+MEqoKWbYJh879MOdYFxEUOt+5YtXsQavOsx65aVe/l6EqXyZSBZZRljO/Ywx8uBC/99P+8BYqFFm2sgzw68Rk58Mn8fYOzAtNndX8JOqrrqh/Nvv2nmz/7jdnIivgBNdRI1NSl2mHu4DIVZfYCvx5hq8OCKST64vf9yvvarVU9gh272p8B9RRIBeRRHS5/Krbce41kV59WESLOi8hkkKWwiHJUW0tnkjVBrSi9MUXZkaXeTkRcPQG1X3TKs4PFJqHjUErBx8tuZZCKAb/DZfBdn3CpcCPNKb3GOvLfCJi8SP94JrmDk2um/Zo/zpAtUDNPMJHA3w2vYkL7prMIT4lSV6Newo69qnSXCEHk3jiblYwkAp4lQQBNiJeDxwuaNLlqFltDn4qaUcoK+m6Oc4a8V+/OMJhEtP9PrGfwTTArKufxFqXwqCuiNoCHIm9kDduO6zjA4JHbXL2u5UmVQCtKhVIEatqpersXs5H0WzvX2ja+9EhhbfzYuZrxWM/H7ZRqJAx6nqkZ4Nz5tSeYQYBVT0TobZNNoNJdHCCpHVaZMwxsK4rWon/DqMYw3E6L4moc6X67ZM7pvSnxeqSl9VMLMF3duaw2CsSJJ17xOr/HdJIvYymBsKNQiKlXU+X/Ha16L9FQGyiODd80CAPCgiKBgpP5nIPiRplDZRuTHDLRKS+Mv3c52cZfX9sNxY1vID2AG5g7OK/xysbyq2n4/6zOXOzM3mVWuMTiYR/4vV1kVY/Y3oPEDJPnd4kTjc9A4ReI1qa9AinIrLebNbtO70z0rSxUaoqI/Ddd20APl+fcoK8aumsx1N7w9oOa6z8+vgxqymt2n6Mulhq/yizgRjwLEP8tNbeZ40sp2eLYH+j8oTbix7BCjbM2vKCwcb22/+G79VgP997sfr9IwLz/oAZL8HBpewJQROWUUGdBYPU44uXqUBQ+3RjfXJaFv3w8Q4QpHGnecadb8ax+KVBX6u/y8OfsxwWE9HOUwHlP46APGwQ+GPGpBaKI1SbIPRoa1UNvVhT1Fmu/f/78ibV1WhDu8iCCw2gOI4hcdIes5WJMziWjdawAg4x5eX0jdGnw4oGYhjeqe3+M/+/UrSiKFuXS7f+V2+oNPjw5RdWM/ihv8MXf9RAdzltvZSoibPdhMv9/2aVUrxvR8BHRc3Z7kO4q5f5GfueRP/AgjiQpRp6NfqPUkakThRII9ZhV7SMusfNM1ugq6b9susPW90czpMEcMgsJ6kmVqHn2veFKFxUR7HftHZ3RLayUGJ/Qtrh12rN/g2vH/nlmr7UMqN0nv7daUBxyCAS1j/1Re/U9f9h7i3HfZiACc0AvHk+n6l9biwnkm0/SMNKX7+/i/PopB4KjMlaY2iPhZXE2YM3GUnQvhEUTH1BuP4Y/5tLQPvAJN0xmLUV9aIM+azpAaMDKgVGrhZrD/Wp0wh8l9xEcV/7Y2cS/kV39lzHf+z+Z59JLt6fYeVXBv4wrgJbcpL1l8kb8aiujewjd4tgpWc1domyEBRaMH/jkIgGl+xxvv6kxI87+73ZST+1LL4K6wf3hWERTWle2yOQltkdL8FRfEDdB8H9uAAD+79iqhFzfCubLbi3KpzVtf0fq94WmyWGDBhJqMlbX9eGhEre0W6GTrU0DpOZz0Sp0bpi0GlQ9V79EwoeJg4gBgnqF07+EVYzYAexrVUn3k4ELSUsPhlMq5vZUbqpfAxgyuGcMyn/qxi47SfTJwEw2BOsS5fyEfthIiD1LVJqsAvdKbQZ4t/rcld466i8YpYFWkFygmX+5swl8sq6OSILIOVouQGVUAZiBf/iHqfGdNTsHvlCK1KVc2nwF8WX1R1dWJ9jEpS5tO/SFeRneGPo+AqqOr33kavMdAFEWANbIAwxycDadtirhcrZ2TMT6jUEKxXr6OJWt1xgSVrBtUysZ7VYjpBv/bormAMg84n5IOQiECoUhDyaSQA6azdnJ0r8bfvz7+f24jwKFL/iMmfrzlizpxbsF/Zesri2UFzsnk7ZbRzSSAiCdl+N80zZoYEOPj1vnMCmAItUEBb3q0Ni3OVKeO3a3UfaZc0Gv2Ghj4UIIetvoYxr2mvXUiZpREsvYp7YIz4f5qLpqr9aAjoDzh3f47M8jX4XTshiR9g31ScDA1EBKQtwH96YdlngZCrOLsjhAZWgOVONtvjSL1Wk/uFwSRUctic/1SdrjQiOYSmnobCAS51hlxwZ6xIeWthPP8AAFo+T2IEq1Lw0MlzQGxnjJLpfL8pMcHICMbTfpTr6/jz4zliTWNAgrRMGJw/P1iq0T02Gk8HC/XjB4ssb2CxZCll58HLmnoBiyVAAECWgREVdcJ3/L6NBpjnXVkR0DaPu/kWpNzovmAAGeVkbufex8OHbi3mcKGgVACobGeDilBFAL9ZGuooWAW+JlPApRzw1SGrNSCOEZ7fbYc2+BsSrNCaYCb1grfPghxqp5jAynnabMu8WJlqcWHsTXJCMNpf0sFik0Dh0pPUXsDK0CdmdaU2JB2RX1Jzk59jCkD7YaWVs2dLNLUFxzbqqCDWcPdJ3bfFiqjO5rOkZWKbNP+DfFqTVf2KFb+xrmEAUJtEIQ/g10ArYs1OrYC8cqaBR4CmJsAnuCXQJXocp4Qp908VzvIxaESMkR4zg8iFj9oX0Mle61Yc2jl7UtKGCNqkXy6JGZG1CfrOD+yYmrFBX6xQVif1UlK3a4a8jI3r1CrShUPwCzr7Lg67tKvkh0pifZB7FiMbXjxxGdo7tL/omkt62lEA1q6C7mnxPCiI88A9DiD2PTxf4gGD6W/upL+3nB7qa8Ta0ppjCWpL9cBAO3SQ2G9Kr3NrbUlMreTufoEg8FP7yhpgs0mLKfn5aGHYNONh9geGnHhcl9Hr18jswDyXemHvhMAhipvRKZuOvo2caiG+ZprtB+mywq2sqMQfWaRmfMiX9PoaWTx7L3kdx8buLUr0DIibKA9c6DxfVoiVS1wSsYWf5G2bsx3AIi8Eark/H0fH8WDtT5lQdsI6hOSkTIwyaQEHMRgR5Hba5INB3kNhCbhx6eNwECPIqluE/DWxF/hPFGiuOYz7f6aXKawksWmDqhnHmB0jOlqmMWpuedZOTHCzmjZBCrtz+PYtkAnkmH48HrjmhBLnOLCsGrOieoAh1cr5rdq0wyeqXwZtn5/p5wOocmL06tGcfFCD53CeJwuC09AvVyo+EUdjagIavVV2rkcHCWATnHrrdJmhQQ3ZGGNQt4eywkolaPhCKRaFf9z4MkEQDZQTG1aDbIu+rVc61W/99itGp2pVvIUvjLNR/mP5FRg0q/6d3Nt4C3WsOatn7XLAQ01YaUrAYVSsXNPfLT0JEPTAS2E7U67/TC6HMFPMxoM9Mz4kHVmnorS4vUPUeZ8YG0AT5zi27XrrFtaZa5w/r//mFVXISlF6+YtMR9xktRoFtYv6KbIsDpIl72hfcZVB29jgWwalMe5tijxx6MqRVG63TlGnLomZzW02YlPvHOfK2+I4rcJlv+2tEjZ3Z4ZeTXA19BMiyz+F6UO7XHe9emNM+mASK88YfuWjlgTQ8a4vV2uHb1vTsTPGipfKSudF6HjtcuE+mfXPp/ZTWBmU+kTQxDnwR8c1EtrO+6VnESk9tHWRSQE9DGcw+RomE6ddjmoy1BnNtjABYyh/IZ5q81DyuiWpy+yZ2QrzXUiLaKqJqzwtCIKWayZQBZ4E1uIuxdYL6kRwUmsRJ1FIgpHQVtqdZ0zvb6jfdUN2WkdPML9iZexnc6iqLmF3IzmQ5qXAOwM8omxZjiSl1kirUM4abv4CtsL7PmZtJ1/ZWOwyplpB8vm3U479b1XaAqBKBkAiZ+Ibh1pf8c3gViC008xpz0fSrq1VcOHutDr//jpmS0wPfz4YdQrhIIcWUAA1ikL6rSplUEAGYbl7E4WmvjY1x34W+4aEXX/hyjOUPklFCXBVatZMu4by1vM07fGV4YE5Jv3vGJQ8UJFcQM4y4u5YvaB70ETl7JtC5UFt6d1s8BSXLFjN28I8qAAfZqXU0Vv0NZ2aWIH8BL0SAH2nc3St6fGNAxqnPoPOtFoSN1HZCbPvr9DPqIG2bFH3I+cPatgd6Pj9ndcR4u9emiAuguCkXyz5bhMiRzGyEEG9ru1vpeLSuaGXB8NJoIo2jZcOcUC2EjXnZYEQ/Jf6vSChgn6jqF1uvlO6XYC7p/Rzo75DkxtCp4cbA77h9PY5CsyaBykd1nVGLxui7GPze9/LqsoTSr+4JAwgD8JkPEXXqSMckP8yZbYiJdp4oDXMvjDscvRPROBbGGHJME8apNrXGIf5wFVl50F5aiI2xboHuy+LOA5DgIjduDGFJq0uF2LgaawMmcIX1D9Z+iktUNOfqO51o28KYuDd2w84SRBEty/ola9Lta++BgwwAjczDn+wreIFWqo4RDoi5BbKpqEmTtUVqSzqiZH8Tl1fUxkRfvvUqnw0o1KZ8Mzv5Cg5hNUadG0hhcc/up/cALkm+J+QpTOWEYrXXf0TiZ8vzf2rcAul85hCjixJTdfO2qvWsfBVUf0EaeVYnXFpBX3kj0t6q17/kxF1fp9BhbV1LVUcWiUWCBNIN/clgUJLPHOCu1zscxM8+cqBsSNmhE0NTSfuJDNZTgGvrMfM3srdP0OeJfVpSEaxeEiNlDFNkGkFlJ7xBuNioj9cCUJYvOveexs9DyOdzZkiSZmUDtHXauC83MZhxPxH5LL1NpCoJdYNhQEwdqSevhulQKlx+2K8OEq0OTPXacZlAuT4kLeYHBi9Uy/j10L0M2h8kwiK5HunGAqLtb3kSTMBCQHvWnPWfWubUdClh8YnrCPiCTFDg5XCQY022i9V/fzcf9cy6nHmP+KV0IsJm17ZOLsabqgVs4mR86ttLrPkoCNZIMFQMvJ5rbLpfhdfWMCXR/3Worm/8rfib4pDffCy8iz56yNPd+s6FGpdD8AkeEGyiEqazY72j/sssV69VlAgKKLAy7/UhllSdFQEb8f8za++1RdnCtB+1pwQdiZ9asz5OuMAZ6CwudyC6t1wnU4dGQHzJK/zqXDzcdoSwcy2bHDt6vKFRzdcTUnEr7C9Ws/cj3WpvIS2xIsvDuQRpnWG5IP5k2VVhrsGV9nhpvRzQb8XlCMZi0noHul72X2QFJQ48zVJgCIBSlblTPk/rLfTqmZxk75FmFhfcFszUGCFvAIWyroBPFefNrtZN26hsXbynXPfxNGhXwroIip+eCG/uzurUqFlyy+JblVL+5SEtvK990PrbJl7E5xVImEl6RdsHqYvNhTytMs0dxgQdDInMNAyFtdlciS9qzKvztdcw+oq0W9+BaNaiqssxz7caLrh54IUfUJHnHTpbop1lAyJXEAo6L8eDl1X46mkoNUkoR21o//xnmL2u5zyu8JmaTD8c77VjqRpQayOh5QUgEExPeXrogXDalS48ubECOx7aZBfyn9ci4ir4ifPPokAj0IVMglh85stOMGuZPkq+dIHdNEgAq8ZMTY+NbXs7ah8yP27QWYz1lbJGJJyAU97X1uQ5rG4TQVzqFtxYkqHyeoIygRFD4SVyB8uABK7mE7rXkvBtbGlBKvHMLiwoFvkgL2YNNxjvHilB76ZfounqxabWY1ufFDEULUsCT/nhdTw+P5CbDBzwWdNtxervRm6xdnwtMprXXcFRzVl8uWOIopDKPRF04tHOb9R920BNhv5aEpB4Y0hVrQzuRfxffGafun+4tceUWjtIMd8xWXnfrFjxU2ioEH0oM5oXSLihduRkeYF9gWIuNigtLp/nS3sI49rzxdTLwxMPW13BZPM5FQe/vbtDFPMN/1FFpj3ND7ZEex0MKCVWZhTkyn1f4QOSNu1d2RE0E6QhPdN+exhYztnnFipBW++osJCm2Go2rtg8TRjJQJzA1zcfDtH8NToCCeMzlNMap0mWxKMb850VuMZQaMq8GzRWHTdRRly7lZQl9GIhxH9mzXiJ/RHF5juTu5O45WtXBgVfR33LWLom6CbXrkjje1hE57XeYkgSTPVzelKq4Q95h43KlmyMPh9R91j726nPrCGaYqebkBnwBc6773ZMVdcin533GG5IQcXq7V/CEWWFIIvMDMwvSC35kyspY58QH4aahgG19XPvYf5Qn5ygsNL3TM7dzwfBIZ52qsSOmpaUuBLIJCv0yKDjzTo8+aUI+iwurRUJm5Z1bdbdr2bByKFXHdkbjTFj+BXbPw+zmUOJ5fjBY18uRra6s4zMosDtS899s6fstWhMCstRkK0NaDK5Q3hMbhbUTeXVH99Fup1LmS2yBXbuK+yVvQZ6WTmtctSrvLjNdR1+j2nvyRtNW4DYJGL1QFbdOWx0vqjuJRHGwyvlzC3fnGTJdCgEzzK04KaKT388uvtNwB7sRlSAiyX8HwzjAaIdfWBkuxsmM2zhGA2Esq9dSKsjPJqFpmAw7wtNCWq1GgelC6gmzCjMri9mavI4JYSGj7LoPlwJFqXqMOLN7Nu0Wk00OiW2wfcb8JDzBl6sne3bcj7XYcKezsFzC98WCS4sx5UlNfeJ5kMFhLpq8WeGDL4IeO3PAK98ZvNdmJ52uAyxIfWE44qTgwJsAxwYRBvkUI2yY4VnTBnf8Gh0nPHPFdhwfWYEWEBOw+K1BFNv/mZbic/DwkoqZWAR514lCA0aV43LBemE6zHUpXCMQXs7daqeh2kpwKiYQqUWNlrVShO1NVIUn6ir+SDS6X20QWkly6kWUFajhovz5n38DgutRdpNwngVyBSbd9Ivbh53YjwNAlsa0b8I5LEvhoTTQsfPZ5S3Zu2a/PYIpo51zfsK3f+XmEYWzZoEXbsvtl/usqdVD13+qeTuEU7V+sTf6OD/uo/B4/KpnM53lfCWfJNC3WKm5fyoUSeqj3NqjWfSS6bne3lcMnOk46zJZSIXyxaPs7Gb7NXogDdulXYM5PHj7DTDwprdEMKgENQa9Lxht5U4tfsrFsBR9HBLSMOUTAv3JQd9oEymfBz/lZBpVIM79OlzzKZcBKmTtus9qlm++iXv6eGLdEoEi17rSx1W7X7kQXaIkMsV+Ns9HtgN+2AZuzvsMRPdkX5oF21vVSmE91By9UnhKG8jjNUr66maTmHc0VBff2EPP1MC5OJ3h8EzlOaedk2k0OcEiRYPsasA2vYeu9fkcJLmT2Sq76VYK8/IPpTXI+/TSpXUFc1V5VqNyt/39hTJ/6kjBuuw+1cvJI4Ch4lMhw2xDUPR1uVztKpLamzen1fLYdTeupquuXMLAxtLFUEnwaQ18gb3wxUYIJwE3VkfXA/shqyDSb1+jNg5uBJmQyEgTBHjmHRoLIe/Woh58xTbLtb7IrXITJgvZmFXeSbhjd7ms2Kb0DyyDFPDz1pxEk2VO13dfjgNzw4rRZXDGNxKdW4V8x0ZqfMrs48cLI/j1eOqmLvo3k6gkaYRfrs1ngoVMqazzJrkJYFz8WmsD+K1eEp/LqNxUkodWrAq885E8VeIULxp0u3xb1m7uUnyrHzshPXSnGCDUaxFj6UxoYG6a3Ga7OYz0Sdnw+dQk230G0weEIt9GN3BpWOiGAJZ69w4jr2D+6RkhzNmnY9n1qV05DE1BflAzIDxsPW78jJAFiz5aARulRgVFwgBnMuPWxvLmIXBvAAHy65muvCAsGfVex4ZHKCCv6XnQ2OW9EURTQsdw7Gb8bz9teGINBk3/fz0oAJ5e9QAAAA==');
            background-repeat: no-repeat;
            background-position: center center;
            background-size: 100% 100%;
            background-color: #fff;
        }
        
        dialog * {
            max-width: 500px;
            font-family: "Helvetica Neue", HelveticaNeue, Helvetica, Arial, sans-serif;
        }
        
        dialog p.about{
            text-align: center;
            font-size: 17px;
            padding: 10px 30px;
            font-weight: 400;
            -webkit-font-smoothing: antialiased;
            color: #404048;
            box-sizing: border-box;
        }
        
        dialog .buttons{
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            margin-top: 20px;
            text-align: center;
            margin-bottom: 20px;
        }
        
        .launch-auth-popup-footnote{
            font-size: 11px;
            color: #666;
            margin-top: 10px;
            /* footer at the bottom */
            position: absolute;
            left: 0;
            right: 0;
            bottom: 10px;
            text-align: center;
            margin: 0 10px;
        }
        
        dialog .close-btn{
            position: absolute;
            right: 15px;
            top: 10px;
            font-size: 17px;
            color: #8a8a8a;
            cursor: pointer;
        }
        
        dialog .close-btn:hover{
            color: #000;
        }
        
        /* ------------------------------------
        Button
        ------------------------------------*/
        
        dialog .button {
            color: #666666;
            background-color: #eeeeee;
            border-color: #eeeeee;
            font-size: 14px;
            text-decoration: none;
            text-align: center;
            line-height: 40px;
            height: 35px;
            padding: 0 30px;
            margin: 0;
            display: inline-block;
            appearance: none;
            cursor: pointer;
            border: none;
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            box-sizing: border-box;
            border-color: #b9b9b9;
            border-style: solid;
            border-width: 1px;
            line-height: 35px;
            background: -webkit-gradient(linear, left top, left bottom, from(#f6f6f6), to(#e1e1e1));
            background: linear-gradient(#f6f6f6, #e1e1e1);
            -webkit-box-shadow: inset 0px 1px 0px rgb(255 255 255 / 30%), 0 1px 2px rgb(0 0 0 / 15%);
            box-shadow: inset 0px 1px 0px rgb(255 255 255 / 30%), 0 1px 2px rgb(0 0 0 / 15%);
            border-radius: 4px;
            outline: none;
            -webkit-font-smoothing: antialiased;
        }
        
        dialog .button:focus-visible {
            border-color: rgb(118 118 118);
        }
        
        dialog .button:active, dialog .button.active, dialog .button.is-active, dialog .button.has-open-contextmenu {
            text-decoration: none;
            background-color: #eeeeee;
            border-color: #cfcfcf;
            color: #a9a9a9;
            -webkit-transition-duration: 0s;
            transition-duration: 0s;
            -webkit-box-shadow: inset 0 1px 3px rgb(0 0 0 / 20%);
            box-shadow: inset 0px 2px 3px rgb(0 0 0 / 36%), 0px 1px 0px white;
        }
        
        dialog .button.disabled, dialog .button.is-disabled, dialog .button:disabled {
            top: 0 !important;
            background: #EEE !important;
            border: 1px solid #DDD !important;
            text-shadow: 0 1px 1px white !important;
            color: #CCC !important;
            cursor: default !important;
            appearance: none !important;
            pointer-events: none;
        }
        
        dialog .button-action.disabled, dialog .button-action.is-disabled, dialog .button-action:disabled {
            background: #55a975 !important;
            border: 1px solid #60ab7d !important;
            text-shadow: none !important;
            color: #CCC !important;
        }
        
        dialog .button-primary.disabled, dialog .button-primary.is-disabled, dialog .button-primary:disabled {
            background: #8fc2e7 !important;
            border: 1px solid #98adbd !important;
            text-shadow: none !important;
            color: #f5f5f5 !important;
        }
        
        dialog .button-block {
            width: 100%;
        }
        
        dialog .button-primary {
            border-color: #088ef0;
            background: -webkit-gradient(linear, left top, left bottom, from(#34a5f8), to(#088ef0));
            background: linear-gradient(#34a5f8, #088ef0);
            color: white;
        }
        
        dialog .button-danger {
            border-color: #f00808;
            background: -webkit-gradient(linear, left top, left bottom, from(#f83434), to(#f00808));
            background: linear-gradient(#f83434, #f00808);
            color: white;
        }
        
        dialog .button-primary:active, dialog .button-primary.active, dialog .button-primary.is-active, dialog .button-primary-flat:active, dialog .button-primary-flat.active, dialog .button-primary-flat.is-active {
            background-color: #2798eb;
            border-color: #2798eb;
            color: #bedef5;
        }
        
        dialog .button-action {
            border-color: #08bf4e;
            background: -webkit-gradient(linear, left top, left bottom, from(#29d55d), to(#1ccd60));
            background: linear-gradient(#29d55d, #1ccd60);
            color: white;
        }
        
        dialog .button-action:active, dialog .button-action.active, dialog .button-action.is-active, dialog .button-action-flat:active, dialog .button-action-flat.active, dialog .button-action-flat.is-active {
            background-color: #27eb41;
            border-color: #27eb41;
            color: #bef5ca;
        }
        
        dialog .button-giant {
            font-size: 28px;
            height: 70px;
            line-height: 70px;
            padding: 0 70px;
        }
        
        dialog .button-jumbo {
            font-size: 24px;
            height: 60px;
            line-height: 60px;
            padding: 0 60px;
        }
        
        dialog .button-large {
            font-size: 20px;
            height: 50px;
            line-height: 50px;
            padding: 0 50px;
        }
        
        dialog .button-normal {
            font-size: 16px;
            height: 40px;
            line-height: 38px;
            padding: 0 40px;
        }
        
        dialog .button-small {
            height: 30px;
            line-height: 29px;
            padding: 0 30px;
        }
        
        dialog .button-tiny {
            font-size: 9.6px;
            height: 24px;
            line-height: 24px;
            padding: 0 24px;
        }
        
        #launch-auth-popup{
            margin-left: 10px; 
            width: 200px; 
            font-weight: 500; 
            font-size: 15px;
        }
        dialog .button-auth{
            margin-bottom: 10px;
        }
        dialog a, dialog a:visited{
            color: rgb(0 69 238);
            text-decoration: none;
        }
        dialog a:hover{
            text-decoration: underline;
        }
        
        @media (max-width:480px)  { 
            .puter-dialog-content{
                padding: 50px 20px;
            }
            dialog .buttons{
                flex-direction: column-reverse;
            }
            dialog p.about{
                padding: 10px 0;
            }
            dialog .button-auth{
                width: 100% !important;
                margin:0 !important;
                margin-bottom: 10px !important;
            }
        }
        .error-container h1 {
            color: #e74c3c;
            font-size: 20px;
            text-align: center;
        }

        .puter-dialog-content a:focus{
            outline: none;
        }
        </style>`,window.location.protocol==="file:"?r+=`<dialog>
                    <div class="puter-dialog-content" style="padding: 20px 40px; background:white !important; font-size: 15px;">
                        <span class="close-btn">&#x2715</span>
                        <div class="error-container">
                            <h1>Puter.js Error: Unsupported Protocol</h1>
                            <p>It looks like you've opened this file directly in your browser (using the <code style="font-family: monospace;">file:///</code> protocol) which is not supported by Puter.js for security reasons.</p>
                            <p>To view this content properly, you need to serve it through a web server. Here are some options:</p>
                            <ul>
                                <li>Use a local development server (e.g., Python's built-in server or Node.js http-server)</li>
                                <li>Upload the files to a web hosting service</li>
                                <li>Use a local server application like XAMPP or MAMP</li>
                            </ul>
                            <p class="help-text">If you're not familiar with these options, consider reaching out to your development team or IT support for assistance.</p>
                        </div>
                        <p style="margin-top: 30px; border-top: 1px solid #eee; padding-top: 10px; text-align: center; font-size:13px;">
                            <a href="https://docs.puter.com" target="_blank">Docs</a><span style="margin:10px; color: #CCC;">|</span>
                            <a href="https://github.com/heyPuter/puter/" target="_blank">Github</a><span style="margin:10px; color: #CCC;">|</span>
                            <a href="https://discord.com/invite/PQcx7Teh8u" target="_blank">Discord</a>
                        </p>
                    </div>
                </dialog>`:r+=`<dialog>
                <div class="puter-dialog-content">
                    <span class="close-btn">&#x2715</span>
                    <a href="https://puter.com" target="_blank" style="border:none; outline:none; display: block; width: 70px; height: 70px; margin: 0 auto; border-radius: 4px;"><img style="display: block; width: 70px; height: 70px; margin: 0 auto; border-radius: 4px;" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAIAAADTED8xAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAKCJJREFUeJztnQl0U3X2x5VNFFGBAqVUFlkEZAcFFdlUkEHcYEYcBQSVRREEUUQZt1EUBGEQBxUYFkFZZF+KQBfovqfN9rK2TZq9SbM3SeGc/23zFzHvJU1Km/te+3vnczzYNnnfd9+9v9/97bfccg9FIDRf8BUQCIjgKyAQEMFXQCAggq+AQEAEXwGBgAi+AgIBEXwFBAIi+AoIBETwFRAIiOArIBAQwVdAICCCr4BAQARfAYGACL4CAgERfAUEAiL4CggERPAVEAiI4CsgEBDBV0AgIIKvgEBABF8BgYAIvgICARF8BQQCIvgKCARE8BUQCIjgKyAQEMFXQCAggq+AQEAEXwGBgAi+AgIBEXwFBAIi+AoIBETwFRAIiOArIBAQwVdAICCCr4BAQARfAYGACL4CAgERfAUEAiL4CggERPAVEAiI4CvgLHf3EIx7irdoeeEXG4p27BYc+k1w4pTgxGn+wSPFP/0Pfpi7eHnW1Ocy7x1U0LKjuJE03NqB6tBLMHoib9acghUfFH69qein//F/OSQ4dkJw8ozw5Bn4B//XI8U79vA2/id/9b9y5i7MmjQ9u/eQgjadhegGZAX4CrhGt/7C+UuKfz4oKearNVqzpdLhdHqqqrxer8+Px+Nzuz02u8tosilL9Nm5sgO/5i1blT5iXFarGFGDaOjSV/DcS7wvNvBPnZPyBWqVymQy2Ww2l8tVowQE1CqpvkGP1+Goqqx06vUWhVKfX6g8fbZow+bsl1/LGPhgbqtODaOKk+Ar4A5DHhF+94OEkujAk8Cxrl69eq2uC/6kuroa/FKnrywoVO7ck/Xs7NQ7uvHrJyDmPuHchcUHDknElBaiy+Wq8vmqw5FBk3QVogICRl1ekV+gOHAwd8k7af1H5TZeTcVe8BVwgdj+os3fy9TlZihKI3W46xdEAvicSKzevS9z/FNpLSLxtvtHCzZvo0SU1hJ27IWvCgJJozFn58i2bU+fMC29dQNVU9wAXwG7gSR7zkKxUGyArKaBHO4qVCC5efJ/f50SPzC/TgGjJgh27ZWp1Kabib1wLqhMIJ0rKi7dtSdz2szU27o0j0YCvgIW0z5evGOvEvwVvLZhvQ1K8XKN+diJ3CdmXIYYY7z7A2OFe3+Ra3WWKo+vMT3/LxdUCFarSyhS7d2fOeXZ1KbfPMBXwFZ6DRWnXNFAm7KRXA18GjKi1HTxa0sSA7IOCLwvNkhVajNk6o1099AXBDyEQQGv5JvNl/uNyEF/F40IvoKo0LKTuG1XYbs4wZ3da7ijm6B1Z1GwohcYNIYSio1eX3WdjgIRYrU69XqrVFZRLDAWFJlElFmntzscVeEk65BZ8YpK13x8sV1csf/W0/8uysnXQl4eZqkPfwbZS5Wnpp/HbHGoyy0FhYbEFP25C7qzv+suJBqyck3KUis4tMvtAUnVYdcm8LV6Q+WFS0Vz30i+PbaeDXe2g6+goQG3jrlP8MgU3vwlhZ9/XdNDf+K06FKSJD1TlpOryM1X5OTK09IlFxNFR08U/7ir4NMvc15dnDluSnaXvjx/wzRuAMUrNoVIe+BX4G0lpab/7Sv5xzzp8Meojr2pNl0gzGruDv+9I47qPVQ65XnFp1+V84VWjydUNQLFvECoen9t8l3xwk/WyQxGG+QhdXtndbXTWaXXV6ZmaNZvLpm9QDb2CUnPIdRd94IScYuOlD+84b+tYqjbY6mu/aghD0un/12xaq3q1Dmj3uDweMJqTLtcHr6w7Mv1KbH9C9BfbsODr6CBaBcnenxG0afr+GcSpCJxOWTYFosDXASKRij2oDADr72BavgJ/BzeLpTfOr1FKtNmZkkOHMr/ahM/I8vgC1L2w2chb8krUC94i+rSL6xuHPC/h59UHDhkdLmChgH4okKp5xVpQXBod6yJPWdVaZlp176SF16R3PuAuGXH+pirfTw1bqr88/XlUrmtzkQLrAGt8J8PZIwYl4H+ohsYfAU3R+vO4iee4W/7UVzIU0F97axX1/i1PzrsISEBF/QFKYAh25HKdG+uEN11b336ywc/LE+4aA4WWqA5dHICH4QMJzVDNXcxFdu/wTrsb+tCTXpa8dtJiE9PiPuDvIoK+7nzhVOfg1Z7ExouwFdQX2L7C5e9L7ySVmYwWsE1G7WLEC673XX+ouyBsYKb0dyqE7Vkpdpuj6xHFSITnO/0OeWU50VtuzaW8z0wVrbtJ73DGUobGOFKqnjO64ktm0zvEL6CyLkrXrTqI0ok1tnt7gbvoGS8IO05dlLYuW/DdI1Peb7EUllHquO/IKihRirmq2fPF0BmHwXbDn9Mnp5VGayaulbbJMjKls55/VKLplEP4CuIhFYx4gVviQp4GrvD3dhF/vXLanMdPirq2u+myv4AHpqs0Orcoe/r9VZrNOZvt4lj+0e1uG0dQy16R2W2uIMZGGIgPZN6cV5iU8iF8BWEzWPTRMmXy6DNWo9S/2rt5W8B/3GF9UF42ecviLo0qPf7+fs8VQgRUPDn5pdOnsEP0VfbqPQYLL2UYglmapB3+Ypo+swkdK+4WfAVhAEkvus2yvR6a4iqOcDdvV6fw1FVYbary82ZObrDx8v/u0O1fkvZuo2qr79Vbf1B/csRbVqmUauz2uwuj8fH+Ka9vuqi4tJREwob/InuupfKzqtgDAD4mcXiOPSbOG4A8mSENp2p9Zt1wQZDahpFFwrHTk5Dd4+bAl9BXdw3TJx8Re1y1Z00gxO73R5oE19JU69aK588Q9JriLhNl1Bf3qIjFTdAMn6afNVadQHPAuX9jZGg1VreXJHb4E8EhfqR4+UQoozeb6qwbfmef2d3trQyF69QezzMMWC2OI4czeozPBtdZP3BVxCSabMoscQUuuAHp6nyeMHvLyapXlsq7TdS3KpTfe4Fn+o/Srp8taqIX9OtBLX8qbNFHXo2/AjokpVKxql1UCEYDNYNm4vaxbHF+/0seEvlcDIMYoDlyzXmjVuSrg9jcw98BcFZuFymN9hCZPzgMU5XlUxh+GKDdPBYUf38nk6rGGikyj/6XPbIk3XP1oyUB8ZItDo7ozPpDdYvNvBua7SOzpth1txSJ9NAHpRNxYKyVxdd5GqDGF8BE5AkfPCJorLSGcz3wV1cbo9coV/zKeQw7CovQ9CyE3Uh0cAY0mazY+t23u2x7H2W199We7wMVTFUlecv8IaM5eYgMb4CGuD9n6xT2uxBewmhWQY17zdbqJ5D2OsujCx6R+lmml7qcLiPneR36NXwfU0Ny1ebdYzRq9NZvt2aWO+VbpjgK6Cx5jOFPbj3Q3mTX1D21Ex+i3rNgUGkXRwlkVkZ4tnrKyhUDn2k4fuaGpzWMdTldIZHgEQoN1/x5LOX0RVGDL6CvzL/LbnNxuz9UPaYKmx79uP3D9aPT9aVeWkpBDRjylSmeYsavq+pkeg1VGYwMvTIWSode/aldurNgTD+C/gKbmDyM1KjycHo/VDGlJQalq7iN95kmEYlfpDEYGR4NPCbrf/NbxXDpYd65qVSer8cFE9iSj33jUvo8iIDX8EfxA+iZHIL49iox+MTU+XPzC7CGha9eb77SUPPnj1eX0aWpOfgInR5kXLkeAX9NUFL5shvGZ37cGrZAL6CWsCzz13QMzawoLAB75/6PA9dZL25615Kb2Ao/rVay8K3OTmKFD9IZncEtuYhnRMIVc/N5tT8CHwFtbz7UYnbzdzNLJPpZr3Ctczyr7z9PkPOANVaUrKgcx+uDiH9uNtIf18Wi+OHHcltu7K9O+tP8BXUTMGVmkxOBu+vvqosMcxbVMDdzMdPRraF/nQareWNpVno2uoNYyUArfzUNPGQsZno8sIFXUHLTlRiipE+LQx+Uq4xv/1eQUQbSLGQYY/KXLSJD16vDxwlbgCH8zpg/2GGlkCZyrR05UV0beGCrmDuYuaxocpK5/c/FrbtyrGhLjrrt5TTw7vCbP/4C24Ond7AyPEKeseu3eE+8Gvqnd05ktrh3r51Z6qIX0n3fsiP0zI42T1CJzc/8AFrGosi1UOTONP3H4LCosB5TdDaScsQDx7DkSwI9/YL3iqhb0kA/gGp/8xXmoJ/dLtf4qStsnW7PafO5LWL405LMTifrNPS6ze5Qv/SfI70BSHeG7L/Ah5D69Bmc+3cnX9bF84nP8CrS0rpe0xodZbX3uJIAVkXXftL6U1hs8W+5TuOLBpGvPcLc5T04h8qUF5RyfBxDT8PGYWd+/QB5WN19dVCnnLw2Dx0bQ1FRraNVsV5j5/M4ca0CMR7/55ooo/7mips//p3Dtd7fq6TnRvYAICYP5tQcNe9HGkjhsGmbfrAUqz6akamZNBDXOjkxbrx8HFSmz1wThUU/zm58r4juFByhEGrTlSFOXBin9Xm/HZrKleXjzAxa25ZwBA+lGuUpHz6TC5MDsW68dYfNPTGk8Xi+HpjJteHva4z9gm5h7bwV6O1LFjM8YXkf6XXUBl9fbNOZ1n1IRcmxqHcFVyckgYmjk2pc9DPgqWBRSNcEqlm4t+aSAvYT5sulNEUWJlbKp2btiRxoKJDueuoCTL6vvtut+fYibzbYzk515+Rf28IrOUgHvIKFIMeajpB7kcgCpzq53C4d++90pr9Z1Gi3PXDz9X0otFgsC5b1RRyg/bxwocm895cKSwsZhgCE1PlS97JHj0hp0PPptMOTk4NXCYGxdmR3zI5sFsEyl3P/B44hwQ8gy8oGzmew0XjvYMEb64s/uUQVcxXqcsrrFaXj2l2N3iGVmuBMLiSJtr+U/a8hWk9B3O+z/fYaXPAY3o83lNn8jr2Yv1kJ5S7qjWBcz89Hl/C74X39GB9gcHEhL/x9+yXKpUGq80V9vGpV32+arvDrVKb0jKoTf9Jn/BUOncP5Dpw2BTwgGCHS0nFXfqSAKDRc4iU3gCwWms6B/HNESETpwtPnVNC8hbmaSuMl9dbs/F/Ia9k2/a0MZPSudgJtvtA4NqA2rXOxh27syY/ncrqvdSjf8tnZivpq0M0GvPchVwKgDu7i7/7QQ6uX+c5YmFeYJMKsz0jS/LBx0kcyBz+yv9oAXDtjwNh8wuVX2+83GswW5Pb6N/yg08ZpgdTkvLHpnJh4LCWkePFaZmahjo5+MbL4/UpSwy79qQPeZhLXaWMAeC/ILC1Osup0wUzX05uxcIjuKN/yx17DPTpMdm5sv4j2VpI/JXX35aqyy1h7lNdj6tm9xeT7WxCwdRngx4hzDZCBMC12oFhh8NdUKj88OOku+9l2RT36N/yVEJgj4G/wdS1LwdmQHz4mcJS6Qyd7deeW+pzumoOLS3XWoQiU2GRsYhvksgsBoPd4fQfnxryG65ds9ldKVeEs15O4sS0qF0/G+oMbHhquUK3ZVtKbD829XpF/5YpqYG949AmPnEqh/1riD74VBliy7prtYd52WyuYr7uy42KqS9I+gyn2nev2WoXCnKgdQy0HKg+I6TTZinWb9FIZPbQ1QiESnoG9c/5l9gfA49Mkf36m8FiqePEKrBPmcq0/afLcQNYMxk2+rfMyQ+cBOFyeQ4eTm/D7lHDWXPllZWuYK8WXNlUYUu4UPLcP8X39AzLXyEYnnu5NCc/1IFcTmdVUopg0t+4MKus9lCZV5eU5eRZ6DOgboiBqyq1aev3KWyZLB39WxYWBy6ig9e878BlNpdz4/8mLdfYGPMW+KHd7srIKn1qphAK+0i/uWUn6vlXShUljmC9qFar8+TpPA7tvdyiAzVhujIzJ2hgQz2gUOg/+/ISK3ZPif4t+cLAAHA4qvbsS8G3RRA69KIEIjOjg9Z0cWjNGzYL7+l5U/0bd/eQbN/FfDo33NZosu3dnxY/MAfdFOEDgT1vSZnRxJwxQnugkFcy942L+K386N+ySEAPADcEAL4tgrBzr4bRNeEtSqXaF18tbtmpAeouePxl75dXVTEkD9BGupImHjWeS+MkfvqOlBUWMdectacKFA4eg12zRf+W+TxaAEAKtP9yS1amQA9NljHuVg0hIZFqn3mxgRPZ5R+UB2w0At5fyCsbP41jQ2PX6dBLkpUb2OrzXzq95dutl9rGoiZC0b9lZk7gzEFoBP9yKO22LizICGmc/d1AT36gJVdaZnx1ScNvWQdf+PG6PyscKCavpMqHPcr2/rHQdO0v5dPmS/sLkZw8+eMzULPf6N/yQhJDN+jxkzmsGyKp7d0DF6S/OaPJ+tm6xtrT/NaaraRr2gNmi2P/QXH3gWwsFyLl/tFyxoPBLRbHrj1XOvTE6xGK/i0P03bWhmT6wqWi7uzpG/6Dg0f19OIf6qszCfyOjXmcUasYat8v6q82FbPtuMib4cnnGfaAgrqUV1Qy7QW8SiD6t9z838BNBMAKWdnSB8away5Q5z6SiorAjn+QSkk0E6c3eqzeHituzalTM8Jh577AWdPXak4HtH//Q2IbrAQ4+rd86111QLEK/ycSqyc/za5ejqXvldE7f2x2947d2dw60IU9dB8otdnpG0r7kpL5/UYinZMQ/VuOe0pB3yxNXV6xaFki+hu6kcycwF3rIG4lUs34adyYtMdO9v7CUAnI5LrZryJtpRj9W97ZXUI/C6Oy0vnfH5NadmRLytt7mBRy/QCR0Fg/e67gzu5NoVWKxcgJCnq9Ck3h/2xDmvKEYgW+MLBTrMa3Egri7mdLO/i9f5XS97oxGq0r16Sja+M6QjHD2z95OhfncDEUExw4EtgR5O8NeGwqW5oBsf0lS1aWZWSbnS6Pf4aj/wCsBydyaT4CO9m5L3DxAFg4IwtpK0UUEyxYqqJ3L2p1lg8/YdfJIi06Uv1HSd98tywt02w2O86cy78rnoOHobOM194OfPvwf0KxevJ0jOIPxQQxfaQuWjMAcu5jJ7LZecgmREKPwZJR49mSoXGaUUzNgJJSw4tzMUYDsKyQkhY4IQLqwWJ+GeaYCCEqdOwtoY+IaTTmxcuSEfRgWWHFh8wnZ33/QyI7JwURGorWMRT9VDi9vnLF6uYUADF9JHpj4DQbr7c6PYN6cCLpaWni0PvBjUbr6rXNKQCAn/YwbCVgMFg3b026oxtpazZZbuvKEADw3lc2qxoA6DdK7nIFGgKaR/kFiumzMGxBiAqd+0joWwNqdZZFy5pTI9jP0VOBW6Rcq10Fe+Bgepe+bOwOItw8D06S0wcZVWrTPxdcQdCDa4uxjysYj0mVynVL373IjWMGCREyb3EpffcUqUz7+NMYyyNxbXFrzT5ZDCelQo6YnCJ4+HG2DAwTGpCf9gSenAlFXkGhcsjDGKPs6OYYNEbuoB00e612mvj+X9JZuEqGcJPw+IFDQD6fLzGZH9sPY10YujmATd8xLLyCn6hUpo1bku/uwbqlkoR6M3qijN4F5HBU7d6X3oxmgwZwZ3eJVB54ZEZtwVAtk+s+X8eOHZQIDcGun3UM08C05tfeRBr8QbeIn7FPKF1uhi1xvF4fX6hasfoSyzdOJIRD574So4lhlWkBTzl4LFKui26U63y8Tsu4tWqVx8crLoUYIFMkuM72XRr6K3a5PEeOZt/WBamAQzfKdVp0pE4nmBl3EfN4fHxB2drPEtvHc3uHnObMw1NkVqYtxlRq00vz8fZDQLfLjXToKSkWMOyg5M+F5HLd9z+m9sdaPU24CboPpIRihv1Vq6q8Cb8Xx9yHV66hmyaA+x+UG4zMO6pC7ak3VJ44lTtpeioHjiAn/EHbWOpCkp6+BgDCoUxlemkBaomGbh06j05VMu4i5jeZ1ebMzJK8uyYl5j6ubpfZrGjblfr5oJo+3n+tduPHo8cL28c3s71Bw2H0JIVGG/QsFrBmaZnx6PH8l+ZfbhdH5o2yl469xUdPqukd/7X1ebVIrB4/DXugE91GwRjyiLykLOiJLJBNOpxVlFRz4GDOzJdT23cnYcA6Jk4X5eTpGMt+qMn1+srVH+fin4qCbqYQ9B4mE1GOEOfJQRjYHW6JVHv8ZMGSd1J7DcYuTgi1dLtftH1nzSHK9B3Q/Be8tcNHee3jWTC2g6+gDlNKTyVUhD5MDsLA5fKoyyvSMqj/fJ/14rz03kPz8YuWZknfEYJP1lESqYE+4//65XJ7UtOl/UayY4YLvoK6aNGRWvlRudNZ96nUXm/NIY1lKlNevvzEKd5XG3NeX5r1+IzsQQ/lxfYrurO7oFUnMWvPoeEErWLEbWOFbTqLWtZasnWMCJqwfYcXTX2Bt/Zz/tkERZnKCE3bYOed+b0/I1M28EHWjOfgKwiPkRMUvGJr6FM4r1/wZ1Uer83uglq4pNQgpsoLeSU5ufLMLEl6JhWa8xd4b7x1OiJty1cL0jPq+NrQXEwsXrXmRJRvmpQi+OKrYxHddMZsYVaONCtbmpElycySgkmLikvlCh3Y2eGogoo69PnH8DfJl6X9R7KpwYavIGzadqVWfKg2VbhDW5l+wd9DmQRREQ56g3X12sg2at34nc7nC/f7GTGb7Rs2RfumVptr157IbvrG8pods2/8ktorrFdQaXUePcm+8z7wFURI76Gyfb8a6IuJG+oymWyr/xXZiuRvvw888SDSq7LS+c230b4ptER3743spkvfC9zaPpyr5ixNnWXTVn77eLZsfvwn+ArqxbBx8v2HDDZ7qHSzfhcJgBC8+1FkAQB/DIloembptFkClh6qgK/gJug5RLrms3KF0ubx+BoqEEgAhOCDT8vDtDNkRw6HW0xpV3wguslDlBsXfAU3TdtYavIMxX9+0CpLbO4qb5gN5WAXCYAQ/OtLTegAgN9CYVRRYU/LVC14i+rSl8Wu7wdfQcMBreThj8nefLfsYrLRVGF3OqvgZfgbbf62WjilV30CYBtGANz0TesRAJ+v11y3pL9robZ3odrr9YG1jSZbsUD72VfSEePFrTvj+0NY4CtoHG7vRvUfLX3iOfm8JSVrvyjb+oN6/yHN0ZPak+e0pxN0wNnzupRUCz2jrUcAvLFMfjrh/782NGfO65KuWDyewHG9egRAZDe9bHY6A6ck1CMA/vGqDMx46Jjm+GntiTPaX4+U79ynXr+lZOFyxZTnpb2HiVt1wn/1kYGvABX6TJV6BECk0Oe61iMAIkUoDlx1XY8AaILgK0CFPlExCgFQrkEIAL7QTgKAAXwFqJAAQH8FyOArQIUEAPorQAZfASokANBfATL4ClAhAYD+CpDBV4AKCQD0V4AMvgJUSACgvwJk8BWgQgIA/RUgg68AFRIA6K8AGXwFqJAAQH8FyOArQIUEAPorQAZfASokANBfATL4ClAhAYD+CpDBV4AKCQD0V4AMvgJUSACgvwJk8BWgQgIA/RUgg68AFRIA6K8AGXwFqJAAQH8FyOArQIUEAPorQAZfASokANBfATL4CvDo1FtC38W7+QSAy+U5dCQD7XxSloCvAIl7elIpqQb6LlrNJwB8vmqhSL38/UttmnMM4CvAALz/UrLW62U4vaf5BMA1/yHkRaXL32vGMYCvIOqE8H64tDrzO+9Html4pKAEQF6hlfF5m3sM4CuILvf0FCdcDOr9TmfV+QuiuPsb9/QelAAY84Si0sp8yo4/Bt5pnrkQvoIoAmX/xSQt47mFfu9PTJb0GtLo55egBAAw8WllsBgAm/CKm2U9gK8gWoTOfOx299nzVBS8/xa8ALilNgb0hqoQ9UCziwF8BVGhA3h/SijvP3VW1O3+KJ3egxgAwKiJChIDf4KvoPHp0EscwvsdDvfps+Koef8t2AFwS20MGIwkBmrBV9DIdKjN+0O0ei8mUr2GRvXUTvQAACY/U2K2BG8T80qWrWoeMYCvIHJi+wtmvsz7dF3Rjj2CI8cEx0/yD/zK27wtb/n7mRP/lnn3vX96c+jMx+EA75f0HhbtUzvZEADApBlKszmCeiB8s3MJfAVh06IDNelp/q69Ekqi9R8AU+XxgnMDVVU+8GajyUZR5WcTeKs+TH3godyOITMfyPtPnxPHDUA4tZMlAXBLGO2BlWuSbo8Vhm/2AaOyOXYUOb6C8Og/SnToqNJgsNaehxf0qCP4VVWVV6ezwMsTUcYQ3n/yjAiKNJRnYU8AAKMmhIoBuUKXma0K0+xaneVyqnDl6uSOvXjoDhMu+ArC4KmZEpncFKz/nvHynwvG+Csowy5cEscPRDuvnFUBADwyRVlZydweqK49YDx8s0PMKJX6nbtT+wzPQXebsMBXUBdzFkn1eltDnQcM3n8pKRqjXSFgWwAAE6YHjYFILwgYnd7y66HMoQ9noDtP3eArCMm8xTKz2dFQZwBD5nMmIUqjXSFgYQAAj04NOkYW6QWllclkO3os+4ExrI8BfAXBGTVRqtMzzGGs34Wb998IOwPglpDtgUgvKLOg5bBz95XO9xWgP1co8BUEoWUnKjXDFCzz8fmqHQ633mAViU28YpOyxOpwVoXIVn0+X2aWHKXPhw5rAwAY+6SSfoprgNmhsZuWqf/9kqGIb3E4gpodfi6VaZetutCigxj9uYKCryAIryxU0pdr+c0KSdG58yXT/0HF9he3iqFu7UC16Uz1GCx97W2VQsmcL3m9vuQUYb8RrGiZsTkA5i0uBS9nMPvVq2ZLrdn/TnWtMbv4RrPLa8zOYHeXy3PufGGf4dnozxUUfAVMtOhI5eRZmEqgq2Uq0zur+W27Mhcq9/SUHD5WwVgmlZQalq+6wIZeatYGQDCzgz1VatPKNaHMfuCwKZjZl7HD7MzgK2Di4Sly+nJ1KIRUKtMbbxfCewrx2TZdqINHK+gFktNZdeRYVgwLUlLWBgCj2cGSKnXFkhWFLTuGymSgKt5/iNVmZwZfARMbv9PQTQlV8IbNBa07151QtouTFBY76MVYfoHikSdT0Z+OtQEQzOzfbGkKZmcGXwETyamBFbGvujo3T95vRGGY3/DCK2X0Ghnq8YVLE9GfjrUBkBLE7H2bhNmZwVdAAzKc0jJngBEdzqrd+zJbhKyFbwTaZ6aKwJEds9n+1TeJt2J3SrAzAJq82ZnBV0CjfTxltQb2RhuM1mWrIqtGr2QELgN31GwFlXp7LBkIa45mZwZfAY2Y+yT0pphabXppfmRv4nSCOeBL4GuPHM26K75x17zXCT0ArFbX5u8uE7MjgK+Axt09JHZHYDVaXl4xf3FKRN9zMTkwo3W5PAcPZ7WLw5m53rIj9eRz/H2/lrndgbP6qqq8GVmylR+kPzAmGytVaKpmrwN8BTQgj9QbAstIU4Xt319H1pCSyGi7Ydrd23ekteokivITgev/Y54g4UKJf17xNaarZha3vjIjU/L1xrTREzKiHwZNz+xhga+AiQIew0aWR49ndeodbnfE0EdlboZ9P+1rPo52pnHfMNHxU6XQEGQcYQ24vF6fyWRLy6BWrUm6u0e0c4amZPZwwVfAxJ4DpgAjVldfFQpVs19NujWMj9/agTp8XE/v0lYq9dNnRXV+4uQZFCUNui4n2OXxeOUK3X9/vNzjgVxi9sYFXwETM+eW0ruTnc6qhN8LRz6WXufH335PCUVXwMehAE7PpHoNid6Q5PMvSzQaa0QLSm70PI3WvO9A+v2jsjhv9oyomj0y8BUwcUc3iU4fmI9eq0lJ7dCcGjA61OSqWfNkFebA/my4bHbXDzszWkYrEx09UarV2m5mJQMUpdAq2LH7cuc+UfKe27tRjGavqLAf+i174IOhzD57vswczOw7omf2iMFXEISN3+np3gM+YTRZzyUUvjjvyh3dAuc2d+0nWr9FDm+L8YMSqWby01GaDdoujsrnMUyMuVEPFI011K7dDPZn8EuFUv/hJxdaxURph5IgZr9mNNnqMDvTuqUom70+4CsIQqfeEjWtv9z/MqBSlsq0584Xfb0pZ+m7uYuX53/wcdGeAxKZ3OByM6/rg3Jo196827pGyY3WbVIFy/v9a/bPnFev+bRkzkLl/DdLv9xYXlBU6Qny9x6PLy1DPG7KFWL2RgFfQXDmLFIF6zmBogU8w253WywOAP4BDhSsKAVfzC9QDHk4SolE3ACJ3sCQDEBxDtXXrn2S+0cH5gPQfHx0qiK/0Mr4CCaTbdv2pKiNpHLU7PUEX0Fwbr2H2vuL8SaXw4PblZQZ5rwRve6Uz9er6U1JeApo1L63tijEtMp2cZLTCWb644I7ZmRKHpyQFjWz7/q5IcxeYvjna3noXlQH+ApCAq3ho6eYF7iEc/mqr6rLTSvXFLaKidK4EpTl+bxKupIKs/2bLYW3damjLXh3D0k+rTMeLnV5xYrVF4nZGx58BXXRpgu1fZch0q50uKB2lit0C97khV7J0bD0Gip1OgMTYsj7L1wSdOod1orkgWPkDmfgWJLD4f75l9Q7ozibgFtmrz/4CsIAitU5C8v0BleY9TIUXVarKyVV+egUfpQX4704v6S6OjCBLteY57wRQXf+0ZOB88m83urEZH7vIVHtTuGQ2esPvoKwiRsg/XKjxmB0hdz9odpqdebkqV9bKrrrXoS+50+/Kg9wF/+SqIEPRpANL1iqCvgS+N+CQuWYSXWPRjVPs9cffAUR0rmP5PVlZWd/NxiNNpvd7XRWATaby1RhkysM//tZ+exL4ju7o1W+3/0Y2I8OWcTFxOLOfcKdTnNLzV6FioB+GPhOiUTz1PNR6gzlnNnrD76C+nJ7LNVriGT4OMmDkyRDHqHiB4khbUVX9dMeQ0Dp6PH4zp7L79Azgv1iR4yX0zsiFUr9c7PRAoDlZq8/+AqaFpu26QIc118DdB+QH/6XTHleyVgDPDEjSj2hzQh8BU2LZavVgW2A/0/fI5gO+eWmwN0ZIP+GLxkylsVzCjgKvoKmxaSnlYy9QKvXhtuLf2sHqoA2kgAVQlIyv1t/do+qchF8BU2L9vESC22fcbfbc/FS8fBHw6oE3lyprKKtGqvdnSGjdQynOlg4Ab6CJsfp8wy7CxpNtj370uMH1tEZ+vgzUr0hcG+p2jqkYu5Ctq4p4TT4Cpocz71cSs+CIImHRAhK8cFjmEfEIPOZNVeiUlvpg07emrlALF5TwmnwFTQ5WnaicgsY5vNADJhMtqQU4btr0oY9mtsuTnBrB3HLjuJ7egifeJa//6Cy9igQ5tmgaz/P4szYKrfAV9AUmf6PUq+XeUaxf/cHvqDsYqLot+OixGSpQKg2GoPuFuHx+mpXcnLn2Dluga+giRJ6RjH8ChIbr9fn89WxIqyk1PDPBVFdGt+8wFfQRGkXJ7mcXnnza4I/+bKgNfsnFXMXfAVNl/bxkoSLlnrvCgGN5o8+K6pzCQHhpsBX0KS5rQu1+4DRG8aWWDdekBopSwyL3ylq2YmU/Y0MvoKmTouO1CsLy8o1znCqAmgSWCodicnKx57izpR6ToOvoHnQqbdk0TsqXnGl2+0JaPfCv8HvXW6PTmc5ebZkxouiO7qRgj9a4CtoTrSKoYY9Knv97dJtP2nO/a5Pz9JfSdcdO1W+fnPJ3+dJ+o4Qhz7+jNDw4CsgEBDBV0AgIIKvgEBABF8BgYAIvgICARF8BQQCIvgKCARE8BUQCIjgKyAQEMFXQCAggq+AQEAEXwGBgAi+AgIBEXwFBAIi+AoIBETwFRAIiOArIBAQwVdAICCCr4BAQARfAYGACL4CAgERfAUEAiL4CggERPAVEAiI4CsgEBDBV0AgIIKvgEBABF8BgYAIvgICARF8BQQCIvgKCARE8BUQCIjgKyAQEMFXQCAggq+AQEAEXwGBgAi+AgIBEXwFBAIi+AoIBETwFRAIiOArIBAQwVdAIODxf/VVGcawPhaZAAAAAElFTkSuQmCC"/></a>
                    <p class="about">This website uses Puter to bring you safe, secure, and private AI and Cloud features.</p>
                    <div class="buttons">
                        <button class="button button-auth" id="launch-auth-popup-cancel">Cancel</button>
                        <button class="button button-primary button-auth" id="launch-auth-popup" style="margin-left:10px;">Continue</button>
                    </div>
                    <p style="text-align: center; margin-top: -15px; font-size: 14px;">Powered by <a href="https://developer.puter.com/?utm_source=sdk-splash" target="_blank">Puter</a></p>
                    <p class="launch-auth-popup-footnote">By clicking 'Continue' you agree to Puter's <a href="https://puter.com/terms" target="_blank">Terms of Service</a> and <a href="https://puter.com/privacy" target="_blank">Privacy Policy</a>.</p>
                </div>
            </dialog>`,this.shadowRoot.innerHTML=r,this.messageListener=i=>L(this,null,function*(){i.data.msg==="puter.token"&&(this.close(),puter.setAuthToken(i.data.token),puter.setAppID(i.data.app_uid),window.removeEventListener("message",this.messageListener),puter.puterAuthState.authGranted=!0,this.resolve(),puter.onAuth&&typeof puter.onAuth=="function"&&puter.getUser().then(o=>{puter.onAuth(o)}),puter.puterAuthState.isPromptOpen=!1,puter.puterAuthState.resolver&&(puter.puterAuthState.authGranted?puter.puterAuthState.resolver.resolve():puter.puterAuthState.resolver.reject(),puter.puterAuthState.resolver=null))})}cancelListener=()=>{this.close(),window.removeEventListener("message",this.messageListener),puter.puterAuthState.authGranted=!1,puter.puterAuthState.isPromptOpen=!1,this.reject(new Error("User cancelled the authentication")),puter.puterAuthState.resolver&&(puter.puterAuthState.resolver.reject(new Error("User cancelled the authentication")),puter.puterAuthState.resolver=null)};connectedCallback(){this.shadowRoot.querySelector("#launch-auth-popup")?.addEventListener("click",()=>{let e=600,t=700,r="Puter";var i=screen.width/2-e/2,o=screen.height/2-t/2;window.open(`${puter.defaultGUIOrigin}/?embedded_in_popup=true&request_auth=true${window.crossOriginIsolated?"&cross_origin_isolated=true":""}`,r,`toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=${e}, height=${t}, top=${o}, left=${i}`)}),window.addEventListener("message",this.messageListener),this.shadowRoot.querySelector("#launch-auth-popup-cancel")?.addEventListener("click",this.cancelListener),this.shadowRoot.querySelector(".close-btn")?.addEventListener("click",this.cancelListener)}open(){if(this.hasUserActivation()){let r=600,i=700,o="Puter";var e=screen.width/2-r/2,t=screen.height/2-i/2;window.open(`${puter.defaultGUIOrigin}/?embedded_in_popup=true&request_auth=true${window.crossOriginIsolated?"&cross_origin_isolated=true":""}`,o,`toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=${r}, height=${i}, top=${t}, left=${e}`)}else this.shadowRoot.querySelector("dialog").showModal()}close(){this.shadowRoot.querySelector("dialog").close()}};j0.__proto__===globalThis.HTMLElement&&customElements.define("puter-dialog",j0);var $j=j0;var Wj=()=>{let n,e;return{promise:new Promise((r,i)=>{n=r,e=i}),resolve:n,reject:e}},Gj=Symbol("FILE_SAVE_CANCELLED"),Yj=Symbol("FILE_OPEN_CANCELLED"),$p=class n extends zf{#e="*";#r;#t;static from(e,t,{messageTarget:r,appInstanceID:i}){let o=new n(t,{target:e.appInstanceID,usesSDK:e.usesSDK,messageTarget:r,appInstanceID:i});return o.response=e.response,o}constructor(e,{target:t,usesSDK:r,messageTarget:i,appInstanceID:o}){super(["message","close"]),this.messageTarget=i,this.appInstanceID=o,this.targetAppInstanceID=t,this.#r=!0,this.#t=r,this.log=e.logger.fields({category:"ipc"}),this.log.fields({cons_source:o,source:e.appInstanceID,target:t}).info(`AppConnection created to ${t}`,this),globalThis.document&&window.addEventListener("message",s=>{if(s.data.msg==="messageToApp"){if(s.data.appInstanceID!==this.targetAppInstanceID)return;if(s.data.targetAppInstanceID!==this.appInstanceID){console.error(`AppConnection received message intended for wrong app! appInstanceID=${this.appInstanceID}, target=${s.data.targetAppInstanceID}`);return}this.emit("message",s.data.contents);return}if(s.data.msg==="appClosed"){if(s.data.appInstanceID!==this.targetAppInstanceID)return;this.#r=!1,this.emit("close",{appInstanceID:this.targetAppInstanceID,statusCode:s.data.statusCode})}})}get usesSDK(){return this.#t}postMessage(e){if(!this.#r){console.warn("Trying to post message on a closed AppConnection");return}if(!this.#t){console.warn("Trying to post message to a non-SDK app");return}this.messageTarget.postMessage({msg:"messageToApp",appInstanceID:this.appInstanceID,targetAppInstanceID:this.targetAppInstanceID,targetAppOrigin:"*",contents:e},this.#e)}close(){if(!this.#r){console.warn("Trying to close an app on a closed AppConnection");return}this.messageTarget.postMessage({msg:"closeApp",appInstanceID:this.appInstanceID,targetAppInstanceID:this.targetAppInstanceID},this.#e)}},CA=class extends zf{#e=1;itemWatchCallbackFunctions=[];appInstanceID;parentInstanceID;#r=null;#t=[];#c;#a;#h;#u;#d=new Map;#o=!1;#s=null;#n(e,t,r={}){let i=this.#e++;this.messageTarget?.postMessage(Fe({msg:e,env:this.env,appInstanceID:this.appInstanceID,uuid:i},r),"*"),this.#t[i]=(...o)=>{t(...o)}}#m(e,t={}){return new Promise(r=>{this.#n(e,r,t)})}#i(e,t){let r=this.util.rpc.getDehydrator({target:this.messageTarget});this.messageTarget?.postMessage({msg:e,env:this.env,appInstanceID:this.appInstanceID,value:r.dehydrate(t)},"*")}#p(i){return L(this,arguments,function*({callback:e,method:t,parameters:r}){let o,s;yield new Promise(c=>{o=new Promise(u=>{s=u,c()})});let a=this.util.rpc.registerCallback(s);this.messageTarget?.postMessage({$:"puter-ipc",v:2,appInstanceID:this.appInstanceID,env:this.env,msg:t,parameters:r,uuid:a},"*");let l=yield o;return e&&e(l),l})}constructor(e,{appInstanceID:t,parentInstanceID:r}){let i=["localeChanged","themeChanged","connection"];if(super(i),this.#u=i,this.puter=e,this.appInstanceID=t,this.parentInstanceID=r,this.appID=e.appID,this.env=e.env,this.util=e.util,this.env==="app")this.messageTarget=window.parent;else if(this.env==="gui")return;this.parentInstanceID&&(this.#r=new $p(this.puter,{target:this.parentInstanceID,usesSDK:!0,messageTarget:this.messageTarget,appInstanceID:this.appInstanceID})),this.messageTarget?.postMessage({msg:"READY",appInstanceID:this.appInstanceID},"*"),globalThis.document&&window.addEventListener("focus",s=>{this.messageTarget?.postMessage({msg:"windowFocused",appInstanceID:this.appInstanceID},"*")});let o=null;globalThis.document&&window.addEventListener("message",s=>L(this,null,function*(){if(s.data){if(s.data.error)throw s.data.error;if(s.data.msg&&s.data.msg==="focus")window.focus();else if(s.data.msg&&s.data.msg==="click"){let a=document.elementFromPoint(s.data.x,s.data.y);a!==null&&a.click()}else if(s.data.msg&&s.data.msg==="drag"){let a=document.elementFromPoint(s.data.x,s.data.y);if(a!==o){if(o){let l=new Event("dragleave",{bubbles:!0,cancelable:!0,clientX:s.data.x,clientY:s.data.y});o.dispatchEvent(l)}if(a){let l=new Event("dragenter",{bubbles:!0,cancelable:!0,clientX:s.data.x,clientY:s.data.y});a.dispatchEvent(l)}o=a}}else if(s.data.msg&&s.data.msg==="drop"){if(o){let a=new CustomEvent("drop",{bubbles:!0,cancelable:!0,detail:{clientX:s.data.x,clientY:s.data.y,items:s.data.items}});o.dispatchEvent(a),o=null}}else if(s.data.msg==="windowWillClose")this.#c===void 0?this.messageTarget?.postMessage({msg:!0,appInstanceID:this.appInstanceID,original_msg_id:s.data.msg_id},"*"):(this.messageTarget?.postMessage({msg:!1,appInstanceID:this.appInstanceID,original_msg_id:s.data.msg_id},"*"),this.#c());else if(s.data.msg==="itemsOpened")if(this.#a===void 0)this.messageTarget?.postMessage({msg:!0,appInstanceID:this.appInstanceID,original_msg_id:s.data.msg_id},"*");else{this.messageTarget?.postMessage({msg:!1,appInstanceID:this.appInstanceID,original_msg_id:s.data.msg_id},"*");let a=[];if(s.data.items.length>0)for(let l=0;l<s.data.items.length;l++)a.push(new To(s.data.items[l]));this.#a(a)}else if(s.data.msg==="getAppDataSucceeded"){let a=new To(s.data.item);s.data.original_msg_id&&this.#t[s.data.original_msg_id]&&this.#t[s.data.original_msg_id](a)}else if(s.data.msg==="instancesOpenSucceeded")s.data.original_msg_id&&this.#t[s.data.original_msg_id]&&this.#t[s.data.original_msg_id](s.data.instancesOpen);else if(s.data.msg==="readAppDataFileSucceeded"){let a=new To(s.data.item);s.data.original_msg_id&&this.#t[s.data.original_msg_id]&&this.#t[s.data.original_msg_id](a)}else if(s.data.msg==="readAppDataFileFailed")s.data.original_msg_id&&this.#t[s.data.original_msg_id]&&this.#t[s.data.original_msg_id](null);else if(s.data.original_msg_id!==void 0&&this.#t[s.data.original_msg_id]){if(s.data.msg==="fileOpenPicked"){if(s.data.items.length===1)this.#t[s.data.original_msg_id](new To(s.data.items[0]));else if(s.data.items.length>1){let a=[];for(let l=0;l<s.data.items.length;l++)a.push(new To(s.data.items[l]));this.#t[s.data.original_msg_id](a)}}else if(s.data.msg==="directoryPicked"){if(s.data.items.length===1)this.#t[s.data.original_msg_id](new To({uid:s.data.items[0].uid,name:s.data.items[0].fsentry_name,path:s.data.items[0].path,readURL:s.data.items[0].read_url,writeURL:s.data.items[0].write_url,metadataURL:s.data.items[0].metadata_url,isDirectory:!0,size:s.data.items[0].fsentry_size,accessed:s.data.items[0].fsentry_accessed,modified:s.data.items[0].fsentry_modified,created:s.data.items[0].fsentry_created}));else if(s.data.items.length>1){let a=[];for(let l=0;l<s.data.items.length;l++)a.push(new To(s.data.items[l]));this.#t[s.data.original_msg_id](a)}}else s.data.msg==="colorPicked"?this.#t[s.data.original_msg_id](s.data.color):s.data.msg==="fontPicked"?this.#t[s.data.original_msg_id](s.data.font):s.data.msg==="alertResponded"?this.#t[s.data.original_msg_id](s.data.response):s.data.msg==="promptResponded"?this.#t[s.data.original_msg_id](s.data.response):s.data.msg==="languageReceived"?this.#t[s.data.original_msg_id](s.data.language):s.data.msg==="fileSaved"?this.#t[s.data.original_msg_id](new To(s.data.saved_file)):s.data.msg==="fileSaveCancelled"?this.#t[s.data.original_msg_id](Gj):s.data.msg==="fileOpenCancelled"?this.#t[s.data.original_msg_id](Yj):this.#t[s.data.original_msg_id](s.data);delete this.#t[s.data.original_msg_id]}else if(s.data.msg==="itemChanged"&&s.data.data&&s.data.data.uid)this.itemWatchCallbackFunctions[s.data.data.uid]&&typeof this.itemWatchCallbackFunctions[s.data.data.uid]=="function"&&this.itemWatchCallbackFunctions[s.data.data.uid](s.data.data);else if(s.data.msg==="broadcast"){let{name:a,data:l}=s.data;if(!this.#u.includes(a))return;this.emit(a,l),this.#d.set(a,l)}else if(s.data.msg==="connection"){s.data.usesSDK=!0;let a=$p.from(s.data,this.puter,{messageTarget:this.messageTarget,appInstanceID:this.appInstanceID}),l=u=>{this.messageTarget?.postMessage({$:"connection-resp",connection:s.data.appInstanceID,accept:!0,value:u},"*")},c=u=>{this.messageTarget?.postMessage({$:"connection-resp",connection:s.data.appInstanceID,accept:!1,value:u},"*")};this.emit("connection",{conn:a,accept:l,reject:c})}}})),globalThis.document?.addEventListener("mousemove",s=>L(this,null,function*(){this.mouseX=s.clientX,this.mouseY=s.clientY,this.messageTarget?.postMessage({msg:"mouseMoved",appInstanceID:this.appInstanceID,x:this.mouseX,y:this.mouseY},"*")})),globalThis.document?.addEventListener("click",s=>L(this,null,function*(){this.mouseX=s.clientX,this.mouseY=s.clientY,this.messageTarget?.postMessage({msg:"mouseClicked",appInstanceID:this.appInstanceID,x:this.mouseX,y:this.mouseY},"*")}))}onWindowClose(e){this.#c=e}onItemsOpened(e){if(!this.#a){let t=new URLSearchParams(globalThis.location.search);if(t.has("puter.item.name")&&t.has("puter.item.uid")&&t.has("puter.item.read_url")){let r=t.get("puter.item.path");!r.startsWith("~/")&&!r.startsWith("/")&&(r=`~/${r}`),e([new To({name:t.get("puter.item.name"),path:r,uid:t.get("puter.item.uid"),readURL:t.get("puter.item.read_url"),writeURL:t.get("puter.item.write_url"),metadataURL:t.get("puter.item.metadata_url"),size:t.get("puter.item.size"),accessed:t.get("puter.item.accessed"),modified:t.get("puter.item.modified"),created:t.get("puter.item.created")})])}}this.#a=e}wasLaunchedWithItems(){let e=new URLSearchParams(globalThis.location.search);return e.has("puter.item.name")&&e.has("puter.item.uid")&&e.has("puter.item.read_url")}onLaunchedWithItems(e){if(!this.#h){let t=new URLSearchParams(globalThis.location.search);if(t.has("puter.item.name")&&t.has("puter.item.uid")&&t.has("puter.item.read_url")){let r=t.get("puter.item.path");!r.startsWith("~/")&&!r.startsWith("/")&&(r=`~/${r}`),e([new To({name:t.get("puter.item.name"),path:r,uid:t.get("puter.item.uid"),readURL:t.get("puter.item.read_url"),writeURL:t.get("puter.item.write_url"),metadataURL:t.get("puter.item.metadata_url"),size:t.get("puter.item.size"),accessed:t.get("puter.item.accessed"),modified:t.get("puter.item.modified"),created:t.get("puter.item.created")})])}}this.#h=e}requestEmailConfirmation(){return new Promise((e,t)=>{this.#n("requestEmailConfirmation",e,{})})}alert(e,t,r,i){return new Promise(o=>{this.#n("ALERT",o,{message:e,buttons:t,options:r})})}openDevPaymentsAccount(){return new Promise(e=>{this.#n("openDevPaymentsAccount",e,{})})}instancesOpen(e){return new Promise(t=>{this.#n("getInstancesOpen",t,{})})}socialShare(e,t,r,i){return new Promise(o=>{this.#n("socialShare",o,{url:e,message:t,options:r})})}prompt(e,t,r,i){return new Promise(o=>{this.#n("PROMPT",o,{message:e,placeholder:t,options:r})})}showDirectoryPicker(e,t){return new Promise((r,i)=>{if(!globalThis.open)return i("This API is not compatible in Web Workers.");let o=this.#e++;if(this.env==="app")this.messageTarget?.postMessage({msg:"showDirectoryPicker",appInstanceID:this.appInstanceID,uuid:o,options:e,env:this.env},"*");else{let l=700,c=400,u="Puter: Open Directory";var s=screen.width/2-l/2,a=screen.height/2-c/2;window.open(`${puter.defaultGUIOrigin}/action/show-directory-picker?embedded_in_popup=true&msg_id=${o}&appInstanceID=${this.appInstanceID}&env=${this.env}&options=${JSON.stringify(e)}`,u,`toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=${l}, height=${c}, top=${a}, left=${s}`)}this.#t[o]=r})}showOpenFilePicker(e,t){let r=Wj(),i=new Promise((o,s)=>{if(!globalThis.open)return s("This API is not compatible in Web Workers.");let a=this.#e++;if(this.env==="app")this.messageTarget?.postMessage({msg:"showOpenFilePicker",appInstanceID:this.appInstanceID,uuid:a,options:e??{},env:this.env},"*");else{let u=700,d=400,p="Puter: Open File";var l=screen.width/2-u/2,c=screen.height/2-d/2;window.open(`${puter.defaultGUIOrigin}/action/show-open-file-picker?embedded_in_popup=true&msg_id=${a}&appInstanceID=${this.appInstanceID}&env=${this.env}&options=${JSON.stringify(e??{})}`,p,`toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=${u}, height=${d}, top=${c}, left=${l}`)}this.#t[a]=u=>{if(u===Yj){r.resolve(void 0);return}r.resolve(u),o(u)}});return i.undefinedOnCancel=r.promise,i}showFontPicker(e){return new Promise(t=>{this.#n("showFontPicker",t,{options:e??{}})})}showColorPicker(e){return new Promise(t=>{this.#n("showColorPicker",t,{options:e??{}})})}requestUpgrade(){return new Promise(e=>{this.#n("requestUpgrade",e,{})})}showSaveFilePicker(e,t,r){let i=Wj(),o=new Promise((s,a)=>{if(!globalThis.open)return a("This API is not compatible in Web Workers.");let l=this.#e++;!r&&Object.prototype.toString.call(e)==="[object URL]"&&(r="url");let c=r==="url"?e.toString():void 0,u=["move","copy"].includes(r)?e:void 0;if(this.env==="app")this.messageTarget?.postMessage({msg:"showSaveFilePicker",appInstanceID:this.appInstanceID,content:c?void 0:e,save_type:r,url:c,source_path:u,suggestedName:t??"",env:this.env,uuid:l},"*");else{window.addEventListener("message",A=>L(this,null,function*(){A.data?.msg==="sendMeFileData"&&(A.source.postMessage({msg:"showSaveFilePickerPopup",content:c?void 0:e,url:c?c.toString():void 0,suggestedName:t??"",env:this.env,uuid:l},"*"),window.removeEventListener("message",this))}));let f=new Blob([e],{type:"application/octet-stream"}),b=URL.createObjectURL(f),_=700,C=400,S="Puter: Save File";var d=screen.width/2-_/2,p=screen.height/2-C/2;window.open(`${puter.defaultGUIOrigin}/action/show-save-file-picker?embedded_in_popup=true&msg_id=${l}&appInstanceID=${this.appInstanceID}&env=${this.env}&blobUrl=${encodeURIComponent(b)}`,S,`toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=${_}, height=${C}, top=${p}, left=${d}`)}this.#t[l]=f=>{if(f===Gj){i.resolve(void 0);return}i.resolve(f),s(f)}});return o.undefinedOnCancel=i.promise,o}setWindowTitle(e,t,r){return typeof t=="function"?(r=t,t=void 0):typeof t=="object"&&t!==null&&(t=t.id),new Promise(i=>{this.#n("setWindowTitle",i,{new_title:e,window_id:t})})}setWindowWidth(e,t,r){return typeof t=="function"?(r=t,t=void 0):typeof t=="object"&&t!==null&&(t=t.id),new Promise(i=>{this.#n("setWindowWidth",i,{width:e,window_id:t})})}setWindowHeight(e,t,r){return typeof t=="function"?(r=t,t=void 0):typeof t=="object"&&t!==null&&(t=t.id),new Promise(i=>{this.#n("setWindowHeight",i,{height:e,window_id:t})})}setWindowSize(e,t,r,i){return typeof r=="function"?(i=r,r=void 0):typeof r=="object"&&r!==null&&(r=r.id),new Promise(o=>{this.#n("setWindowSize",o,{width:e,height:t,window_id:r})})}setWindowPosition(e,t,r,i){return typeof r=="function"?(i=r,r=void 0):typeof r=="object"&&r!==null&&(r=r.id),new Promise(o=>{this.#n("setWindowPosition",o,{x:e,y:t,window_id:r})})}setWindowY(e,t,r){return typeof t=="function"?(r=t,t=void 0):typeof t=="object"&&t!==null&&(t=t.id),new Promise(i=>{this.#n("setWindowY",i,{y:e,window_id:t})})}setWindowX(e,t,r){return typeof t=="function"?(r=t,t=void 0):typeof t=="object"&&t!==null&&(t=t.id),new Promise(i=>{this.#n("setWindowX",i,{x:e,window_id:t})})}showWindow(){this.#i("showWindow")}hideWindow(){this.#i("hideWindow")}toggleWindow(){this.#i("toggleWindow")}setMenubar(e){this.#i("setMenubar",e)}requestPermission(e){return L(this,null,function*(){return this.env==="app"?(yield this.#m("requestPermission",{options:e})).granted:!1})}disableMenuItem(e){this.#i("disableMenuItem",{id:e})}enableMenuItem(e){this.#i("enableMenuItem",{id:e})}setMenuItemIcon(e,t){this.#i("setMenuItemIcon",{id:e,icon:t})}setMenuItemIconActive(e,t){this.#i("setMenuItemIconActive",{id:e,icon:t})}setMenuItemChecked(e,t){this.#i("setMenuItemChecked",{id:e,checked:t})}contextMenu(e){this.#i("contextMenu",e)}getEntriesFromDataTransferItems=function(r){return L(this,arguments,function*(e,t={raw:!1}){let i=d=>{if(this.getEntriesFromDataTransferItems.didShowInfo||d.name!=="EncodingError")return;this.getEntriesFromDataTransferItems.didShowInfo=!0;let p=`${d.name} occurred within datatransfer-files-promise module
Error message: "${d.message}"
Try serving html over http if currently you are running it from the filesystem.`;console.warn(p)},o=(d,p="")=>new Promise((f,b)=>{d.file(_=>{t.raw||(_.filepath=p+_.name),f(_)},_=>{i(_),b(_)})}),s=(d,p)=>new Promise((f,b)=>{d.readEntries(_=>L(this,null,function*(){let C=[];for(let S of _){let A=yield l(S,p);C=C.concat(A)}f(C)}),_=>{i(_),b(_)})}),a=(d,p)=>L(this,null,function*(){let f=d.createReader(),b=`${p+d.name}/`,_=[],C;do C=yield s(f,b),_=_.concat(C);while(C.length>0);return _}),l=(d,p="")=>L(this,null,function*(){if(d!==null){if(d.isFile)return[yield o(d,p)];if(d.isDirectory){let f=yield a(d,p);return f.push(d),f}}}),c=[],u=[];for(let d=0,p=e.length;d<p;d++)u.push(e[d].webkitGetAsEntry());for(let d of u){let p=yield l(d);c=c.concat(p)}return c})};authenticateWithPuter(){if(this.env==="web")return this.authToken?new Promise(e=>{e()}):puter.puterAuthState.isPromptOpen?new Promise((e,t)=>{puter.puterAuthState.resolver={resolve:e,reject:t}}):(puter.puterAuthState.isPromptOpen=!0,puter.puterAuthState.authGranted=null,new Promise((e,t)=>{if(puter.authToken)e();else{let r=new $j(e,t);document.body.appendChild(r),r.open()}}))}launchApp=function(t,r,i){return L(this,null,function*(){let o,s,a,l=t;if(typeof l=="object"&&l!==null){let u=l;l=u.name||u.app_name,s=u.file_paths,r=r||u.args,i=i||u.callback,o=u.pseudonym,a=u.items}if(a){Array.isArray(a)||(a=[]);for(let u=0;u<a.length;u++)a[u]instanceof To&&(a[u]=a[u]._internalProperties.file_signature)}l&&l.includes("#(as)")&&([l,o]=l.split("#(as)")),l||(l=puter.appName);let c=yield this.#p({method:"launchApp",callback:i,parameters:{app_name:l,file_paths:s,items:a,pseudonym:o,args:r}});return $p.from(c,this.puter,{messageTarget:this.messageTarget,appInstanceID:this.appInstanceID})})};connectToInstance=function(t){return L(this,null,function*(){let r=yield this.#p({method:"connectToInstance",parameters:{app_name:t}});return $p.from(r,this.puter,{messageTarget:this.messageTarget,appInstanceID:this.appInstanceID})})};parentApp(){return this.#r}createWindow(e,t){return new Promise(r=>{this.#n("createWindow",i=>{r(i.window)},{options:e??{}})})}menubar(){document.querySelectorAll("style.puter-stylesheet").forEach(function(i){i.remove()});let e=document.createElement("style");e.classList.add("puter-stylesheet"),e.innerHTML=`
        .--puter-menubar {
            border-bottom: 1px solid #e9e9e9;
            background-color: #fbf9f9;
            padding-top: 3px;
            padding-bottom: 2px;
            display: inline-block;
            position: fixed;
            top: 0;
            width: 100%;
            margin: 0;
            padding: 0;
            height: 31px;
            font-family: Arial, Helvetica, sans-serif;
            font-size: 13px;
            z-index: 9999;
        }
        
        .--puter-menubar, .--puter-menubar * {
            user-select: none;
            -webkit-user-select: none;
            cursor: default;
        }
        
        .--puter-menubar .dropdown-item-divider>hr {
            margin-top: 5px;
            margin-bottom: 5px;
            border-bottom: none;
            border-top: 1px solid #00000033;
        }
        
        .--puter-menubar>li {
            display: inline-block;
            padding: 10px 5px;
        }
        
        .--puter-menubar>li>ul {
            display: none;
            z-index: 999999999999;
            list-style: none;
            background-color: rgb(233, 233, 233);
            width: 200px;
            border: 1px solid #e4ebf3de;
            box-shadow: 0px 0px 5px #00000066;
            padding-left: 6px;
            padding-right: 6px;
            padding-top: 4px;
            padding-bottom: 4px;
            color: #333;
            border-radius: 4px;
            padding: 2px;
            min-width: 200px;
            margin-top: 5px;
            position: absolute;
        }
        
        .--puter-menubar .menubar-item {
            display: block;
            line-height: 24px;
            margin-top: -7px;
            text-align: center;
            border-radius: 3px;
            padding: 0 5px;
        }
        
        .--puter-menubar .menubar-item-open {
            background-color: rgb(216, 216, 216);
        }
        
        .--puter-menubar .dropdown-item {
            padding: 5px;
            padding: 5px 30px;
            list-style-type: none;
            user-select: none;
            font-size: 13px;
        }
        
        .--puter-menubar .dropdown-item-icon, .--puter-menubar .dropdown-item-icon-active {
            pointer-events: none;
            width: 18px;
            height: 18px;
            margin-left: -23px;
            margin-bottom: -4px;
            margin-right: 5px;
        }
        .--puter-menubar .dropdown-item-disabled .dropdown-item-icon{
            display: inline-block !important;
        }
        .--puter-menubar .dropdown-item-disabled .dropdown-item-icon-active{
            display: none !important;
        }
        .--puter-menubar .dropdown-item-icon-active {
            display:none;
        }
        .--puter-menubar .dropdown-item:hover .dropdown-item-icon{
            display: none;
        }
        .--puter-menubar .dropdown-item:hover .dropdown-item-icon-active{
            display: inline-block;
        }
        .--puter-menubar .dropdown-item-hide-icon .dropdown-item-icon, .--puter-menubar .dropdown-item-hide-icon .dropdown-item-icon-active{
            display: none !important;
        }
        .--puter-menubar .dropdown-item a {
            color: #333;
            text-decoration: none;
        }
        
        .--puter-menubar .dropdown-item:hover, .--puter-menubar .dropdown-item:hover a {
            background-color: rgb(59 134 226);
            color: white;
            border-radius: 4px;
        }
        
        .--puter-menubar .dropdown-item-disabled, .--puter-menubar .dropdown-item-disabled:hover {
            opacity: 0.5;
            background-color: transparent;
            color: initial;
            cursor: initial;
            pointer-events: none;
        }
        
        .--puter-menubar .menubar * {
            user-select: none;
        }                
        `,(document.head||document.getElementsByTagName("head")[0]).appendChild(e),document.addEventListener("click",function(i){if(i.target.classList.contains("dropdown-item-disabled"))return!1;i.target.classList.contains("menubar-item")||(document.querySelectorAll(".menubar-item.menubar-item-open").forEach(function(o){o.classList.remove("menubar-item-open")}),document.querySelectorAll(".dropdown").forEach(o=>o.style.display="none"))}),window.addEventListener("blur",function(i){document.querySelectorAll(".dropdown").forEach(function(o){o.style.display="none"}),document.querySelectorAll(".menubar-item.menubar-item-open").forEach(o=>o.classList.remove("menubar-item-open"))});let r=function(i){let o=[];if(!i.parentNode)return o;let s=i.parentNode.firstChild;for(;s;)s.nodeType===1&&s!==i&&o.push(s),s=s.nextSibling;return o};document.querySelectorAll(".menubar-item").forEach(i=>i.addEventListener("mousedown",function(o){document.querySelectorAll(".dropdown").forEach(function(s){s.style.display="none"}),document.querySelectorAll(".menubar-item.menubar-item-open").forEach(function(s){s!=o.target&&s.classList.remove("menubar-item-open")}),this.classList.contains("menubar-item-open")?document.querySelectorAll(".menubar-item.menubar-item-open").forEach(function(s){s.classList.remove("menubar-item-open")}):o.target.classList.contains("dropdown-item")||(this.classList.add("menubar-item-open"),r(this).forEach(function(s){s.style.display="block"}))})),document.querySelectorAll(".--puter-menubar .menubar-item").forEach(i=>i.addEventListener("mouseover",function(o){let s=document.querySelectorAll(".menubar-item.menubar-item-open");s.length>0&&s[0]!==o.target&&o.target.dispatchEvent(new Event("mousedown"))}))}on(e,t){super.on(e,t),this.#u.includes(e)&&this.#d.has(e)&&t(this.#d.get(e))}#f=null;#l=null;showSpinner(e){if(this.#o)return;if(!document.getElementById("puter-spinner-styles")){let o=document.createElement("style");o.id="puter-spinner-styles",o.textContent=`
                .puter-loading-spinner {
                    width: 50px;
                    height: 50px;
                    border: 5px solid #f3f3f3;
                    border-top: 5px solid #3498db;
                    border-radius: 50%;
                    animation: spin 1s linear infinite;
                    margin-bottom: 10px;
                }
    
                .puter-loading-text {
                    font-family: Arial, sans-serif;
                    font-size: 16px;
                    margin-top: 10px;
                    text-align: center;
                    width: 100%;
                }
    
                @keyframes spin {
                    0% { transform: rotate(0deg); }
                    100% { transform: rotate(360deg); }
                }
    
                .puter-loading-container {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    justify-content: center;
                    min-height: 120px; 
                    background: #ffffff; 
                    border-radius: 10px;
                    padding: 20px;
                    min-width: 120px;
                }
            `,document.head.appendChild(o)}let t=document.createElement("div");t.classList.add("puter-loading-overlay");let r={position:"fixed",top:"0",left:"0",width:"100%",height:"100%",backgroundColor:"rgba(255, 255, 255, 0.8)",zIndex:"2147483647",display:"flex",justifyContent:"center",alignItems:"center",pointerEvents:"all"};Object.assign(t.style,r);let i=document.createElement("div");i.classList.add("puter-loading-container"),i.innerHTML=`
            <div class="puter-loading-spinner"></div>
            <div class="puter-loading-text">${e??"Working..."}</div>
        `,t.appendChild(i),document.body.appendChild(t),this.#o=!0,this.#f=Date.now(),this.#s=setTimeout(()=>{this.#s=null},1e3)}hideSpinner(){if(!this.#o)return;this.#s&&(clearTimeout(this.#s),this.#s=null);let e=Date.now()-this.#f,t=Math.max(0,1200-e);t>0?(this.#l&&clearTimeout(this.#l),this.#l=setTimeout(()=>{this.#g()},t)):this.#g()}#g(){let e=document.querySelector(".puter-loading-overlay");e&&e.parentNode?.removeChild(e),this.#o=!1,this.#f=null,this.#l=null}isWorkingActive(){return this.#o}getLanguage(){return this.env==="gui"?new Promise(e=>{e(window.locale)}):new Promise(e=>{this.#n("getLanguage",e,{})})}},Kj=CA;var Wp="9a9c83a4-7897-43a0-93b9-53217b84fde6",ew=class{#e=1;constructor(){this.callbacks=new Map}register_callback(e){let t=this.#e++;return this.callbacks.set(t,e),t}attach_to_source(e){e.addEventListener("message",t=>{let{data:r}=t;if(r&&typeof r=="object"&&r.$SCOPE===Wp){let{id:i,args:o}=r,s=this.callbacks.get(i);s&&s(...o)}})}},tw=class{constructor({callbackManager:e}){this.callbackManager=e}dehydrate(e){return this.dehydrate_value_(e)}dehydrate_value_(e){if(typeof e=="function"){let t=this.callbackManager.register_callback(e);return{$SCOPE:Wp,id:t}}else{if(Array.isArray(e))return e.map(this.dehydrate_value_.bind(this));if(typeof e=="object"&&e!==null){let t={};for(let r in e)t[r]=this.dehydrate_value_(e[r]);return t}else return e}}},nw=class{constructor({target:e}){this.target=e}hydrate(e){return this.hydrate_value_(e)}hydrate_value_(e){if(e&&typeof e=="object"&&e.$SCOPE===Wp){let{id:t}=e;return(...r)=>{this.target.postMessage({$SCOPE:Wp,id:t,args:r},"*")}}else{if(Array.isArray(e))return e.map(this.hydrate_value_.bind(this));if(typeof e=="object"&&e!==null){let t={};for(let r in e)t[r]=this.hydrate_value_(e[r]);return t}}return e}};var rw=class{constructor(){this.rpc=new SA}};var SA=class{constructor(){this.callbackManager=new ew,this.callbackManager.attach_to_source(globalThis)}getDehydrator(){return new tw({callbackManager:this.callbackManager})}getHydrator({target:e}){return new nw({target:e})}registerCallback(e){return this.callbackManager.register_callback(e)}send(e,t,...r){e.postMessage({$SCOPE:Wp,id:t,args:r},"*")}};var iw=class{constructor(e){this.authToken=e}create(e,t,r){return L(this,null,function*(){if(!puter.authToken&&puter.env==="web")try{yield puter.ui.authenticateWithPuter()}catch(a){throw"Authentication failed."}let i;typeof r=="string"&&(i=(yield puter.apps.list()).find(a=>a.name===r).uid),e=e.toLocaleLowerCase();let o=yield puter.kv.get("user-workers");o||(o={}),t=cr(t);let s=yield xn(["authorization","filePath","workerName","appId"],"workers","worker-service","create")(puter.authToken,t,e,i);if(!s.success)throw new Error(s?.errors||"Driver failed to execute, do you have the necessary permissions?");return o[e]={filePath:t,url:s.url,deployTime:Date.now(),createTime:Date.now()},yield puter.kv.set("user-workers",o),s})}exec(...e){return L(this,null,function*(){if(!puter.authToken&&puter.env==="web")try{yield puter.ui.authenticateWithPuter()}catch(r){throw"Authentication failed."}let t=new Request(...e);return t.headers.get("puter-auth")||t.headers.set("puter-auth",puter.authToken),fetch(t)})}list(){return L(this,null,function*(){if(!puter.authToken&&puter.env==="web")try{yield puter.ui.authenticateWithPuter()}catch(t){throw"Authentication failed."}return yield xn([],"workers","worker-service","getFilePaths")()})}get(e){return L(this,null,function*(){if(!puter.authToken&&puter.env==="web")try{yield puter.ui.authenticateWithPuter()}catch(r){throw"Authentication failed."}return e=e.toLocaleLowerCase(),(yield xn(["workerName"],"workers","worker-service","getFilePaths")(e))[0]})}delete(e){return L(this,null,function*(){if(!puter.authToken&&puter.env==="web")try{yield puter.ui.authenticateWithPuter()}catch(r){throw"Authentication failed."}e=e.toLocaleLowerCase();let t=yield xn(["authorization","workerName"],"workers","worker-service","destroy")(puter.authToken,e);if(t.result){let r=yield puter.kv.get("user-workers");return r||(r={}),delete r[e],yield puter.kv.set("user-workers",r),!0}else throw t.result||new Error("Worker doesn't exist"),new Error(t?.errors||"Driver failed to execute, do you have the necessary permissions?")})}getLoggingHandle(e){return L(this,null,function*(){let t=yield xn([],"workers","worker-service","getLoggingUrl")(puter.authToken,e),r=new WebSocket(`${t}/${puter.authToken}/${e}`),i=new EventTarget;return i.onLog=o=>{},Object.defineProperty(i,"start",{enumerable:!1,value:o=>L(null,null,function*(){r.addEventListener("message",s=>{o.enqueue(JSON.parse(s.data))}),r.addEventListener("close",s=>{try{o.close()}catch(a){}})})}),Object.defineProperty(i,"cancel",{enumerable:!1,value:()=>L(null,null,function*(){r.close()})}),r.addEventListener("message",o=>{let s=new MessageEvent("log",{data:JSON.parse(o.data)});i.dispatchEvent(s),i.onLog(s)}),i.close=r.close,new Promise((o,s)=>{let a=!1;r.onopen=()=>{a=!0,o(i)},r.onerror=()=>{a||s("Failed to open logging connection")}})})}};var DA=class n{constructor(e={}){this.fieldsObj=e,this.enabled=new Set}on(e){this.enabled.add(e)}fields(e={}){return new n(Fe(Fe({},this.fieldsObj),e))}info(...e){console.log(...this._prefix(),...e)}warn(...e){console.warn(...this._prefix(),...e)}error(...e){console.error(...this._prefix(),...e)}debug(...e){console.debug(...this._prefix(),...e)}_prefix(){let e=Object.entries(this.fieldsObj);return e.length?[`[${e.map(([t,r])=>`${t}=${r}`).join(" ")}]`]:[]}},IA=class{constructor(){this.locked=!1,this.queue=[]}acquire(){return L(this,null,function*(){if(!this.locked){this.locked=!0;return}yield new Promise(e=>this.queue.push(e)),this.locked=!0})}release(){let e=this.queue.shift();if(e){e();return}this.locked=!1}},cae="https://puter.com",uae=function(){"use strict";let n=(()=>{class t{env;#e="https://api.puter.com";#r="https://puter.com";get defaultAPIOrigin(){return globalThis.PUTER_API_ORIGIN||globalThis.PUTER_API_ORIGIN_ENV||this.#e}set defaultAPIOrigin(i){this.#e=i}get defaultGUIOrigin(){return globalThis.PUTER_ORIGIN||globalThis.PUTER_ORIGIN_ENV||this.#r}set defaultGUIOrigin(i){this.#r=i}onAuth;puterAuthState={isPromptOpen:!1,authGranted:null,resolver:null};appInstanceID;parentInstanceID;static FSItem=To;eventHandlers={};debugMode=!1;initSubmodules=function(){this.util=new rw,this.registerModule("auth",X8),this.registerModule("os",qj),this.registerModule("fs",Y_),this.registerModule("ui",Kj,{appInstanceID:this.appInstanceID,parentInstanceID:this.parentInstanceID}),this.registerModule("hosting",Oj),this.registerModule("apps",Z8),this.registerModule("ai",Q8),this.registerModule("kv",Lj),this.registerModule("perms",J_),this.registerModule("drivers",J8),this.registerModule("debug",j_),this.path=Bn};constructor(){this._cache=new EA.default({dbName:"puter_cache"}),this._opscache=new EA.default,this.modules_=[];let i=new URLSearchParams(globalThis.location?.search);if(i.has("puter.app_instance_id")?this.env="app":globalThis.puter_gui_enabled===!0?this.env="gui":globalThis.WorkerGlobalScope?(globalThis.ServiceWorkerGlobalScope?(this.env="service-worker",globalThis.XMLHttpRequest||(globalThis.XMLHttpRequest=ZI),globalThis.location||(globalThis.location=new URL("https://puter.site/"))):this.env="web-worker",globalThis.localStorage||(globalThis.localStorage=zI)):globalThis.process?(this.env="nodejs",globalThis.localStorage||(globalThis.localStorage=zI),globalThis.XMLHttpRequest||(globalThis.XMLHttpRequest=ZI),globalThis.location||(globalThis.location=new URL("https://nodejs.puter.site/")),globalThis.addEventListener||(globalThis.addEventListener=()=>{})):this.env="web",this.env!=="gui"){let s=location.hostname.replace(/\.$/,""),l=new URL(cae).hostname;s===l&&(this.env="gui")}i.has("puter.args")?this.args=JSON.parse(decodeURIComponent(i.get("puter.args"))):this.args={},i.has("puter.app_instance_id")&&(this.appInstanceID=decodeURIComponent(i.get("puter.app_instance_id"))),i.has("puter.parent_instance_id")&&(this.parentInstanceID=decodeURIComponent(i.get("puter.parent_instance_id"))),i.has("puter.app.id")&&(this.appID=decodeURIComponent(i.get("puter.app.id"))),i.has("puter.app.name")&&(this.appName=decodeURIComponent(i.get("puter.app.name"))),this.appID&&(this.appDataPath=`~/AppData/${this.appID}`),this.APIOrigin=this.defaultAPIOrigin,i.has("puter.api_origin")&&this.env==="app"?this.APIOrigin=decodeURIComponent(i.get("puter.api_origin")):i.has("puter.domain")&&this.env==="app"&&(this.APIOrigin=`https://api.${i.get("puter.domain")}`);let o=new DA;if(this.logger=o,this.apiCallLogger=new V8({enabled:!1}),this.env==="gui")this.authToken=window.auth_token,this.initSubmodules();else if(this.env==="app"){this.authToken=decodeURIComponent(i.get("puter.auth.token")),this.initSubmodules();try{localStorage.getItem("puter.auth.token")&&this.setAuthToken(localStorage.getItem("puter.auth.token")),localStorage.getItem("puter.app.id")&&this.setAppID(localStorage.getItem("puter.app.id"))}catch(s){console.error("Error accessing localStorage:",s)}}else if(this.env==="web"){this.initSubmodules();try{localStorage.getItem("puter.auth.token")&&this.setAuthToken(localStorage.getItem("puter.auth.token")),localStorage.getItem("puter.app.id")&&this.setAppID(localStorage.getItem("puter.app.id"))}catch(s){console.error("Error accessing localStorage:",s)}}else(this.env==="web-worker"||this.env==="service-worker"||this.env==="nodejs")&&this.initSubmodules();L(this,null,function*(){try{let a=`[${(yield this.auth.whoami())?.app_name??this.appInstanceID??"HOST"}]`;o=o.fields({prefix:a}),this.logger=o}catch(s){this.debugMode&&console.error("Failed to initialize prefix logger",s)}}),this.lock_rao_=new IA,this.p_can_request_rao_=Promise.resolve(),this.rao_requested_=!1,this.net={generateWispV1URL:()=>L(this,null,function*(){let{token:s,server:a}=yield(yield fetch(`${this.APIOrigin}/wisp/relay-token/create`,{method:"POST",headers:{Authorization:`Bearer ${this.authToken}`,"Content-Type":"application/json"},body:JSON.stringify({})})).json();return`${a}/${s}/`}),Socket:qp,tls:{TLSSocket:X_},fetch:Hj},this.workers=new iw(this.authToken),this.initNetworkMonitoring()}request_rao_(){return L(this,null,function*(){if(yield this.p_can_request_rao_,this.env==="gui")return;if(yield this.lock_rao_.acquire(),this.rao_requested_){this.lock_rao_.release();return}let i=!1;try{return yield(yield fetch(`${this.APIOrigin}/rao`,{method:"POST",headers:{Authorization:`Bearer ${this.authToken}`,Origin:location.origin}})).json()}catch(o){i=!0,console.error(o)}finally{this.lock_rao_.release()}i||(this.rao_requested_=!0)})}registerModule(i,o,s={}){let a=new o(this,s);a.puter=this,this.modules_.push(i),this[i]=a,a._init&&a._init({puter:this})}updateSubmodules(){for(let i of this.modules_)this[i]&&(this[i]?.setAuthToken?.(this.authToken),this[i]?.setAPIOrigin?.(this.APIOrigin))}setAppID=function(i){try{localStorage.setItem("puter.app.id",i)}catch(o){console.error("Error accessing localStorage:",o)}this.appID=i};setAuthToken=function(i){if(this.authToken=i,this.env==="web"||this.env==="app")try{localStorage.setItem("puter.auth.token",i)}catch(o){console.error("Error accessing localStorage:",o)}this.env==="gui"&&setInterval(Cn.checkAndUpdateGUIFScache,1e4),this.updateSubmodules(),this.request_rao_(),this.getUser().then(o=>{this.whoami=o})};setAPIOrigin=function(i){this.APIOrigin=i,this.updateSubmodules()};runWhenPuterHappensCallbacks=function(){if(this.env!=="gui"||!globalThis.when_puter_happens)return;let i=Array.isArray(globalThis.when_puter_happens)?globalThis.when_puter_happens:[globalThis.when_puter_happens];for(let o of i)try{o({puter:this})}catch(s){this.debugMode&&console.error("when_puter_happens callback failed",s)}};resetAuthToken=function(){if(this.env==="worker"||this.env==="service-worker")throw new Error("Sign out is not permitted from WebWorkers or ServiceWorkers");if(this.authToken=null,this.env==="web"||this.env==="app")try{localStorage.removeItem("puter.auth.token")}catch(i){console.error("Error accessing localStorage:",i)}this.updateSubmodules()};exit=function(i=0){i&&typeof i!="number"&&(console.warn("puter.exit() requires status code to be a number. Treating it as 1"),i=1),globalThis.parent.postMessage({msg:"exit",appInstanceID:this.appInstanceID,statusCode:i},"*")};randName=function(i="-"){let o=["helpful","sensible","loyal","honest","clever","capable","calm","smart","genius","bright","charming","creative","diligent","elegant","fancy","colorful","avid","active","gentle","happy","intelligent","jolly","kind","lively","merry","nice","optimistic","polite","quiet","relaxed","silly","victorious","witty","young","zealous","strong","brave","agile","bold"],s=["street","roof","floor","tv","idea","morning","game","wheel","shoe","bag","clock","pencil","pen","magnet","chair","table","house","dog","room","book","car","cat","tree","flower","bird","fish","sun","moon","star","cloud","rain","snow","wind","mountain","river","lake","sea","ocean","island","bridge","road","train","plane","ship","bicycle","horse","elephant","lion","tiger","bear","zebra","giraffe","monkey","snake","rabbit","duck","goose","penguin","frog","crab","shrimp","whale","octopus","spider","ant","bee","butterfly","dragonfly","ladybug","snail","camel","kangaroo","koala","panda","piglet","sheep","wolf","fox","deer","mouse","seal","chicken","cow","dinosaur","puppy","kitten","circle","square","garden","otter","bunny","meerkat","harp"];return o[Math.floor(Math.random()*o.length)]+i+s[Math.floor(Math.random()*s.length)]+i+Math.floor(Math.random()*1e4)};getUser=function(...i){let o;return typeof i[0]=="object"&&i[0]!==null?o=i[0]:o={success:i[0],error:i[1]},new Promise((s,a)=>{let l=kn("/whoami",this.APIOrigin,this.authToken,"get");Vn(l,o.success,o.error,s,a),l.send()})};print=function(...i){let o={};i.length>0&&typeof i[i.length-1]=="object"&&i[i.length-1]!==null&&("escapeHTML"in i[i.length-1]||"code"in i[i.length-1])&&(o=i.pop());for(let s of i)(o.escapeHTML===!0||o.code===!0)&&typeof s=="string"&&(s=s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")),o.code===!0&&(s=`<code><pre>${s}</pre></code>`),document.body.innerHTML+=s};configureAPILogging=function(i={}){return this.apiCallLogger&&this.apiCallLogger.updateConfig(i),this};enableAPILogging=function(i={}){return this.apiCallLogger&&this.apiCallLogger.updateConfig(kt(Fe({},i),{enabled:!0})),this};disableAPILogging=function(){return this.apiCallLogger&&this.apiCallLogger.disable(),this};initNetworkMonitoring=function(){if(typeof globalThis.navigator>"u"||typeof globalThis.addEventListener!="function")return;let i=navigator.onLine,o=()=>{let s=navigator.onLine;if(i&&!s){console.log("Network connection lost - purging cache");try{this._cache.flushall(),console.log("Cache purged successfully")}catch(a){console.error("Error purging cache:",a)}}i=s};globalThis.addEventListener("online",o),globalThis.addEventListener("offline",o),typeof document<"u"&&document.addEventListener("visibilitychange",()=>{setTimeout(o,100)})};checkAndUpdateGUIFScache=function(){if(Cn.env!=="gui"||!Cn.whoami)return;let i=Cn.whoami.username,o=`/${i}`,s=`/${i}/Desktop`,a=`/${i}/Documents`,l=`/${i}/Public`;Cn._cache.get(`item:${o}`)||(console.log(`/${i} item is not cached, refetching cache`),Cn.fs.stat(o)),Cn._cache.get(`item:${s}`)||(console.log(`/${i}/Desktop item is not cached, refetching cache`),Cn.fs.stat(s)),Cn._cache.get(`item:${a}`)||(console.log(`/${i}/Documents item is not cached, refetching cache`),Cn.fs.stat(a)),Cn._cache.get(`item:${l}`)||(console.log(`/${i}/Public item is not cached, refetching cache`),Cn.fs.stat(l)),Cn._cache.get(`readdir:${o}`)||(console.log(`/${i} is not cached, refetching cache`),Cn.fs.readdir(o)),Cn._cache.get(`readdir:${s}`)||(console.log(`/${i}/Desktop is not cached, refetching cache`),Cn.fs.readdir(s)),Cn._cache.get(`readdir:${a}`)||(console.log(`/${i}/Documents is not cached, refetching cache`),Cn.fs.readdir(a)),Cn._cache.get(`readdir:${l}`)||(console.log(`/${i}/Public is not cached, refetching cache`),Cn.fs.readdir(l))}}return t})();return new n},Cn=uae(),Qj=Cn;globalThis.puter=Cn;Cn.runWhenPuterHappensCallbacks();Cn.tools=[];var Gp=Cn.ui.parentApp();globalThis.puterParent=Gp;Gp&&(console.log("I have a parent, registering tools"),Gp.on("message",n=>L(null,null,function*(){if(console.log("Got tool req ",n),n.$==="requestTools"&&(console.log("Responding with tools"),Gp.postMessage({$:"providedTools",tools:JSON.parse(JSON.stringify(Cn.tools))})),n.$==="executeTool"){console.log("xecuting tools");let[e]=Cn.tools.filter(r=>r.function.name===n.toolName),t=yield e.exec(n.parameters);Gp.postMessage({$:"toolResponse",response:t,tag:n.tag})}})),Gp.postMessage({$:"ready"}));globalThis.addEventListener&&globalThis.addEventListener("message",n=>L(null,null,function*(){n.origin===Cn.defaultGUIOrigin&&(n.data.msg&&n.data.msg==="requestOrigin"?n.source.postMessage({msg:"originResponse"},"*"):n.data.msg==="puter.token"&&(Cn.setAuthToken(n.data.token),Cn.setAppID(n.data.app_uid),Cn.puterAuthState.authGranted=!0,Cn.onAuth&&typeof Cn.onAuth=="function"&&Cn.getUser().then(e=>{Cn.onAuth(e)}),Cn.puterAuthState.isPromptOpen=!1,Cn.puterAuthState.resolver&&(Cn.puterAuthState.authGranted?Cn.puterAuthState.resolver.resolve():Cn.puterAuthState.resolver.reject(),Cn.puterAuthState.resolver=null)))}));var ow=class n{constructor(e){this.db=e}getMapping(e){return L(this,null,function*(){let t=yield this.db.conceptMappings.get(e);return t?t.preferredConcept:null})}saveMapping(e,t){return L(this,null,function*(){!e||!t||(yield this.db.conceptMappings.put({rawConcept:e,preferredConcept:t}))})}processImage(e){return L(this,null,function*(){yield new Promise(i=>setTimeout(i,1e3));try{let i=yield this.processWithAI(e);if(i&&i.items.length>0){let o=yield this.preprocessImage(e);return{items:i.items,optimizedBlob:o,date:i.date,total:i.total}}}catch(i){console.error("AI OCR failed, falling back to Tesseract:",i)}let t=yield this.preprocessImage(e),r=null;try{r=yield(0,Zj.createWorker)("spa");let i=URL.createObjectURL(t),o=yield r.recognize(i);return URL.revokeObjectURL(i),{items:this.parseText(o.data.text),optimizedBlob:t}}finally{r&&(yield r.terminate(),r=null)}})}processWithAI(e){return L(this,null,function*(){return new Promise((t,r)=>L(null,null,function*(){try{let i=new FileReader;i.onload=()=>L(null,null,function*(){try{let o=i.result,c=(yield Qj.ai.chat([{role:"user",content:[{type:"text",text:`Extrae la informaci\xF3n de este ticket de compra. 
                        Necesito que devuelvas exclusivamente un objeto JSON (sin bloques de c\xF3digo markdown, solo el JSON puro) con la siguiente estructura:
                        {
                          "date": "YYYY-MM-DD",
                          "total": 0.00,
                          "items": [
                            { "concept": "nombre del producto", "units": 1, "amount": 0.00 }
                          ]
                        }
                        Reglas:
                        1. El "amount" de cada item debe ser el precio final aplicado al producto (tras posibles descuentos).
                        2. El "total" es el importe total del ticket.
                        3. Si no detectas la fecha, omite el campo "date".
                        4. Usa punto como separador decimal.
                        5. Idioma: Espa\xF1ol.`},{type:"image_url",image_url:{url:o}}]}])).toString().trim().match(/\{[\s\S]*\}/);if(c){let u=JSON.parse(c[0]);t({items:u.items||[],date:u.date,total:u.total})}else r("No JSON found in AI response")}catch(o){r(o)}}),i.onerror=r,i.readAsDataURL(e)}catch(i){r(i)}}))})}preprocessImage(e){return L(this,null,function*(){let t=null,r=URL.createObjectURL(e);try{"createImageBitmap"in window?t=yield createImageBitmap(e):t=yield new Promise((l,c)=>{let u=new Image;u.onload=()=>l(u),u.onerror=c,u.src=r}),URL.revokeObjectURL(r);let i=document.createElement("canvas"),o=t.width,s=t.height;i.width=o,i.height=s;let a=i.getContext("2d");if(!a)throw new Error("No context");return a.filter="grayscale(100%) contrast(140%)",a.drawImage(t,0,0,o,s),t.close&&t.close(),t=null,new Promise((l,c)=>{i.toBlob(u=>{u?l(u):c("Blob creation failed")},"image/jpeg",1)})}catch(i){throw URL.revokeObjectURL(r),i}})}parseText(e){let t=e.split(`
`),r=[],i=/\d+[.,]\d+|\d+/g,o=["TOTAL","SUBTOTAL","IVA","FECHA","HORA","FACTURA","TICKET","TARJETA","CLIENTE","CIF","NIF","TEL","DIRECCION","PAGADO","CAMBIO","ENTREGA","ARTICULO","PRECIO","IMPORTE","CANTIDAD","DEVOLUCION","GASTOS"],s=!0;for(let a of t){let l=a.trim();if(!l)continue;if(s){(l.toUpperCase().startsWith("IMP")||l.toUpperCase().includes(" IMP")||l.toUpperCase().startsWith("PRECIO")||l.toUpperCase().includes(" PRECIO"))&&(s=!1);continue}if(l.length<3||o.some(u=>l.toUpperCase().includes(u)))continue;let c=l.match(i);if(c&&c.length>0){let u=c[c.length-1],d=parseFloat(u.replace(",",".")),p=1;if(c.length>1){let _=c.slice(0,-1).map(C=>parseFloat(C.replace(",",".")));if(_.length===1)p=_[0];else{_=_.filter(S=>S>0);let C=_.find(S=>Number.isInteger(S));C!==void 0?p=C:p=Math.min(..._)}}let f=l;c.forEach(b=>f=f.replace(b,"")),f=f.replace(/[$x*]/gi,"").trim(),f.length>2&&/[a-zA-Z]/.test(f)&&r.push({concept:f,amount:d,units:p})}}return r}static \u0275fac=function(t){return new(t||n)(xt(So))};static \u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"root"})};var fae=["formContainer"];function hae(n,e){if(n&1){let t=wn();z(0,"button",35),tt("click",function(){rt(t);let i=$e();return it(i.clearDateFilters())}),ee(1," \u2715 "),B()}}function pae(n,e){if(n&1){let t=wn();z(0,"button",53),tt("click",function(){rt(t);let i=$e(2);return it(i.viewCurrentTicket())}),ee(1," \u{1F441}\uFE0F Ver Ticket "),B()}}function gae(n,e){if(n&1){let t=wn();z(0,"div",65)(1,"span"),ee(2,"\u{1F4A1} Extra\xEDdo: "),z(3,"strong"),ee(4),B()(),z(5,"button",66),tt("click",function(){rt(t);let i=$e().$implicit;return it(i.concept=i.suggestedConcept)}),ee(6,"Usar"),B()()}if(n&2){let t=$e().$implicit;ge(4),Ln(t.suggestedConcept)}}function mae(n,e){if(n&1){let t=wn();z(0,"div",54)(1,"div",55)(2,"div",56),bt(3,gae,7,1,"div",57),z(4,"input",58),Kn("ngModelChange",function(i){let o=rt(t).$implicit;return tr(o.concept,i)||(o.concept=i),it(i)}),B()(),z(5,"div",59)(6,"div",60)(7,"small"),ee(8,"Uds"),B(),z(9,"input",61),Kn("ngModelChange",function(i){let o=rt(t).$implicit;return tr(o.units,i)||(o.units=i),it(i)}),B()(),z(10,"div",60)(11,"small"),ee(12,"Importe"),B(),z(13,"div",62)(14,"input",63),Kn("ngModelChange",function(i){let o=rt(t).$implicit;return tr(o.amount,i)||(o.amount=i),it(i)}),B(),z(15,"span"),ee(16,"\u20AC"),B()()()()(),z(17,"button",64),tt("click",function(){let i=rt(t).index,o=$e(2);return it(o.removeScannedItem(i))}),ee(18,"\u2715"),B()()}if(n&2){let t=e.$implicit;ge(3),Ue("ngIf",t.suggestedConcept&&!t.concept),ge(),wr("is-invalid",!t.concept),Yn("ngModel",t.concept),ge(5),wr("is-invalid",(t.units||0)<=0),Yn("ngModel",t.units),ge(5),wr("is-invalid",(t.amount||0)<0),Yn("ngModel",t.amount)}}function vae(n,e){if(n&1&&(z(0,"div",67)(1,"span"),ee(2,"Total Ticket:"),B(),z(3,"span",47),ee(4),$t(5,"number"),B()()),n&2){let t=$e(2);ge(3),wr("mismatch",t.isTotalMismatch),ge(),Gt("",Vr(5,3,t.ocrDetectedTotal,"1.2-2")," \u20AC")}}function yae(n,e){if(n&1){let t=wn();z(0,"div",36)(1,"div",37)(2,"div",38)(3,"h3"),ee(4,"Revisar Ticket"),B(),bt(5,pae,2,0,"button",39),B(),z(6,"p",40),ee(7,"Hemos detectado los siguientes conceptos. Por favor, rev\xEDsalos antes de guardar."),B(),z(8,"div",41)(9,"label"),ee(10,"Fecha del Ticket"),B(),z(11,"input",16),Kn("ngModelChange",function(i){rt(t);let o=$e();return tr(o.ocrTicketDate,i)||(o.ocrTicketDate=i),it(i)}),B()(),z(12,"div",42),bt(13,mae,19,10,"div",43),B(),z(14,"div",44)(15,"div",45)(16,"div",46)(17,"span"),ee(18,"Suma Items:"),B(),z(19,"span",47),ee(20),$t(21,"number"),B()(),bt(22,vae,6,6,"div",48),B(),z(23,"button",49),tt("click",function(){rt(t);let i=$e();return it(i.addScannedItem())}),ee(24,"+ A\xF1adir l\xEDnea"),B()(),z(25,"div",50)(26,"button",51),tt("click",function(){rt(t);let i=$e();return it(i.cancelOcr())}),ee(27,"Cancelar"),B(),z(28,"button",52),tt("click",function(){rt(t);let i=$e();return it(i.saveOcrData())}),ee(29,"Importar Todos"),B()()()()}if(n&2){let t=$e();ge(5),Ue("ngIf",t.currentTicketBlob),ge(6),wr("is-invalid",!t.ocrTicketDate),Yn("ngModel",t.ocrTicketDate),ge(2),Ue("ngForOf",t.scannedItems),ge(7),Gt("",Vr(21,8,t.totalOcrAmount,"1.2-2")," \u20AC"),ge(2),Ue("ngIf",t.ocrDetectedTotal!==void 0),ge(6),Ue("disabled",!t.isOcrValid)}}function bae(n,e){if(n&1){let t=wn();z(0,"div",68,1)(2,"h3"),ee(3),B(),z(4,"div",69)(5,"label"),ee(6,"Fecha"),B(),z(7,"input",16),Kn("ngModelChange",function(i){rt(t);let o=$e();return tr(o.currentExpense.dateStr,i)||(o.currentExpense.dateStr=i),it(i)}),B()(),z(8,"div",69)(9,"label"),ee(10,"Concepto"),B(),z(11,"input",70),Kn("ngModelChange",function(i){rt(t);let o=$e();return tr(o.currentExpense.concept,i)||(o.currentExpense.concept=i),it(i)}),B()(),z(12,"div",69)(13,"label"),ee(14,"Importe Total"),B(),z(15,"input",71),Kn("ngModelChange",function(i){rt(t);let o=$e();return tr(o.currentExpense.amount,i)||(o.currentExpense.amount=i),it(i)}),B()(),z(16,"div",69)(17,"label"),ee(18,"Unidades"),B(),z(19,"input",71),Kn("ngModelChange",function(i){rt(t);let o=$e();return tr(o.currentExpense.units,i)||(o.currentExpense.units=i),it(i)}),B()(),z(20,"div",50)(21,"button",51),tt("click",function(){rt(t);let i=$e();return it(i.cancelEdit())}),ee(22,"Cancelar"),B(),z(23,"button",52),tt("click",function(){rt(t);let i=$e();return it(i.saveExpense())}),ee(24,"Guardar"),B()()()}if(n&2){let t=$e();ge(3),Gt("",t.isEditing?"Editar":"Nuevo"," Gasto"),ge(4),wr("is-invalid",!t.currentExpense.dateStr),Yn("ngModel",t.currentExpense.dateStr),ge(4),wr("is-invalid",!t.currentExpense.concept),Yn("ngModel",t.currentExpense.concept),ge(4),wr("is-invalid",(t.currentExpense.amount||0)<0),Yn("ngModel",t.currentExpense.amount),ge(4),wr("is-invalid",(t.currentExpense.units||0)<=0),Yn("ngModel",t.currentExpense.units),ge(4),Ue("disabled",!t.isFormValid)}}function _ae(n,e){if(n&1&&(z(0,"small",78),ee(1),B()),n&2){let t=$e().$implicit;ge(),Gt("(",t.units," uds)")}}function wae(n,e){if(n&1){let t=wn();z(0,"button",79),tt("click",function(){rt(t);let i=$e().$implicit,o=$e();return it(o.viewTicket(i))}),ee(1," \u{1F441}\uFE0F "),B()}}function xae(n,e){if(n&1){let t=wn();z(0,"tr")(1,"td"),ee(2),$t(3,"date"),B(),z(4,"td"),ee(5),bt(6,_ae,2,1,"small",72),B(),z(7,"td",73),ee(8),$t(9,"number"),B(),z(10,"td",74),bt(11,wae,2,0,"button",75),B(),z(12,"td",24)(13,"button",76),tt("click",function(){let i=rt(t).$implicit,o=$e();return it(o.editExpense(i))}),ee(14,"\u270F\uFE0F"),B(),z(15,"button",77),tt("click",function(){let i=rt(t).$implicit,o=$e();return it(o.deleteExpense(i.id))}),ee(16,"\u{1F5D1}\uFE0F"),B()()()}if(n&2){let t=e.$implicit;ge(2),Ln(Vr(3,5,t.date,"dd/MM/yyyy")),ge(3),Gt(" ",t.concept," "),ge(),Ue("ngIf",t.units>1),ge(2),Gt("-",Vr(9,8,t.amount,"1.2-2")," \u20AC"),ge(3),Ue("ngIf",t.ticketBlob)}}function Cae(n,e){n&1&&(z(0,"tr")(1,"td",80),ee(2,"No se encontraron gastos"),B()())}function Sae(n,e){n&1&&Xa(0)}function Eae(n,e){if(n&1&&(z(0,"div",90),ee(1),B()),n&2){let t=$e().$implicit;ge(),Gt("",t.units," unidades")}}function Dae(n,e){if(n&1){let t=wn();z(0,"button",76),tt("click",function(){rt(t);let i=$e().$implicit,o=$e();return it(o.viewTicket(i))}),ee(1,"\u{1F441}\uFE0F Ver Ticket"),B()}}function Iae(n,e){if(n&1){let t=wn();z(0,"div",81)(1,"div",82)(2,"span",83),ee(3),$t(4,"date"),B(),z(5,"span",84),ee(6),$t(7,"number"),B()(),z(8,"div",85)(9,"div",86),ee(10),B(),bt(11,Eae,2,1,"div",87),B(),z(12,"div",88),bt(13,Dae,2,0,"button",89),z(14,"button",76),tt("click",function(){let i=rt(t).$implicit,o=$e();return it(o.editExpense(i))}),ee(15,"\u270F\uFE0F Editar"),B(),z(16,"button",77),tt("click",function(){let i=rt(t).$implicit,o=$e();return it(o.deleteExpense(i.id))}),ee(17,"\u{1F5D1}\uFE0F Borrar"),B()()()}if(n&2){let t=e.$implicit;ge(3),Ln(Vr(4,5,t.date,"dd/MM/yyyy")),ge(3),Gt("-",Vr(7,8,t.amount,"1.2-2")," \u20AC"),ge(4),Ln(t.concept),ge(),Ue("ngIf",t.units>1),ge(2),Ue("ngIf",t.ticketBlob)}}function Aae(n,e){n&1&&(z(0,"div",91),ee(1," No se encontraron gastos "),B())}function Tae(n,e){n&1&&Xa(0)}function Mae(n,e){if(n&1){let t=wn();z(0,"div",93)(1,"div",94),ee(2),B(),z(3,"div",95)(4,"button",96),tt("click",function(){rt(t);let i=$e(2);return it(i.prevPage())}),ee(5,"Anterior"),B(),z(6,"span",97),ee(7),B(),z(8,"button",96),tt("click",function(){rt(t);let i=$e(2);return it(i.nextPage())}),ee(9,"Siguiente"),B()(),z(10,"div",98)(11,"span"),ee(12,"Ver:"),B(),z(13,"select",99),tt("ngModelChange",function(i){rt(t);let o=$e(2);return it(o.onPageSizeChange(i))}),z(14,"option",100),ee(15,"5"),B(),z(16,"option",100),ee(17,"10"),B(),z(18,"option",100),ee(19,"20"),B(),z(20,"option",100),ee(21,"50"),B()()()()}if(n&2){let t=$e(2);ge(2),Au(" Mostrando ",t.startIndex+1," - ",t.endIndex," de ",t.filteredExpenses.length," "),ge(2),Ue("disabled",t.currentPage===1),ge(3),Iu("P\xE1gina ",t.currentPage," de ",t.totalPages),ge(),Ue("disabled",t.currentPage===t.totalPages),ge(5),Ue("ngModel",t.pageSize),ge(),Ue("ngValue",5),ge(2),Ue("ngValue",10),ge(2),Ue("ngValue",20),ge(2),Ue("ngValue",50)}}function kae(n,e){if(n&1&&bt(0,Mae,22,12,"div",92),n&2){let t=$e();Ue("ngIf",t.filteredExpenses.length>0)}}function Nae(n,e){if(n&1&&yo(0,"option",101),n&2){let t=e.$implicit;Ue("value",t)}}function Pae(n,e){if(n&1){let t=wn();z(0,"div",102),tt("click",function(){rt(t);let i=$e();return it(i.closeTicketModal())}),z(1,"div",103),tt("click",function(i){return rt(t),it(i.stopPropagation())}),z(2,"div",38)(3,"h3"),ee(4,"Visualizar Ticket"),B(),z(5,"button",77),tt("click",function(){rt(t);let i=$e();return it(i.closeTicketModal())}),ee(6,"\u2715"),B()(),z(7,"div",104),yo(8,"img",105),B(),z(9,"div",50)(10,"button",51),tt("click",function(){rt(t);let i=$e();return it(i.closeTicketModal())}),ee(11,"Cerrar"),B(),z(12,"a",106),ee(13,"Descargar"),B()()()()}if(n&2){let t=$e();ge(8),Ue("src",t.selectedTicketUrl,zg),ge(4),Ue("href",t.selectedTicketUrl,zg)("download","ticket_"+t.currentExpense.id+".jpg")}}function Oae(n,e){n&1&&(z(0,"div",107)(1,"div",108),yo(2,"div",109),z(3,"div",110),yo(4,"div",111)(5,"div",112)(6,"div",113)(7,"div",114),B()(),z(8,"div",115)(9,"p"),ee(10,"Analizando ticket con IA..."),B(),z(11,"small",116),ee(12,"Extrayendo productos, cantidades e importes"),B()()())}var sw=class n{constructor(e,t){this.expenseService=e;this.ocrService=t;this.expenses$=this.expenseService.getExpenses(),this.paginatedExpenses$=Cl([this.expenses$,this.searchQuery$,this.startDate$,this.endDate$,this.currentPage$,this.pageSize$]).pipe(Nn(([r,i,o,s,a,l])=>{let c=i?this.normalizeString(i):"",u=r.filter(f=>{let b=!c||this.normalizeString(f.concept).includes(c)||f.amount.toString().includes(c),_=!0,C=new Date(f.date);if(C.setHours(0,0,0,0),o){let S=new Date(o);S.setHours(0,0,0,0),C<S&&(_=!1)}if(s){let S=new Date(s);S.setHours(0,0,0,0),C>S&&(_=!1)}return b&&_});if(this.filteredExpenses=u,this.totalPages=Math.max(1,Math.ceil(u.length/l)),a>this.totalPages)return setTimeout(()=>this.currentPage$.next(this.totalPages)),[];this.currentPage=a,this.pageSize=l;let d=(a-1)*l,p=Math.min(d+l,u.length);return this.startIndex=d,this.endIndex=p,u.slice(d,p)}))}formContainer;expenses$;paginatedExpenses$;searchQuery$=new Rn("");startDate$=new Rn(null);endDate$=new Rn(null);currentPage$=new Rn(1);pageSize$=new Rn(10);filteredExpenses=[];currentPage=1;pageSize=10;totalPages=1;startIndex=0;endIndex=0;showForm=!1;isEditing=!1;showOcrReview=!1;isProcessing=!1;currentExpense={dateStr:new Date().toISOString().split("T")[0],concept:"",amount:null,units:1};ocrTicketDate=new Date().toISOString().split("T")[0];ocrDetectedTotal;scannedItems=[];currentTicketBlob=null;currentTicketName="";existingConcepts=[];showTicketModal=!1;selectedTicketUrl=null;get totalOcrAmount(){return this.scannedItems.reduce((e,t)=>e+(t.amount||0),0)}get isTotalMismatch(){return this.ocrDetectedTotal===void 0?!1:Math.abs(this.totalOcrAmount-this.ocrDetectedTotal)>.01}get isOcrValid(){return!!this.ocrTicketDate&&this.scannedItems.length>0&&this.scannedItems.every(e=>!!e.concept?.trim()&&(e.amount||0)>=0&&(e.units||0)>0)}get isFormValid(){return!!this.currentExpense.dateStr&&!!this.currentExpense.concept?.trim()&&(this.currentExpense.amount||0)>=0&&(this.currentExpense.units||0)>0}ngOnInit(){this.loadUniqueConcepts()}loadUniqueConcepts(){return L(this,null,function*(){this.existingConcepts=yield this.expenseService.getUniqueConcepts()})}openManualForm(){this.showForm=!0,this.isEditing=!1,this.resetForm(),this.scrollToForm()}editExpense(e){this.isEditing=!0,this.currentExpense=kt(Fe({},e),{dateStr:e.date.toISOString().split("T")[0]}),this.showForm=!0,this.scrollToForm()}scrollToForm(){setTimeout(()=>{this.formContainer&&this.formContainer.nativeElement.scrollIntoView({behavior:"smooth",block:"start"})},100)}cancelEdit(){this.showForm=!1,this.isEditing=!1,this.resetForm()}saveExpense(){return L(this,null,function*(){if(!this.currentExpense.concept||this.currentExpense.amount===null||this.currentExpense.amount===void 0)return;let e={id:this.currentExpense.id,date:new Date(this.currentExpense.dateStr),concept:this.currentExpense.concept,amount:parseFloat(this.currentExpense.amount),units:parseFloat(this.currentExpense.units||"1"),ticketBlob:this.currentExpense.ticketBlob,originalFileName:this.currentExpense.originalFileName};this.isEditing&&e.id?yield this.expenseService.updateExpense(e.id,e):(delete e.id,yield this.expenseService.addExpense(e)),yield this.loadUniqueConcepts(),this.cancelEdit()})}onSearchChange(e){this.searchQuery$.next(e),this.currentPage$.next(1)}onPageSizeChange(e){this.pageSize$.next(e),this.currentPage$.next(1)}onStartDateChange(e){this.startDate$.next(e),this.currentPage$.next(1)}onEndDateChange(e){this.endDate$.next(e),this.currentPage$.next(1)}clearDateFilters(){this.startDate$.next(null),this.endDate$.next(null),this.currentPage$.next(1)}nextPage(){this.currentPage<this.totalPages&&this.currentPage$.next(this.currentPage+1)}prevPage(){this.currentPage>1&&this.currentPage$.next(this.currentPage-1)}normalizeString(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")}deleteExpense(e){return L(this,null,function*(){confirm("\xBFEst\xE1s seguro de eliminar este gasto?")&&(yield this.expenseService.deleteExpense(e),yield this.loadUniqueConcepts())})}viewTicket(e){if(!e.ticketBlob)return;let t=this.ensureBlob(e.ticketBlob);this.selectedTicketUrl=URL.createObjectURL(t),this.showTicketModal=!0}closeTicketModal(){this.selectedTicketUrl&&URL.revokeObjectURL(this.selectedTicketUrl),this.showTicketModal=!1,this.selectedTicketUrl=null}downloadTicket(e){if(!e.ticketBlob)return;let t=this.ensureBlob(e.ticketBlob),r=URL.createObjectURL(t),i=document.createElement("a");i.href=r,i.download=e.originalFileName||`ticket_${e.id}.jpg`,i.click(),URL.revokeObjectURL(r)}ensureBlob(e){return e instanceof Uint8Array?new Blob([e],{type:"image/jpeg"}):e}blobToUint8Array(e){return L(this,null,function*(){let t=yield e.arrayBuffer();return new Uint8Array(t)})}resetForm(){this.currentExpense={dateStr:new Date().toISOString().split("T")[0],concept:"",amount:null,units:1}}onFileSelected(e){return L(this,null,function*(){let t=e.target.files[0];if(t){this.isProcessing=!0,this.currentTicketBlob=t,this.currentTicketName=t.name,this.ocrTicketDate=new Date().toISOString().split("T")[0];try{let r=yield this.ocrService.processImage(t);this.scannedItems=yield Promise.all(r.items.map(i=>L(this,null,function*(){let o=yield this.ocrService.getMapping(i.concept);return o||(o=this.findBestConceptMatch(i.concept)||""),kt(Fe({},i),{suggestedConcept:i.concept,concept:o})}))),this.currentTicketBlob=r.optimizedBlob,r.date&&(this.ocrTicketDate=r.date),this.ocrDetectedTotal=r.total,this.scannedItems.length===0&&this.scannedItems.push({concept:"",suggestedConcept:"Concepto no detectado",amount:0,units:1}),this.showOcrReview=!0}catch(r){console.error(r),alert("Error al analizar la imagen")}finally{this.isProcessing=!1,e.target.value=""}}})}addScannedItem(){this.scannedItems.push({concept:"",suggestedConcept:"",amount:0,units:1})}removeScannedItem(e){this.scannedItems.splice(e,1)}viewCurrentTicket(){this.currentTicketBlob&&(this.selectedTicketUrl=URL.createObjectURL(this.currentTicketBlob),this.showTicketModal=!0)}cancelOcr(){this.showOcrReview=!1,this.scannedItems=[],this.currentTicketBlob=null}saveOcrData(){return L(this,null,function*(){let e=this.currentTicketBlob?yield this.blobToUint8Array(this.currentTicketBlob):void 0,t=this.scannedItems.filter(r=>r.concept&&r.amount>=0).map(r=>(r.suggestedConcept&&r.concept&&this.ocrService.saveMapping(r.suggestedConcept,r.concept),{date:new Date(this.ocrTicketDate),concept:r.concept,amount:r.amount,units:r.units,ticketBlob:e,originalFileName:this.currentTicketName}));t.length>0&&(yield this.expenseService.bulkAddExpenses(t),yield this.loadUniqueConcepts()),this.cancelOcr()})}findBestConceptMatch(e){if(!e||this.existingConcepts.length===0)return null;let t=this.normalizeString(e),r=this.existingConcepts.find(o=>this.normalizeString(o)===t);if(r)return r;let i=this.existingConcepts.filter(o=>{let s=this.normalizeString(o);return s.includes(t)||t.includes(s)}).sort((o,s)=>s.length-o.length);return i.length>0?i[0]:null}static \u0275fac=function(t){return new(t||n)(lt(cd),lt(ow))};static \u0275cmp=Pi({type:n,selectors:[["app-expense-list"]],viewQuery:function(t,r){if(t&1&&Th(fae,5),t&2){let i;Zd(i=Xd())&&(r.formContainer=i.first)}},decls:73,vars:29,consts:[["paginationTpl",""],["formContainer",""],[1,"container"],[1,"header-actions"],[1,"btn-group"],[1,"btn","secondary"],["type","file","accept","image/*","capture","environment","hidden","",3,"change"],["type","file","accept","image/*","hidden","",3,"change"],[1,"btn","primary",3,"click"],[1,"filters-area"],[1,"filter-row"],[1,"search-box"],[1,"search-icon"],["type","text","placeholder","Buscar por concepto o importe...",3,"ngModelChange","ngModel"],[1,"date-filter-group"],[1,"filter-group"],["type","date",3,"ngModelChange","ngModel"],["class","btn-clear","title","Limpiar filtros",3,"click",4,"ngIf"],["class","modal-backdrop",4,"ngIf"],["class","card form-card",4,"ngIf"],[1,"card","hide-on-mobile"],[1,"table-container"],[1,"data-table"],[1,"text-right"],[1,"actions-col"],[4,"ngFor","ngForOf"],[4,"ngIf"],[4,"ngTemplateOutlet"],[1,"data-card-grid","show-on-mobile"],["class","data-card",4,"ngFor","ngForOf"],["class","card text-center py-4 text-muted",4,"ngIf"],["id","conceptList"],[3,"value",4,"ngFor","ngForOf"],["class","modal-backdrop",3,"click",4,"ngIf"],["class","scanner-overlay",4,"ngIf"],["title","Limpiar filtros",1,"btn-clear",3,"click"],[1,"modal-backdrop"],[1,"card","modal-content"],[1,"modal-header"],["class","btn-icon","title","Ver Ticket Original",3,"click",4,"ngIf"],[1,"text-sm","text-secondary"],[1,"input-group",2,"margin-bottom","1rem"],[1,"review-list"],["class","review-item",4,"ngFor","ngForOf"],[1,"review-footer"],[1,"total-group"],[1,"total-row"],[1,"total-amount"],["class","total-row detected",4,"ngIf"],[1,"btn-text",3,"click"],[1,"actions"],[1,"btn","secondary",3,"click"],[1,"btn","primary",3,"click","disabled"],["title","Ver Ticket Original",1,"btn-icon",3,"click"],[1,"review-item"],[1,"item-main"],[1,"concept-container"],["class","suggestion-tag",4,"ngIf"],["type","text","placeholder","Concepto","list","conceptList",1,"concept-input",3,"ngModelChange","ngModel"],[1,"item-details"],[1,"input-with-label"],["type","number","placeholder","Uds","title","Unidades",3,"ngModelChange","ngModel"],[1,"amount-wrapper"],["type","number","placeholder","0.00",3,"ngModelChange","ngModel"],[1,"btn-icon","danger","remove-btn",3,"click"],[1,"suggestion-tag"],[1,"btn-small-link",3,"click"],[1,"total-row","detected"],[1,"card","form-card"],[1,"input-group"],["type","text","list","conceptList",3,"ngModelChange","ngModel"],["type","number",3,"ngModelChange","ngModel"],["class","text-muted",4,"ngIf"],[1,"text-right","font-medium","text-danger"],[1,"text-center"],["class","btn-icon","title","Ver Ticket",3,"click",4,"ngIf"],[1,"btn-icon",3,"click"],[1,"btn-icon","danger",3,"click"],[1,"text-muted"],["title","Ver Ticket",1,"btn-icon",3,"click"],["colspan","5",1,"text-center","py-4","text-muted"],[1,"data-card"],[1,"card-header"],[1,"date"],[1,"amount","text-danger"],[1,"card-body"],[1,"concept"],["class","details",4,"ngIf"],[1,"card-footer"],["class","btn-icon",3,"click",4,"ngIf"],[1,"details"],[1,"card","text-center","py-4","text-muted"],["class","pagination-container",4,"ngIf"],[1,"pagination-container"],[1,"pagination-info"],[1,"pagination-controls"],[1,"btn","secondary",3,"click","disabled"],[1,"text-sm"],[1,"page-size-selector"],[3,"ngModelChange","ngModel"],[3,"ngValue"],[3,"value"],[1,"modal-backdrop",3,"click"],[1,"card","modal-content","ticket-viewer-modal",3,"click"],[1,"ticket-image-container"],["alt","Ticket",3,"src"],[1,"btn","primary",3,"href","download"],[1,"scanner-overlay"],[1,"scanner-container"],[1,"scanner-line"],[1,"ticket-outline"],[1,"ticket-point","top-left"],[1,"ticket-point","top-right"],[1,"ticket-point","bottom-left"],[1,"ticket-point","bottom-right"],[1,"loading-text"],[1,"text-secondary"]],template:function(t,r){if(t&1){let i=wn();z(0,"div",2)(1,"div",3)(2,"h2"),ee(3,"Gastos"),B(),z(4,"div",4)(5,"label",5)(6,"span"),ee(7,"\u{1F4F7}"),B(),ee(8," C\xE1mara "),z(9,"input",6),tt("change",function(s){return rt(i),it(r.onFileSelected(s))}),B()(),z(10,"label",5)(11,"span"),ee(12,"\u{1F4C1}"),B(),ee(13," Ticket "),z(14,"input",7),tt("change",function(s){return rt(i),it(r.onFileSelected(s))}),B()(),z(15,"button",8),tt("click",function(){return rt(i),it(r.openManualForm())}),z(16,"span"),ee(17,"+"),B(),ee(18," Nuevo Gasto "),B()()(),z(19,"div",9)(20,"div",10)(21,"div",11)(22,"span",12),ee(23,"\u{1F50D}"),B(),z(24,"input",13),$t(25,"async"),tt("ngModelChange",function(s){return rt(i),it(r.onSearchChange(s))}),B()(),z(26,"div",14)(27,"div",15)(28,"label"),ee(29,"Desde"),B(),z(30,"input",16),$t(31,"async"),tt("ngModelChange",function(s){return rt(i),it(r.onStartDateChange(s))}),B()(),z(32,"div",15)(33,"label"),ee(34,"Hasta"),B(),z(35,"input",16),$t(36,"async"),tt("ngModelChange",function(s){return rt(i),it(r.onEndDateChange(s))}),B()(),bt(37,hae,2,0,"button",17),$t(38,"async"),$t(39,"async"),B()()(),bt(40,yae,30,11,"div",18)(41,bae,25,14,"div",19),z(42,"div",20)(43,"div",21)(44,"table",22)(45,"thead")(46,"tr")(47,"th"),ee(48,"Fecha"),B(),z(49,"th"),ee(50,"Concepto"),B(),z(51,"th",23),ee(52,"Importe"),B(),z(53,"th",24),ee(54,"Ticket"),B(),z(55,"th",24),ee(56,"Acciones"),B()()(),z(57,"tbody"),bt(58,xae,17,11,"tr",25),$t(59,"async"),bt(60,Cae,3,0,"tr",26),B()()(),bt(61,Sae,1,0,"ng-container",27),B(),z(62,"div",28),bt(63,Iae,18,11,"div",29),$t(64,"async"),bt(65,Aae,2,0,"div",30)(66,Tae,1,0,"ng-container",27),B(),bt(67,kae,1,1,"ng-template",null,0,ef),z(69,"datalist",31),bt(70,Nae,1,1,"option",32),B(),bt(71,Pae,14,3,"div",33)(72,Oae,13,0,"div",34),B()}if(t&2){let i=Jd(68);ge(24),Ue("ngModel",hr(25,15,r.searchQuery$)),ge(6),Ue("ngModel",hr(31,17,r.startDate$)),ge(5),Ue("ngModel",hr(36,19,r.endDate$)),ge(2),Ue("ngIf",hr(38,21,r.startDate$)||hr(39,23,r.endDate$)),ge(3),Ue("ngIf",r.showOcrReview),ge(),Ue("ngIf",r.showForm),ge(17),Ue("ngForOf",hr(59,25,r.paginatedExpenses$)),ge(2),Ue("ngIf",r.filteredExpenses.length===0),ge(),Ue("ngTemplateOutlet",i),ge(2),Ue("ngForOf",hr(64,27,r.paginatedExpenses$)),ge(2),Ue("ngIf",r.filteredExpenses.length===0),ge(),Ue("ngTemplateOutlet",i),ge(4),Ue("ngForOf",r.existingConcepts),ge(),Ue("ngIf",r.showTicketModal),ge(),Ue("ngIf",r.isProcessing)}},dependencies:[wo,_o,qs,of,ms,wa,xa,hs,Hc,gs,ps,Ho,Nc,af,sf],styles:[".form-card[_ngcontent-%COMP%]{background:#fee2e2;border-color:#fca5a5}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:200;display:flex;align-items:center;justify-content:center}.modal-content[_ngcontent-%COMP%]{width:90%;max-width:600px;max-height:90vh;overflow-y:auto}.review-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;margin:1rem 0}.review-item[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:flex-start;padding-bottom:.75rem;border-bottom:1px solid var(--border-color)}.review-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.review-item[_ngcontent-%COMP%]   .item-main[_ngcontent-%COMP%]{flex:1;display:flex;gap:.5rem;flex-wrap:wrap}.review-item[_ngcontent-%COMP%]   .concept-input[_ngcontent-%COMP%]{flex:1;min-width:200px}.review-item[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex:0 0 auto}.review-item[_ngcontent-%COMP%]   .input-with-label[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.review-item[_ngcontent-%COMP%]   .input-with-label[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.7rem;color:var(--text-secondary);font-weight:500}.review-item[_ngcontent-%COMP%]   .input-with-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.4rem;font-size:.9rem}.review-item[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{width:70px}.review-item[_ngcontent-%COMP%]   .amount-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.review-item[_ngcontent-%COMP%]   .amount-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500;color:var(--text-secondary)}.review-item[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]{margin-top:1.2rem}.review-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:1rem;padding-top:1rem;border-top:2px solid var(--border-color)}.total-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-weight:600;color:var(--text-main)}.total-row[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--primary-color)}.total-row.detected[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.9rem}.total-row.detected[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]{font-size:1.1rem}.total-row[_ngcontent-%COMP%]   .mismatch[_ngcontent-%COMP%]{color:#ef4444;text-decoration:underline dotted}.total-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}@media(max-width:600px){.review-item[_ngcontent-%COMP%]   .item-main[_ngcontent-%COMP%]{flex-direction:column}.review-item[_ngcontent-%COMP%]   .concept-input[_ngcontent-%COMP%]{width:100%;min-width:0}.review-item[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.review-item[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .input-with-label[_ngcontent-%COMP%]{flex:1}.review-item[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .input-with-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.review-item[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]{margin-top:0;align-self:center}.review-footer[_ngcontent-%COMP%]{flex-direction:column-reverse;gap:1rem;align-items:stretch}.review-footer[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]{justify-content:space-between}}.ticket-viewer-modal[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-height:95vh;width:95%;max-width:800px}.ticket-viewer-modal[_ngcontent-%COMP%]   .ticket-image-container[_ngcontent-%COMP%]{flex:1;min-height:0;display:flex;justify-content:center;align-items:center;background:#f1f5f9;border-radius:var(--radius-md);margin:1rem 0;overflow:hidden}.ticket-viewer-modal[_ngcontent-%COMP%]   .ticket-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;width:auto;height:auto;object-fit:contain;display:block}.concept-container[_ngcontent-%COMP%]{flex:1;min-width:200px;display:flex;flex-direction:column;gap:4px}.suggestion-tag[_ngcontent-%COMP%]{font-size:.75rem;background:#eff6ff;border:1px solid #bfdbfe;color:#1e40af;padding:2px 8px;border-radius:4px;display:flex;justify-content:space-between;align-items:center}.suggestion-tag[_ngcontent-%COMP%]   .btn-small-link[_ngcontent-%COMP%]{background:none;border:none;color:var(--primary-color);font-weight:600;cursor:pointer;padding:0;margin-left:8px;text-decoration:underline}.scanner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#fffffff2;z-index:1000;display:flex;flex-direction:column;align-items:center;justify-content:center;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.scanner-container[_ngcontent-%COMP%]{position:relative;width:240px;height:320px;margin-bottom:2rem}.ticket-outline[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border:3px solid #e2e8f0;border-radius:8px}.ticket-point[_ngcontent-%COMP%]{position:absolute;width:12px;height:12px;border:3px solid var(--primary-color)}.top-left[_ngcontent-%COMP%]{top:-3px;left:-3px;border-right:0;border-bottom:0;border-top-left-radius:8px}.top-right[_ngcontent-%COMP%]{top:-3px;right:-3px;border-left:0;border-bottom:0;border-top-right-radius:8px}.bottom-left[_ngcontent-%COMP%]{bottom:-3px;left:-3px;border-right:0;border-top:0;border-bottom-left-radius:8px}.bottom-right[_ngcontent-%COMP%]{bottom:-3px;right:-3px;border-left:0;border-top:0;border-bottom-right-radius:8px}.scanner-line[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:4px;background:linear-gradient(to bottom,transparent,var(--primary-color),transparent);box-shadow:0 0 15px var(--primary-color);z-index:2;animation:_ngcontent-%COMP%_scan 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_scan{0%,to{top:0%;opacity:0}10%{opacity:1}50%{top:100%}90%{opacity:1}}.loading-text[_ngcontent-%COMP%]{text-align:center}.loading-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:600;color:var(--text-main);font-size:1.1rem;margin-bottom:.25rem}.loading-text[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.85rem}"]})};function Rae(n,e){if(n&1&&(z(0,"div",25)(1,"div",26)(2,"span",27),ee(3),B(),z(4,"span",28),ee(5),B()(),z(6,"div",29)(7,"p"),ee(8,"Consumo: "),z(9,"strong"),ee(10),$t(11,"number"),B(),ee(12," unidades/d\xEDa"),B(),z(13,"p"),ee(14,"Fecha estimada: "),z(15,"strong"),ee(16),$t(17,"date"),B()()()()),n&2){let t=e.$implicit;wr("urgent",t.daysRemaining<=2),ge(3),Ln(t.concept),ge(),wr("urgent",t.daysRemaining<=2),ge(),Gt(" ",t.daysRemaining<=0?"\xA1Hoy o ya!":"En "+t.daysRemaining+" d\xEDas"," "),ge(5),Ln(Vr(11,8,t.avgConsumption,"1.1-2")),ge(6),Ln(Vr(17,11,t.estimatedDate,"dd/MM/yyyy"))}}function Lae(n,e){if(n&1&&(z(0,"div",21)(1,"h3"),ee(2,"Pron\xF3stico de Pr\xF3ximas Compras"),B(),z(3,"p",22),ee(4,"Basado en tu consumo promedio de unidades por d\xEDa."),B(),z(5,"div",23),bt(6,Rae,18,14,"div",24),B()()),n&2){let t=$e();ge(6),Ue("ngForOf",t.purchaseForecasts)}}function Fae(n,e){if(n&1&&(z(0,"div",34)(1,"div",35)(2,"span",36),ee(3),B(),z(4,"span",37),ee(5),B()(),z(6,"div",38),ee(7," Faltan: "),z(8,"strong"),ee(9),$t(10,"number"),B()()()),n&2){let t=e.$implicit;ge(3),Ln(t.name),ge(2),Ln(t.monthsStr),ge(4),Gt("",Vr(10,3,t.totalPending,"1.2-2")," \u20AC")}}function jae(n,e){if(n&1&&(z(0,"div",30)(1,"h3",31),ee(2,"\u26A0\uFE0F Cuotas Pendientes"),B(),z(3,"p",22),ee(4,"Personas que no han cubierto su cuota mensual m\xEDnima."),B(),z(5,"div",32),bt(6,Fae,11,6,"div",33),B()()),n&2){let t=$e();ge(6),Ue("ngForOf",t.pendingDebts)}}function Bae(n,e){if(n&1&&(z(0,"option",39),ee(1),B()),n&2){let t=e.$implicit;Ue("value",t),ge(),Ln(t)}}function Vae(n,e){if(n&1&&(z(0,"div",40),yo(1,"canvas",41),B()),n&2){let t=$e();ge(),Ue("data",t.barChartData)("options",t.barChartOptions)("type","bar")}}function Uae(n,e){n&1&&(z(0,"p",42),ee(1," No hay suficientes datos para mostrar gr\xE1ficas. "),B())}var aw=class n{constructor(e,t,r,i){this.expenseService=e;this.incomeService=t;this.personService=r;this.quotaService=i}averageMonthlyExpense=0;totalIncome=0;totalExpenses=0;totalBote=0;expectedYearEndIncome=0;expectedYearEndExpenses=0;barChartOptions={responsive:!0,maintainAspectRatio:!1,scales:{x:{},y:{min:0}},plugins:{legend:{display:!0}}};barChartData={labels:[],datasets:[{data:[],label:"D\xEDas prom. entre compras",backgroundColor:"#3b82f6"},{data:[],label:"Cantidad prom. por compra",backgroundColor:"#10b981"}]};concepts=[];selectedConcept="all";allChartStats=[];purchaseForecasts=[];pendingDebts=[];monthNames=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"];ngOnInit(){return L(this,null,function*(){let e=(yield xi(this.expenseService.getExpenses()))||[],t=(yield xi(this.incomeService.getIncomes()))||[];this.totalIncome=t.reduce((s,a)=>s+a.amount,0),this.totalExpenses=e.reduce((s,a)=>s+a.amount,0),this.totalBote=this.totalIncome-this.totalExpenses,this.calculateStats(e),this.calculateForecasts(e);let r=(yield xi(this.personService.getActivePeople()))||[],i=(yield xi(this.quotaService.getAllQuotas()))||[],o=(yield xi(this.quotaService.getAllPayments()))||[];this.expectedYearEndIncome=i.filter(s=>!o.some(a=>a.quotaId===s.id)&&r.some(a=>a.id===s.personId)).reduce((s,a)=>s+a.amount,0),this.expectedYearEndIncome+=t.reduce((s,a)=>s+a.amount,0),this.calculateDebts(r,i,o)})}calculateDebts(e,t,r){let i=new Date,o=i.getFullYear(),s=i.getMonth();this.pendingDebts=[],e.forEach(a=>{let l=t.filter(u=>u.personId===a.id&&u.amount>0);if(l.length===0)return;let c=[];if(l.forEach(u=>{if(u.year>o||u.year===o&&u.month>s)return;let d=r.filter(p=>p.quotaId===u.id).reduce((p,f)=>p+f.amount,0);u.amount-d>.01&&c.push({year:u.year,month:u.month,pending:u.amount-d})}),c.length>0){let u=c.reduce((p,f)=>p+f.pending,0),d=c.map(p=>`${this.monthNames[p.month]} ${p.year}`).join(", ");this.pendingDebts.push({name:a.name,monthsStr:d,totalPending:u})}}),this.pendingDebts.sort((a,l)=>a.name.localeCompare(l.name))}calculateStats(e){if(!e.length)return;let t=new Map,r=new Date;e.forEach(c=>{let u=new Date(c.date),d=`${u.getFullYear()}-${u.getMonth()}`,p=new Date;(p.getFullYear()===u.getFullYear()&&p.getMonth()!=u.getMonth()||p.getFullYear()-1===u.getFullYear()&&u.getMonth()>=p.getMonth())&&(t.set(d,(t.get(d)||0)+c.amount),u<r&&(r=new Date(u.getFullYear(),u.getMonth(),1)))});let i=0;t.forEach(c=>i+=c);let o=Math.floor((new Date-r)/1e3/60/60/24/30);this.averageMonthlyExpense=t.size>0?i/o:0;let s=12-new Date().getMonth();this.expectedYearEndExpenses=this.averageMonthlyExpense*s,this.expectedYearEndExpenses+=e.filter(c=>!(c.date.getFullYear()===new Date().getFullYear()&&c.date.getMonth()===new Date().getMonth())).reduce((c,u)=>c+u.amount,0),(t.get(`${new Date().getFullYear()}-${new Date().getMonth()}`)??0)>this.averageMonthlyExpense&&(this.expectedYearEndExpenses+=(t.get(`${new Date().getFullYear()}-${new Date().getMonth()}`)??0)-this.averageMonthlyExpense);let a=new Map,l=new Map;e.forEach(c=>{let u=c.concept.toLowerCase().trim(),p=new Date(c.date).getTime(),f=c.units||1;a.has(u)||(a.set(u,[]),l.set(u,[])),a.get(u)?.push(p),l.get(u)?.push(f)}),this.allChartStats=[],this.concepts=[],a.forEach((c,u)=>{if(this.concepts.push(u),c.length>1){c.sort((C,S)=>C-S);let d=0;for(let C=1;C<c.length;C++)d+=c[C]-c[C-1];let f=d/(c.length-1)/(1e3*60*60*24),b=l.get(u)||[],_=b.length>0?b.reduce((C,S)=>C+S,0)/b.length:1;this.allChartStats.push({concept:u,avgDays:Math.round(f*10)/10,avgUnits:Math.round(_*10)/10})}}),this.concepts.sort(),this.updateChartData()}normalizeString(e){return e?e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim():""}updateChartData(){let e=this.selectedConcept==="all"?this.allChartStats:this.allChartStats.filter(t=>t.concept===this.selectedConcept);this.barChartData={labels:e.map(t=>t.concept),datasets:[{data:e.map(t=>t.avgDays),label:"D\xEDas prom. entre compras",backgroundColor:"#3b82f6"},{data:e.map(t=>t.avgUnits),label:"Cantidad prom. por compra",backgroundColor:"#10b981"}]}}calculateForecasts(e){if(!e.length)return;let t=new Map;e.forEach(i=>{let o=i.concept.toLowerCase().trim();t.has(o)||t.set(o,[]),t.get(o)?.push(i)});let r=new Date;this.purchaseForecasts=[],t.forEach((i,o)=>{if(i.length>=2){let s=new Map;i.forEach(l=>{let c=new Date(l.date),u=`${c.getFullYear()}-${c.getMonth()}-${c.getDate()}`;s.has(u)||s.set(u,{date:c,units:0});let d=s.get(u);d.units+=l.units||1});let a=Array.from(s.values()).sort((l,c)=>l.date.getTime()-c.date.getTime());if(a.length>=2){let l=a[0].date.getTime(),c=a[a.length-1].date.getTime(),u=c-l;if(u>0){let d=u/864e5,p=0;for(let b=0;b<a.length-1;b++)p+=a[b].units;let f=p/d;if(f>0){let _=a[a.length-1].units/f,C=new Date(c+_*1e3*60*60*24),S=Math.ceil((C.getTime()-r.getTime())/(1e3*60*60*24));this.purchaseForecasts.push({concept:o,avgConsumption:f,estimatedDate:C,daysRemaining:S})}}}}}),this.purchaseForecasts.sort((i,o)=>i.daysRemaining-o.daysRemaining)}static \u0275fac=function(t){return new(t||n)(lt(cd),lt(Ju),lt(Sa),lt(Ca))};static \u0275cmp=Pi({type:n,selectors:[["app-stats-dashboard"]],decls:54,vars:34,consts:[[1,"container","pb-sm-5"],[1,"stats-grid"],[1,"card","stat-card","bote-card"],[1,"stat-value"],[1,"card","stat-card"],[1,"stat-value","success"],[1,"expected-separator"],[1,"expected-value"],[1,"stat-value","danger"],["class","card section-card mb-4",4,"ngIf"],["class","card section-card mb-4 danger-outline",4,"ngIf"],[1,"charts-container"],[1,"card","chart-card"],[1,"chart-header"],[1,"filter-wrapper"],["for","conceptFilter"],["id","conceptFilter",1,"bote-select",3,"ngModelChange","change","ngModel"],["value","all"],[3,"value",4,"ngFor","ngForOf"],["class","chart-wrapper",4,"ngIf"],["class","text-secondary text-center",4,"ngIf"],[1,"card","section-card","mb-4"],[1,"text-secondary","small","mb-3"],[1,"forecast-list"],["class","forecast-item card",3,"urgent",4,"ngFor","ngForOf"],[1,"forecast-item","card"],[1,"forecast-header"],[1,"forecast-concept"],[1,"forecast-badge"],[1,"forecast-details"],[1,"card","section-card","mb-4","danger-outline"],[1,"text-danger"],[1,"debt-list"],["class","debt-item",4,"ngFor","ngForOf"],[1,"debt-item"],[1,"debt-info"],[1,"debt-name"],[1,"debt-months"],[1,"debt-amount"],[3,"value"],[1,"chart-wrapper"],["baseChart","",3,"data","options","type"],[1,"text-secondary","text-center"]],template:function(t,r){t&1&&(z(0,"div",0)(1,"h2"),ee(2,"Resumen de Gastos"),B(),z(3,"div",1)(4,"div",2)(5,"h3"),ee(6,"Total en el Bote"),B(),z(7,"p",3),ee(8),$t(9,"number"),B()(),z(10,"div",4)(11,"h3"),ee(12,"Total Ingresos"),B(),z(13,"p",5),ee(14),$t(15,"number"),z(16,"span",6),ee(17,"/"),B(),z(18,"span",7),ee(19),$t(20,"number"),B()()(),z(21,"div",4)(22,"h3"),ee(23,"Total Gastos"),B(),z(24,"p",8),ee(25),$t(26,"number"),z(27,"span",6),ee(28,"/"),B(),z(29,"span",7),ee(30),$t(31,"number"),B()()(),z(32,"div",4)(33,"h3"),ee(34,"Gasto Medio Mensual"),B(),z(35,"p",3),ee(36),$t(37,"number"),B()()(),bt(38,Lae,7,1,"div",9)(39,jae,7,1,"div",10),z(40,"div",11)(41,"div",12)(42,"div",13)(43,"h3"),ee(44,"Frecuencia de Compra"),B(),z(45,"div",14)(46,"label",15),ee(47,"Concepto:"),B(),z(48,"select",16),Kn("ngModelChange",function(o){return tr(r.selectedConcept,o)||(r.selectedConcept=o),o}),tt("change",function(){return r.updateChartData()}),z(49,"option",17),ee(50,"Todos los conceptos"),B(),bt(51,Bae,2,2,"option",18),B()()(),bt(52,Vae,2,3,"div",19)(53,Uae,2,0,"p",20),B()()()),t&2&&(ge(7),wr("success",r.totalBote>=0)("danger",r.totalBote<0),ge(),Gt(" ",Vr(9,16,r.totalBote,"1.2-2")," \u20AC "),ge(6),Gt(" ",Vr(15,19,r.totalIncome,"1.2-2")," \u20AC "),ge(5),Gt("",Vr(20,22,r.expectedYearEndIncome,"1.2-2")," \u20AC"),ge(6),Gt(" ",Vr(26,25,r.totalExpenses,"1.2-2")," \u20AC "),ge(5),Gt("",Vr(31,28,r.expectedYearEndExpenses,"1.2-2")," \u20AC"),ge(6),Gt("",Vr(37,31,r.averageMonthlyExpense,"1.2-2")," \u20AC"),ge(2),Ue("ngIf",r.purchaseForecasts.length>0),ge(),Ue("ngIf",r.pendingDebts.length>0),ge(9),Yn("ngModel",r.selectedConcept),ge(3),Ue("ngForOf",r.concepts),ge(),Ue("ngIf",r.barChartData.datasets[0].data.length>0),ge(),Ue("ngIf",r.barChartData.datasets[0].data.length===0))},dependencies:[wo,_o,qs,E3,ms,wa,xa,gs,ps,Ho,af,sf],styles:[".stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;margin-bottom:2rem}.stat-card[_ngcontent-%COMP%]{text-align:center;padding:2rem}.stat-value[_ngcontent-%COMP%]{font-size:2.2rem;font-weight:700;color:var(--text-main);margin:.5rem 0 0}.stat-value.success[_ngcontent-%COMP%]{color:var(--secondary-color)}.stat-value.danger[_ngcontent-%COMP%]{color:var(--danger-color)}.bote-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#eff6ff,#dbeafe);border-color:#bfdbfe}.chart-card[_ngcontent-%COMP%]{min-height:400px}.chart-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;flex-wrap:wrap;gap:1rem}.filter-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.filter-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;font-size:.9rem}.bote-select[_ngcontent-%COMP%]{padding:.5rem;border-radius:8px;border:1px solid #ddd;background:#fff;font-size:.9rem}.chart-wrapper[_ngcontent-%COMP%]{height:300px}.text-center[_ngcontent-%COMP%]{text-align:center}.forecast-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1rem}.forecast-item[_ngcontent-%COMP%]{padding:1rem;border-left:4px solid var(--primary-color)}.forecast-item.urgent[_ngcontent-%COMP%]{border-left-color:var(--danger-color);background-color:#fff1f2}.forecast-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.forecast-concept[_ngcontent-%COMP%]{font-weight:700;text-transform:capitalize}.forecast-badge[_ngcontent-%COMP%]{font-size:.75rem;padding:.2rem .6rem;border-radius:999px;background:#e0f2fe;color:#0369a1;font-weight:600}.forecast-badge.urgent[_ngcontent-%COMP%]{background:#fecdd3;color:#9f1239}.forecast-details[_ngcontent-%COMP%]{font-size:.85rem}.forecast-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.2rem 0;color:#64748b}.forecast-details[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--text-main)}.danger-outline[_ngcontent-%COMP%]{border:1px solid #fecdd3;background-color:#fffafb}.debt-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.debt-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem;background:#fff;border-radius:8px;border:1px solid #fee2e2}.debt-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.debt-name[_ngcontent-%COMP%]{font-weight:700;color:#9f1239}.debt-months[_ngcontent-%COMP%]{font-size:.8rem;color:#64748b}.debt-amount[_ngcontent-%COMP%]{text-align:right;font-size:.95rem}.text-danger[_ngcontent-%COMP%]{color:var(--danger-color)}.mb-4[_ngcontent-%COMP%]{margin-bottom:1.5rem}.pb-5[_ngcontent-%COMP%]{padding-bottom:3rem}.expected-separator[_ngcontent-%COMP%]{opacity:.4;font-weight:300;margin:0 .5rem}.expected-value[_ngcontent-%COMP%]{font-size:.7em;opacity:.8;font-weight:400}"]})};var lw="1.1.2";var cw=class n{constructor(e){this.db=e}createBackup(){return L(this,null,function*(){let e=yield this.db.incomes.toArray(),t=yield this.db.expenses.toArray(),r=yield this.db.people.toArray(),i=yield this.db.quotas.toArray(),o=yield this.db.quotaTemplates.toArray(),s=yield this.db.quotaPayments.toArray(),a=yield this.db.settings.toArray(),l=yield this.db.conceptMappings.toArray(),c=yield Promise.all(t.map(p=>L(this,null,function*(){let f;p.ticketBlob&&(f=yield this.blobToBase64(p.ticketBlob));let C=p,{ticketBlob:b}=C,_=ng(C,["ticketBlob"]);return kt(Fe({},_),{ticketBase64:f})}))),u={version:3,date:new Date().toISOString(),incomes:e,expenses:c,people:r,quotas:i,quotaTemplates:o,quotaPayments:s,settings:a,conceptMappings:l},d=JSON.stringify(u,null,2);return new Blob([d],{type:"application/json"})})}restoreBackup(e){return L(this,null,function*(){let t=yield e.text(),r=JSON.parse(t);if(!r.incomes||!r.expenses)throw new Error("Invalid backup file format");let i=yield Promise.all(r.expenses.map(s=>L(this,null,function*(){let a;if(s.ticketBase64){let d=this.base64ToBlob(s.ticketBase64);a=new Uint8Array(yield d.arrayBuffer())}let u=s,{ticketBase64:l}=u,c=ng(u,["ticketBase64"]);return kt(Fe({},c),{ticketBlob:a,date:new Date(c.date)})}))),o=r.incomes.map(s=>kt(Fe({},s),{date:new Date(s.date)}));yield this.db.clearDatabase(),yield this.db.incomes.bulkAdd(o),yield this.db.expenses.bulkAdd(i),r.people&&(yield this.db.people.bulkAdd(r.people)),r.quotas&&(yield this.db.quotas.bulkAdd(r.quotas)),r.quotaTemplates&&(yield this.db.quotaTemplates.bulkAdd(r.quotaTemplates)),r.quotaPayments&&(yield this.db.quotaPayments.bulkAdd(r.quotaPayments)),r.settings&&(yield this.db.settings.bulkAdd(r.settings)),r.conceptMappings&&(yield this.db.conceptMappings.bulkAdd(r.conceptMappings))})}blobToBase64(e){return new Promise((t,r)=>{let i=e instanceof Uint8Array?new Blob([e],{type:"image/jpeg"}):e,o=new FileReader;o.onloadend=()=>t(o.result),o.onerror=r,o.readAsDataURL(i)})}base64ToBlob(e){let t=e.split(","),r=t[0].match(/:(.*?);/)[1],i=atob(t[1]),o=i.length,s=new Uint8Array(o);for(;o--;)s[o]=i.charCodeAt(o);return new Blob([s],{type:r})}static \u0275fac=function(t){return new(t||n)(xt(So))};static \u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"root"})};var AA="Service workers are disabled or not supported by this browser",Yp=class{serviceWorker;worker;registration;events;constructor(e,t){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=new bn(r=>r.error(new gt(5601,!1)));else{let r=null,i=new $r;this.worker=new bn(c=>(r!==null&&c.next(r),i.subscribe(u=>c.next(u))));let o=()=>{let{controller:c}=e;c!==null&&(r=c,i.next(r))};e.addEventListener("controllerchange",o),o(),this.registration=this.worker.pipe(Vo(()=>e.getRegistration().then(c=>{if(!c)throw new gt(5601,!1);return c})));let s=new $r;this.events=s.asObservable();let a=c=>{let{data:u}=c;u?.type&&s.next(u)};e.addEventListener("message",a),t?.get(is,null,{optional:!0})?.onDestroy(()=>{e.removeEventListener("controllerchange",o),e.removeEventListener("message",a)})}}postMessage(e,t){return new Promise(r=>{this.worker.pipe(Bo(1)).subscribe(i=>{i.postMessage(Fe({action:e},t)),r()})})}postMessageWithOperation(e,t,r){let i=this.waitForOperationCompleted(r),o=this.postMessage(e,t);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let t;return typeof e=="string"?t=r=>r.type===e:t=r=>e.includes(r.type),this.events.pipe(eo(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(Bo(1))}waitForOperationCompleted(e){return new Promise((t,r)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(eo(i=>i.nonce===e),Bo(1),Nn(i=>{if(i.result!==void 0)return i.result;throw new Error(i.error)})).subscribe({next:t,error:r})})}get isEnabled(){return!!this.serviceWorker}},Hae=(()=>{class n{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new $r;constructor(t){if(this.sw=t,!t.isEnabled){this.messages=wc,this.notificationClicks=wc,this.notificationCloses=wc,this.pushSubscriptionChanges=wc,this.subscription=wc;return}this.messages=this.sw.eventsOfType("PUSH").pipe(Nn(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Nn(i=>i.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(Nn(i=>i.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(Nn(i=>i.data)),this.pushManager=this.sw.registration.pipe(Nn(i=>i.pushManager));let r=this.pushManager.pipe(Vo(i=>i.getSubscription()));this.subscription=new bn(i=>{let o=r.subscribe(i),s=this.subscriptionChanges.subscribe(i);return()=>{o.unsubscribe(),s.unsubscribe()}})}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(AA));let r={userVisibleOnly:!0},i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,new Promise((s,a)=>{this.pushManager.pipe(Vo(l=>l.subscribe(r)),Bo(1)).subscribe({next:l=>{this.subscriptionChanges.next(l),s(l)},error:a})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(AA));let t=r=>{if(r===null)throw new gt(5602,!1);return r.unsubscribe().then(i=>{if(!i)throw new gt(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((r,i)=>{this.subscription.pipe(Bo(1),Vo(t)).subscribe({next:r,error:i})})}decodeBase64(t){return atob(t)}static \u0275fac=function(r){return new(r||n)(xt(Yp))};static \u0275prov=ut({token:n,factory:n.\u0275fac})}return n})(),TA=(()=>{class n{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=wc,this.unrecoverable=wc;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(AA));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let t=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new gt(5601,!1));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static \u0275fac=function(r){return new(r||n)(xt(Yp))};static \u0275prov=ut({token:n,factory:n.\u0275fac})}return n})(),Jj=new Ct("");function qae(){let n=Ye(B0);if(!("serviceWorker"in navigator&&n.enabled!==!1))return;let e=Ye(Jj),t=Ye(Pr),r=Ye(is);t.runOutsideAngular(()=>{let i=navigator.serviceWorker,o=()=>i.controller?.postMessage({action:"INITIALIZE"});i.addEventListener("controllerchange",o),r.onDestroy(()=>{i.removeEventListener("controllerchange",o)})}),t.runOutsideAngular(()=>{let i,{registrationStrategy:o}=n;if(typeof o=="function")i=new Promise(s=>o().subscribe(()=>s()));else{let[s,...a]=(o||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":i=Promise.resolve();break;case"registerWithDelay":i=Xj(+a[0]||0);break;case"registerWhenStable":i=Promise.race([r.whenStable(),Xj(+a[0])]);break;default:throw new gt(5600,!1)}}i.then(()=>{r.destroyed||navigator.serviceWorker.register(e,{scope:n.scope,updateViaCache:n.updateViaCache,type:n.type}).catch(s=>console.error(Il(5604,!1)))})})}function Xj(n){return new Promise(e=>setTimeout(e,n))}function $ae(){let n=Ye(B0),e=Ye(no),t=!0;return new Yp(t&&n.enabled!==!1?navigator.serviceWorker:void 0,e)}var B0=class{enabled;updateViaCache;type;scope;registrationStrategy};function eB(n,e={}){return yu([Hae,TA,{provide:Jj,useValue:n},{provide:B0,useValue:e},{provide:Yp,useFactory:$ae},Ih(qae)])}var uw=class n{constructor(e,t){this.swUpdate=e;this.appRef=t;if(this.swUpdate.isEnabled){let r=this.appRef.isStable.pipe(sa(s=>s===!0)),i=rx(360*60*1e3);fu(r,i).subscribe(()=>L(this,null,function*(){try{let s=yield this.swUpdate.checkForUpdate();console.log(s?"A new version is available.":"Already on the latest version.")}catch(s){console.error("Failed to check for updates:",s)}})),this.swUpdate.versionUpdates.pipe(eo(s=>s.type==="VERSION_READY")).subscribe(()=>{confirm("Nueva versi\xF3n disponible. \xBFQuieres actualizar ahora?")&&window.location.reload()})}}checkForUpdates(){return L(this,null,function*(){if(!this.swUpdate.isEnabled)return console.log("Service Worker is not enabled"),!1;try{return!!(yield this.swUpdate.checkForUpdate())}catch(e){throw console.error("Manual check for updates failed:",e),e}})}static \u0275fac=function(t){return new(t||n)(xt(TA),xt(is))};static \u0275prov=ut({token:n,factory:n.\u0275fac,providedIn:"root"})};function Yae(n,e){if(n&1&&(z(0,"option",19),ee(1),B()),n&2){let t=e.$implicit;Ue("value",t),ge(),Ln(t)}}var dw=class n{constructor(e,t,r,i,o,s,a){this.backupService=e;this.pdfService=t;this.expenseService=r;this.incomeService=i;this.personService=o;this.quotaService=s;this.updateService=a}isExporting=!1;whatsappPhone="";availableYears=[];selectedYear="all";appVersion=lw;isCheckingUpdates=!1;ngOnInit(){return L(this,null,function*(){let e=yield xi(this.expenseService.getExpenses()),t=yield xi(this.incomeService.getIncomes()),r=new Set;e.forEach(i=>r.add(new Date(i.date).getFullYear())),t.forEach(i=>r.add(new Date(i.date).getFullYear())),this.availableYears=Array.from(r).sort((i,o)=>o-i)})}downloadBackup(){return L(this,null,function*(){try{let e=yield this.backupService.createBackup(),t=URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download=`bote_backup_${new Date().toISOString().split("T")[0]}.json`,r.click(),URL.revokeObjectURL(t)}catch(e){console.error(e),alert("Error al crear la copia de seguridad")}})}restoreBackup(e){return L(this,null,function*(){let t=e.target.files[0];if(t){if(!confirm("\xBFEst\xE1s seguro? Se borrar\xE1n todos los datos actuales y se reemplazar\xE1n por los de la copia.")){e.target.value="";return}try{yield this.backupService.restoreBackup(t),alert("Datos restaurados correctamente. La p\xE1gina se recargar\xE1."),window.location.reload()}catch(r){console.error(r),alert("Error al restaurar la copia. Verifica que el archivo sea correcto.")}finally{e.target.value=""}}})}exportToPdf(){return L(this,null,function*(){this.isExporting=!0;try{let e=yield xi(this.expenseService.getExpenses()),t=yield xi(this.incomeService.getIncomes()),r=yield xi(this.personService.getPeople()),i=yield xi(this.quotaService.getAllQuotas()),o=yield xi(this.quotaService.getAllPayments()),s=this.selectedYear==="all"?void 0:Number(this.selectedYear);yield this.pdfService.generateFullReport(t,e,i,r,o,s)}catch(e){console.error(e),alert("Error al generar el PDF")}finally{this.isExporting=!1}})}sendBackupViaWhatsApp(){return L(this,null,function*(){if(!this.whatsappPhone){alert("Por favor, introduce un n\xFAmero de tel\xE9fono.");return}try{let e=yield this.backupService.createBackup(),t=`bote_backup_${new Date().toISOString().split("T")[0]}.json`,r=new FormData;r.append("file",e,t);let i=yield fetch("https://tmpfiles.org/api/v1/upload",{method:"POST",body:r});if(!i.ok)throw new Error("Error al subir el archivo");let o=yield i.json();if(o.status!=="success"||!o.data?.url)throw new Error("No se pudo obtener el enlace de descarga");let s=o.data.url.replace("tmpfiles.org/","tmpfiles.org/dl/"),a=this.whatsappPhone.replace(/[^0-9]/g,""),l=encodeURIComponent(`Aqu\xED est\xE1 la copia de seguridad de Bote:

${s}

\u26A0\uFE0F El enlace expira en 1 hora.`),c=`https://wa.me/${a}?text=${l}`;window.open(c,"_blank"),alert("\xA1Archivo subido! Se ha abierto WhatsApp con el enlace de descarga.")}catch(e){console.error(e),alert("Error al subir el archivo. Por favor, intenta de nuevo.")}})}checkForUpdates(){return L(this,null,function*(){this.isCheckingUpdates=!0;try{(yield this.updateService.checkForUpdates())||alert("Ya tienes la \xFAltima versi\xF3n instalada.")}catch(e){alert("No se pudo comprobar si hay actualizaciones. Aseg\xFArate de tener conexi\xF3n a Internet.")}finally{this.isCheckingUpdates=!1}})}static \u0275fac=function(t){return new(t||n)(lt(cw),lt(Lp),lt(cd),lt(Ju),lt(Sa),lt(Ca),lt(uw))};static \u0275cmp=Pi({type:n,selectors:[["app-settings-page"]],decls:77,vars:9,consts:[[1,"container"],[1,"card"],[1,"text-secondary"],[1,"actions-sec"],[1,"action-item"],[1,"text-sm"],[1,"btn","primary",3,"click"],[1,"btn","secondary"],["type","file","accept",".json","hidden","",3,"change"],[1,"card","mt-lg"],["type","tel","placeholder","N\xFAmero de tel\xE9fono (ej: +34612345678)",1,"phone-input",3,"ngModelChange","ngModel"],[1,"btn","secondary",3,"click","disabled"],[1,"report-options"],[1,"filter-group"],["for","yearSelect"],["id","yearSelect",1,"bote-select",3,"ngModelChange","ngModel"],["value","all"],[3,"value",4,"ngFor","ngForOf"],[1,"btn","primary",3,"click","disabled"],[3,"value"]],template:function(t,r){t&1&&(z(0,"div",0)(1,"h2"),ee(2,"Configuraci\xF3n"),B(),z(3,"div",1)(4,"h3"),ee(5,"Copia de Seguridad"),B(),z(6,"p",2),ee(7,"Exporta todos tus datos (ingresos, gastos e im\xE1genes de tickets) a un archivo JSON o restaura una copia anterior."),B(),z(8,"div",3)(9,"div",4)(10,"h4"),ee(11,"Exportar Datos"),B(),z(12,"p",5),ee(13,"Descarga un archivo con toda tu informaci\xF3n."),B(),z(14,"button",6),tt("click",function(){return r.downloadBackup()}),ee(15," \u{1F4BE} Descargar Copia "),B()(),yo(16,"hr"),z(17,"div",4)(18,"h4"),ee(19,"Restaurar Datos"),B(),z(20,"p",5),ee(21,"Sube un archivo de copia de seguridad. "),z(22,"strong"),ee(23,"ATENCI\xD3N: Esto borrar\xE1 los datos actuales."),B()(),z(24,"label",7),ee(25," \u{1F4C2} Seleccionar Archivo "),z(26,"input",8),tt("change",function(o){return r.restoreBackup(o)}),B()()()()(),z(27,"div",9)(28,"h3"),ee(29,"Compartir Copia de Seguridad"),B(),z(30,"p",2),ee(31,"Env\xEDa tu copia de seguridad directamente por WhatsApp."),B(),z(32,"div",3)(33,"div",4)(34,"h4"),ee(35,"Enviar por WhatsApp"),B(),z(36,"p",5),ee(37,"Introduce el n\xFAmero de tel\xE9fono y comparte tu backup."),B(),z(38,"input",10),Kn("ngModelChange",function(o){return tr(r.whatsappPhone,o)||(r.whatsappPhone=o),o}),B(),z(39,"button",11),tt("click",function(){return r.sendBackupViaWhatsApp()}),ee(40," \u{1F4AC} Enviar por WhatsApp "),B()()()(),z(41,"div",9)(42,"h3"),ee(43,"Reportes"),B(),z(44,"p",2),ee(45,"Genera informes en PDF para llevar un control f\xEDsico o compartir tus registros."),B(),z(46,"div",3)(47,"div",4)(48,"h4"),ee(49,"Informe Completo"),B(),z(50,"p",5),ee(51,"Genera un PDF con todos los ingresos, gastos y fotos de tickets agrupadas."),B(),z(52,"div",12)(53,"div",13)(54,"label",14),ee(55,"A\xF1o:"),B(),z(56,"select",15),Kn("ngModelChange",function(o){return tr(r.selectedYear,o)||(r.selectedYear=o),o}),z(57,"option",16),ee(58,"Todos los a\xF1os"),B(),bt(59,Yae,2,2,"option",17),B()(),z(60,"button",18),tt("click",function(){return r.exportToPdf()}),ee(61),B()()()()(),z(62,"div",9)(63,"h3"),ee(64,"Acerca de"),B(),z(65,"p",2),ee(66,"Informaci\xF3n sobre la aplicaci\xF3n y actualizaciones."),B(),z(67,"div",3)(68,"div",4)(69,"h4"),ee(70,"Versi\xF3n de la Aplicaci\xF3n"),B(),z(71,"p",5),ee(72,"Versi\xF3n actual: "),z(73,"strong"),ee(74),B()(),z(75,"button",11),tt("click",function(){return r.checkForUpdates()}),ee(76),B()()()()()),t&2&&(ge(38),Yn("ngModel",r.whatsappPhone),ge(),Ue("disabled",!r.whatsappPhone),ge(17),Yn("ngModel",r.selectedYear),ge(3),Ue("ngForOf",r.availableYears),ge(),Ue("disabled",r.isExporting),ge(),Gt(" \u{1F4C4} ",r.isExporting?"Generando...":"Exportar PDF"," "),ge(13),Ln(r.appVersion),ge(),Ue("disabled",r.isCheckingUpdates),ge(),Gt(" \u{1F504} ",r.isCheckingUpdates?"Buscando actualizaciones...":"Buscar Actualizaciones"," "))},dependencies:[wo,_o,ms,wa,xa,hs,gs,ps,Ho],styles:[".text-secondary[_ngcontent-%COMP%]{color:var(--text-secondary);margin-bottom:2rem}.text-sm[_ngcontent-%COMP%]{font-size:.875rem;color:var(--text-secondary);margin-bottom:.5rem}.actions-sec[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.action-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:.5rem}hr[_ngcontent-%COMP%]{width:100%;border:0;border-top:1px solid var(--border-color);margin:0}.mt-lg[_ngcontent-%COMP%]{margin-top:2rem}.phone-input[_ngcontent-%COMP%]{width:100%;max-width:300px;padding:.5rem;border:1px solid var(--border-color);border-radius:4px;font-size:1rem}.report-options[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:1rem;flex-wrap:wrap;width:100%}.filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600;color:var(--text-secondary)}.bote-select[_ngcontent-%COMP%]{padding:.5rem;border-radius:4px;border:1px solid var(--border-color);background:#fff;font-size:1rem;min-width:150px}"]})};function Kae(n,e){if(n&1&&(z(0,"option",27),ee(1),B()),n&2){let t=e.$implicit;Ue("ngValue",t.id),ge(),Ln(t.name)}}function Qae(n,e){if(n&1){let t=wn();z(0,"div",23)(1,"h3"),ee(2),B(),z(3,"div",6)(4,"div",24)(5,"label"),ee(6,"Nombre"),B(),z(7,"input",25),Kn("ngModelChange",function(i){rt(t);let o=$e();return tr(o.currentPersonName,i)||(o.currentPersonName=i),it(i)}),tt("keyup.enter",function(){rt(t);let i=$e();return it(i.savePerson())}),B()(),z(8,"div",24)(9,"label"),ee(10,"Plantilla de Cuota"),B(),z(11,"select",26),Kn("ngModelChange",function(i){rt(t);let o=$e();return tr(o.currentQuotaTemplateId,i)||(o.currentQuotaTemplateId=i),it(i)}),z(12,"option",27),ee(13,"-- Sin asignaci\xF3n --"),B(),bt(14,Kae,2,2,"option",28),$t(15,"async"),B()(),z(16,"div",29)(17,"button",30),tt("click",function(){rt(t);let i=$e();return it(i.cancelEdit())}),ee(18,"Cancelar"),B(),z(19,"button",31),tt("click",function(){rt(t);let i=$e();return it(i.savePerson())}),ee(20,"Guardar"),B()()()()}if(n&2){let t=$e();ge(2),Ln(t.isEditing?"Editar Persona":"Nueva Persona"),ge(5),Yn("ngModel",t.currentPersonName),ge(4),Yn("ngModel",t.currentQuotaTemplateId),ge(),Ue("ngValue",null),ge(2),Ue("ngForOf",hr(15,6,t.quotaTemplates$)),ge(5),Ue("disabled",!t.currentPersonName.trim())}}function Zae(n,e){if(n&1&&(z(0,"small",37),ee(1),B()),n&2){let t=$e().$implicit,r=$e();ge(),Gt(" ",r.getTemplateName(t.quotaTemplateId)," ")}}function Xae(n,e){if(n&1){let t=wn();z(0,"button",38),tt("click",function(){rt(t);let i=$e().$implicit,o=$e();return it(o.deletePerson(i.id))}),ee(1,"\u{1F5D1}\uFE0F"),B()}}function Jae(n,e){if(n&1){let t=wn();z(0,"button",39),tt("click",function(){rt(t);let i=$e().$implicit,o=$e();return it(o.reactivatePerson(i.id))}),ee(1,"\u{1F504}"),B()}}function ele(n,e){if(n&1){let t=wn();z(0,"tr")(1,"td"),ee(2),bt(3,Zae,2,1,"small",32),B(),z(4,"td",15)(5,"span"),ee(6),B()(),z(7,"td",16)(8,"button",33),tt("click",function(){let i=rt(t).$implicit,o=$e();return it(o.goToQuotas(i.id))}),ee(9,"\u{1F4B0}"),B(),z(10,"button",34),tt("click",function(){let i=rt(t).$implicit,o=$e();return it(o.editPerson(i))}),ee(11,"\u270F\uFE0F"),B(),bt(12,Xae,2,0,"button",35)(13,Jae,2,0,"button",36),B()()}if(n&2){let t=e.$implicit;ge(2),Gt(" ",t.name," "),ge(),Ue("ngIf",t.quotaTemplateId),ge(2),wr("text-success",t.active)("text-danger",!t.active),ge(),Gt(" ",t.active?"Activo":"Baja"," "),ge(6),Ue("ngIf",t.active),ge(),Ue("ngIf",!t.active)}}function tle(n,e){n&1&&(z(0,"tr")(1,"td",40),ee(2,"No se encontraron personas"),B()())}function nle(n,e){n&1&&Xa(0)}function rle(n,e){if(n&1&&(z(0,"small",37),ee(1),B()),n&2){let t=$e().$implicit,r=$e();ge(),Gt(" ",r.getTemplateName(t.quotaTemplateId)," ")}}function ile(n,e){if(n&1){let t=wn();z(0,"button",50),tt("click",function(){rt(t);let i=$e().$implicit,o=$e();return it(o.deletePerson(i.id))}),ee(1,"\u{1F5D1}\uFE0F Baja"),B()}}function ole(n,e){if(n&1){let t=wn();z(0,"button",47),tt("click",function(){rt(t);let i=$e().$implicit,o=$e();return it(o.reactivatePerson(i.id))}),ee(1,"\u{1F504} Alta"),B()}}function sle(n,e){if(n&1){let t=wn();z(0,"div",41)(1,"div",42)(2,"span",43),ee(3),B()(),z(4,"div",44)(5,"div",45),ee(6),bt(7,rle,2,1,"small",32),B()(),z(8,"div",46)(9,"button",47),tt("click",function(){let i=rt(t).$implicit,o=$e();return it(o.goToQuotas(i.id))}),ee(10,"\u{1F4B0} Cuotas"),B(),z(11,"button",47),tt("click",function(){let i=rt(t).$implicit,o=$e();return it(o.editPerson(i))}),ee(12,"\u270F\uFE0F Editar"),B(),bt(13,ile,2,0,"button",48)(14,ole,2,0,"button",49),B()()}if(n&2){let t=e.$implicit;ge(2),wr("text-success",t.active)("text-danger",!t.active),ge(),Gt(" ",t.active?"Activo":"Baja"," "),ge(3),Gt(" ",t.name," "),ge(),Ue("ngIf",t.quotaTemplateId),ge(6),Ue("ngIf",t.active),ge(),Ue("ngIf",!t.active)}}function ale(n,e){n&1&&(z(0,"div",51),ee(1," No se encontraron personas "),B())}function lle(n,e){n&1&&Xa(0)}function cle(n,e){if(n&1){let t=wn();z(0,"div",53)(1,"div",54),ee(2),B(),z(3,"div",55)(4,"button",56),tt("click",function(){rt(t);let i=$e(2);return it(i.prevPage())}),ee(5,"Anterior"),B(),z(6,"span",57),ee(7),B(),z(8,"button",56),tt("click",function(){rt(t);let i=$e(2);return it(i.nextPage())}),ee(9,"Siguiente"),B()(),z(10,"div",58)(11,"span"),ee(12,"Ver:"),B(),z(13,"select",26),$t(14,"async"),tt("ngModelChange",function(i){rt(t);let o=$e(2);return it(o.onPageSizeChange(i))}),z(15,"option",27),ee(16,"5"),B(),z(17,"option",27),ee(18,"10"),B(),z(19,"option",27),ee(20,"20"),B()()()()}if(n&2){let t=$e(2);ge(2),Au(" Mostrando ",t.startIndex+1," - ",t.endIndex," de ",t.filteredCount," "),ge(2),Ue("disabled",t.currentPage===1),ge(3),Iu("P\xE1gina ",t.currentPage," de ",t.totalPages),ge(),Ue("disabled",t.currentPage===t.totalPages),ge(5),Ue("ngModel",hr(14,11,t.pageSize$)),ge(2),Ue("ngValue",5),ge(2),Ue("ngValue",10),ge(2),Ue("ngValue",20)}}function ule(n,e){if(n&1&&bt(0,cle,21,13,"div",52),n&2){let t=$e();Ue("ngIf",t.filteredCount>0)}}var fw=class n{constructor(e,t,r){this.personService=e;this.quotaTemplateService=t;this.router=r}people$;paginatedPeople$;searchQuery$=new Rn("");showInactive$=new Rn(!1);currentPage$=new Rn(1);pageSize$=new Rn(10);showForm=!1;isEditing=!1;currentPersonId=null;currentPersonName="";filteredCount=0;totalPages=1;currentPage=1;startIndex=0;endIndex=0;quotaTemplates$;currentQuotaTemplateId=null;quotaTemplateMap=new Map;ngOnInit(){this.people$=this.personService.getPeople(),this.quotaTemplates$=this.quotaTemplateService.getTemplates(),this.quotaTemplates$.subscribe(e=>{this.quotaTemplateMap.clear(),e.forEach(t=>this.quotaTemplateMap.set(t.id,t.name))}),this.paginatedPeople$=Cl([this.people$,this.searchQuery$,this.showInactive$,this.currentPage$,this.pageSize$]).pipe(Nn(([e,t,r,i,o])=>{let s=e;if(r||(s=s.filter(c=>c.active)),t){let c=this.normalizeString(t);s=s.filter(u=>this.normalizeString(u.name).includes(c))}if(s.sort((c,u)=>c.name.localeCompare(u.name)),this.filteredCount=s.length,this.totalPages=Math.max(1,Math.ceil(this.filteredCount/o)),i>this.totalPages&&this.totalPages>0)return setTimeout(()=>this.currentPage$.next(this.totalPages)),[];this.currentPage=i;let a=(i-1)*o,l=Math.min(a+o,this.filteredCount);return this.startIndex=a,this.endIndex=l,s.slice(a,l)}))}onSearchChange(e){this.searchQuery$.next(e),this.currentPage$.next(1)}onPageSizeChange(e){this.pageSize$.next(e),this.currentPage$.next(1)}prevPage(){this.currentPage>1&&this.currentPage$.next(this.currentPage-1)}nextPage(){this.currentPage<this.totalPages&&this.currentPage$.next(this.currentPage+1)}goToQuotas(e){this.router.navigate(["/people",e,"quotas"])}savePerson(){return L(this,null,function*(){this.currentPersonName.trim()&&(this.isEditing&&this.currentPersonId!==null?yield this.personService.updatePerson(this.currentPersonId,this.currentPersonName,this.currentQuotaTemplateId):yield this.personService.addPerson(this.currentPersonName,this.currentQuotaTemplateId),this.cancelEdit())})}editPerson(e){this.isEditing=!0,this.currentPersonId=e.id,this.currentPersonName=e.name,this.currentQuotaTemplateId=e.quotaTemplateId||null,this.showForm=!0,setTimeout(()=>{let t=document.getElementById("editForm");t&&t.scrollIntoView({behavior:"smooth",block:"start"})},100)}deletePerson(e){return L(this,null,function*(){confirm("\xBFDeseas dar de baja a esta persona?")&&(yield this.personService.softDelete(e))})}reactivatePerson(e){return L(this,null,function*(){yield this.personService.reactivate(e)})}cancelEdit(){this.showForm=!1,this.isEditing=!1,this.currentPersonId=null,this.currentPersonName="",this.currentQuotaTemplateId=null}getTemplateName(e){return this.quotaTemplateMap.get(e)||""}normalizeString(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")}static \u0275fac=function(t){return new(t||n)(lt(Sa),lt(ed),lt(ls))};static \u0275cmp=Pi({type:n,selectors:[["app-person-list"]],decls:44,vars:22,consts:[["paginationTpl",""],[1,"container"],[1,"header-actions"],[1,"btn","primary",3,"click"],["class","card mb-lg","id","editForm",4,"ngIf"],[1,"filters-area"],[1,"filter-row"],[1,"search-box"],[1,"search-icon"],["type","text","placeholder","Buscar por nombre...",3,"ngModelChange","ngModel"],[1,"filter-group"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"card","hide-on-mobile"],[1,"table-container"],[1,"data-table"],[1,"text-center"],[1,"actions-col"],[4,"ngFor","ngForOf"],[4,"ngIf"],[4,"ngTemplateOutlet"],[1,"data-card-grid","show-on-mobile"],["class","data-card",4,"ngFor","ngForOf"],["class","card text-center py-4 text-muted",4,"ngIf"],["id","editForm",1,"card","mb-lg"],[1,"filter-group",2,"flex","1"],["type","text","placeholder","Nombre completo",3,"ngModelChange","keyup.enter","ngModel"],[3,"ngModelChange","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"actions"],[1,"btn","secondary",3,"click"],[1,"btn","primary",3,"click","disabled"],["class","text-muted d-block",4,"ngIf"],["title","Cuotas",1,"btn-icon",3,"click"],["title","Editar",1,"btn-icon",3,"click"],["class","btn-icon danger","title","Dar de baja",3,"click",4,"ngIf"],["class","btn-icon","title","Reactivar",3,"click",4,"ngIf"],[1,"text-muted","d-block"],["title","Dar de baja",1,"btn-icon","danger",3,"click"],["title","Reactivar",1,"btn-icon",3,"click"],["colspan","3",1,"text-center","py-4","text-muted"],[1,"data-card"],[1,"card-header"],[1,"amount"],[1,"card-body"],[1,"concept"],[1,"card-footer"],[1,"btn-icon",3,"click"],["class","btn-icon danger",3,"click",4,"ngIf"],["class","btn-icon",3,"click",4,"ngIf"],[1,"btn-icon","danger",3,"click"],[1,"card","text-center","py-4","text-muted"],["class","pagination-container",4,"ngIf"],[1,"pagination-container"],[1,"pagination-info"],[1,"pagination-controls"],[1,"btn","secondary",3,"click","disabled"],[1,"text-sm"],[1,"page-size-selector"]],template:function(t,r){if(t&1){let i=wn();z(0,"div",1)(1,"div",2)(2,"h2"),ee(3,"Gesti\xF3n de Personas"),B(),z(4,"button",3),tt("click",function(){return rt(i),it(r.showForm=!r.showForm)}),ee(5),B()(),bt(6,Qae,21,8,"div",4),z(7,"div",5)(8,"div",6)(9,"div",7)(10,"span",8),ee(11,"\u{1F50D}"),B(),z(12,"input",9),$t(13,"async"),tt("ngModelChange",function(s){return rt(i),it(r.onSearchChange(s))}),B()(),z(14,"div",10)(15,"label")(16,"input",11),$t(17,"async"),tt("ngModelChange",function(s){return rt(i),it(r.showInactive$.next(s))}),B(),ee(18," Mostrar bajas "),B()()()(),z(19,"div",12)(20,"div",13)(21,"table",14)(22,"thead")(23,"tr")(24,"th"),ee(25,"Nombre"),B(),z(26,"th",15),ee(27,"Estado"),B(),z(28,"th",16),ee(29,"Acciones"),B()()(),z(30,"tbody"),bt(31,ele,14,9,"tr",17),$t(32,"async"),bt(33,tle,3,0,"tr",18),$t(34,"async"),B()()(),bt(35,nle,1,0,"ng-container",19),B(),z(36,"div",20),bt(37,sle,15,9,"div",21),$t(38,"async"),bt(39,ale,2,0,"div",22),$t(40,"async"),bt(41,lle,1,0,"ng-container",19),B(),bt(42,ule,1,1,"ng-template",null,0,ef),B()}if(t&2){let i,o,s=Jd(43);ge(5),Gt(" ",r.showForm?"\u2795 Cerrar Formulario":"\u2795 Nueva Persona"," "),ge(),Ue("ngIf",r.showForm),ge(6),Ue("ngModel",hr(13,10,r.searchQuery$)),ge(4),Ue("ngModel",hr(17,12,r.showInactive$)),ge(15),Ue("ngForOf",hr(32,14,r.paginatedPeople$)),ge(2),Ue("ngIf",((i=hr(34,16,r.paginatedPeople$))==null?null:i.length)===0),ge(2),Ue("ngTemplateOutlet",s),ge(2),Ue("ngForOf",hr(38,18,r.paginatedPeople$)),ge(2),Ue("ngIf",((o=hr(40,20,r.paginatedPeople$))==null?null:o.length)===0),ge(2),Ue("ngTemplateOutlet",s)}},dependencies:[wo,_o,qs,of,ms,wa,xa,hs,Km,gs,ps,Ho,Nc],styles:[".mb-lg[_ngcontent-%COMP%]{margin-bottom:2rem}.filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer}.text-muted[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.85rem}.d-block[_ngcontent-%COMP%]{display:block}"]})};function dle(n,e){if(n&1&&(z(0,"option",16),ee(1),B()),n&2){let t=e.$implicit;Ue("ngValue",t),ge(),Ln(t)}}function fle(n,e){if(n&1&&(z(0,"div",26)(1,"small"),ee(2),B()()),n&2){let t=$e().index,r=$e();ge(2),Gt("Pagado: ",r.monthlyQuotas[t].amount-r.monthlyQuotas[t].pending,"\u20AC")}}function hle(n,e){if(n&1){let t=wn();z(0,"div",17)(1,"div",18)(2,"label"),ee(3),B(),z(4,"div",19)(5,"input",20),Kn("ngModelChange",function(i){let o=rt(t).index,s=$e();return tr(s.monthlyQuotas[o].custom,i)||(s.monthlyQuotas[o].custom=i),it(i)}),B(),z(6,"small")(7,"label",21),ee(8,"Manual"),B()()()(),bt(9,fle,3,1,"div",22),z(10,"div",23)(11,"input",24),Kn("ngModelChange",function(i){let o=rt(t).index,s=$e();return tr(s.monthlyQuotas[o].amount,i)||(s.monthlyQuotas[o].amount=i),it(i)}),B(),z(12,"span",25),ee(13,"\u20AC"),B()()()}if(n&2){let t=e.$implicit,r=e.index,i=$e();wr("is-custom",i.monthlyQuotas[r].custom)("is-paid",i.monthlyQuotas[r].paid),ge(3),Ln(t),ge(2),Ue("id",zy("custom-",r)),Yn("ngModel",i.monthlyQuotas[r].custom),ge(2),Ue("for",zy("custom-",r)),ge(2),Ue("ngIf",i.monthlyQuotas[r].paid),ge(2),Yn("ngModel",i.monthlyQuotas[r].amount)}}var hw=class n{constructor(e,t,r,i){this.route=e;this.router=t;this.personService=r;this.quotaService=i;let o=new Date().getFullYear();for(let s=o-1;s<=o+20;s++)this.years.push(s)}person=null;selectedYear=new Date().getFullYear();years=[];months=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];monthlyQuotas=new Array(12).fill(null).map(()=>({id:0,amount:0,custom:!1,paid:!1,pending:0}));saving=!1;ngOnInit(){return L(this,null,function*(){let e=Number(this.route.snapshot.paramMap.get("id"));if(!e){this.router.navigate(["/people"]);return}let t=yield xi(this.personService.getPeople());if(this.person=t.find(r=>r.id===e)||null,!this.person){this.router.navigate(["/people"]);return}this.loadQuotas()})}onYearChange(e){this.selectedYear=e,this.loadQuotas()}loadQuotas(){return L(this,null,function*(){if(!this.person?.id)return;this.monthlyQuotas=new Array(12).fill(null).map(()=>({id:0,amount:0,custom:!1,paid:!1,pending:0}));let e=yield this.quotaService.getPendingQuotas(this.person.id);(yield xi(this.quotaService.getQuotasByPersonAndYear(this.person.id,this.selectedYear))).forEach(r=>L(this,null,function*(){if(r.month>=0&&r.month<12){let i=yield this.quotaIsPaid(r.id);this.monthlyQuotas[r.month]={id:r.id,amount:r.amount,custom:!!r.custom,paid:!!i,pending:e.find(o=>o.id===r.id)?.pending??0}}}))})}saveQuotas(){return L(this,null,function*(){if(this.person?.id){this.saving=!0;try{let e=this.monthlyQuotas.map((t,r)=>({personId:this.person.id,year:this.selectedYear,month:r,amount:t.amount||0,custom:t.custom}));yield this.quotaService.saveQuotas(e),alert("Cuotas guardadas correctamente")}catch(e){console.error("Error saving quotas:",e),alert("Error al guardar las cuotas")}finally{this.saving=!1}}})}quotaIsPaid(e){return L(this,null,function*(){return yield this.quotaService.isQuotaPaid(e)})}static \u0275fac=function(t){return new(t||n)(lt(va),lt(ls),lt(Sa),lt(Ca))};static \u0275cmp=Pi({type:n,selectors:[["app-person-quota"]],decls:23,vars:8,consts:[[1,"container"],[1,"header-actions"],[1,"header-with-back"],["title","Volver","routerLink","/people",1,"btn-icon"],[1,"card","mb-lg"],[1,"filter-row"],[1,"filter-group"],[3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"actions"],[1,"btn","primary",3,"click","disabled"],[1,"card"],[1,"quota-grid"],["class","month-item",3,"is-custom","is-paid",4,"ngFor","ngForOf"],[1,"mobile-actions","show-on-mobile","mt-lg"],[1,"btn","primary","w-full",3,"click","disabled"],[3,"ngValue"],[1,"month-item"],[1,"month-header"],["title","Marcar como personalizado",1,"custom-toggle"],["type","checkbox",3,"ngModelChange","id","ngModel"],[3,"for"],["class","month-header custom-toggle is-paid",4,"ngIf"],[1,"input-with-suffix"],["type","number","placeholder","0.00","step","0.01","min","0",3,"ngModelChange","ngModel"],[1,"suffix"],[1,"month-header","custom-toggle","is-paid"]],template:function(t,r){t&1&&(z(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),ee(4,"\u2B05\uFE0F"),B(),z(5,"h2"),ee(6),B()()(),z(7,"div",4)(8,"div",5)(9,"div",6)(10,"label"),ee(11,"A\xF1o"),B(),z(12,"select",7),tt("ngModelChange",function(o){return r.onYearChange(o)}),bt(13,dle,2,2,"option",8),B()(),z(14,"div",9)(15,"button",10),tt("click",function(){return r.saveQuotas()}),ee(16),B()()()(),z(17,"div",11)(18,"div",12),bt(19,hle,14,12,"div",13),B()(),z(20,"div",14)(21,"button",15),tt("click",function(){return r.saveQuotas()}),ee(22),B()()()),t&2&&(ge(6),Gt("Cuotas de ",r.person==null?null:r.person.name),ge(6),Ue("ngModel",r.selectedYear),ge(),Ue("ngForOf",r.years),ge(2),Ue("disabled",r.saving),ge(),Gt(" ",r.saving?"Guardando...":"\u{1F4BE} Guardar Cuotas"," "),ge(3),Ue("ngForOf",r.months),ge(2),Ue("disabled",r.saving),ge(),Gt(" ",r.saving?"Guardando...":"\u{1F4BE} Guardar Cuotas"," "))},dependencies:[wo,_o,qs,ms,wa,xa,hs,Hc,Km,gs,ps,uD,Ho,LS,Lu],styles:[".header-with-back[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.bulk-helper[_ngcontent-%COMP%]{flex:1;max-width:300px}.bulk-helper[_ngcontent-%COMP%]   .input-with-suffix[_ngcontent-%COMP%]{gap:.5rem}.quota-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:1.5rem;padding:1rem}.month-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;padding:.75rem;border-radius:var(--radius-md);border:1px solid transparent;transition:all .2s}.month-item.is-custom[_ngcontent-%COMP%]{background-color:#fef9c3;border-color:#fde047}.month-item.is-paid[_ngcontent-%COMP%]{background-color:S #dcfce7;border-color:#4ade80}.month-item.is-paid[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:green}.month-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.month-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#64748b;text-transform:capitalize}.custom-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;cursor:pointer}.custom-toggle[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.7rem;color:var(--text-secondary);-webkit-user-select:none;user-select:none}.input-with-suffix[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.input-with-suffix[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:2rem;width:100%}.suffix[_ngcontent-%COMP%]{position:absolute;right:.75rem;color:#94a3b8}.mt-lg[_ngcontent-%COMP%]{margin-top:2rem}.w-full[_ngcontent-%COMP%]{width:100%}@media(max-width:600px){.quota-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr;gap:1rem}.month-header[_ngcontent-%COMP%]{font-size:.7rem}}"]})};function ple(n,e){if(n&1){let t=wn();z(0,"tr")(1,"td"),ee(2),B(),z(3,"td"),ee(4),B(),z(5,"td",15)(6,"button",16),tt("click",function(){let i=rt(t).$implicit,o=$e(3);return it(o.edit(i))}),ee(7,"\u270F\uFE0F"),B(),z(8,"button",17),tt("click",function(){let i=rt(t).$implicit,o=$e(3);return it(o.delete(i))}),ee(9,"\u{1F5D1}\uFE0F"),B()()()}if(n&2){let t=e.$implicit,r=$e(3);ge(2),Ln(t.name),ge(2),Gt("",r.getTotal(t),"\u20AC")}}function gle(n,e){if(n&1&&(z(0,"table",13)(1,"thead")(2,"tr")(3,"th"),ee(4,"Nombre"),B(),z(5,"th"),ee(6,"Total Anual"),B(),z(7,"th"),ee(8,"Acciones"),B()()(),z(9,"tbody"),bt(10,ple,10,2,"tr",14),B()()),n&2){let t=$e().ngIf;ge(10),Ue("ngForOf",t)}}function mle(n,e){n&1&&(z(0,"p",18),ee(1,"No hay plantillas definidas."),B())}function vle(n,e){if(n&1&&(z(0,"div",10),bt(1,gle,11,1,"table",11)(2,mle,2,0,"p",12),B()),n&2){let t=e.ngIf;ge(),Ue("ngIf",t.length>0),ge(),Ue("ngIf",t.length===0)}}function yle(n,e){if(n&1){let t=wn();z(0,"div",26)(1,"label"),ee(2),B(),z(3,"input",27),Kn("ngModelChange",function(i){let o=rt(t).index,s=$e(2);return tr(s.currentTemplate.monthlyAmounts[o],i)||(s.currentTemplate.monthlyAmounts[o]=i),it(i)}),B()()}if(n&2){let t=e.$implicit,r=e.index,i=$e(2);ge(2),Ln(t),ge(),Yn("ngModel",i.currentTemplate.monthlyAmounts[r])}}function ble(n,e){if(n&1){let t=wn();z(0,"div",1)(1,"h3"),ee(2),B(),z(3,"div",19)(4,"label"),ee(5,"Nombre de la Cuota"),B(),z(6,"input",20),Kn("ngModelChange",function(i){rt(t);let o=$e();return tr(o.currentTemplate.name,i)||(o.currentTemplate.name=i),it(i)}),B()(),z(7,"div",21),bt(8,yle,4,2,"div",22),B(),z(9,"div",23)(10,"button",24),tt("click",function(){rt(t);let i=$e();return it(i.cancel())}),ee(11,"Cancelar"),B(),z(12,"button",25),tt("click",function(){rt(t);let i=$e();return it(i.save())}),ee(13),B()()()}if(n&2){let t=$e();ge(2),Gt("",t.currentTemplate.id?"Editar":"Nueva"," Plantilla"),ge(4),Yn("ngModel",t.currentTemplate.name),ge(2),Ue("ngForOf",t.monthNames),ge(4),Ue("disabled",!t.currentTemplate.name),ge(),Gt(" ",t.currentTemplate.id?"Actualizar":"Crear"," ")}}var pw=class n{constructor(e){this.quotaService=e}templates$;isEditing=!1;applyYear=new Date().getFullYear();monthNames=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];initialState={name:"",monthlyAmounts:Array(12).fill(0)};currentTemplate=JSON.parse(JSON.stringify(this.initialState));ngOnInit(){this.templates$=this.quotaService.getTemplates()}startNew(){this.currentTemplate=JSON.parse(JSON.stringify(this.initialState)),this.isEditing=!0}edit(e){this.currentTemplate=JSON.parse(JSON.stringify(e)),this.isEditing=!0}cancel(){this.isEditing=!1}save(){return L(this,null,function*(){if(this.currentTemplate.name)try{this.currentTemplate.id?yield this.quotaService.updateTemplate(this.currentTemplate.id,this.currentTemplate):yield this.quotaService.addTemplate(this.currentTemplate),this.isEditing=!1}catch(e){console.error(e),alert("Error al guardar la plantilla")}})}delete(e){return L(this,null,function*(){confirm(`\xBFEst\xE1s seguro de eliminar la plantilla "${e.name}"?`)&&(yield this.quotaService.deleteTemplate(e.id))})}applyToYear(){return L(this,null,function*(){if(confirm(`\xBFEst\xE1s seguro de aplicar las cuotas para el a\xF1o ${this.applyYear}? Esto sobrescribir\xE1 los valores existentes para las personas con plantilla asignada.`))try{yield this.quotaService.applyAllTemplatesToYear(this.applyYear),alert("Cuotas actualizadas correctamente.")}catch(e){console.error(e),alert("Error al aplicar las cuotas.")}})}getTotal(e){return e.monthlyAmounts.reduce((t,r)=>t+r,0)}static \u0275fac=function(t){return new(t||n)(lt(ed))};static \u0275cmp=Pi({type:n,selectors:[["app-quota-template-list"]],decls:21,vars:6,consts:[[1,"container"],[1,"card","mb-lg"],[1,"header-actions"],[1,"btn","primary",3,"click"],["class","table-container",4,"ngIf"],["class","card mb-lg",4,"ngIf"],[1,"card"],[1,"text-secondary"],[1,"apply-actions"],["type","number",1,"form-control","year-input",3,"ngModelChange","ngModel"],[1,"table-container"],["class","data-table",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"data-table"],[4,"ngFor","ngForOf"],[1,"actions"],[1,"btn","icon",3,"click"],[1,"btn","icon","delete",3,"click"],[1,"empty-state"],[1,"form-group"],["placeholder","Ej: Cuota Est\xE1ndar",1,"form-control",3,"ngModelChange","ngModel"],[1,"months-grid"],["class","month-item",4,"ngFor","ngForOf"],[1,"form-actions"],[1,"btn","secondary",3,"click"],[1,"btn","primary",3,"click","disabled"],[1,"month-item"],["type","number","step","0.5",1,"form-control",3,"ngModelChange","ngModel"]],template:function(t,r){t&1&&(z(0,"div",0)(1,"h2"),ee(2,"Gesti\xF3n de Cuotas"),B(),z(3,"div",1)(4,"div",2)(5,"h3"),ee(6,"Plantillas de Cuotas"),B(),z(7,"button",3),tt("click",function(){return r.startNew()}),ee(8,"+ Nueva Plantilla"),B()(),bt(9,vle,3,2,"div",4),$t(10,"async"),B(),bt(11,ble,14,5,"div",5),z(12,"div",6)(13,"h3"),ee(14,"Aplicar Cuotas al A\xF1o"),B(),z(15,"p",7),ee(16," Esta acci\xF3n actualizar\xE1 las cuotas de todas las personas que tengan asignada una plantilla para el a\xF1o seleccionado. "),B(),z(17,"div",8)(18,"input",9),Kn("ngModelChange",function(o){return tr(r.applyYear,o)||(r.applyYear=o),o}),B(),z(19,"button",3),tt("click",function(){return r.applyToYear()}),ee(20),B()()()()),t&2&&(ge(9),Ue("ngIf",hr(10,4,r.templates$)),ge(2),Ue("ngIf",r.isEditing),ge(7),Yn("ngModel",r.applyYear),ge(2),Gt(" Establecer Cuotas ",r.applyYear," "))},dependencies:[wo,_o,qs,ms,hs,Hc,ps,Ho,Nc],styles:[".mb-lg[_ngcontent-%COMP%]{margin-bottom:2rem}.header-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.table-container[_ngcontent-%COMP%]{overflow-x:auto}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;text-align:left;border-bottom:1px solid var(--border-color)}.actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.empty-state[_ngcontent-%COMP%]{text-align:center;color:var(--text-secondary);padding:2rem}.months-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:1rem;margin:1.5rem 0}.month-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.month-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-secondary)}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;margin-top:1rem}.apply-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center;margin-top:1rem}.year-input[_ngcontent-%COMP%]{width:100px}.text-secondary[_ngcontent-%COMP%]{color:var(--text-secondary)}"]})};var tB=[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:aw},{path:"incomes",component:I_},{path:"expenses",component:sw},{path:"people",component:fw},{path:"people/:id/quotas",component:hw},{path:"quota-templates",component:pw},{path:"stats",redirectTo:"dashboard"},{path:"settings",component:dw}];var nB={providers:[Qk({eventCoalescing:!0}),OS(tB),S3(C3()),eB("ngsw-worker.js",{enabled:!Xk(),registrationStrategy:"registerWhenStable:30000"})]};var gw=class n{title="Bote";version=lw;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Pi({type:n,selectors:[["app-root"]],decls:35,vars:1,consts:[[1,"app-container"],[1,"main-header"],[1,"logo"],["src","icons/icon-72x72.png","alt","Bote","height","50"],[1,"main-nav"],["routerLink","/dashboard","routerLinkActive","active"],[1,"icon"],["routerLink","/incomes","routerLinkActive","active"],["routerLink","/expenses","routerLinkActive","active"],["routerLink","/people","routerLinkActive","active"],["routerLink","/quota-templates","routerLinkActive","active"],["routerLink","/settings","routerLinkActive","active"],[1,"app-version"],[1,"main-content"]],template:function(t,r){t&1&&(z(0,"div",0)(1,"header",1)(2,"div",2),yo(3,"img",3),z(4,"h1"),ee(5,"Bote"),B()(),z(6,"nav",4)(7,"a",5)(8,"span",6),ee(9,"\u{1F4CA}"),B(),ee(10," Resumen "),B(),z(11,"a",7)(12,"span",6),ee(13,"\u{1F4B0}"),B(),ee(14," Ingresos "),B(),z(15,"a",8)(16,"span",6),ee(17,"\u{1F4B8}"),B(),ee(18," Gastos "),B(),z(19,"a",9)(20,"span",6),ee(21,"\u{1F465}"),B(),ee(22," Personas "),B(),z(23,"a",10)(24,"span",6),ee(25,"\u{1F4CB}"),B(),ee(26," Cuotas "),B(),z(27,"a",11)(28,"span",6),ee(29,"\u2699\uFE0F"),B(),ee(30," Configuraci\xF3n "),B(),z(31,"div",12),ee(32),B()()(),z(33,"main",13),yo(34,"router-outlet"),B()()),t&2&&(ge(32),Gt(" v",r.version," "))},dependencies:[pm,Lu,PS],styles:[".app-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column}.main-header[_ngcontent-%COMP%]{background-color:var(--surface-color);border-bottom:1px solid var(--border-color);padding:0 var(--spacing-md);display:flex;align-items:center;justify-content:space-between;height:64px;position:sticky;top:0;z-index:100;box-shadow:var(--shadow-sm)}.main-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.main-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--primary-color);letter-spacing:-.025em}.main-nav[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-sm)}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border-radius:var(--radius-md);color:var(--text-secondary);font-weight:500;font-size:.925rem;transition:all .2s}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:var(--background-color);color:var(--text-main)}.main-nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#eff6ff;color:var(--primary-color)}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.1em}.main-content[_ngcontent-%COMP%]{flex:1;padding:var(--spacing-lg) var(--spacing-md);max-width:1200px;width:100%;margin:0 auto}@media(max-width:640px){.main-content[_ngcontent-%COMP%]{padding:var(--spacing-md) var(--spacing-sm) 80px}}@media(max-width:768px){.main-header[_ngcontent-%COMP%]{height:60px;padding:0 var(--spacing-md)}.main-nav[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;width:100%;background:var(--surface-color);border-top:1px solid var(--border-color);justify-content:space-around;padding:.5rem;z-index:100;box-shadow:0 -2px 10px #0000000d}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{flex-direction:column;gap:2px;font-size:.7rem;padding:.5rem;min-width:60px}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.4rem}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.icon){display:block}}",".app-version[_ngcontent-%COMP%]{margin-top:auto;padding:1rem;font-size:.75rem;color:var(--text-secondary);text-align:center;opacity:.7}"]})};eS(gw,nB).catch(n=>console.error(n));
